{
  "version": 3,
  "sources": ["../node_modules/.pnpm/vscode-get-config@0.4.0/node_modules/vscode-get-config/dist/index.js", "../node_modules/.pnpm/@vscode+extension-telemetry@0.8.1_tslib@2.6.2_typescript@5.2.2/node_modules/@vscode/extension-telemetry/dist/node/common/baseTelemetryReporter.js", "../node_modules/.pnpm/@vscode+extension-telemetry@0.8.1_tslib@2.6.2_typescript@5.2.2/node_modules/@vscode/extension-telemetry/dist/node/common/baseTelemetrySender.js", "../node_modules/.pnpm/@vscode+extension-telemetry@0.8.1_tslib@2.6.2_typescript@5.2.2/node_modules/@vscode/extension-telemetry/dist/node/common/util.js", "../node_modules/.pnpm/@microsoft+applicationinsights-shims@2.0.2/node_modules/@microsoft/applicationinsights-shims/dist/umd/applicationinsights-shims.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Interfaces/IChannelControls.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/tools/shims/dist-esm/Constants.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/tools/shims/dist-esm/Helpers.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/tools/shims/dist-esm/TsLibShims.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/__DynamicConstants.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/InternalConstants.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/HelperFuncs.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/EnumHelperFuncs.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/EventsDiscardedReason.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/common/temp/node_modules/@microsoft/dynamicproto-js/lib/dist/esm/dynamicproto-js.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/EnvUtils.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DbgExtensionUtils.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DiagnosticLogger.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/PerfManager.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/RandomHelper.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DataCacheHelper.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CookieMgr.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/EventHelpers.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CoreUtils.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/W3cTraceParent.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/TelemetryHelpers.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/ProcessTelemetryContext.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/ChannelController.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/UnloadHandlerContainer.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/BaseTelemetryPlugin.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/TelemetryInitializerPlugin.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/BaseCore.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/NotificationManager.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/AppInsightsCore.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/LoggingEnums.js", "../node_modules/.pnpm/@microsoft+applicationinsights-core-js@2.8.14_tslib@2.6.2/node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/InstrumentHooks.js", "../node_modules/.pnpm/@microsoft+dynamicproto-js@1.1.9/node_modules/@microsoft/dynamicproto-js/lib/out/lib/src/DynamicProto.js", "../node_modules/.pnpm/@microsoft+1ds-core-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-core-js/dist-esm/src/Enums.js", "../node_modules/.pnpm/@microsoft+1ds-core-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-core-js/dist-esm/src/InternalConstants.js", "../node_modules/.pnpm/@microsoft+1ds-core-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-core-js/dist-esm/src/Utils.js", "../node_modules/.pnpm/@microsoft+1ds-core-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-core-js/dist-esm/src/AppInsightsCore.js", "../node_modules/.pnpm/@microsoft+1ds-core-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-core-js/dist-esm/src/BaseCore.js", "../node_modules/.pnpm/@microsoft+1ds-core-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-core-js/dist-esm/src/ESPromise.js", "../node_modules/.pnpm/@microsoft+1ds-core-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-core-js/dist-esm/src/ESPromiseScheduler.js", "../node_modules/.pnpm/@microsoft+1ds-core-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-core-js/dist-esm/src/ValueSanitizer.js", "../node_modules/.pnpm/@microsoft+1ds-post-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-post-js/dist-esm/src/DataModels.js", "../node_modules/.pnpm/@microsoft+1ds-post-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-post-js/dist-esm/src/InternalConstants.js", "../node_modules/.pnpm/@microsoft+1ds-post-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-post-js/dist-esm/src/EventBatch.js", "../node_modules/.pnpm/@microsoft+1ds-post-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-post-js/dist-esm/src/ClockSkewManager.js", "../node_modules/.pnpm/@microsoft+1ds-post-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-post-js/dist-esm/src/KillSwitch.js", "../node_modules/.pnpm/@microsoft+1ds-post-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-post-js/dist-esm/src/RetryPolicy.js", "../node_modules/.pnpm/@microsoft+1ds-post-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-post-js/dist-esm/src/Serializer.js", "../node_modules/.pnpm/@microsoft+1ds-post-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-post-js/dist-esm/src/HttpManager.js", "../node_modules/.pnpm/@microsoft+1ds-post-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-post-js/dist-esm/src/TimeoutOverrideWrapper.js", "../node_modules/.pnpm/@microsoft+1ds-post-js@3.2.12_tslib@2.6.2/node_modules/@microsoft/1ds-post-js/dist-esm/src/PostChannel.js", "../node_modules/.pnpm/@vscode+extension-telemetry@0.8.1_tslib@2.6.2_typescript@5.2.2/node_modules/@vscode/extension-telemetry/dist/node/common/1dsClientFactory.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/FileSystemHelper.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/InternalAzureLogger.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/Logging.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/JsonConfig.ts", "../node_modules/.pnpm/semver@5.7.2/node_modules/semver/semver.js", "../node_modules/.pnpm/diagnostic-channel@1.1.0/node_modules/diagnostic-channel/dist/src/patchRequire.js", "../node_modules/.pnpm/diagnostic-channel@1.1.0/node_modules/diagnostic-channel/package.json", "../node_modules/.pnpm/diagnostic-channel@1.1.0/node_modules/diagnostic-channel/dist/src/channel.js", "../node_modules/.pnpm/tslib@2.6.0/node_modules/tslib/tslib.es6.mjs", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/platform/node/globalThis.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/platform/node/index.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/platform/index.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/version.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/internal/semver.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/internal/global-utils.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/diag/ComponentLogger.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/diag/types.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/diag/internal/logLevelLogger.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/api/diag.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/baggage/internal/baggage-impl.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/baggage/internal/symbol.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/baggage/utils.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/context/context.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/diag/consoleLogger.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/metrics/NoopMeter.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/metrics/Metric.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/propagation/TextMapPropagator.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/context/NoopContextManager.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/api/context.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/trace/trace_flags.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/trace/invalid-span-constants.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/trace/NonRecordingSpan.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/trace/context-utils.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/trace/spancontext-utils.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/trace/NoopTracer.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/trace/ProxyTracer.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/trace/NoopTracerProvider.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/trace/ProxyTracerProvider.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/trace/SamplingResult.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/trace/span_kind.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/trace/status.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/trace/internal/tracestate-validators.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/trace/internal/tracestate-impl.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/trace/internal/utils.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/context-api.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/diag-api.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/metrics/NoopMeterProvider.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/api/metrics.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/metrics-api.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/propagation/NoopTextMapPropagator.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/baggage/context-helpers.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/api/propagation.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/propagation-api.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/api/trace.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/trace-api.ts", "../node_modules/.pnpm/@opentelemetry+api@1.4.1/node_modules/@opentelemetry/api/src/index.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/trace/suppress-tracing.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/baggage/constants.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/baggage/utils.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/baggage/propagation/W3CBaggagePropagator.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/common/anchored-clock.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/common/attributes.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/common/logging-error-handler.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/common/global-error-handler.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/utils/sampling.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/platform/browser/globalThis.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/utils/environment.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/platform/node/environment.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/platform/node/globalThis.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/platform/node/hex-to-base64.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/platform/node/RandomIdGenerator.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/platform/node/performance.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/version.ts", "../node_modules/.pnpm/@opentelemetry+semantic-conventions@1.15.0/node_modules/@opentelemetry/semantic-conventions/src/trace/SemanticAttributes.ts", "../node_modules/.pnpm/@opentelemetry+semantic-conventions@1.15.0/node_modules/@opentelemetry/semantic-conventions/src/trace/index.ts", "../node_modules/.pnpm/@opentelemetry+semantic-conventions@1.15.0/node_modules/@opentelemetry/semantic-conventions/src/resource/SemanticResourceAttributes.ts", "../node_modules/.pnpm/@opentelemetry+semantic-conventions@1.15.0/node_modules/@opentelemetry/semantic-conventions/src/resource/index.ts", "../node_modules/.pnpm/@opentelemetry+semantic-conventions@1.15.0/node_modules/@opentelemetry/semantic-conventions/src/index.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/platform/node/sdk-info.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/platform/node/timer-util.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/platform/node/index.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/platform/index.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/common/time.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/ExportResult.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/propagation/composite.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/internal/validators.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/trace/TraceState.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/trace/W3CTraceContextPropagator.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/trace/rpc-metadata.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/trace/sampler/AlwaysOffSampler.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/trace/sampler/AlwaysOnSampler.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/trace/sampler/ParentBasedSampler.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/trace/sampler/TraceIdRatioBasedSampler.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/utils/lodash.merge.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/utils/merge.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/utils/timeout.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/utils/url.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/utils/wrap.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/utils/promise.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/utils/callback.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/internal/exporter.ts", "../node_modules/.pnpm/@opentelemetry+core@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/core/src/index.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/enums.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/Span.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/Sampler.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/sampler/AlwaysOffSampler.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/sampler/AlwaysOnSampler.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/sampler/ParentBasedSampler.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/sampler/TraceIdRatioBasedSampler.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/config.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/utility.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/export/BatchSpanProcessorBase.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/platform/node/export/BatchSpanProcessor.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/platform/node/RandomIdGenerator.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/platform/node/index.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/platform/index.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/Tracer.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/node/default-service-name.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/node/utils.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/node/machine-id/execAsync.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/node/machine-id/getMachineId-darwin.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/node/machine-id/getMachineId-linux.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/node/machine-id/getMachineId-bsd.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/node/machine-id/getMachineId-win.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/node/machine-id/getMachineId-unsupported.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/node/machine-id/getMachineId.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/node/HostDetectorSync.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/node/HostDetector.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/node/OSDetectorSync.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/node/OSDetector.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/node/ProcessDetectorSync.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/node/ProcessDetector.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/node/index.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/platform/index.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/Resource.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/detectors/BrowserDetector.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/detectors/EnvDetectorSync.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/detectors/EnvDetector.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/detectors/BrowserDetectorSync.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/detectors/index.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/utils.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/detect-resources.ts", "../node_modules/.pnpm/@opentelemetry+resources@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/resources/src/index.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/MultiSpanProcessor.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/export/NoopSpanProcessor.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/BasicTracerProvider.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/export/ConsoleSpanExporter.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/export/InMemorySpanExporter.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/export/SimpleSpanProcessor.ts", "../node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.15.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/sdk-trace-base/src/index.ts", "../node_modules/.pnpm/@opentelemetry+instrumentation@0.40.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/instrumentation/src/autoLoaderUtils.ts", "../node_modules/.pnpm/@opentelemetry+instrumentation@0.40.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/instrumentation/src/autoLoader.ts", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/internal/constants.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/internal/debug.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/internal/re.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/internal/parse-options.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/internal/identifiers.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/classes/semver.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/parse.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/valid.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/clean.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/inc.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/diff.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/major.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/minor.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/patch.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/prerelease.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/compare.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/rcompare.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/compare-loose.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/compare-build.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/sort.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/rsort.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/gt.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/lt.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/eq.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/neq.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/gte.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/lte.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/cmp.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/coerce.js", "../node_modules/.pnpm/yallist@4.0.0/node_modules/yallist/iterator.js", "../node_modules/.pnpm/yallist@4.0.0/node_modules/yallist/yallist.js", "../node_modules/.pnpm/lru-cache@6.0.0/node_modules/lru-cache/index.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/classes/range.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/classes/comparator.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/functions/satisfies.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/to-comparators.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/max-satisfying.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/min-satisfying.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/min-version.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/valid.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/outside.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/gtr.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/ltr.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/intersects.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/simplify.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/ranges/subset.js", "../node_modules/.pnpm/semver@7.5.4/node_modules/semver/index.js", "../node_modules/.pnpm/shimmer@1.2.1/node_modules/shimmer/index.js", "../node_modules/.pnpm/@opentelemetry+instrumentation@0.40.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/instrumentation/src/instrumentation.ts", "../node_modules/.pnpm/resolve@1.22.2/node_modules/resolve/lib/homedir.js", "../node_modules/.pnpm/resolve@1.22.2/node_modules/resolve/lib/caller.js", "../node_modules/.pnpm/path-parse@1.0.7/node_modules/path-parse/index.js", "../node_modules/.pnpm/resolve@1.22.2/node_modules/resolve/lib/node-modules-paths.js", "../node_modules/.pnpm/resolve@1.22.2/node_modules/resolve/lib/normalize-options.js", "../node_modules/.pnpm/function-bind@1.1.1/node_modules/function-bind/implementation.js", "../node_modules/.pnpm/function-bind@1.1.1/node_modules/function-bind/index.js", "../node_modules/.pnpm/has@1.0.3/node_modules/has/src/index.js", "../node_modules/.pnpm/is-core-module@2.12.1/node_modules/is-core-module/core.json", "../node_modules/.pnpm/is-core-module@2.12.1/node_modules/is-core-module/index.js", "../node_modules/.pnpm/resolve@1.22.2/node_modules/resolve/lib/async.js", "../node_modules/.pnpm/resolve@1.22.2/node_modules/resolve/lib/core.json", "../node_modules/.pnpm/resolve@1.22.2/node_modules/resolve/lib/core.js", "../node_modules/.pnpm/resolve@1.22.2/node_modules/resolve/lib/is-core.js", "../node_modules/.pnpm/resolve@1.22.2/node_modules/resolve/lib/sync.js", "../node_modules/.pnpm/resolve@1.22.2/node_modules/resolve/index.js", "../node_modules/.pnpm/ms@2.1.2/node_modules/ms/index.js", "../node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/common.js", "../node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/browser.js", "../node_modules/.pnpm/has-flag@3.0.0/node_modules/has-flag/index.js", "../node_modules/.pnpm/supports-color@5.5.0/node_modules/supports-color/index.js", "../node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/node.js", "../node_modules/.pnpm/debug@4.3.4/node_modules/debug/src/index.js", "../node_modules/.pnpm/module-details-from-path@1.0.3/node_modules/module-details-from-path/index.js", "../node_modules/.pnpm/require-in-the-middle@7.2.0/node_modules/require-in-the-middle/package.json", "../node_modules/.pnpm/require-in-the-middle@7.2.0/node_modules/require-in-the-middle/index.js", "../node_modules/.pnpm/@opentelemetry+instrumentation@0.40.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/instrumentation/src/platform/node/ModuleNameTrie.ts", "../node_modules/.pnpm/@opentelemetry+instrumentation@0.40.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/instrumentation/src/platform/node/RequireInTheMiddleSingleton.ts", "../node_modules/.pnpm/import-in-the-middle@1.3.5/node_modules/import-in-the-middle/lib/register.js", "../node_modules/.pnpm/import-in-the-middle@1.3.5/node_modules/import-in-the-middle/index.js", "../node_modules/.pnpm/@opentelemetry+instrumentation@0.40.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/instrumentation/src/platform/node/instrumentation.ts", "../node_modules/.pnpm/@opentelemetry+instrumentation@0.40.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/instrumentation/src/platform/node/instrumentationNodeModuleDefinition.ts", "../node_modules/.pnpm/@opentelemetry+instrumentation@0.40.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/instrumentation/src/platform/node/instrumentationNodeModuleFile.ts", "../node_modules/.pnpm/@opentelemetry+instrumentation@0.40.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/instrumentation/src/platform/node/index.ts", "../node_modules/.pnpm/@opentelemetry+instrumentation@0.40.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/instrumentation/src/platform/index.ts", "../node_modules/.pnpm/@opentelemetry+instrumentation@0.40.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/instrumentation/src/utils.ts", "../node_modules/.pnpm/@opentelemetry+instrumentation@0.40.0_@opentelemetry+api@1.4.1/node_modules/@opentelemetry/instrumentation/src/index.ts", "../node_modules/.pnpm/@azure+logger@1.0.4/node_modules/@azure/logger/src/log.ts", "../node_modules/.pnpm/@azure+logger@1.0.4/node_modules/@azure/logger/src/debug.ts", "../node_modules/.pnpm/@azure+logger@1.0.4/node_modules/@azure/logger/src/index.ts", "../node_modules/.pnpm/@azure+opentelemetry-instrumentation-azure-sdk@1.0.0-beta.4/node_modules/@azure/opentelemetry-instrumentation-azure-sdk/src/logger.ts", "../node_modules/.pnpm/@azure+opentelemetry-instrumentation-azure-sdk@1.0.0-beta.4/node_modules/@azure/opentelemetry-instrumentation-azure-sdk/src/spanWrapper.ts", "../node_modules/.pnpm/@azure+opentelemetry-instrumentation-azure-sdk@1.0.0-beta.4/node_modules/@azure/opentelemetry-instrumentation-azure-sdk/src/configuration.ts", "../node_modules/.pnpm/@azure+opentelemetry-instrumentation-azure-sdk@1.0.0-beta.4/node_modules/@azure/opentelemetry-instrumentation-azure-sdk/src/transformations.ts", "../node_modules/.pnpm/@azure+opentelemetry-instrumentation-azure-sdk@1.0.0-beta.4/node_modules/@azure/opentelemetry-instrumentation-azure-sdk/src/instrumenter.ts", "../node_modules/.pnpm/@azure+opentelemetry-instrumentation-azure-sdk@1.0.0-beta.4/node_modules/@azure/opentelemetry-instrumentation-azure-sdk/src/instrumentation.ts", "../node_modules/.pnpm/diagnostic-channel-publishers@1.0.6_diagnostic-channel@1.1.0/node_modules/diagnostic-channel-publishers/dist/src/azure-coretracing.pub.js", "../node_modules/.pnpm/diagnostic-channel-publishers@1.0.6_diagnostic-channel@1.1.0/node_modules/diagnostic-channel-publishers/dist/src/bunyan.pub.js", "../node_modules/.pnpm/diagnostic-channel-publishers@1.0.6_diagnostic-channel@1.1.0/node_modules/diagnostic-channel-publishers/dist/src/console.pub.js", "../node_modules/.pnpm/diagnostic-channel-publishers@1.0.6_diagnostic-channel@1.1.0/node_modules/diagnostic-channel-publishers/dist/src/mongodb-core.pub.js", "../node_modules/.pnpm/diagnostic-channel-publishers@1.0.6_diagnostic-channel@1.1.0/node_modules/diagnostic-channel-publishers/dist/src/mongodb.pub.js", "../node_modules/.pnpm/diagnostic-channel-publishers@1.0.6_diagnostic-channel@1.1.0/node_modules/diagnostic-channel-publishers/dist/src/mysql.pub.js", "../node_modules/.pnpm/diagnostic-channel-publishers@1.0.6_diagnostic-channel@1.1.0/node_modules/diagnostic-channel-publishers/dist/src/pg-pool.pub.js", "../node_modules/.pnpm/diagnostic-channel-publishers@1.0.6_diagnostic-channel@1.1.0/node_modules/diagnostic-channel-publishers/dist/src/pg.pub.js", "../node_modules/.pnpm/diagnostic-channel-publishers@1.0.6_diagnostic-channel@1.1.0/node_modules/diagnostic-channel-publishers/dist/src/redis.pub.js", "../node_modules/.pnpm/diagnostic-channel-publishers@1.0.6_diagnostic-channel@1.1.0/node_modules/diagnostic-channel-publishers/dist/src/tedious.pub.js", "../node_modules/.pnpm/diagnostic-channel-publishers@1.0.6_diagnostic-channel@1.1.0/node_modules/diagnostic-channel-publishers/dist/src/winston.pub.js", "../node_modules/.pnpm/diagnostic-channel-publishers@1.0.6_diagnostic-channel@1.1.0/node_modules/diagnostic-channel-publishers/dist/src/index.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/diagnostic-channel/initialization.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/RequestResponseHeaders.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/Util.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/CorrelationIdManager.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/Traceparent.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/Tracestate.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/Domain.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/AvailabilityData.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/Base.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/ContextTagKeys.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/Data.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/DataPointType.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/DataPoint.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/Envelope.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/EventData.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/ExceptionData.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/ExceptionDetails.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/MessageData.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/MetricData.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/PageViewData.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/RemoteDependencyData.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/RequestData.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/SeverityLevel.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/StackFrame.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Generated/index.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/Constants.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/DependencyTelemetry.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/EventTelemetry.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/ExceptionTelemetry.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/MetricTelemetry.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/RequestTelemetry.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/TraceTelemetry.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/Telemetry.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/NodeHttpDependencyTelemetry.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/NodeHttpRequestTelemetry.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/AvailabilityTelemetry.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/PageViewTelemetry.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/EnvelopeTelemetry.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/TelemetryTypes/TelemetryType.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/TelemetryTypes/index.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/MetricQuickPulse.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/EnvelopeQuickPulse.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/DocumentQuickPulse.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/ExceptionDocumentQuickPulse.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/MessageDocumentQuickPulse.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/DependencyDocumentQuickPulse.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/RequestDocumentQuickPulse.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Declarations/Contracts/QuickPulseTypes/EventDocumentQuickPulse.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/QuickPulseTypes/index.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Contracts/index.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/RequestParser.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/HttpRequestParser.ts", "../node_modules/.pnpm/emitter-listener@1.1.2/node_modules/emitter-listener/listener.js", "../node_modules/.pnpm/cls-hooked@4.2.2/node_modules/cls-hooked/context.js", "../node_modules/.pnpm/async-hook-jl@1.7.6/node_modules/async-hook-jl/patches/next-tick.js", "../node_modules/.pnpm/async-hook-jl@1.7.6/node_modules/async-hook-jl/patches/promise.js", "../node_modules/.pnpm/async-hook-jl@1.7.6/node_modules/async-hook-jl/patches/timers.js", "../node_modules/.pnpm/async-hook-jl@1.7.6/node_modules/async-hook-jl/package.json", "../node_modules/.pnpm/async-hook-jl@1.7.6/node_modules/async-hook-jl/async-hook.js", "../node_modules/.pnpm/stack-chain@1.3.7/node_modules/stack-chain/package.json", "../node_modules/.pnpm/stack-chain@1.3.7/node_modules/stack-chain/format.js", "../node_modules/.pnpm/stack-chain@1.3.7/node_modules/stack-chain/stack-chain.js", "../node_modules/.pnpm/stack-chain@1.3.7/node_modules/stack-chain/index.js", "../node_modules/.pnpm/async-hook-jl@1.7.6/node_modules/async-hook-jl/index.js", "../node_modules/.pnpm/cls-hooked@4.2.2/node_modules/cls-hooked/context-legacy.js", "../node_modules/.pnpm/cls-hooked@4.2.2/node_modules/cls-hooked/index.js", "../node_modules/.pnpm/async-listener@0.6.10/node_modules/async-listener/glue.js", "../node_modules/.pnpm/async-listener@0.6.10/node_modules/async-listener/es6-wrapped-promise.js", "../node_modules/.pnpm/async-listener@0.6.10/node_modules/async-listener/index.js", "../node_modules/.pnpm/continuation-local-storage@3.2.1/node_modules/continuation-local-storage/context.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/CorrelationContextManager.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Constants.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/diagnostic-channel/console.sub.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/diagnostic-channel/bunyan.sub.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/diagnostic-channel/winston.sub.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/Console.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/Exceptions.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/Performance.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Metrics/AggregatedMetricCounters.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Declarations/Metrics/AggregatedMetricDimensions.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/PreAggregatedMetrics.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/Context.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/HeartBeat.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/SnippetInjectionHelper.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/PrefixHelper.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/ConnectionStringParser.ts", "../node_modules/.pnpm/@microsoft+applicationinsights-web-snippet@1.0.1/node_modules/@microsoft/applicationinsights-web-snippet/dist/node/applicationinsights-web-snippet.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/WebSnippet.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/HttpDependencyParser.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/diagnostic-channel/Azure/EventHub.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/diagnostic-channel/SpanParser.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/AsyncHooksScopeManager.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/diagnostic-channel/azure-coretracing.sub.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/diagnostic-channel/mongodb.sub.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/diagnostic-channel/mysql.sub.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/diagnostic-channel/redis.sub.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/diagnostic-channel/postgres.sub.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/HttpDependencies.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/HttpRequests.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/QuickPulseEnvelopeFactory.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/QuickPulseUtil.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/QuickPulseSender.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/QuickPulseStateManager.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/NativePerformance.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/AzureFunctionsHook.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/Config.ts", "../node_modules/.pnpm/@azure+abort-controller@1.1.0/node_modules/@azure/abort-controller/src/AbortSignal.ts", "../node_modules/.pnpm/@azure+abort-controller@1.1.0/node_modules/@azure/abort-controller/src/AbortController.ts", "../node_modules/.pnpm/@azure+core-util@1.2.0/node_modules/@azure/core-util/src/isNode.ts", "../node_modules/.pnpm/@azure+core-util@1.2.0/node_modules/@azure/core-util/src/createAbortablePromise.ts", "../node_modules/.pnpm/@azure+core-util@1.2.0/node_modules/@azure/core-util/src/delay.ts", "../node_modules/.pnpm/@azure+core-util@1.2.0/node_modules/@azure/core-util/src/random.ts", "../node_modules/.pnpm/@azure+core-util@1.2.0/node_modules/@azure/core-util/src/object.ts", "../node_modules/.pnpm/@azure+core-util@1.2.0/node_modules/@azure/core-util/src/error.ts", "../node_modules/.pnpm/@azure+core-util@1.2.0/node_modules/@azure/core-util/src/sha256.ts", "../node_modules/.pnpm/@azure+core-util@1.2.0/node_modules/@azure/core-util/src/typeGuards.ts", "../node_modules/.pnpm/delayed-stream@1.0.0/node_modules/delayed-stream/lib/delayed_stream.js", "../node_modules/.pnpm/combined-stream@1.0.8/node_modules/combined-stream/lib/combined_stream.js", "../node_modules/.pnpm/mime-db@1.52.0/node_modules/mime-db/db.json", "../node_modules/.pnpm/mime-db@1.52.0/node_modules/mime-db/index.js", "../node_modules/.pnpm/mime-types@2.1.35/node_modules/mime-types/index.js", "../node_modules/.pnpm/asynckit@0.4.0/node_modules/asynckit/lib/defer.js", "../node_modules/.pnpm/asynckit@0.4.0/node_modules/asynckit/lib/async.js", "../node_modules/.pnpm/asynckit@0.4.0/node_modules/asynckit/lib/abort.js", "../node_modules/.pnpm/asynckit@0.4.0/node_modules/asynckit/lib/iterate.js", "../node_modules/.pnpm/asynckit@0.4.0/node_modules/asynckit/lib/state.js", "../node_modules/.pnpm/asynckit@0.4.0/node_modules/asynckit/lib/terminator.js", "../node_modules/.pnpm/asynckit@0.4.0/node_modules/asynckit/parallel.js", "../node_modules/.pnpm/asynckit@0.4.0/node_modules/asynckit/serialOrdered.js", "../node_modules/.pnpm/asynckit@0.4.0/node_modules/asynckit/serial.js", "../node_modules/.pnpm/asynckit@0.4.0/node_modules/asynckit/index.js", "../node_modules/.pnpm/form-data@4.0.0/node_modules/form-data/lib/populate.js", "../node_modules/.pnpm/form-data@4.0.0/node_modules/form-data/lib/form_data.js", "../node_modules/.pnpm/agent-base@6.0.2/node_modules/agent-base/src/promisify.ts", "../node_modules/.pnpm/agent-base@6.0.2/node_modules/agent-base/src/index.ts", "../node_modules/.pnpm/https-proxy-agent@5.0.1/node_modules/https-proxy-agent/src/parse-proxy-response.ts", "../node_modules/.pnpm/https-proxy-agent@5.0.1/node_modules/https-proxy-agent/src/agent.ts", "../node_modules/.pnpm/https-proxy-agent@5.0.1/node_modules/https-proxy-agent/src/index.ts", "../node_modules/.pnpm/@tootallnate+once@2.0.0/node_modules/@tootallnate/once/src/index.ts", "../node_modules/.pnpm/http-proxy-agent@5.0.0/node_modules/http-proxy-agent/src/agent.ts", "../node_modules/.pnpm/http-proxy-agent@5.0.0/node_modules/http-proxy-agent/src/index.ts", "../node_modules/.pnpm/@azure+core-tracing@1.0.1/node_modules/@azure/core-tracing/src/tracingContext.ts", "../node_modules/.pnpm/@azure+core-tracing@1.0.1/node_modules/@azure/core-tracing/src/instrumenter.ts", "../node_modules/.pnpm/@azure+core-tracing@1.0.1/node_modules/@azure/core-tracing/src/tracingClient.ts", "../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/rng.js", "../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/regex.js", "../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/validate.js", "../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/stringify.js", "../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/v1.js", "../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/parse.js", "../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/v35.js", "../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/md5.js", "../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/v3.js", "../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/v4.js", "../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/sha1.js", "../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/v5.js", "../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/nil.js", "../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/version.js", "../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/index.js", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/pipeline.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/log.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/util/sanitizer.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/policies/logPolicy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/policies/redirectPolicy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/util/userAgentPlatform.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/constants.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/util/userAgent.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/policies/userAgentPolicy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/policies/decompressResponsePolicy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/util/helpers.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/retryStrategies/throttlingRetryStrategy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/retryStrategies/exponentialRetryStrategy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/policies/retryPolicy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/policies/defaultRetryPolicy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/policies/formDataPolicy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/policies/proxyPolicy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/policies/setClientRequestIdPolicy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/policies/tlsPolicy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/util/inspect.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/restError.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/policies/tracingPolicy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/createPipelineFromOptions.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/httpHeaders.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/nodeHttpClient.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/defaultHttpClient.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/util/uuid.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/pipelineRequest.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/policies/exponentialRetryPolicy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/policies/systemErrorRetryPolicy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/policies/throttlingRetryPolicy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/util/tokenCycler.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/policies/bearerTokenAuthenticationPolicy.ts", "../node_modules/.pnpm/@azure+core-rest-pipeline@1.10.1/node_modules/@azure/core-rest-pipeline/src/policies/ndJsonPolicy.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/AuthorizationHandler.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/Channel.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/TelemetryProcessors/AzureRoleEnvironmentTelemetryInitializer.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/TelemetryProcessors/SamplingTelemetryProcessor.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/TelemetryProcessors/PerformanceMetricsTelemetryProcessor.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/TelemetryProcessors/PreAggregatedMetricsTelemetryProcessor.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/TelemetryProcessors/index.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/EnvelopeFactory.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/FileAccessControl.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/Sender.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/AzureVirtualMachine.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/NetworkStatsbeat.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/AutoCollection/Statsbeat.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/TelemetryClient.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/Library/NodeClient.ts", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/out/Library/Functions.js", "../node_modules/.pnpm/applicationinsights@2.7.0/node_modules/applicationinsights/applicationinsights.ts", "../node_modules/.pnpm/@vscode+extension-telemetry@0.8.1_tslib@2.6.2_typescript@5.2.2/node_modules/@vscode/extension-telemetry/dist/node/node/telemetryReporter.js", "../node_modules/.pnpm/isexe@2.0.0/node_modules/isexe/windows.js", "../node_modules/.pnpm/isexe@2.0.0/node_modules/isexe/mode.js", "../node_modules/.pnpm/isexe@2.0.0/node_modules/isexe/index.js", "../node_modules/.pnpm/which@3.0.1/node_modules/which/lib/index.js", "../src/index.ts", "../src/telemetry.ts", "../src/electron-builder.ts", "../src/util.ts"],
  "sourcesContent": ["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar vscode = require('vscode');\nvar path$1 = require('path');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar vscode__default = /*#__PURE__*/_interopDefaultLegacy(vscode);\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn) {\n  var module = { exports: {} };\n\treturn fn(module, module.exports), module.exports;\n}\n\nvar check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global$1 =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof commonjsGlobal == 'object' && commonjsGlobal) ||\n  // eslint-disable-next-line no-new-func\n  (function () { return this; })() || Function('return this')();\n\nvar fails = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n\n// Thank's IE8 for his funny defineProperty\nvar descriptors = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nvar f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n\nvar objectPropertyIsEnumerable = {\n\tf: f\n};\n\nvar createPropertyDescriptor = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\nvar toString = {}.toString;\n\nvar classofRaw = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar indexedObject = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classofRaw(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nvar requireObjectCoercible = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n\n// toObject with fallback for non-array-like ES3 strings\n\n\n\nvar toIndexedObject = function (it) {\n  return indexedObject(requireObjectCoercible(it));\n};\n\nvar isObject = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nvar toPrimitive = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nvar has = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\nvar document = global$1.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nvar documentCreateElement = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n\n// Thank's IE8 for his funny defineProperty\nvar ie8DomDefine = !descriptors && !fails(function () {\n  return Object.defineProperty(documentCreateElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nvar f$1 = descriptors ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (ie8DomDefine) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(O, P), O[P]);\n};\n\nvar objectGetOwnPropertyDescriptor = {\n\tf: f$1\n};\n\nvar anObject = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nvar f$2 = descriptors ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (ie8DomDefine) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\nvar objectDefineProperty = {\n\tf: f$2\n};\n\nvar createNonEnumerableProperty = descriptors ? function (object, key, value) {\n  return objectDefineProperty.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\nvar setGlobal = function (key, value) {\n  try {\n    createNonEnumerableProperty(global$1, key, value);\n  } catch (error) {\n    global$1[key] = value;\n  } return value;\n};\n\nvar SHARED = '__core-js_shared__';\nvar store = global$1[SHARED] || setGlobal(SHARED, {});\n\nvar sharedStore = store;\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof sharedStore.inspectSource != 'function') {\n  sharedStore.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nvar inspectSource = sharedStore.inspectSource;\n\nvar WeakMap = global$1.WeakMap;\n\nvar nativeWeakMap = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n\nvar shared = createCommonjsModule(function (module) {\n(module.exports = function (key, value) {\n  return sharedStore[key] || (sharedStore[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.8.1',\n  mode:  'global',\n  copyright: '\u00A9 2020 Denis Pushkarev (zloirock.ru)'\n});\n});\n\nvar id = 0;\nvar postfix = Math.random();\n\nvar uid = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n\nvar keys = shared('keys');\n\nvar sharedKey = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n\nvar hiddenKeys = {};\n\nvar WeakMap$1 = global$1.WeakMap;\nvar set, get, has$1;\n\nvar enforce = function (it) {\n  return has$1(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (nativeWeakMap) {\n  var store$1 = sharedStore.state || (sharedStore.state = new WeakMap$1());\n  var wmget = store$1.get;\n  var wmhas = store$1.has;\n  var wmset = store$1.set;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    wmset.call(store$1, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store$1, it) || {};\n  };\n  has$1 = function (it) {\n    return wmhas.call(store$1, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return has(it, STATE) ? it[STATE] : {};\n  };\n  has$1 = function (it) {\n    return has(it, STATE);\n  };\n}\n\nvar internalState = {\n  set: set,\n  get: get,\n  has: has$1,\n  enforce: enforce,\n  getterFor: getterFor\n};\n\nvar redefine = createCommonjsModule(function (module) {\nvar getInternalState = internalState.get;\nvar enforceInternalState = internalState.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global$1) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n});\n\nvar path = global$1;\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nvar getBuiltIn = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global$1[namespace])\n    : path[namespace] && path[namespace][method] || global$1[namespace] && global$1[namespace][method];\n};\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nvar toInteger = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nvar toLength = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n\nvar max = Math.max;\nvar min$1 = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nvar toAbsoluteIndex = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min$1(integer, length);\n};\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nvar arrayIncludes = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n\nvar indexOf = arrayIncludes.indexOf;\n\n\nvar objectKeysInternal = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n// IE8- don't enum bug keys\nvar enumBugKeys = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n\nvar hiddenKeys$1 = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nvar f$3 = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return objectKeysInternal(O, hiddenKeys$1);\n};\n\nvar objectGetOwnPropertyNames = {\n\tf: f$3\n};\n\nvar f$4 = Object.getOwnPropertySymbols;\n\nvar objectGetOwnPropertySymbols = {\n\tf: f$4\n};\n\n// all object keys, includes non-enumerable and symbols\nvar ownKeys = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = objectGetOwnPropertyNames.f(anObject(it));\n  var getOwnPropertySymbols = objectGetOwnPropertySymbols.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n\nvar copyConstructorProperties = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = objectDefineProperty.f;\n  var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nvar isForced_1 = isForced;\n\nvar getOwnPropertyDescriptor$1 = objectGetOwnPropertyDescriptor.f;\n\n\n\n\n\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nvar _export = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global$1;\n  } else if (STATIC) {\n    target = global$1[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global$1[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor$1(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced_1(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n\nvar nativeSymbol = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n\nvar useSymbolAsUid = nativeSymbol\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol$1 = global$1.Symbol;\nvar createWellKnownSymbol = useSymbolAsUid ? Symbol$1 : Symbol$1 && Symbol$1.withoutSetter || uid;\n\nvar wellKnownSymbol = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (nativeSymbol && has(Symbol$1, name)) WellKnownSymbolsStore[name] = Symbol$1[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nvar isRegexp = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classofRaw(it) == 'RegExp');\n};\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nvar regexpFlags = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n\nvar REPLACE = wellKnownSymbol('replace');\nvar RegExpPrototype = RegExp.prototype;\n\n// `String.prototype.replaceAll` method\n// https://github.com/tc39/proposal-string-replace-all\n_export({ target: 'String', proto: true }, {\n  replaceAll: function replaceAll(searchValue, replaceValue) {\n    var O = requireObjectCoercible(this);\n    var IS_REG_EXP, flags, replacer, string, searchString, template, result, position, index;\n    if (searchValue != null) {\n      IS_REG_EXP = isRegexp(searchValue);\n      if (IS_REG_EXP) {\n        flags = String(requireObjectCoercible('flags' in RegExpPrototype\n          ? searchValue.flags\n          : regexpFlags.call(searchValue)\n        ));\n        if (!~flags.indexOf('g')) throw TypeError('`.replaceAll` does not allow non-global regexes');\n      }\n      replacer = searchValue[REPLACE];\n      if (replacer !== undefined) {\n        return replacer.call(searchValue, O, replaceValue);\n      }\n    }\n    string = String(O);\n    searchString = String(searchValue);\n    if (searchString === '') return replaceAll.call(string, /(?:)/g, replaceValue);\n    template = string.split(searchString);\n    if (typeof replaceValue !== 'function') {\n      return template.join(String(replaceValue));\n    }\n    result = template[0];\n    position = result.length;\n    for (index = 1; index < template.length; index++) {\n      result += String(replaceValue(searchString, position, string));\n      position += searchString.length + template[index].length;\n      result += template[index];\n    }\n    return result;\n  }\n});\n\nvar isObj = value => {\n\tconst type = typeof value;\n\treturn value !== null && (type === 'object' || type === 'function');\n};\n\nconst disallowedKeys = new Set([\n\t'__proto__',\n\t'prototype',\n\t'constructor'\n]);\n\nconst isValidPath = pathSegments => !pathSegments.some(segment => disallowedKeys.has(segment));\n\nfunction getPathSegments(path) {\n\tconst pathArray = path.split('.');\n\tconst parts = [];\n\n\tfor (let i = 0; i < pathArray.length; i++) {\n\t\tlet p = pathArray[i];\n\n\t\twhile (p[p.length - 1] === '\\\\' && pathArray[i + 1] !== undefined) {\n\t\t\tp = p.slice(0, -1) + '.';\n\t\t\tp += pathArray[++i];\n\t\t}\n\n\t\tparts.push(p);\n\t}\n\n\tif (!isValidPath(parts)) {\n\t\treturn [];\n\t}\n\n\treturn parts;\n}\n\nvar dotProp = {\n\tget(object, path, value) {\n\t\tif (!isObj(object) || typeof path !== 'string') {\n\t\t\treturn value === undefined ? object : value;\n\t\t}\n\n\t\tconst pathArray = getPathSegments(path);\n\t\tif (pathArray.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (let i = 0; i < pathArray.length; i++) {\n\t\t\tobject = object[pathArray[i]];\n\n\t\t\tif (object === undefined || object === null) {\n\t\t\t\t// `object` is either `undefined` or `null` so we want to stop the loop, and\n\t\t\t\t// if this is not the last bit of the path, and\n\t\t\t\t// if it did't return `undefined`\n\t\t\t\t// it would return `null` if `object` is `null`\n\t\t\t\t// but we want `get({foo: null}, 'foo.bar')` to equal `undefined`, or the supplied value, not `null`\n\t\t\t\tif (i !== pathArray.length - 1) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn object === undefined ? value : object;\n\t},\n\n\tset(object, path, value) {\n\t\tif (!isObj(object) || typeof path !== 'string') {\n\t\t\treturn object;\n\t\t}\n\n\t\tconst root = object;\n\t\tconst pathArray = getPathSegments(path);\n\n\t\tfor (let i = 0; i < pathArray.length; i++) {\n\t\t\tconst p = pathArray[i];\n\n\t\t\tif (!isObj(object[p])) {\n\t\t\t\tobject[p] = {};\n\t\t\t}\n\n\t\t\tif (i === pathArray.length - 1) {\n\t\t\t\tobject[p] = value;\n\t\t\t}\n\n\t\t\tobject = object[p];\n\t\t}\n\n\t\treturn root;\n\t},\n\n\tdelete(object, path) {\n\t\tif (!isObj(object) || typeof path !== 'string') {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst pathArray = getPathSegments(path);\n\n\t\tfor (let i = 0; i < pathArray.length; i++) {\n\t\t\tconst p = pathArray[i];\n\n\t\t\tif (i === pathArray.length - 1) {\n\t\t\t\tdelete object[p];\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tobject = object[p];\n\n\t\t\tif (!isObj(object)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\thas(object, path) {\n\t\tif (!isObj(object) || typeof path !== 'string') {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst pathArray = getPathSegments(path);\n\t\tif (pathArray.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// eslint-disable-next-line unicorn/no-for-loop\n\t\tfor (let i = 0; i < pathArray.length; i++) {\n\t\t\tif (isObj(object)) {\n\t\t\t\tif (!(pathArray[i] in object)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tobject = object[pathArray[i]];\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n};\n\nfunction getConfig() {\n    var configNotations = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        configNotations[_i] = arguments[_i];\n    }\n    return __awaiter(this, void 0, void 0, function () {\n        var _this = this;\n        return __generator(this, function (_a) {\n            switch (true) {\n                case configNotations.length === 0:\n                    return [2 /*return*/, vscode__default['default'].workspace.getConfiguration()];\n                case configNotations.length === 1:\n                    return [2 /*return*/, getSingleConfig(configNotations[0])];\n                default:\n                    return [2 /*return*/, Promise.all(configNotations.map(function (configNotation) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n                            return [2 /*return*/, getSingleConfig(configNotation)];\n                        }); }); }))];\n            }\n        });\n    });\n}\nfunction getSingleConfig(configNotation) {\n    return __awaiter(this, void 0, void 0, function () {\n        var config, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    config = (configNotation === null || configNotation === void 0 ? void 0 : configNotation.length) ? dotProp.get(vscode__default['default'].workspace.getConfiguration(), configNotation)\n                        : vscode__default['default'].workspace.getConfiguration();\n                    if (!(config && Object.keys(config).length)) return [3 /*break*/, 2];\n                    return [4 /*yield*/, substituteVariables(config)];\n                case 1:\n                    _a = _b.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    _a = config;\n                    _b.label = 3;\n                case 3: return [2 /*return*/, _a];\n            }\n        });\n    });\n}\nfunction substituteVariables(config) {\n    return __awaiter(this, void 0, void 0, function () {\n        var configString, lineNumber, selectedText, workspaceFolders_1, regex, matches, groups, groups, configuration, pick;\n        return __generator(this, function (_a) {\n            configString = JSON.stringify(config);\n            if (configString === null || configString === void 0 ? void 0 : configString.includes('${workspaceFolder}')) {\n                configString = configString.replace(/\\${workspaceFolder}/g, getWorkspaceFolder());\n            }\n            if (configString === null || configString === void 0 ? void 0 : configString.includes('${workspaceFolderBasename}')) {\n                configString = configString.replace(/\\${workspaceFolderBasename}/g, path$1.basename(getWorkspaceFolder()));\n            }\n            if (configString === null || configString === void 0 ? void 0 : configString.includes('${file}')) {\n                configString = configString.replace(/\\${file}/g, getFile());\n            }\n            if (configString === null || configString === void 0 ? void 0 : configString.includes('${relativeFile}')) {\n                configString = configString.replace(/\\${relativeFile}/g, getRelativeFile());\n            }\n            if (configString === null || configString === void 0 ? void 0 : configString.includes('${relativeFileDirname}')) {\n                configString = configString.replace(/\\${relativeFileDirname}/g, getRelativeFileDirname());\n            }\n            if (configString === null || configString === void 0 ? void 0 : configString.includes('${fileBasename}')) {\n                configString = configString.replace(/\\${fileBasename}/g, getFileBasename());\n            }\n            if (configString === null || configString === void 0 ? void 0 : configString.includes('${fileBasenameNoExtension}')) {\n                configString = configString.replace(/\\${fileBasenameNoExtension}/g, getFileBasenameNoExtension());\n            }\n            if (configString === null || configString === void 0 ? void 0 : configString.includes('${fileDirname}')) {\n                configString = configString.replace(/\\${fileDirname}/g, getFileDirname());\n            }\n            if (configString === null || configString === void 0 ? void 0 : configString.includes('${fileExtname}')) {\n                configString = configString.replace(/\\${fileExtname}/g, getFileExtname());\n            }\n            if (configString === null || configString === void 0 ? void 0 : configString.includes('${cwd}')) {\n                configString = configString.replace(/\\${cwd}/g, process.cwd());\n            }\n            if (configString === null || configString === void 0 ? void 0 : configString.includes('${lineNumber}')) {\n                lineNumber = getLineNumber();\n                if (lineNumber && parseInt(lineNumber)) {\n                    configString = configString.replace(/\\${lineNumber}/g, getLineNumber());\n                }\n            }\n            if (configString === null || configString === void 0 ? void 0 : configString.includes('${selectedText}')) {\n                selectedText = getSelection().join();\n                if (selectedText) {\n                    configString = configString.replace(/\\${selectedText}/g, selectedText);\n                }\n            }\n            if (configString === null || configString === void 0 ? void 0 : configString.includes('${execPath}')) {\n                configString = configString.replace(/\\${execPath}/g, process.execPath);\n            }\n            if (configString === null || configString === void 0 ? void 0 : configString.includes('${pathSeparator}')) {\n                configString = configString.replace(/\\${pathSeparator}/g, path$1.sep);\n            }\n            if (configString && /\\${workspaceFolder:[^}]+}/.test(configString)) {\n                workspaceFolders_1 = vscode__default['default'].workspace.workspaceFolders;\n                regex = /\\${workspaceFolder:(?<name>[^}]+)}/g;\n                matches = configString.match(regex);\n                if (matches === null || matches === void 0 ? void 0 : matches.length) {\n                    matches.map(function (item) {\n                        var groups = item.match(/\\${workspaceFolder:(?<name>[^}]+)\\}/).groups;\n                        if (groups.name) {\n                            var found = workspaceFolders_1.find(function (item) { return item.name === groups.name; });\n                            if (found) {\n                                configString = configString.replaceAll(\"${workspaceFolder:\" + groups.name + \"}\", found.uri.fsPath);\n                            }\n                        }\n                    });\n                }\n            }\n            if (configString && /\\${env:[^}]+}/.test(configString)) {\n                groups = configString.match(/\\${env:(?<name>[^}]+)\\}/).groups;\n                if ((groups === null || groups === void 0 ? void 0 : groups.name) && process.env[groups.name]) {\n                    configString = configString.replace(/(\\${env:[^}]+})/g, process.env[groups.name]);\n                }\n            }\n            if (configString && /\\${config:[^}]+}/.test(configString)) {\n                groups = configString.match(/\\${config:(?<name>[^}]+)\\}/).groups;\n                configuration = vscode__default['default'].workspace.getConfiguration();\n                if ((groups === null || groups === void 0 ? void 0 : groups.name) && dotProp.get(configuration, groups.name)) {\n                    pick = String(dotProp.get(configuration, groups.name));\n                    configString = configString.replace(/(\\${config:[^}]+})/g, pick);\n                }\n            }\n            return [2 /*return*/, JSON.parse(configString)];\n        });\n    });\n}\nfunction getFile() {\n    var editor = vscode__default['default'].window.activeTextEditor;\n    if (!editor) {\n        vscode__default['default'].window.showWarningMessage('No open editors');\n        return;\n    }\n    return editor.document.uri.fsPath;\n}\nfunction getRelativeFile() {\n    var workspaceFolder = getWorkspaceFolder();\n    return path$1.relative(workspaceFolder, getFile());\n}\nfunction getRelativeFileDirname() {\n    return path$1.dirname(getRelativeFile());\n}\nfunction getFileBasename() {\n    return path$1.basename(getFile());\n}\nfunction getFileBasenameNoExtension() {\n    return path$1.basename(getFile(), getFileExtname());\n}\nfunction getFileDirname() {\n    return path$1.dirname(getFile());\n}\nfunction getFileExtname() {\n    return path$1.extname(getFile());\n}\nfunction getLineNumber() {\n    var editor = vscode__default['default'].window.activeTextEditor;\n    if (!editor) {\n        vscode__default['default'].window.showWarningMessage('No open editors');\n        return;\n    }\n    return String(editor.selection.active.line);\n}\nfunction getSelection() {\n    return vscode__default['default'].window.activeTextEditor.selections.map(function (selection) {\n        return vscode__default['default'].window.activeTextEditor.document.getText(new vscode__default['default'].Range(selection.start.line, selection.start.character, selection.end.line, selection.end.character));\n    });\n}\nfunction getWorkspaceFolder(appendPath) {\n    var _a, _b;\n    if (appendPath === void 0) { appendPath = ''; }\n    var editor = vscode__default['default'].window.activeTextEditor;\n    if (!editor) {\n        vscode__default['default'].window.showWarningMessage('No open editors');\n        return;\n    }\n    var uri = vscode__default['default'].workspace.getWorkspaceFolder((_a = editor === null || editor === void 0 ? void 0 : editor.document) === null || _a === void 0 ? void 0 : _a.uri).uri;\n    if (!((_b = uri.fsPath) === null || _b === void 0 ? void 0 : _b.length)) {\n        vscode__default['default'].window.showWarningMessage('No open workspaces');\n        return;\n    }\n    return (appendPath === null || appendPath === void 0 ? void 0 : appendPath.length) ? path$1.join(uri.fsPath, appendPath)\n        : uri.fsPath;\n}\n\nexports.getConfig = getConfig;\n", "\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseTelemetryReporter = void 0;\nclass BaseTelemetryReporter {\n    constructor(telemetrySender, vscodeAPI, initializationOptions) {\n        this.telemetrySender = telemetrySender;\n        this.vscodeAPI = vscodeAPI;\n        this.userOptIn = false;\n        this.errorOptIn = false;\n        this.disposables = [];\n        this._onDidChangeTelemetryLevel = new this.vscodeAPI.EventEmitter();\n        this.onDidChangeTelemetryLevel = this._onDidChangeTelemetryLevel.event;\n        this.telemetryLogger = this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender, initializationOptions);\n        // Keep track of the user's opt-in status\n        this.updateUserOptIn();\n        this.telemetryLogger.onDidChangeEnableStates(() => {\n            this.updateUserOptIn();\n        });\n    }\n    /**\n     * Updates the user's telemetry opt-in status\n     */\n    updateUserOptIn() {\n        this.errorOptIn = this.telemetryLogger.isErrorsEnabled;\n        this.userOptIn = this.telemetryLogger.isUsageEnabled;\n        // The sender is lazy loaded so if telemetry is off it's not loaded in\n        if (this.telemetryLogger.isErrorsEnabled || this.telemetryLogger.isUsageEnabled) {\n            this.telemetrySender.instantiateSender();\n        }\n        this._onDidChangeTelemetryLevel.fire(this.telemetryLevel);\n    }\n    get telemetryLevel() {\n        if (this.errorOptIn && this.userOptIn) {\n            return \"all\";\n        }\n        else if (this.errorOptIn) {\n            return \"error\";\n        }\n        else {\n            return \"off\";\n        }\n    }\n    /**\n     * Internal function which logs telemetry events and takes extra options.\n     * @param eventName The name of the event\n     * @param properties The properties of the event\n     * @param measurements The measurements (numeric values) to send with the event\n     * @param sanitize Whether or not to sanitize to the properties and measures\n     * @param dangerous Whether or not to ignore telemetry level\n     */\n    internalSendTelemetryEvent(eventName, properties, measurements, dangerous) {\n        // If it's dangerous we skip going through the logger as the logger checks opt-in status, etc.\n        if (dangerous) {\n            this.telemetrySender.sendEventData(eventName, { properties, measurements });\n        }\n        else {\n            this.telemetryLogger.logUsage(eventName, { properties, measurements });\n        }\n    }\n    /**\n     * Given an event name, some properties, and measurements sends a telemetry event.\n     * Properties are sanitized on best-effort basis to remove sensitive data prior to sending.\n     * @param eventName The name of the event\n     * @param properties The properties to send with the event\n     * @param measurements The measurements (numeric values) to send with the event\n     */\n    sendTelemetryEvent(eventName, properties, measurements) {\n        this.internalSendTelemetryEvent(eventName, properties, measurements, false);\n    }\n    /**\n     * **DANGEROUS** Given an event name, some properties, and measurements sends a telemetry event without checking telemetry setting\n     * Do not use unless in a controlled environment i.e. sending telmetry from a CI pipeline or testing during development\n     * @param eventName The name of the event\n     * @param properties The properties to send with the event\n     * @param measurements The measurements (numeric values) to send with the event\n     * @param sanitize Whether or not to sanitize to the properties and measures, defaults to true\n     */\n    sendDangerousTelemetryEvent(eventName, properties, measurements) {\n        // Since telemetry is probably off when sending dangerously, we must start the sender\n        this.telemetrySender.instantiateSender();\n        this.internalSendTelemetryEvent(eventName, properties, measurements, true);\n    }\n    /**\n     * Internal function which logs telemetry error events and takes extra options.\n     * @param eventName The name of the event\n     * @param properties The properties of the event\n     * @param measurements The measurements (numeric values) to send with the event\n     * @param sanitize Whether or not to sanitize to the properties and measures\n     * @param dangerous Whether or not to ignore telemetry level\n     */\n    internalSendTelemetryErrorEvent(eventName, properties, measurements, dangerous) {\n        if (dangerous) {\n            this.telemetrySender.sendEventData(eventName, { properties, measurements });\n        }\n        else {\n            this.telemetryLogger.logError(eventName, { properties, measurements });\n        }\n    }\n    /**\n     * Given an event name, some properties, and measurements sends an error event\n     * @param eventName The name of the event\n     * @param properties The properties to send with the event\n     * @param measurements The measurements (numeric values) to send with the event\n     */\n    sendTelemetryErrorEvent(eventName, properties, measurements) {\n        this.internalSendTelemetryErrorEvent(eventName, properties, measurements, false);\n    }\n    /**\n     * **DANGEROUS** Given an event name, some properties, and measurements sends a telemetry error event without checking telemetry setting\n     * Do not use unless in a controlled environment i.e. sending telmetry from a CI pipeline or testing during development\n     * @param eventName The name of the event\n     * @param properties The properties to send with the event\n     * @param measurements The measurements (numeric values) to send with the event\n     * @param sanitize Whether or not to run the properties and measures through sanitiziation, defaults to true\n     */\n    sendDangerousTelemetryErrorEvent(eventName, properties, measurements) {\n        // Since telemetry is probably off when sending dangerously, we must start the sender\n        this.telemetrySender.instantiateSender();\n        this.internalSendTelemetryErrorEvent(eventName, properties, measurements, true);\n    }\n    /**\n     * Disposes of the telemetry reporter\n     */\n    dispose() {\n        this.telemetryLogger.dispose();\n        return Promise.all(this.disposables.map(d => d.dispose()));\n    }\n}\nexports.BaseTelemetryReporter = BaseTelemetryReporter;\n//# sourceMappingURL=baseTelemetryReporter.js.map", "\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseTelemetrySender = void 0;\nvar InstantiationStatus;\n(function (InstantiationStatus) {\n    InstantiationStatus[InstantiationStatus[\"NOT_INSTANTIATED\"] = 0] = \"NOT_INSTANTIATED\";\n    InstantiationStatus[InstantiationStatus[\"INSTANTIATING\"] = 1] = \"INSTANTIATING\";\n    InstantiationStatus[InstantiationStatus[\"INSTANTIATED\"] = 2] = \"INSTANTIATED\";\n})(InstantiationStatus || (InstantiationStatus = {}));\nclass BaseTelemetrySender {\n    constructor(key, clientFactory) {\n        // Whether or not the client has been instantiated\n        this._instantiationStatus = InstantiationStatus.NOT_INSTANTIATED;\n        // Queues used to store events until the sender is ready\n        this._eventQueue = [];\n        this._exceptionQueue = [];\n        this._clientFactory = clientFactory;\n        this._key = key;\n    }\n    /**\n     * Sends the event to the passed in telemetry client\n     * The sender does no telemetry level checks as those are done by the reporter.\n     * @param eventName The name of the event to log\n     * @param data The data contanied in the event\n     */\n    sendEventData(eventName, data) {\n        if (!this._telemetryClient) {\n            if (this._instantiationStatus !== InstantiationStatus.INSTANTIATED) {\n                this._eventQueue.push({ eventName, data });\n            }\n            return;\n        }\n        this._telemetryClient.logEvent(eventName, data);\n    }\n    /**\n     * Sends an exception to the passed in telemetry client\n     * The sender does no telemetry level checks as those are done by the reporter.\n     * @param exception The exception to collect\n     * @param data Data associated with the exception\n     */\n    sendErrorData(exception, data) {\n        if (!this._telemetryClient) {\n            if (this._instantiationStatus !== InstantiationStatus.INSTANTIATED) {\n                this._exceptionQueue.push({ exception, data });\n            }\n            return;\n        }\n        const errorData = { stack: exception.stack, message: exception.message, name: exception.name };\n        if (data) {\n            data.properties = { ...data.properties, ...errorData };\n        }\n        else {\n            data = { properties: errorData };\n        }\n        this._telemetryClient.logEvent(\"unhandlederror\", data);\n    }\n    /**\n     * Flushes the buffered telemetry data\n     */\n    async flush() {\n        if (this._telemetryClient) {\n            await this._telemetryClient.flush();\n            this._telemetryClient = undefined;\n        }\n        return;\n    }\n    /**\n     * Flushes the queued events that existed before the client was instantiated\n     */\n    _flushQueues() {\n        this._eventQueue.forEach(({ eventName, data }) => this.sendEventData(eventName, data));\n        this._eventQueue = [];\n        this._exceptionQueue.forEach(({ exception, data }) => this.sendErrorData(exception, data));\n        this._exceptionQueue = [];\n    }\n    /**\n     * Instantiates the telemetry client to make the sender \"active\"\n     */\n    instantiateSender() {\n        if (this._instantiationStatus !== InstantiationStatus.NOT_INSTANTIATED) {\n            return;\n        }\n        this._instantiationStatus = InstantiationStatus.INSTANTIATING;\n        // Call the client factory to get the client and then let it know it's instatntiated\n        this._clientFactory(this._key).then(client => {\n            this._telemetryClient = client;\n            this._instantiationStatus = InstantiationStatus.INSTANTIATED;\n            this._flushQueues();\n        }).catch(err => {\n            console.error(err);\n            // If it failed to instntiate, then we don't want to try again.\n            // So we mark it as instantiated. See #94\n            this._instantiationStatus = InstantiationStatus.INSTANTIATED;\n        });\n    }\n}\nexports.BaseTelemetrySender = BaseTelemetrySender;\n//# sourceMappingURL=baseTelemetrySender.js.map", "\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TelemetryUtil = void 0;\nclass TelemetryUtil {\n    static applyReplacements(data, replacementOptions) {\n        for (const key of Object.keys(data)) {\n            for (const option of replacementOptions) {\n                if (option.lookup.test(key)) {\n                    if (option.replacementString !== undefined) {\n                        data[key] = option.replacementString;\n                    }\n                    else {\n                        delete data[key];\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * Given a key checks if it is a valid 1DS key\n     * @param key The key to check if it's a valid 1DS key\n     */\n    static shouldUseOneDataSystemSDK(key) {\n        // Simple to check to ensure the key is the right length and the dashes are in the right spot\n        return (key.length === 74 &&\n            key[32] === \"-\" &&\n            key[41] === \"-\" &&\n            key[46] === \"-\" &&\n            key[51] === \"-\" &&\n            key[56] === \"-\" &&\n            key[69] === \"-\");\n    }\n    // This also includes the common properties which core mixes in\n    // __GDPR__COMMON__ \"common.os\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.nodeArch\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.platformversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.extname\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.extversion\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.vscodemachineid\" : { \"endPoint\": \"MacAddressHash\", \"classification\": \"EndUserPseudonymizedInformation\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.vscodesessionid\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.vscodeversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.uikind\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.remotename\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.isnewappinstall\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.product\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.telemetryclientversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    static getAdditionalCommonProperties(osShim) {\n        return {\n            \"common.os\": osShim.platform,\n            \"common.nodeArch\": osShim.architecture,\n            \"common.platformversion\": (osShim.release || \"\").replace(/^(\\d+)(\\.\\d+)?(\\.\\d+)?(.*)/, \"$1$2$3\"),\n            // Do not change this string as it gets found and replaced upon packaging\n            \"common.telemetryclientversion\": \"0.8.1\"\n        };\n    }\n    // Get singleton instance of TelemetryUtil\n    static getInstance() {\n        if (!TelemetryUtil._instance) {\n            TelemetryUtil._instance = new TelemetryUtil();\n        }\n        return TelemetryUtil._instance;\n    }\n}\nexports.TelemetryUtil = TelemetryUtil;\n//# sourceMappingURL=util.js.map", "/*!\n * Microsoft Application Insights JavaScript SDK - Shim functions, 2.0.2\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.Microsoft = global.Microsoft || {}, global.Microsoft.ApplicationInsights = global.Microsoft.ApplicationInsights || {}, global.Microsoft.ApplicationInsights.Shims = {})));\n})(this, (function (exports) { 'use strict';\n\n    var strShimFunction = \"function\";\r\n    var strShimObject = \"object\";\r\n    var strShimUndefined = \"undefined\";\r\n    var strShimPrototype = \"prototype\";\r\n    var strShimHasOwnProperty = \"hasOwnProperty\";\r\n    var strDefault = \"default\";\r\n    var ObjClass = Object;\r\n    var ObjProto = ObjClass[strShimPrototype];\r\n    var ObjAssign = ObjClass[\"assign\"];\r\n    var ObjCreate = ObjClass[\"create\"];\r\n    var ObjDefineProperty = ObjClass[\"defineProperty\"];\r\n    var ObjHasOwnProperty = ObjProto[strShimHasOwnProperty];\n\n    var _cachedGlobal = null;\r\n    /**\r\n     * Returns the current global scope object, for a normal web page this will be the current\r\n     * window, for a Web Worker this will be current worker global scope via \"self\". The internal\r\n     * implementation returns the first available instance object in the following order\r\n     * - globalThis (New standard)\r\n     * - self (Will return the current window instance for supported browsers)\r\n     * - window (fallback for older browser implementations)\r\n     * - global (NodeJS standard)\r\n     * - <null> (When all else fails)\r\n     * While the return type is a Window for the normal case, not all environments will support all\r\n     * of the properties or functions.\r\n     */\r\n    function getGlobal(useCached) {\r\n        if (useCached === void 0) { useCached = true; }\r\n        var result = useCached === false ? null : _cachedGlobal;\r\n        if (!result) {\r\n            if (typeof globalThis !== strShimUndefined) {\r\n                result = globalThis;\r\n            }\r\n            if (!result && typeof self !== strShimUndefined) {\r\n                result = self;\r\n            }\r\n            if (!result && typeof window !== strShimUndefined) {\r\n                result = window;\r\n            }\r\n            if (!result && typeof global !== strShimUndefined) {\r\n                result = global;\r\n            }\r\n            _cachedGlobal = result;\r\n        }\r\n        return result;\r\n    }\r\n    function throwTypeError(message) {\r\n        throw new TypeError(message);\r\n    }\r\n    /**\r\n     * Creates an object that has the specified prototype, and that optionally contains specified properties. This helper exists to avoid adding a polyfil\r\n     * for older browsers that do not define Object.create eg. ES3 only, IE8 just in case any page checks for presence/absence of the prototype implementation.\r\n     * Note: For consistency this will not use the Object.create implementation if it exists as this would cause a testing requirement to test with and without the implementations\r\n     * @param obj Object to use as a prototype. May be null\r\n     */\r\n    function objCreateFn(obj) {\r\n        var func = ObjCreate;\r\n        // Use build in Object.create\r\n        if (func) {\r\n            // Use Object create method if it exists\r\n            return func(obj);\r\n        }\r\n        if (obj == null) {\r\n            return {};\r\n        }\r\n        var type = typeof obj;\r\n        if (type !== strShimObject && type !== strShimFunction) {\r\n            throwTypeError(\"Object prototype may only be an Object:\" + obj);\r\n        }\r\n        function tmpFunc() { }\r\n        tmpFunc[strShimPrototype] = obj;\r\n        return new tmpFunc();\r\n    }\n\n    // Most of these functions have been directly shamelessly \"lifted\" from the https://github.com/@microsoft/tslib and\r\n    // modified to be ES3 compatible and applying several minification and tree-shaking techniques so that Application Insights\r\n    // can successfully use TypeScript \"importHelpers\" which imports tslib during compilation but it will use these at runtime\r\n    // Which is also why all of the functions have not been included as Application Insights currently doesn't use or require\r\n    // them.\r\n    var SymbolObj = (getGlobal() || {})[\"Symbol\"];\r\n    var ReflectObj = (getGlobal() || {})[\"Reflect\"];\r\n    var __hasReflect = !!ReflectObj;\r\n    var strDecorate = \"decorate\";\r\n    var strMetadata = \"metadata\";\r\n    var strGetOwnPropertySymbols = \"getOwnPropertySymbols\";\r\n    var strIterator = \"iterator\";\r\n    var __objAssignFnImpl = function (t) {\r\n        // tslint:disable-next-line: ban-comma-operator\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) {\r\n                if (ObjProto[strShimHasOwnProperty].call(s, p)) {\r\n                    t[p] = s[p];\r\n                }\r\n            }\r\n        }\r\n        return t;\r\n    };\r\n    var __assignFn = ObjAssign || __objAssignFnImpl;\r\n    // tslint:disable-next-line: only-arrow-functions\r\n    var extendStaticsFn = function (d, b) {\r\n        extendStaticsFn = ObjClass[\"setPrototypeOf\"] ||\r\n            // tslint:disable-next-line: only-arrow-functions\r\n            ({ __proto__: [] } instanceof Array && function (d, b) {\r\n                d.__proto__ = b;\r\n            }) ||\r\n            // tslint:disable-next-line: only-arrow-functions\r\n            function (d, b) {\r\n                for (var p in b) {\r\n                    if (b[strShimHasOwnProperty](p)) {\r\n                        d[p] = b[p];\r\n                    }\r\n                }\r\n            };\r\n        return extendStaticsFn(d, b);\r\n    };\r\n    function __extendsFn(d, b) {\r\n        if (typeof b !== strShimFunction && b !== null) {\r\n            throwTypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        }\r\n        extendStaticsFn(d, b);\r\n        function __() {\r\n            this.constructor = d;\r\n        }\r\n        // tslint:disable-next-line: ban-comma-operator\r\n        d[strShimPrototype] = b === null ? objCreateFn(b) : (__[strShimPrototype] = b[strShimPrototype], new __());\r\n    }\r\n    function __restFn(s, e) {\r\n        var t = {};\r\n        for (var k in s) {\r\n            if (ObjHasOwnProperty.call(s, k) && e.indexOf(k) < 0) {\r\n                t[k] = s[k];\r\n            }\r\n        }\r\n        if (s != null && typeof ObjClass[strGetOwnPropertySymbols] === strShimFunction) {\r\n            for (var i = 0, p = ObjClass[strGetOwnPropertySymbols](s); i < p.length; i++) {\r\n                if (e.indexOf(p[i]) < 0 && ObjProto[\"propertyIsEnumerable\"].call(s, p[i])) {\r\n                    t[p[i]] = s[p[i]];\r\n                }\r\n            }\r\n        }\r\n        return t;\r\n    }\r\n    function __decorateFn(decorators, target, key, desc) {\r\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = ObjClass[\"getOwnPropertyDescriptor\"](target, key) : desc, d;\r\n        if (__hasReflect && typeof ReflectObj[strDecorate] === strShimFunction) {\r\n            r = ReflectObj[strDecorate](decorators, target, key, desc);\r\n        }\r\n        else {\r\n            for (var i = decorators.length - 1; i >= 0; i--) {\r\n                // eslint-disable-next-line no-cond-assign\r\n                if (d = decorators[i]) {\r\n                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n                }\r\n            }\r\n        }\r\n        // tslint:disable-next-line:ban-comma-operator\r\n        return c > 3 && r && ObjDefineProperty(target, key, r), r;\r\n    }\r\n    function __paramFn(paramIndex, decorator) {\r\n        return function (target, key) {\r\n            decorator(target, key, paramIndex);\r\n        };\r\n    }\r\n    function __metadataFn(metadataKey, metadataValue) {\r\n        if (__hasReflect && ReflectObj[strMetadata] === strShimFunction) {\r\n            return ReflectObj[strMetadata](metadataKey, metadataValue);\r\n        }\r\n    }\r\n    function __exportStarFn(m, o) {\r\n        for (var p in m) {\r\n            if (p !== strDefault && !ObjHasOwnProperty.call(o, p)) {\r\n                __createBindingFn(o, m, p);\r\n            }\r\n        }\r\n    }\r\n    function __createBindingFn(o, m, k, k2) {\r\n        if (k2 === undefined) {\r\n            k2 = k;\r\n        }\r\n        if (!!ObjCreate) {\r\n            ObjDefineProperty(o, k2, {\r\n                enumerable: true,\r\n                get: function () {\r\n                    return m[k];\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            o[k2] = m[k];\r\n        }\r\n    }\r\n    function __valuesFn(o) {\r\n        var s = typeof SymbolObj === strShimFunction && SymbolObj[strIterator], m = s && o[s], i = 0;\r\n        if (m) {\r\n            return m.call(o);\r\n        }\r\n        if (o && typeof o.length === \"number\") {\r\n            return {\r\n                next: function () {\r\n                    if (o && i >= o.length) {\r\n                        o = void 0;\r\n                    }\r\n                    return { value: o && o[i++], done: !o };\r\n                }\r\n            };\r\n        }\r\n        throwTypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n    }\r\n    function __readFn(o, n) {\r\n        var m = typeof SymbolObj === strShimFunction && o[SymbolObj[strIterator]];\r\n        if (!m) {\r\n            return o;\r\n        }\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\r\n                ar.push(r.value);\r\n            }\r\n        }\r\n        catch (error) {\r\n            e = {\r\n                error: error\r\n            };\r\n        }\r\n        finally {\r\n            try {\r\n                // tslint:disable-next-line:no-conditional-assignment\r\n                if (r && !r.done && (m = i[\"return\"])) {\r\n                    m.call(i);\r\n                }\r\n            }\r\n            finally {\r\n                if (e) {\r\n                    // eslint-disable-next-line no-unsafe-finally\r\n                    throw e.error;\r\n                }\r\n            }\r\n        }\r\n        return ar;\r\n    }\r\n    /** @deprecated */\r\n    function __spreadArraysFn() {\r\n        var theArgs = arguments;\r\n        // Calculate new total size\r\n        for (var s = 0, i = 0, il = theArgs.length; i < il; i++) {\r\n            s += theArgs[i].length;\r\n        }\r\n        // Create new full array\r\n        for (var r = Array(s), k = 0, i = 0; i < il; i++) {\r\n            for (var a = theArgs[i], j = 0, jl = a.length; j < jl; j++, k++) {\r\n                r[k] = a[j];\r\n            }\r\n        }\r\n        return r;\r\n    }\r\n    function __spreadArrayFn(to, from) {\r\n        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) {\r\n            to[j] = from[i];\r\n        }\r\n        return to;\r\n    }\r\n    function __makeTemplateObjectFn(cooked, raw) {\r\n        if (ObjDefineProperty) {\r\n            ObjDefineProperty(cooked, \"raw\", { value: raw });\r\n        }\r\n        else {\r\n            cooked.raw = raw;\r\n        }\r\n        return cooked;\r\n    }\r\n    function __importStarFn(mod) {\r\n        if (mod && mod.__esModule) {\r\n            return mod;\r\n        }\r\n        var result = {};\r\n        if (mod != null) {\r\n            for (var k in mod) {\r\n                if (k !== strDefault && Object.prototype.hasOwnProperty.call(mod, k)) {\r\n                    __createBindingFn(result, mod, k);\r\n                }\r\n            }\r\n        }\r\n        // Set default module\r\n        if (!!ObjCreate) {\r\n            ObjDefineProperty(result, strDefault, { enumerable: true, value: mod });\r\n        }\r\n        else {\r\n            result[strDefault] = mod;\r\n        }\r\n        return result;\r\n    }\r\n    function __importDefaultFn(mod) {\r\n        return (mod && mod.__esModule) ? mod : { strDefault: mod };\r\n    }\n\n    function __exposeGlobalTsLib() {\r\n        var globalObj = getGlobal() || {};\r\n        // tslint:disable: only-arrow-functions\r\n        (function (root, assignFn, extendsFn, createBindingFn) {\r\n            // Assign the globally scoped versions of the functions -- used when consuming individual ts files\r\n            // If check is to support NativeScript where these are marked as readonly\r\n            if (!root.__assign) {\r\n                root.__assign = ObjAssign || assignFn;\r\n            }\r\n            if (!root.__extends) {\r\n                root.__extends = extendsFn;\r\n            }\r\n            if (!root.__createBinding) {\r\n                root.__createBinding = createBindingFn;\r\n            }\r\n        })(globalObj, __assignFn, __extendsFn, __createBindingFn);\r\n        // Assign local variables that will be used for embedded scenarios, if check is to support NativeScript where these are marked as readonly\r\n        if (!__assign) {\r\n            __assign = globalObj.__assign;\r\n        }\r\n        if (!__extends) {\r\n            __extends = globalObj.__extends;\r\n        }\r\n        if (!__createBinding) {\r\n            __createBinding = globalObj.__createBinding;\r\n        }\r\n    }\n\n    exports.ObjAssign = ObjAssign;\n    exports.ObjClass = ObjClass;\n    exports.ObjCreate = ObjCreate;\n    exports.ObjDefineProperty = ObjDefineProperty;\n    exports.ObjHasOwnProperty = ObjHasOwnProperty;\n    exports.ObjProto = ObjProto;\n    exports.__assignFn = __assignFn;\n    exports.__createBindingFn = __createBindingFn;\n    exports.__decorateFn = __decorateFn;\n    exports.__exportStarFn = __exportStarFn;\n    exports.__exposeGlobalTsLib = __exposeGlobalTsLib;\n    exports.__extendsFn = __extendsFn;\n    exports.__importDefaultFn = __importDefaultFn;\n    exports.__importStarFn = __importStarFn;\n    exports.__makeTemplateObjectFn = __makeTemplateObjectFn;\n    exports.__metadataFn = __metadataFn;\n    exports.__paramFn = __paramFn;\n    exports.__readFn = __readFn;\n    exports.__restFn = __restFn;\n    exports.__spreadArrayFn = __spreadArrayFn;\n    exports.__spreadArraysFn = __spreadArraysFn;\n    exports.__valuesFn = __valuesFn;\n    exports.getGlobal = getGlobal;\n    exports.objCreateFn = objCreateFn;\n    exports.strDefault = strDefault;\n    exports.strShimFunction = strShimFunction;\n    exports.strShimHasOwnProperty = strShimHasOwnProperty;\n    exports.strShimObject = strShimObject;\n    exports.strShimPrototype = strShimPrototype;\n    exports.strShimUndefined = strShimUndefined;\n    exports.throwTypeError = throwTypeError;\n\n    (function(obj, prop, descriptor) { /* ai_es3_polyfil defineProperty */ var func = Object[\"defineProperty\"]; if (func) { try { return func(obj, prop, descriptor); } catch(e) { /* IE8 defines defineProperty, but will throw */ } } if (descriptor && typeof descriptor.value !== undefined) { obj[prop] = descriptor.value; } return obj; })(exports, '__esModule', { value: true });\n\n}));\n", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\"use strict\";\r\nexport var MinChannelPriorty = 100;\r\n//# sourceMappingURL=IChannelControls.js.map", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nexport var strShimFunction = \"function\";\r\nexport var strShimObject = \"object\";\r\nexport var strShimUndefined = \"undefined\";\r\nexport var strShimPrototype = \"prototype\";\r\nexport var strShimHasOwnProperty = \"hasOwnProperty\";\r\nexport var strDefault = \"default\";\r\nexport var ObjClass = Object;\r\nexport var ObjProto = ObjClass[strShimPrototype];\r\nexport var ObjAssign = ObjClass[\"assign\"];\r\nexport var ObjCreate = ObjClass[\"create\"];\r\nexport var ObjDefineProperty = ObjClass[\"defineProperty\"];\r\nexport var ObjHasOwnProperty = ObjProto[strShimHasOwnProperty];\r\n//# sourceMappingURL=Constants.js.map", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { ObjCreate, strShimFunction, strShimObject, strShimPrototype, strShimUndefined } from \"./Constants\";\r\nvar _cachedGlobal = null;\r\n/**\r\n * Returns the current global scope object, for a normal web page this will be the current\r\n * window, for a Web Worker this will be current worker global scope via \"self\". The internal\r\n * implementation returns the first available instance object in the following order\r\n * - globalThis (New standard)\r\n * - self (Will return the current window instance for supported browsers)\r\n * - window (fallback for older browser implementations)\r\n * - global (NodeJS standard)\r\n * - <null> (When all else fails)\r\n * While the return type is a Window for the normal case, not all environments will support all\r\n * of the properties or functions.\r\n */\r\nexport function getGlobal(useCached) {\r\n    if (useCached === void 0) { useCached = true; }\r\n    var result = useCached === false ? null : _cachedGlobal;\r\n    if (!result) {\r\n        if (typeof globalThis !== strShimUndefined) {\r\n            result = globalThis;\r\n        }\r\n        if (!result && typeof self !== strShimUndefined) {\r\n            result = self;\r\n        }\r\n        if (!result && typeof window !== strShimUndefined) {\r\n            result = window;\r\n        }\r\n        if (!result && typeof global !== strShimUndefined) {\r\n            result = global;\r\n        }\r\n        _cachedGlobal = result;\r\n    }\r\n    return result;\r\n}\r\nexport function throwTypeError(message) {\r\n    throw new TypeError(message);\r\n}\r\n/**\r\n * Creates an object that has the specified prototype, and that optionally contains specified properties. This helper exists to avoid adding a polyfil\r\n * for older browsers that do not define Object.create eg. ES3 only, IE8 just in case any page checks for presence/absence of the prototype implementation.\r\n * Note: For consistency this will not use the Object.create implementation if it exists as this would cause a testing requirement to test with and without the implementations\r\n * @param obj Object to use as a prototype. May be null\r\n */\r\nexport function objCreateFn(obj) {\r\n    var func = ObjCreate;\r\n    // Use build in Object.create\r\n    if (func) {\r\n        // Use Object create method if it exists\r\n        return func(obj);\r\n    }\r\n    if (obj == null) {\r\n        return {};\r\n    }\r\n    var type = typeof obj;\r\n    if (type !== strShimObject && type !== strShimFunction) {\r\n        throwTypeError(\"Object prototype may only be an Object:\" + obj);\r\n    }\r\n    function tmpFunc() { }\r\n    tmpFunc[strShimPrototype] = obj;\r\n    return new tmpFunc();\r\n}\r\n//# sourceMappingURL=Helpers.js.map", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { ObjAssign, ObjClass, ObjCreate, ObjDefineProperty, ObjHasOwnProperty, ObjProto, strDefault, strShimFunction, strShimHasOwnProperty, strShimPrototype } from \"./Constants\";\r\nimport { getGlobal, objCreateFn, throwTypeError } from \"./Helpers\";\r\n// Most of these functions have been directly shamelessly \"lifted\" from the https://github.com/@microsoft/tslib and\r\n// modified to be ES3 compatible and applying several minification and tree-shaking techniques so that Application Insights\r\n// can successfully use TypeScript \"importHelpers\" which imports tslib during compilation but it will use these at runtime\r\n// Which is also why all of the functions have not been included as Application Insights currently doesn't use or require\r\n// them.\r\nexport var SymbolObj = (getGlobal() || {})[\"Symbol\"];\r\nexport var ReflectObj = (getGlobal() || {})[\"Reflect\"];\r\nexport var __hasSymbol = !!SymbolObj;\r\nexport var __hasReflect = !!ReflectObj;\r\nvar strDecorate = \"decorate\";\r\nvar strMetadata = \"metadata\";\r\nvar strGetOwnPropertySymbols = \"getOwnPropertySymbols\";\r\nvar strIterator = \"iterator\";\r\nexport var __objAssignFnImpl = function (t) {\r\n    // tslint:disable-next-line: ban-comma-operator\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) {\r\n            if (ObjProto[strShimHasOwnProperty].call(s, p)) {\r\n                t[p] = s[p];\r\n            }\r\n        }\r\n    }\r\n    return t;\r\n};\r\nexport var __assignFn = ObjAssign || __objAssignFnImpl;\r\n// tslint:disable-next-line: only-arrow-functions\r\nvar extendStaticsFn = function (d, b) {\r\n    extendStaticsFn = ObjClass[\"setPrototypeOf\"] ||\r\n        // tslint:disable-next-line: only-arrow-functions\r\n        ({ __proto__: [] } instanceof Array && function (d, b) {\r\n            d.__proto__ = b;\r\n        }) ||\r\n        // tslint:disable-next-line: only-arrow-functions\r\n        function (d, b) {\r\n            for (var p in b) {\r\n                if (b[strShimHasOwnProperty](p)) {\r\n                    d[p] = b[p];\r\n                }\r\n            }\r\n        };\r\n    return extendStaticsFn(d, b);\r\n};\r\nexport function __extendsFn(d, b) {\r\n    if (typeof b !== strShimFunction && b !== null) {\r\n        throwTypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    }\r\n    extendStaticsFn(d, b);\r\n    function __() {\r\n        this.constructor = d;\r\n    }\r\n    // tslint:disable-next-line: ban-comma-operator\r\n    d[strShimPrototype] = b === null ? objCreateFn(b) : (__[strShimPrototype] = b[strShimPrototype], new __());\r\n}\r\nexport function __restFn(s, e) {\r\n    var t = {};\r\n    for (var k in s) {\r\n        if (ObjHasOwnProperty.call(s, k) && e.indexOf(k) < 0) {\r\n            t[k] = s[k];\r\n        }\r\n    }\r\n    if (s != null && typeof ObjClass[strGetOwnPropertySymbols] === strShimFunction) {\r\n        for (var i = 0, p = ObjClass[strGetOwnPropertySymbols](s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && ObjProto[\"propertyIsEnumerable\"].call(s, p[i])) {\r\n                t[p[i]] = s[p[i]];\r\n            }\r\n        }\r\n    }\r\n    return t;\r\n}\r\nexport function __decorateFn(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = ObjClass[\"getOwnPropertyDescriptor\"](target, key) : desc, d;\r\n    if (__hasReflect && typeof ReflectObj[strDecorate] === strShimFunction) {\r\n        r = ReflectObj[strDecorate](decorators, target, key, desc);\r\n    }\r\n    else {\r\n        for (var i = decorators.length - 1; i >= 0; i--) {\r\n            // eslint-disable-next-line no-cond-assign\r\n            if (d = decorators[i]) {\r\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n            }\r\n        }\r\n    }\r\n    // tslint:disable-next-line:ban-comma-operator\r\n    return c > 3 && r && ObjDefineProperty(target, key, r), r;\r\n}\r\nexport function __paramFn(paramIndex, decorator) {\r\n    return function (target, key) {\r\n        decorator(target, key, paramIndex);\r\n    };\r\n}\r\nexport function __metadataFn(metadataKey, metadataValue) {\r\n    if (__hasReflect && ReflectObj[strMetadata] === strShimFunction) {\r\n        return ReflectObj[strMetadata](metadataKey, metadataValue);\r\n    }\r\n}\r\nexport function __exportStarFn(m, o) {\r\n    for (var p in m) {\r\n        if (p !== strDefault && !ObjHasOwnProperty.call(o, p)) {\r\n            __createBindingFn(o, m, p);\r\n        }\r\n    }\r\n}\r\nexport function __createBindingFn(o, m, k, k2) {\r\n    if (k2 === undefined) {\r\n        k2 = k;\r\n    }\r\n    if (!!ObjCreate) {\r\n        ObjDefineProperty(o, k2, {\r\n            enumerable: true,\r\n            get: function () {\r\n                return m[k];\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        o[k2] = m[k];\r\n    }\r\n}\r\nexport function __valuesFn(o) {\r\n    var s = typeof SymbolObj === strShimFunction && SymbolObj[strIterator], m = s && o[s], i = 0;\r\n    if (m) {\r\n        return m.call(o);\r\n    }\r\n    if (o && typeof o.length === \"number\") {\r\n        return {\r\n            next: function () {\r\n                if (o && i >= o.length) {\r\n                    o = void 0;\r\n                }\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n    }\r\n    throwTypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\nexport function __readFn(o, n) {\r\n    var m = typeof SymbolObj === strShimFunction && o[SymbolObj[strIterator]];\r\n    if (!m) {\r\n        return o;\r\n    }\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\r\n            ar.push(r.value);\r\n        }\r\n    }\r\n    catch (error) {\r\n        e = {\r\n            error: error\r\n        };\r\n    }\r\n    finally {\r\n        try {\r\n            // tslint:disable-next-line:no-conditional-assignment\r\n            if (r && !r.done && (m = i[\"return\"])) {\r\n                m.call(i);\r\n            }\r\n        }\r\n        finally {\r\n            if (e) {\r\n                // eslint-disable-next-line no-unsafe-finally\r\n                throw e.error;\r\n            }\r\n        }\r\n    }\r\n    return ar;\r\n}\r\n/** @deprecated */\r\nexport function __spreadArraysFn() {\r\n    var theArgs = arguments;\r\n    // Calculate new total size\r\n    for (var s = 0, i = 0, il = theArgs.length; i < il; i++) {\r\n        s += theArgs[i].length;\r\n    }\r\n    // Create new full array\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++) {\r\n        for (var a = theArgs[i], j = 0, jl = a.length; j < jl; j++, k++) {\r\n            r[k] = a[j];\r\n        }\r\n    }\r\n    return r;\r\n}\r\nexport function __spreadArrayFn(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) {\r\n        to[j] = from[i];\r\n    }\r\n    return to;\r\n}\r\nexport function __makeTemplateObjectFn(cooked, raw) {\r\n    if (ObjDefineProperty) {\r\n        ObjDefineProperty(cooked, \"raw\", { value: raw });\r\n    }\r\n    else {\r\n        cooked.raw = raw;\r\n    }\r\n    return cooked;\r\n}\r\nexport function __importStarFn(mod) {\r\n    if (mod && mod.__esModule) {\r\n        return mod;\r\n    }\r\n    var result = {};\r\n    if (mod != null) {\r\n        for (var k in mod) {\r\n            if (k !== strDefault && Object.prototype.hasOwnProperty.call(mod, k)) {\r\n                __createBindingFn(result, mod, k);\r\n            }\r\n        }\r\n    }\r\n    // Set default module\r\n    if (!!ObjCreate) {\r\n        ObjDefineProperty(result, strDefault, { enumerable: true, value: mod });\r\n    }\r\n    else {\r\n        result[strDefault] = mod;\r\n    }\r\n    return result;\r\n}\r\nexport function __importDefaultFn(mod) {\r\n    return (mod && mod.__esModule) ? mod : { strDefault: mod };\r\n}\r\n//# sourceMappingURL=TsLibShims.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n// @skip-file-minify\r\n// ##############################################################\r\n// AUTO GENERATED FILE: This file is Auto Generated during build.\r\n// ##############################################################\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Note: DON'T Export these const from the package as we are still targeting ES3 this will export a mutable variables that someone could change!!!\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\nexport var _DYN_INITIALIZE = \"initialize\"; // Count: 8\r\nexport var _DYN_NAME = \"name\"; // Count: 11\r\nexport var _DYN_GET_NOTIFY_MGR = \"getNotifyMgr\"; // Count: 3\r\nexport var _DYN_IDENTIFIER = \"identifier\"; // Count: 8\r\nexport var _DYN_PUSH = \"push\"; // Count: 30\r\nexport var _DYN_IS_INITIALIZED = \"isInitialized\"; // Count: 10\r\nexport var _DYN_CONFIG = \"config\"; // Count: 7\r\nexport var _DYN_INSTRUMENTATION_KEY = \"instrumentationKey\"; // Count: 3\r\nexport var _DYN_LOGGER = \"logger\"; // Count: 10\r\nexport var _DYN_LENGTH = \"length\"; // Count: 44\r\nexport var _DYN_TIME = \"time\"; // Count: 5\r\nexport var _DYN_PROCESS_NEXT = \"processNext\"; // Count: 21\r\nexport var _DYN_GET_PROCESS_TEL_CONT0 = \"getProcessTelContext\"; // Count: 2\r\nexport var _DYN_ADD_NOTIFICATION_LIS1 = \"addNotificationListener\"; // Count: 5\r\nexport var _DYN_REMOVE_NOTIFICATION_2 = \"removeNotificationListener\"; // Count: 5\r\nexport var _DYN_STOP_POLLING_INTERNA3 = \"stopPollingInternalLogs\"; // Count: 2\r\nexport var _DYN_ON_COMPLETE = \"onComplete\"; // Count: 6\r\nexport var _DYN_GET_PLUGIN = \"getPlugin\"; // Count: 5\r\nexport var _DYN_FLUSH = \"flush\"; // Count: 5\r\nexport var _DYN__EXTENSIONS = \"_extensions\"; // Count: 4\r\nexport var _DYN_SPLICE = \"splice\"; // Count: 6\r\nexport var _DYN_TEARDOWN = \"teardown\"; // Count: 10\r\nexport var _DYN_MESSAGE_ID = \"messageId\"; // Count: 4\r\nexport var _DYN_MESSAGE = \"message\"; // Count: 7\r\nexport var _DYN_IS_ASYNC = \"isAsync\"; // Count: 7\r\nexport var _DYN__DO_TEARDOWN = \"_doTeardown\"; // Count: 4\r\nexport var _DYN_UPDATE = \"update\"; // Count: 7\r\nexport var _DYN_GET_NEXT = \"getNext\"; // Count: 12\r\nexport var _DYN_DIAG_LOG = \"diagLog\"; // Count: 8\r\nexport var _DYN_SET_NEXT_PLUGIN = \"setNextPlugin\"; // Count: 5\r\nexport var _DYN_CREATE_NEW = \"createNew\"; // Count: 6\r\nexport var _DYN_COOKIE_CFG = \"cookieCfg\"; // Count: 3\r\nexport var _DYN_INDEX_OF = \"indexOf\"; // Count: 6\r\nexport var _DYN_SUBSTRING = \"substring\"; // Count: 10\r\nexport var _DYN_USER_AGENT = \"userAgent\"; // Count: 5\r\nexport var _DYN_SPLIT = \"split\"; // Count: 5\r\nexport var _DYN_SET_ENABLED = \"setEnabled\"; // Count: 5\r\nexport var _DYN_SUBSTR = \"substr\"; // Count: 6\r\nexport var _DYN_NODE_TYPE = \"nodeType\"; // Count: 3\r\nexport var _DYN_APPLY = \"apply\"; // Count: 6\r\nexport var _DYN_REPLACE = \"replace\"; // Count: 10\r\nexport var _DYN_ENABLE_DEBUG_EXCEPTI4 = \"enableDebugExceptions\"; // Count: 2\r\nexport var _DYN_LOG_INTERNAL_MESSAGE = \"logInternalMessage\"; // Count: 2\r\nexport var _DYN_TO_LOWER_CASE = \"toLowerCase\"; // Count: 5\r\nexport var _DYN_CALL = \"call\"; // Count: 18\r\nexport var _DYN_TYPE = \"type\"; // Count: 14\r\nexport var _DYN_HANDLER = \"handler\"; // Count: 5\r\nexport var _DYN_LISTENERS = \"listeners\"; // Count: 6\r\nexport var _DYN_IS_CHILD_EVT = \"isChildEvt\"; // Count: 3\r\nexport var _DYN_GET_CTX = \"getCtx\"; // Count: 6\r\nexport var _DYN_SET_CTX = \"setCtx\"; // Count: 10\r\nexport var _DYN_COMPLETE = \"complete\"; // Count: 3\r\nexport var _DYN_TRACE_ID = \"traceId\"; // Count: 5\r\nexport var _DYN_SPAN_ID = \"spanId\"; // Count: 5\r\nexport var _DYN_TRACE_FLAGS = \"traceFlags\"; // Count: 6\r\nexport var _DYN_VERSION = \"version\"; // Count: 4\r\n//# sourceMappingURL=__DynamicConstants.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Note: DON'T Export these const from the package as we are still targeting ES3 this will export a mutable variables that someone could change!!!\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\nexport var STR_EMPTY = \"\";\r\nexport var STR_CHANNELS = \"channels\";\r\nexport var STR_CORE = \"core\";\r\nexport var STR_CREATE_PERF_MGR = \"createPerfMgr\";\r\nexport var STR_DISABLED = \"disabled\";\r\nexport var STR_EXTENSION_CONFIG = \"extensionConfig\";\r\nexport var STR_EXTENSIONS = \"extensions\";\r\nexport var STR_PROCESS_TELEMETRY = \"processTelemetry\";\r\nexport var STR_PRIORITY = \"priority\";\r\nexport var STR_EVENTS_SENT = \"eventsSent\";\r\nexport var STR_EVENTS_DISCARDED = \"eventsDiscarded\";\r\nexport var STR_EVENTS_SEND_REQUEST = \"eventsSendRequest\";\r\nexport var STR_PERF_EVENT = \"perfEvent\";\r\nexport var STR_ERROR_TO_CONSOLE = \"errorToConsole\";\r\nexport var STR_WARN_TO_CONSOLE = \"warnToConsole\";\r\nexport var STR_GET_PERF_MGR = \"getPerfMgr\";\r\n//# sourceMappingURL=InternalConstants.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { ObjAssign, ObjClass, ObjDefineProperty, ObjHasOwnProperty, ObjProto, strShimFunction, strShimObject, strShimPrototype, strShimUndefined, throwTypeError } from \"@microsoft/applicationinsights-shims\";\r\nimport { _DYN_APPLY, _DYN_CALL, _DYN_INDEX_OF, _DYN_LENGTH, _DYN_NAME, _DYN_PUSH, _DYN_REPLACE } from \"../__DynamicConstants\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\n// RESTRICT and AVOID circular dependencies you should not import other contained modules or export the contents of this file directly\r\n// Added to help with minfication\r\nvar strToISOString = \"toISOString\";\r\nvar cStrEndsWith = \"endsWith\";\r\nvar cStrStartsWith = \"startsWith\";\r\nvar strIndexOf = \"indexOf\";\r\nvar strMap = \"map\";\r\nvar strReduce = \"reduce\";\r\nvar cStrTrim = \"trim\";\r\nvar strToString = \"toString\";\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar str__Proto = \"__proto__\";\r\n/**\r\n  * Constant string defined to support minimization\r\n  * @ignore\r\n  */\r\nvar strConstructor = \"constructor\";\r\nvar _objDefineProperty = ObjDefineProperty;\r\nvar _objFreeze = ObjClass.freeze;\r\nvar _objSeal = ObjClass.seal;\r\nvar _objKeys = ObjClass.keys;\r\nvar StringProto = String[strShimPrototype];\r\nvar _strTrim = StringProto[cStrTrim];\r\nvar _strEndsWith = StringProto[cStrEndsWith];\r\nvar _strStartsWith = StringProto[cStrStartsWith];\r\nvar DateProto = Date[strShimPrototype];\r\nvar _dataToISOString = DateProto[strToISOString];\r\nvar _isArray = Array.isArray;\r\nvar _objToString = ObjProto[strToString];\r\nvar _fnToString = ObjHasOwnProperty[strToString];\r\n// Cache what this browser reports as the object function constructor (as a string)\r\nvar _objFunctionString = _fnToString[_DYN_CALL /* @min:%2ecall */](ObjClass);\r\nvar rCamelCase = /-([a-z])/g;\r\nvar rNormalizeInvalid = /([^\\w\\d_$])/g;\r\nvar rLeadingNumeric = /^(\\d+[\\w\\d_$])/;\r\n/**\r\n * Pre-lookup to check if we are running on a modern browser (i.e. not IE8)\r\n * @ignore\r\n */\r\nvar _objGetPrototypeOf = Object[\"getPrototypeOf\"];\r\n/**\r\n  * Helper used to get the prototype of the target object as getPrototypeOf is not available in an ES3 environment.\r\n  * @ignore\r\n  */\r\nexport function _getObjProto(target) {\r\n    if (target) {\r\n        // This method doesn't existing in older browsers (e.g. IE8)\r\n        if (_objGetPrototypeOf) {\r\n            return _objGetPrototypeOf(target);\r\n        }\r\n        // target[Constructor] May break if the constructor has been changed or removed\r\n        var newProto = target[str__Proto] || target[strShimPrototype] || target[strConstructor];\r\n        if (newProto) {\r\n            return newProto;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nexport function objToString(obj) {\r\n    return _objToString[_DYN_CALL /* @min:%2ecall */](obj);\r\n}\r\nexport function isTypeof(value, theType) {\r\n    return typeof value === theType;\r\n}\r\nexport function isUndefined(value) {\r\n    return value === undefined || typeof value === strShimUndefined;\r\n}\r\nexport function isNotUndefined(value) {\r\n    return !isUndefined(value);\r\n}\r\nexport function isNullOrUndefined(value) {\r\n    return (value === null || isUndefined(value));\r\n}\r\nexport function isNotNullOrUndefined(value) {\r\n    return !isNullOrUndefined(value);\r\n}\r\nexport function hasOwnProperty(obj, prop) {\r\n    return !!(obj && ObjHasOwnProperty[_DYN_CALL /* @min:%2ecall */](obj, prop));\r\n}\r\nexport function isObject(value) {\r\n    // Changing to inline for performance\r\n    return !!(value && typeof value === strShimObject);\r\n}\r\nexport function isFunction(value) {\r\n    // Changing to inline for performance\r\n    return !!(value && typeof value === strShimFunction);\r\n}\r\nexport function isPromiseLike(value) {\r\n    return value && isFunction(value.then);\r\n}\r\n/**\r\n * Validates that the string name conforms to the JS IdentifierName specification and if not\r\n * normalizes the name so that it would. This method does not identify or change any keywords\r\n * meaning that if you pass in a known keyword the same value will be returned.\r\n * This is a simplified version\r\n * @param name The name to validate\r\n */\r\nexport function normalizeJsName(name) {\r\n    var value = name;\r\n    if (value && isString(value)) {\r\n        // CamelCase everything after the \"-\" and remove the dash\r\n        value = value[_DYN_REPLACE /* @min:%2ereplace */](rCamelCase, function (_all, letter) {\r\n            return letter.toUpperCase();\r\n        });\r\n        value = value[_DYN_REPLACE /* @min:%2ereplace */](rNormalizeInvalid, \"_\");\r\n        value = value[_DYN_REPLACE /* @min:%2ereplace */](rLeadingNumeric, function (_all, match) {\r\n            return \"_\" + match;\r\n        });\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * This is a helper function for the equivalent of arForEach(objKeys(target), callbackFn), this is a\r\n * performance optimization to avoid the creation of a new array for large objects\r\n * @param target The target object to find and process the keys\r\n * @param callbackfn The function to call with the details\r\n */\r\nexport function objForEachKey(target, callbackfn) {\r\n    if (target) {\r\n        for (var prop in target) {\r\n            if (ObjHasOwnProperty[_DYN_CALL /* @min:%2ecall */](target, prop)) {\r\n                callbackfn[_DYN_CALL /* @min:%2ecall */](target, prop, target[prop]);\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * The strEndsWith() method determines whether a string ends with the characters of a specified string, returning true or false as appropriate.\r\n * @param value - The value to check whether it ends with the search value.\r\n * @param search - The characters to be searched for at the end of the value.\r\n * @returns true if the given search value is found at the end of the string, otherwise false.\r\n */\r\nexport function strEndsWith(value, search) {\r\n    var result = false;\r\n    if (value && search && !(result = value === search)) {\r\n        // For Performance try and use the native instance, using string lookup of the function to easily pass the ES3 build checks and minification\r\n        result = _strEndsWith ? value[cStrEndsWith](search) : _strEndsWithPoly(value, search);\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * The _strEndsWith() method determines whether a string ends with the characters of a specified string, returning true or false as appropriate.\r\n * @param value - The value to check whether it ends with the search value.\r\n * @param search - The characters to be searched for at the end of the value.\r\n * @returns true if the given search value is found at the end of the string, otherwise false.\r\n */\r\nexport function _strEndsWithPoly(value, search) {\r\n    var result = false;\r\n    var searchLen = search ? search[_DYN_LENGTH /* @min:%2elength */] : 0;\r\n    var valLen = value ? value[_DYN_LENGTH /* @min:%2elength */] : 0;\r\n    if (searchLen && valLen && valLen >= searchLen && !(result = value === search)) {\r\n        var pos = valLen - 1;\r\n        for (var lp = searchLen - 1; lp >= 0; lp--) {\r\n            if (value[pos] != search[lp]) {\r\n                return false;\r\n            }\r\n            pos--;\r\n        }\r\n        result = true;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * The strStartsWith() method determines whether a string starts with the characters of the specified string, returning true or false as appropriate.\r\n * @param value - The value to check whether it ends with the search value.\r\n * @param checkValue - The characters to be searched for at the start of the value.\r\n * @returns true if the given search value is found at the start of the string, otherwise false.\r\n */\r\nexport function strStartsWith(value, checkValue) {\r\n    var result = false;\r\n    if (value && checkValue && !(result = value === checkValue)) {\r\n        // For Performance try and use the native instance, using string lookup of the function to easily pass the ES3 build checks and minification\r\n        result = _strStartsWith ? value[cStrStartsWith](checkValue) : _strStartsWithPoly(value, checkValue);\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * The strStartsWith() method determines whether a string starts with the characters of the specified string, returning true or false as appropriate.\r\n * @param value - The value to check whether it ends with the search value.\r\n * @param checkValue - The characters to be searched for at the start of the value.\r\n * @returns true if the given search value is found at the start of the string, otherwise false.\r\n */\r\nexport function _strStartsWithPoly(value, checkValue) {\r\n    // Using helper for performance and because string startsWith() is not available on IE\r\n    var result = false;\r\n    var chkLen = checkValue ? checkValue[_DYN_LENGTH /* @min:%2elength */] : 0;\r\n    if (value && chkLen && value[_DYN_LENGTH /* @min:%2elength */] >= chkLen && !(result = value === checkValue)) {\r\n        for (var lp = 0; lp < chkLen; lp++) {\r\n            if (value[lp] !== checkValue[lp]) {\r\n                return false;\r\n            }\r\n        }\r\n        result = true;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * A simple wrapper (for minification support) to check if the value contains the search string.\r\n * @param value - The string value to check for the existence of the search value\r\n * @param search - The value search within the value\r\n */\r\nexport function strContains(value, search) {\r\n    if (value && search) {\r\n        return value[_DYN_INDEX_OF /* @min:%2eindexOf */](search) !== -1;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Check if an object is of type Date\r\n */\r\nexport function isDate(obj) {\r\n    return !!(obj && _objToString[_DYN_CALL /* @min:%2ecall */](obj) === \"[object Date]\");\r\n}\r\n/**\r\n * Check if an object is of type Array with optional generic T, the generic type is not validated\r\n * and exists to help with TypeScript validation only.\r\n */\r\nexport var isArray = _isArray || _isArrayPoly;\r\nfunction _isArrayPoly(obj) {\r\n    return !!(obj && _objToString[_DYN_CALL /* @min:%2ecall */](obj) === \"[object Array]\");\r\n}\r\n/**\r\n * Check if an object is of type Error\r\n */\r\nexport function isError(obj) {\r\n    return !!(obj && _objToString[_DYN_CALL /* @min:%2ecall */](obj) === \"[object Error]\");\r\n}\r\n/**\r\n * Checks if the type of value is a string.\r\n * @param {any} value - Value to be checked.\r\n * @return {boolean} True if the value is a string, false otherwise.\r\n */\r\nexport function isString(value) {\r\n    // Changing to inline for performance\r\n    return typeof value === \"string\";\r\n}\r\n/**\r\n * Checks if the type of value is a number.\r\n * @param {any} value - Value to be checked.\r\n * @return {boolean} True if the value is a number, false otherwise.\r\n */\r\nexport function isNumber(value) {\r\n    // Changing to inline for performance\r\n    return typeof value === \"number\";\r\n}\r\n/**\r\n * Checks if the type of value is a boolean.\r\n * @param {any} value - Value to be checked.\r\n * @return {boolean} True if the value is a boolean, false otherwise.\r\n */\r\nexport function isBoolean(value) {\r\n    // Changing to inline for performance\r\n    return typeof value === \"boolean\";\r\n}\r\n/**\r\n * Checks if the type of value is a Symbol.\r\n * This only returns a boolean as returning value is Symbol will cause issues for older TypeScript consumers\r\n * @param {any} value - Value to be checked.\r\n * @return {boolean} True if the value is a Symbol, false otherwise.\r\n */\r\nexport function isSymbol(value) {\r\n    return typeof value === \"symbol\";\r\n}\r\n/**\r\n * Checks if the type of the value is a normal plain object (not a null or data)\r\n * @param value\r\n */\r\nexport function isPlainObject(value) {\r\n    var result = false;\r\n    if (value && typeof value === \"object\") {\r\n        // Inlining _objGetPrototypeOf for performance to avoid an additional function call\r\n        var proto = _objGetPrototypeOf ? _objGetPrototypeOf(value) : _getObjProto(value);\r\n        if (!proto) {\r\n            // No prototype found so this is a plain Object eg. 'Object.create(null)'\r\n            result = true;\r\n        }\r\n        else {\r\n            // Objects that have a prototype are plain only if they were created using the Object global (native) function\r\n            if (proto[strConstructor] && ObjHasOwnProperty[_DYN_CALL /* @min:%2ecall */](proto, strConstructor)) {\r\n                proto = proto[strConstructor];\r\n            }\r\n            result = typeof proto === strShimFunction && _fnToString[_DYN_CALL /* @min:%2ecall */](proto) === _objFunctionString;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Convert a date to I.S.O. format in IE8\r\n */\r\nexport function toISOString(date) {\r\n    if (date) {\r\n        // For Performance try and use the native instance, using string lookup of the function to easily pass the ES3 build checks and minification\r\n        return _dataToISOString ? date[strToISOString]() : _toISOStringPoly(date);\r\n    }\r\n}\r\n/**\r\n * Convert a date to I.S.O. format in IE8\r\n */\r\nexport function _toISOStringPoly(date) {\r\n    if (date && date.getUTCFullYear) {\r\n        var pad = function (num) {\r\n            var r = String(num);\r\n            if (r[_DYN_LENGTH /* @min:%2elength */] === 1) {\r\n                r = \"0\" + r;\r\n            }\r\n            return r;\r\n        };\r\n        return date.getUTCFullYear()\r\n            + \"-\" + pad(date.getUTCMonth() + 1)\r\n            + \"-\" + pad(date.getUTCDate())\r\n            + \"T\" + pad(date.getUTCHours())\r\n            + \":\" + pad(date.getUTCMinutes())\r\n            + \":\" + pad(date.getUTCSeconds())\r\n            + \".\" + String((date.getUTCMilliseconds() / 1000).toFixed(3)).slice(2, 5)\r\n            + \"Z\";\r\n    }\r\n}\r\n/**\r\n * Performs the specified action for each element in an array. This helper exists to avoid adding a polyfil for older browsers\r\n * that do not define Array.prototype.xxxx (eg. ES3 only, IE8) just in case any page checks for presence/absence of the prototype\r\n * implementation. Note: For consistency this will not use the Array.prototype.xxxx implementation if it exists as this would\r\n * cause a testing requirement to test with and without the implementations\r\n * @param callbackfn  A function that accepts up to three arguments. forEach calls the callbackfn function one time for each element in the array. It can return -1 to break out of the loop\r\n * @param thisArg  [Optional] An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.\r\n */\r\nexport function arrForEach(arr, callbackfn, thisArg) {\r\n    var len = arr[_DYN_LENGTH /* @min:%2elength */];\r\n    try {\r\n        for (var idx = 0; idx < len; idx++) {\r\n            if (idx in arr) {\r\n                if (callbackfn[_DYN_CALL /* @min:%2ecall */](thisArg || arr, arr[idx], idx, arr) === -1) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    catch (e) {\r\n        // This can happen with some native browser objects, but should not happen for the type we are checking for\r\n    }\r\n}\r\n/**\r\n * Returns the index of the first occurrence of a value in an array. This helper exists to avoid adding a polyfil for older browsers\r\n * that do not define Array.prototype.xxxx (eg. ES3 only, IE8) just in case any page checks for presence/absence of the prototype\r\n * implementation. Note: For consistency this will not use the Array.prototype.xxxx implementation if it exists as this would\r\n * cause a testing requirement to test with and without the implementations\r\n * @param searchElement The value to locate in the array.\r\n * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the search starts at index 0.\r\n */\r\nexport function arrIndexOf(arr, searchElement, fromIndex) {\r\n    if (arr) {\r\n        // For Performance try and use the native instance, using string lookup of the function to easily pass the ES3 build checks and minification\r\n        if (arr[strIndexOf]) {\r\n            return arr[strIndexOf](searchElement, fromIndex);\r\n        }\r\n        var len = arr[_DYN_LENGTH /* @min:%2elength */];\r\n        var from = fromIndex || 0;\r\n        try {\r\n            for (var lp = Math.max(from >= 0 ? from : len - Math.abs(from), 0); lp < len; lp++) {\r\n                if (lp in arr && arr[lp] === searchElement) {\r\n                    return lp;\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // This can happen with some native browser objects, but should not happen for the type we are checking for\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Calls a defined callback function on each element of an array, and returns an array that contains the results. This helper exists\r\n * to avoid adding a polyfil for older browsers that do not define Array.prototype.xxxx (eg. ES3 only, IE8) just in case any page\r\n * checks for presence/absence of the prototype implementation. Note: For consistency this will not use the Array.prototype.xxxx\r\n * implementation if it exists as this would cause a testing requirement to test with and without the implementations\r\n * @param callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.\r\n * @param thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.\r\n */\r\nexport function arrMap(arr, callbackfn, thisArg) {\r\n    var results;\r\n    if (arr) {\r\n        // For Performance try and use the native instance, using string lookup of the function to easily pass the ES3 build checks and minification\r\n        if (arr[strMap]) {\r\n            return arr[strMap](callbackfn, thisArg);\r\n        }\r\n        var len = arr[_DYN_LENGTH /* @min:%2elength */];\r\n        var _this = thisArg || arr;\r\n        results = new Array(len);\r\n        try {\r\n            for (var lp = 0; lp < len; lp++) {\r\n                if (lp in arr) {\r\n                    results[lp] = callbackfn[_DYN_CALL /* @min:%2ecall */](_this, arr[lp], arr);\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // This can happen with some native browser objects, but should not happen for the type we are checking for\r\n        }\r\n    }\r\n    return results;\r\n}\r\n/**\r\n * Calls the specified callback function for all the elements in an array. The return value of the callback function is the accumulated result, and is\r\n * provided as an argument in the next call to the callback function. This helper exists to avoid adding a polyfil for older browsers that do not define\r\n * Array.prototype.xxxx (eg. ES3 only, IE8) just in case any page checks for presence/absence of the prototype implementation. Note: For consistency\r\n * this will not use the Array.prototype.xxxx implementation if it exists as this would cause a testing requirement to test with and without the implementations\r\n * @param callbackfn A function that accepts up to four arguments. The reduce method calls the callbackfn function one time for each element in the array.\r\n * @param initialValue If initialValue is specified, it is used as the initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.\r\n */\r\nexport function arrReduce(arr, callbackfn, initialValue) {\r\n    var value;\r\n    if (arr) {\r\n        // For Performance try and use the native instance, using string lookup of the function to easily pass the ES3 build checks and minification\r\n        if (arr[strReduce]) {\r\n            return arr[strReduce](callbackfn, initialValue);\r\n        }\r\n        var len = arr[_DYN_LENGTH /* @min:%2elength */];\r\n        var lp = 0;\r\n        // Specifically checking the number of passed arguments as the value could be anything\r\n        if (arguments[_DYN_LENGTH /* @min:%2elength */] >= 3) {\r\n            value = arguments[2];\r\n        }\r\n        else {\r\n            while (lp < len && !(lp in arr)) {\r\n                lp++;\r\n            }\r\n            value = arr[lp++];\r\n        }\r\n        while (lp < len) {\r\n            if (lp in arr) {\r\n                value = callbackfn(value, arr[lp], lp, arr);\r\n            }\r\n            lp++;\r\n        }\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * helper method to trim strings (IE8 does not implement String.prototype.trim)\r\n */\r\nexport function strTrim(str) {\r\n    if (str) {\r\n        // For Performance try and use the native instance, using string lookup of the function to easily pass the ES3 build checks and minification\r\n        str = (_strTrim && str[cStrTrim]) ? str[cStrTrim]() : (str[_DYN_REPLACE /* @min:%2ereplace */] ? str[_DYN_REPLACE /* @min:%2ereplace */](/^\\s+|(?=\\s)\\s+$/g, STR_EMPTY) : str);\r\n    }\r\n    return str;\r\n}\r\nvar _objKeysHasDontEnumBug = !({ toString: null }).propertyIsEnumerable(\"toString\");\r\nvar _objKeysDontEnums = [\r\n    \"toString\",\r\n    \"toLocaleString\",\r\n    \"valueOf\",\r\n    \"hasOwnProperty\",\r\n    \"isPrototypeOf\",\r\n    \"propertyIsEnumerable\",\r\n    \"constructor\"\r\n];\r\n/**\r\n * Returns the names of the enumerable string properties and methods of an object. This helper exists to avoid adding a polyfil for older browsers\r\n * that do not define Object.keys eg. ES3 only, IE8 just in case any page checks for presence/absence of the prototype implementation.\r\n * Note: For consistency this will not use the Object.keys implementation if it exists as this would cause a testing requirement to test with and without the implementations\r\n * @param obj Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\r\n */\r\nexport function objKeys(obj) {\r\n    var objType = typeof obj;\r\n    if (objType !== strShimFunction && (objType !== strShimObject || obj === null)) {\r\n        throwTypeError(\"objKeys called on non-object\");\r\n    }\r\n    // For Performance try and use the native instance, using string lookup of the function to easily pass the ES3 build checks and minification\r\n    if (!_objKeysHasDontEnumBug && _objKeys) {\r\n        return _objKeys(obj);\r\n    }\r\n    var result = [];\r\n    for (var prop in obj) {\r\n        if (obj && ObjHasOwnProperty[_DYN_CALL /* @min:%2ecall */](obj, prop)) {\r\n            result[_DYN_PUSH /* @min:%2epush */](prop);\r\n        }\r\n    }\r\n    if (_objKeysHasDontEnumBug) {\r\n        var dontEnumsLength = _objKeysDontEnums[_DYN_LENGTH /* @min:%2elength */];\r\n        for (var lp = 0; lp < dontEnumsLength; lp++) {\r\n            if (obj && ObjHasOwnProperty[_DYN_CALL /* @min:%2ecall */](obj, _objKeysDontEnums[lp])) {\r\n                result[_DYN_PUSH /* @min:%2epush */](_objKeysDontEnums[lp]);\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Try to define get/set object property accessors for the target object/prototype, this will provide compatibility with\r\n * existing API definition when run within an ES5+ container that supports accessors but still enable the code to be loaded\r\n * and executed in an ES3 container, providing basic IE8 compatibility.\r\n * @param target The object on which to define the property.\r\n * @param prop The name of the property to be defined or modified.\r\n * @param getProp The getter function to wire against the getter.\r\n * @param setProp The setter function to wire against the setter.\r\n * @returns True if it was able to create the accessors otherwise false\r\n */\r\nexport function objDefineAccessors(target, prop, getProp, setProp) {\r\n    if (_objDefineProperty) {\r\n        try {\r\n            var descriptor = {\r\n                enumerable: true,\r\n                configurable: true\r\n            };\r\n            if (getProp) {\r\n                descriptor.get = getProp;\r\n            }\r\n            if (setProp) {\r\n                descriptor.set = setProp;\r\n            }\r\n            _objDefineProperty(target, prop, descriptor);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            // IE8 Defines a defineProperty on Object but it's only supported for DOM elements so it will throw\r\n            // We will just ignore this here.\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction _doNothing(value) {\r\n    return value;\r\n}\r\nexport function deepFreeze(obj) {\r\n    if (_objFreeze) {\r\n        objForEachKey(obj, function (name, value) {\r\n            if (isArray(value) || isObject(value)) {\r\n                _objFreeze(value);\r\n            }\r\n        });\r\n    }\r\n    return objFreeze(obj);\r\n}\r\nexport var objFreeze = _objFreeze || _doNothing;\r\nexport var objSeal = _objSeal || _doNothing;\r\n/**\r\n * Return the current time via the Date now() function (if available) and falls back to (new Date()).getTime() if now() is unavailable (IE8 or less)\r\n * https://caniuse.com/#search=Date.now\r\n */\r\nexport function dateNow() {\r\n    var dt = Date;\r\n    return dt.now ? dt.now() : new dt().getTime();\r\n}\r\n/**\r\n * Returns the name of object if it's an Error. Otherwise, returns empty string.\r\n */\r\nexport function getExceptionName(object) {\r\n    if (isError(object)) {\r\n        return object[_DYN_NAME /* @min:%2ename */];\r\n    }\r\n    return STR_EMPTY;\r\n}\r\n/**\r\n * Sets the provided value on the target instance using the field name when the provided chk function returns true, the chk\r\n * function will only be called if the new value is no equal to the original value.\r\n * @param target - The target object\r\n * @param field - The key of the target\r\n * @param value - The value to set\r\n * @param valChk - [Optional] Callback to check the value that if supplied will be called check if the new value can be set\r\n * @param srcChk - [Optional] Callback to check to original value that if supplied will be called if the new value should be set (if allowed)\r\n * @returns The existing or new value, depending what was set\r\n */\r\nexport function setValue(target, field, value, valChk, srcChk) {\r\n    var theValue = value;\r\n    if (target) {\r\n        theValue = target[field];\r\n        if (theValue !== value && (!srcChk || srcChk(theValue)) && (!valChk || valChk(value))) {\r\n            theValue = value;\r\n            target[field] = theValue;\r\n        }\r\n    }\r\n    return theValue;\r\n}\r\n/**\r\n * Returns the current value from the target object if not null or undefined otherwise sets the new value and returns it\r\n * @param target - The target object to return or set the default value\r\n * @param field - The key for the field to set on the target\r\n * @param defValue - [Optional] The value to set if not already present, when not provided a empty object will be added\r\n */\r\nexport function getSetValue(target, field, defValue) {\r\n    var theValue;\r\n    if (target) {\r\n        theValue = target[field];\r\n        if (!theValue && isNullOrUndefined(theValue)) {\r\n            // Supports having the default as null\r\n            theValue = !isUndefined(defValue) ? defValue : {};\r\n            target[field] = theValue;\r\n        }\r\n    }\r\n    else {\r\n        // Expanded for performance so we only check defValue if required\r\n        theValue = !isUndefined(defValue) ? defValue : {};\r\n    }\r\n    return theValue;\r\n}\r\n/**\r\n * Get the mapped config value, if null or undefined any supplied defaultValue will be returned.\r\n * @param field - The name of the field as the named enum value (number) or the string name.\r\n * @param defaultValue - The default value to return if the config field is not present, null or undefined.\r\n */\r\nexport function getCfgValue(theValue, defaultValue) {\r\n    return !isNullOrUndefined(theValue) ? theValue : defaultValue;\r\n}\r\nexport function isNotTruthy(value) {\r\n    return !value;\r\n}\r\nexport function isTruthy(value) {\r\n    return !!value;\r\n}\r\nexport function throwError(message) {\r\n    throw new Error(message);\r\n}\r\nfunction _createProxyFunction(source, funcName) {\r\n    var srcFunc = null;\r\n    var src = null;\r\n    if (isFunction(source)) {\r\n        srcFunc = source;\r\n    }\r\n    else {\r\n        src = source;\r\n    }\r\n    return function () {\r\n        // Capture the original arguments passed to the method\r\n        var originalArguments = arguments;\r\n        if (srcFunc) {\r\n            src = srcFunc();\r\n        }\r\n        if (src) {\r\n            return src[funcName][_DYN_APPLY /* @min:%2eapply */](src, originalArguments);\r\n        }\r\n    };\r\n}\r\n/**\r\n * Effectively assigns all enumerable properties (not just own properties) and functions (including inherited prototype) from\r\n * the source object to the target, it attempts to use proxy getters / setters (if possible) and proxy functions to avoid potential\r\n * implementation issues by assigning prototype functions as instance ones\r\n *\r\n * This method is the primary method used to \"update\" the snippet proxy with the ultimate implementations.\r\n *\r\n * Special ES3 Notes:\r\n * Updates (setting) of direct property values on the target or indirectly on the source object WILL NOT WORK PROPERLY, updates to the\r\n * properties of \"referenced\" object will work (target.context.newValue = 10 => will be reflected in the source.context as it's the\r\n * same object). ES3 Failures: assigning target.myProp = 3 -> Won't change source.myProp = 3, likewise the reverse would also fail.\r\n * @param target - The target object to be assigned with the source properties and functions\r\n * @param source - The source object which will be assigned / called by setting / calling the targets proxies\r\n * @param chkSet - An optional callback to determine whether a specific property/function should be proxied\r\n */\r\nexport function proxyAssign(target, source, chkSet) {\r\n    if (target && source && isObject(target) && isObject(source)) {\r\n        var _loop_1 = function (field) {\r\n            if (isString(field)) {\r\n                var value = source[field];\r\n                if (isFunction(value)) {\r\n                    if (!chkSet || chkSet(field, true, source, target)) {\r\n                        // Create a proxy function rather than just copying the (possible) prototype to the new object as an instance function\r\n                        target[field] = _createProxyFunction(source, field);\r\n                    }\r\n                }\r\n                else if (!chkSet || chkSet(field, false, source, target)) {\r\n                    if (hasOwnProperty(target, field)) {\r\n                        // Remove any previous instance property\r\n                        delete target[field];\r\n                    }\r\n                    if (!objDefineAccessors(target, field, function () {\r\n                        return source[field];\r\n                    }, function (theValue) {\r\n                        source[field] = theValue;\r\n                    })) {\r\n                        // Unable to create an accessor, so just assign the values as a fallback\r\n                        // -- this will (mostly) work for objects\r\n                        // -- but will fail for accessing primitives (if the source changes it) and all types of \"setters\" as the source won't be modified\r\n                        target[field] = value;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        // effectively apply/proxy full source to the target instance\r\n        for (var field in source) {\r\n            _loop_1(field);\r\n        }\r\n    }\r\n    return target;\r\n}\r\n/**\r\n * Creates a proxy function on the target which internally will call the source version with all arguments passed to the target method.\r\n *\r\n * @param target - The target object to be assigned with the source properties and functions\r\n * @param name - The function name that will be added on the target\r\n * @param source - The source object which will be assigned / called by setting / calling the targets proxies\r\n * @param theFunc - The function name on the source that will be proxied on the target\r\n * @param overwriteTarget - If `false` this will not replace any pre-existing name otherwise (the default) it will overwrite any existing name\r\n */\r\nexport function proxyFunctionAs(target, name, source, theFunc, overwriteTarget) {\r\n    if (target && name && source) {\r\n        if (overwriteTarget !== false || isUndefined(target[name])) {\r\n            target[name] = _createProxyFunction(source, theFunc);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Creates proxy functions on the target which internally will call the source version with all arguments passed to the target method.\r\n *\r\n * @param target - The target object to be assigned with the source properties and functions\r\n * @param source - The source object which will be assigned / called by setting / calling the targets proxies\r\n * @param functionsToProxy - An array of function names that will be proxied on the target\r\n * @param overwriteTarget - If false this will not replace any pre-existing name otherwise (the default) it will overwrite any existing name\r\n */\r\nexport function proxyFunctions(target, source, functionsToProxy, overwriteTarget) {\r\n    if (target && source && isObject(target) && isArray(functionsToProxy)) {\r\n        arrForEach(functionsToProxy, function (theFuncName) {\r\n            if (isString(theFuncName)) {\r\n                proxyFunctionAs(target, theFuncName, source, theFuncName, overwriteTarget);\r\n            }\r\n        });\r\n    }\r\n    return target;\r\n}\r\n/**\r\n * Simpler helper to create a dynamic class that implements the interface and populates the values with the defaults.\r\n * Only instance properties (hasOwnProperty) values are copied from the defaults to the new instance\r\n * @param defaults Simple helper\r\n */\r\nexport function createClassFromInterface(defaults) {\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            var _this_1 = this;\r\n            if (defaults) {\r\n                objForEachKey(defaults, function (field, value) {\r\n                    _this_1[field] = value;\r\n                });\r\n            }\r\n        }\r\n        return class_1;\r\n    }());\r\n}\r\n/**\r\n * A helper function to assist with JIT performance for objects that have properties added / removed dynamically\r\n * this is primarily for chromium based browsers and has limited effects on Firefox and none of IE. Only call this\r\n * function after you have finished \"updating\" the object, calling this within loops reduces or defeats the benefits.\r\n * This helps when iterating using for..in, objKeys() and objForEach()\r\n * @param theObject - The object to be optimized if possible\r\n */\r\nexport function optimizeObject(theObject) {\r\n    // V8 Optimization to cause the JIT compiler to create a new optimized object for looking up the own properties\r\n    // primarily for object with <= 19 properties for >= 20 the effect is reduced or non-existent\r\n    if (theObject && ObjAssign) {\r\n        theObject = ObjClass(ObjAssign({}, theObject));\r\n    }\r\n    return theObject;\r\n}\r\nexport function objExtend(obj1, obj2, obj3, obj4, obj5, obj6) {\r\n    // Variables\r\n    var theArgs = arguments;\r\n    var extended = theArgs[0] || {};\r\n    var argLen = theArgs[_DYN_LENGTH /* @min:%2elength */];\r\n    var deep = false;\r\n    var idx = 1;\r\n    // Check for \"Deep\" flag\r\n    if (argLen > 0 && isBoolean(extended)) {\r\n        deep = extended;\r\n        extended = theArgs[idx] || {};\r\n        idx++;\r\n    }\r\n    // Handle case when target is a string or something (possible in deep copy)\r\n    if (!isObject(extended)) {\r\n        extended = {};\r\n    }\r\n    // Loop through each remaining object and conduct a merge\r\n    for (; idx < argLen; idx++) {\r\n        var arg = theArgs[idx];\r\n        var isArgArray = isArray(arg);\r\n        var isArgObj = isObject(arg);\r\n        for (var prop in arg) {\r\n            var propOk = (isArgArray && (prop in arg)) || (isArgObj && (ObjHasOwnProperty[_DYN_CALL /* @min:%2ecall */](arg, prop)));\r\n            if (!propOk) {\r\n                continue;\r\n            }\r\n            var newValue = arg[prop];\r\n            var isNewArray = void 0;\r\n            // If deep merge and property is an object, merge properties\r\n            if (deep && newValue && ((isNewArray = isArray(newValue)) || isPlainObject(newValue))) {\r\n                // Grab the current value of the extended object\r\n                var clone = extended[prop];\r\n                if (isNewArray) {\r\n                    if (!isArray(clone)) {\r\n                        // We can't \"merge\" an array with a non-array so overwrite the original\r\n                        clone = [];\r\n                    }\r\n                }\r\n                else if (!isPlainObject(clone)) {\r\n                    // We can't \"merge\" an object with a non-object\r\n                    clone = {};\r\n                }\r\n                // Never move the original objects always clone them\r\n                newValue = objExtend(deep, clone, newValue);\r\n            }\r\n            // Assign the new (or previous) value (unless undefined)\r\n            if (newValue !== undefined) {\r\n                extended[prop] = newValue;\r\n            }\r\n        }\r\n    }\r\n    return extended;\r\n}\r\n//# sourceMappingURL=HelperFuncs.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { deepFreeze, objForEachKey } from \"../JavaScriptSDK/HelperFuncs\";\r\n/**\r\n * Create an enum style object which has both the key => value and value => key mappings\r\n * @param values - The values to populate on the new object\r\n * @returns\r\n */\r\nexport function createEnumStyle(values) {\r\n    var enumClass = {};\r\n    objForEachKey(values, function (field, value) {\r\n        enumClass[field] = value;\r\n        enumClass[value] = field;\r\n    });\r\n    return deepFreeze(enumClass);\r\n}\r\n/**\r\n * Create a 2 index map that maps an enum's key as both the key and value, X[\"key\"] => \"key\" and X[0] => \"keyof 0\".\r\n * @param values - The values to populate on the new object\r\n * @returns\r\n */\r\nexport function createEnumMap(values) {\r\n    var mapClass = {};\r\n    objForEachKey(values, function (field, value) {\r\n        mapClass[field] = field;\r\n        mapClass[value] = field;\r\n    });\r\n    return deepFreeze(mapClass);\r\n}\r\n/**\r\n * Create a 2 index map that maps an enum's key and value to the defined map value, X[\"key\"] => mapValue and X[0] => mapValue.\r\n * Generic values\r\n * - E = the const enum type (typeof eRequestHeaders);\r\n * - V = Identifies the valid values for the keys, this should include both the enum numeric and string key of the type. The\r\n * resulting \"Value\" of each entry identifies the valid values withing the assignments.\r\n * @param values - The values to populate on the new object\r\n * @returns\r\n */\r\nexport function createValueMap(values) {\r\n    var mapClass = {};\r\n    objForEachKey(values, function (field, value) {\r\n        mapClass[field] = value[1];\r\n        mapClass[value[0]] = value[1];\r\n    });\r\n    return deepFreeze(mapClass);\r\n}\r\n//# sourceMappingURL=EnumHelperFuncs.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { createEnumStyle } from \"../JavaScriptSDK.Enums/EnumHelperFuncs\";\r\n/**\r\n * The EventsDiscardedReason enumeration contains a set of values that specify the reason for discarding an event.\r\n */\r\nexport var EventsDiscardedReason = createEnumStyle({\r\n    /**\r\n     * Unknown.\r\n     */\r\n    Unknown: 0 /* eEventsDiscardedReason.Unknown */,\r\n    /**\r\n     * Status set to non-retryable.\r\n     */\r\n    NonRetryableStatus: 1 /* eEventsDiscardedReason.NonRetryableStatus */,\r\n    /**\r\n     * The event is invalid.\r\n     */\r\n    InvalidEvent: 2 /* eEventsDiscardedReason.InvalidEvent */,\r\n    /**\r\n     * The size of the event is too large.\r\n     */\r\n    SizeLimitExceeded: 3 /* eEventsDiscardedReason.SizeLimitExceeded */,\r\n    /**\r\n     * The server is not accepting events from this instrumentation key.\r\n     */\r\n    KillSwitch: 4 /* eEventsDiscardedReason.KillSwitch */,\r\n    /**\r\n     * The event queue is full.\r\n     */\r\n    QueueFull: 5 /* eEventsDiscardedReason.QueueFull */\r\n});\r\n//# sourceMappingURL=EventsDiscardedReason.js.map", "/*!\n * Microsoft Dynamic Proto Utility, 1.1.9\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nvar _a;\r\nvar UNDEFINED = \"undefined\";\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar Constructor = 'constructor';\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar Prototype = 'prototype';\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar strFunction = 'function';\r\n/**\r\n * Used to define the name of the instance function lookup table\r\n * @ignore\r\n */\r\nvar DynInstFuncTable = '_dynInstFuncs';\r\n/**\r\n * Name used to tag the dynamic prototype function\r\n * @ignore\r\n */\r\nvar DynProxyTag = '_isDynProxy';\r\n/**\r\n * Name added to a prototype to define the dynamic prototype \"class\" name used to lookup the function table\r\n * @ignore\r\n */\r\nvar DynClassName = '_dynClass';\r\n/**\r\n * Prefix added to the classname to avoid any name clashes with other instance level properties\r\n * @ignore\r\n */\r\nvar DynClassNamePrefix = '_dynCls$';\r\n/**\r\n * A tag which is used to check if we have already to attempted to set the instance function if one is not present\r\n * @ignore\r\n */\r\nvar DynInstChkTag = '_dynInstChk';\r\n/**\r\n * A tag which is used to check if we are allows to try and set an instance function is one is not present. Using the same\r\n * tag name as the function level but a different const name for readability only.\r\n */\r\nvar DynAllowInstChkTag = DynInstChkTag;\r\n/**\r\n * The global (imported) instances where the global performance options are stored\r\n */\r\nvar DynProtoDefaultOptions = '_dfOpts';\r\n/**\r\n * Value used as the name of a class when it cannot be determined\r\n * @ignore\r\n */\r\nvar UnknownValue = '_unknown_';\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar str__Proto = \"__proto__\";\r\n/**\r\n * The polyfill version of __proto__ so that it doesn't cause issues for anyone not expecting it to exist\r\n */\r\nvar DynProtoBaseProto = \"_dyn\" + str__Proto;\r\n/**\r\n * Runtime Global holder for dynamicProto settings\r\n */\r\nvar DynProtoGlobalSettings = \"__dynProto$Gbl\";\r\n/**\r\n * Track the current prototype for IE8 as you can't look back to get the prototype\r\n */\r\nvar DynProtoCurrent = \"_dynInstProto\";\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar strUseBaseInst = 'useBaseInst';\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar strSetInstFuncs = 'setInstFuncs';\r\nvar Obj = Object;\r\n/**\r\n * Pre-lookup to check if we are running on a modern browser (i.e. not IE8)\r\n * @ignore\r\n */\r\nvar _objGetPrototypeOf = Obj[\"getPrototypeOf\"];\r\n/**\r\n * Pre-lookup to check for the existence of this function\r\n */\r\nvar _objGetOwnProps = Obj[\"getOwnPropertyNames\"];\r\n/**\r\n * Gets the runtime global reference\r\n * @returns\r\n */\r\nfunction _getGlobal() {\r\n    var result;\r\n    if (typeof globalThis !== UNDEFINED) {\r\n        result = globalThis;\r\n    }\r\n    if (!result && typeof self !== UNDEFINED) {\r\n        result = self;\r\n    }\r\n    if (!result && typeof window !== UNDEFINED) {\r\n        result = window;\r\n    }\r\n    if (!result && typeof global !== UNDEFINED) {\r\n        result = global;\r\n    }\r\n    return result || {};\r\n}\r\n// Since 1.1.7 moving these to the runtime global to work around mixed version and module issues\r\n// See Issue https://github.com/microsoft/DynamicProto-JS/issues/57 for details\r\nvar _gbl = _getGlobal();\r\nvar _gblInst = _gbl[DynProtoGlobalSettings] || (_gbl[DynProtoGlobalSettings] = {\r\n    o: (_a = {},\r\n        _a[strSetInstFuncs] = true,\r\n        _a[strUseBaseInst] = true,\r\n        _a),\r\n    n: 1000 // Start new global index @ 1000 so we \"fix\" some cases when mixed with 1.1.6 or earlier\r\n});\r\n/**\r\n * Helper to check if the object contains a property of the name\r\n * @ignore\r\n */\r\nfunction _hasOwnProperty(obj, prop) {\r\n    return obj && Obj[Prototype].hasOwnProperty.call(obj, prop);\r\n}\r\n/**\r\n * Helper used to check whether the target is an Object prototype or Array prototype\r\n * @ignore\r\n */\r\nfunction _isObjectOrArrayPrototype(target) {\r\n    return target && (target === Obj[Prototype] || target === Array[Prototype]);\r\n}\r\n/**\r\n * Helper used to check whether the target is an Object prototype, Array prototype or Function prototype\r\n * @ignore\r\n */\r\nfunction _isObjectArrayOrFunctionPrototype(target) {\r\n    return _isObjectOrArrayPrototype(target) || target === Function[Prototype];\r\n}\r\n/**\r\n * Helper used to get the prototype of the target object as getPrototypeOf is not available in an ES3 environment.\r\n * @ignore\r\n */\r\nfunction _getObjProto(target) {\r\n    var newProto;\r\n    if (target) {\r\n        // This method doesn't exist in older browsers (e.g. IE8)\r\n        if (_objGetPrototypeOf) {\r\n            return _objGetPrototypeOf(target);\r\n        }\r\n        var curProto = target[str__Proto] || target[Prototype] || (target[Constructor] ? target[Constructor][Prototype] : null);\r\n        // Using the pre-calculated value as IE8 doesn't support looking up the prototype of a prototype and thus fails for more than 1 base class\r\n        newProto = target[DynProtoBaseProto] || curProto;\r\n        if (!_hasOwnProperty(target, DynProtoBaseProto)) {\r\n            // As this prototype doesn't have this property then this is from an inherited class so newProto is the base to return so save it\r\n            // so we can look it up value (which for a multiple hierarchy dynamicProto will be the base class)\r\n            delete target[DynProtoCurrent]; // Delete any current value allocated to this instance so we pick up the value from prototype hierarchy\r\n            newProto = target[DynProtoBaseProto] = target[DynProtoCurrent] || target[DynProtoBaseProto];\r\n            target[DynProtoCurrent] = curProto;\r\n        }\r\n    }\r\n    return newProto;\r\n}\r\n/**\r\n * Helper to get the properties of an object, including none enumerable ones as functions on a prototype in ES6\r\n * are not enumerable.\r\n * @param target\r\n */\r\nfunction _forEachProp(target, func) {\r\n    var props = [];\r\n    if (_objGetOwnProps) {\r\n        props = _objGetOwnProps(target);\r\n    }\r\n    else {\r\n        for (var name_1 in target) {\r\n            if (typeof name_1 === \"string\" && _hasOwnProperty(target, name_1)) {\r\n                props.push(name_1);\r\n            }\r\n        }\r\n    }\r\n    if (props && props.length > 0) {\r\n        for (var lp = 0; lp < props.length; lp++) {\r\n            func(props[lp]);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Helper function to check whether the provided function name is a potential candidate for dynamic\r\n * callback and prototype generation.\r\n * @param target The target object, may be a prototype or class object\r\n * @param funcName The function name\r\n * @param skipOwn Skips the check for own property\r\n * @ignore\r\n */\r\nfunction _isDynamicCandidate(target, funcName, skipOwn) {\r\n    return (funcName !== Constructor && typeof target[funcName] === strFunction && (skipOwn || _hasOwnProperty(target, funcName)));\r\n}\r\n/**\r\n * Helper to throw a TypeError exception\r\n * @param message the message\r\n * @ignore\r\n */\r\nfunction _throwTypeError(message) {\r\n    throw new TypeError(\"DynamicProto: \" + message);\r\n}\r\n/**\r\n * Returns a collection of the instance functions that are defined directly on the thisTarget object, it does\r\n * not return any inherited functions\r\n * @param thisTarget The object to get the instance functions from\r\n * @ignore\r\n */\r\nfunction _getInstanceFuncs(thisTarget) {\r\n    // Get the base proto\r\n    var instFuncs = {};\r\n    // Save any existing instance functions\r\n    _forEachProp(thisTarget, function (name) {\r\n        // Don't include any dynamic prototype instances - as we only want the real functions\r\n        if (!instFuncs[name] && _isDynamicCandidate(thisTarget, name, false)) {\r\n            // Create an instance callback for passing the base function to the caller\r\n            instFuncs[name] = thisTarget[name];\r\n        }\r\n    });\r\n    return instFuncs;\r\n}\r\n/**\r\n * Returns whether the value is included in the array\r\n * @param values The array of values\r\n * @param value  The value\r\n */\r\nfunction _hasVisited(values, value) {\r\n    for (var lp = values.length - 1; lp >= 0; lp--) {\r\n        if (values[lp] === value) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Returns an object that contains callback functions for all \"base/super\" functions, this is used to \"save\"\r\n * enabling calling super.xxx() functions without requiring that the base \"class\" has defined a prototype references\r\n * @param target The current instance\r\n * @ignore\r\n */\r\nfunction _getBaseFuncs(classProto, thisTarget, instFuncs, useBaseInst) {\r\n    function _instFuncProxy(target, funcHost, funcName) {\r\n        var theFunc = funcHost[funcName];\r\n        if (theFunc[DynProxyTag] && useBaseInst) {\r\n            // grab and reuse the hosted looking function (if available) otherwise the original passed function\r\n            var instFuncTable = target[DynInstFuncTable] || {};\r\n            if (instFuncTable[DynAllowInstChkTag] !== false) {\r\n                theFunc = (instFuncTable[funcHost[DynClassName]] || {})[funcName] || theFunc;\r\n            }\r\n        }\r\n        return function () {\r\n            // eslint-disable-next-line prefer-rest-params\r\n            return theFunc.apply(target, arguments);\r\n        };\r\n    }\r\n    // Start creating a new baseFuncs by creating proxies for the instance functions (as they may get replaced)\r\n    var baseFuncs = {};\r\n    _forEachProp(instFuncs, function (name) {\r\n        // Create an instance callback for passing the base function to the caller\r\n        baseFuncs[name] = _instFuncProxy(thisTarget, instFuncs, name);\r\n    });\r\n    // Get the base prototype functions\r\n    var baseProto = _getObjProto(classProto);\r\n    var visited = [];\r\n    // Don't include base object functions for Object, Array or Function\r\n    while (baseProto && !_isObjectArrayOrFunctionPrototype(baseProto) && !_hasVisited(visited, baseProto)) {\r\n        // look for prototype functions\r\n        _forEachProp(baseProto, function (name) {\r\n            // Don't include any dynamic prototype instances - as we only want the real functions\r\n            // For IE 7/8 the prototype lookup doesn't provide the full chain so we need to bypass the \r\n            // hasOwnProperty check we get all of the methods, main difference is that IE7/8 doesn't return\r\n            // the Object prototype methods while bypassing the check\r\n            if (!baseFuncs[name] && _isDynamicCandidate(baseProto, name, !_objGetPrototypeOf)) {\r\n                // Create an instance callback for passing the base function to the caller\r\n                baseFuncs[name] = _instFuncProxy(thisTarget, baseProto, name);\r\n            }\r\n        });\r\n        // We need to find all possible functions that might be overloaded by walking the entire prototype chain\r\n        // This avoids the caller from needing to check whether it's direct base class implements the function or not\r\n        // by walking the entire chain it simplifies the usage and issues from upgrading any of the base classes.\r\n        visited.push(baseProto);\r\n        baseProto = _getObjProto(baseProto);\r\n    }\r\n    return baseFuncs;\r\n}\r\nfunction _getInstFunc(target, funcName, proto, currentDynProtoProxy) {\r\n    var instFunc = null;\r\n    // We need to check whether the class name is defined directly on this prototype otherwise\r\n    // it will walk the proto chain and return any parent proto classname.\r\n    if (target && _hasOwnProperty(proto, DynClassName)) {\r\n        var instFuncTable = target[DynInstFuncTable] || {};\r\n        instFunc = (instFuncTable[proto[DynClassName]] || {})[funcName];\r\n        if (!instFunc) {\r\n            // Avoid stack overflow from recursive calling the same function\r\n            _throwTypeError(\"Missing [\" + funcName + \"] \" + strFunction);\r\n        }\r\n        // We have the instance function, lets check it we can speed up further calls\r\n        // by adding the instance function back directly on the instance (avoiding the dynamic func lookup)\r\n        if (!instFunc[DynInstChkTag] && instFuncTable[DynAllowInstChkTag] !== false) {\r\n            // If the instance already has an instance function we can't replace it\r\n            var canAddInst = !_hasOwnProperty(target, funcName);\r\n            // Get current prototype\r\n            var objProto = _getObjProto(target);\r\n            var visited = [];\r\n            // Lookup the function starting at the top (instance level prototype) and traverse down, if the first matching function\r\n            // if nothing is found or if the first hit is a dynamic proto instance then we can safely add an instance shortcut\r\n            while (canAddInst && objProto && !_isObjectArrayOrFunctionPrototype(objProto) && !_hasVisited(visited, objProto)) {\r\n                var protoFunc = objProto[funcName];\r\n                if (protoFunc) {\r\n                    canAddInst = (protoFunc === currentDynProtoProxy);\r\n                    break;\r\n                }\r\n                // We need to find all possible initial functions to ensure that we don't bypass a valid override function\r\n                visited.push(objProto);\r\n                objProto = _getObjProto(objProto);\r\n            }\r\n            try {\r\n                if (canAddInst) {\r\n                    // This instance doesn't have an instance func and the class hierarchy does have a higher level prototype version\r\n                    // so it's safe to directly assign for any subsequent calls (for better performance)\r\n                    target[funcName] = instFunc;\r\n                }\r\n                // Block further attempts to set the instance function for any\r\n                instFunc[DynInstChkTag] = 1;\r\n            }\r\n            catch (e) {\r\n                // Don't crash if the object is readonly or the runtime doesn't allow changing this\r\n                // And set a flag so we don't try again for any function\r\n                instFuncTable[DynAllowInstChkTag] = false;\r\n            }\r\n        }\r\n    }\r\n    return instFunc;\r\n}\r\nfunction _getProtoFunc(funcName, proto, currentDynProtoProxy) {\r\n    var protoFunc = proto[funcName];\r\n    // Check that the prototype function is not a self reference -- try to avoid stack overflow!\r\n    if (protoFunc === currentDynProtoProxy) {\r\n        // It is so lookup the base prototype\r\n        protoFunc = _getObjProto(proto)[funcName];\r\n    }\r\n    if (typeof protoFunc !== strFunction) {\r\n        _throwTypeError(\"[\" + funcName + \"] is not a \" + strFunction);\r\n    }\r\n    return protoFunc;\r\n}\r\n/**\r\n * Add the required dynamic prototype methods to the the class prototype\r\n * @param proto - The class prototype\r\n * @param className - The instance classname\r\n * @param target - The target instance\r\n * @param baseInstFuncs - The base instance functions\r\n * @param setInstanceFunc - Flag to allow prototype function to reset the instance function if one does not exist\r\n * @ignore\r\n */\r\nfunction _populatePrototype(proto, className, target, baseInstFuncs, setInstanceFunc) {\r\n    function _createDynamicPrototype(proto, funcName) {\r\n        var dynProtoProxy = function () {\r\n            // Use the instance or prototype function\r\n            var instFunc = _getInstFunc(this, funcName, proto, dynProtoProxy) || _getProtoFunc(funcName, proto, dynProtoProxy);\r\n            // eslint-disable-next-line prefer-rest-params\r\n            return instFunc.apply(this, arguments);\r\n        };\r\n        // Tag this function as a proxy to support replacing dynamic proxy elements (primary use case is for unit testing\r\n        // via which can dynamically replace the prototype function reference)\r\n        dynProtoProxy[DynProxyTag] = 1;\r\n        return dynProtoProxy;\r\n    }\r\n    if (!_isObjectOrArrayPrototype(proto)) {\r\n        var instFuncTable = target[DynInstFuncTable] = target[DynInstFuncTable] || {};\r\n        var instFuncs_1 = instFuncTable[className] = (instFuncTable[className] || {}); // fetch and assign if as it may not exist yet\r\n        // Set whether we are allow to lookup instances, if someone has set to false then do not re-enable\r\n        if (instFuncTable[DynAllowInstChkTag] !== false) {\r\n            instFuncTable[DynAllowInstChkTag] = !!setInstanceFunc;\r\n        }\r\n        _forEachProp(target, function (name) {\r\n            // Only add overridden functions\r\n            if (_isDynamicCandidate(target, name, false) && target[name] !== baseInstFuncs[name]) {\r\n                // Save the instance Function to the lookup table and remove it from the instance as it's not a dynamic proto function\r\n                instFuncs_1[name] = target[name];\r\n                delete target[name];\r\n                // Add a dynamic proto if one doesn't exist or if a prototype function exists and it's not a dynamic one\r\n                if (!_hasOwnProperty(proto, name) || (proto[name] && !proto[name][DynProxyTag])) {\r\n                    proto[name] = _createDynamicPrototype(proto, name);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n/**\r\n * Checks whether the passed prototype object appears to be correct by walking the prototype hierarchy of the instance\r\n * @param classProto The class prototype instance\r\n * @param thisTarget The current instance that will be checked whether the passed prototype instance is in the hierarchy\r\n * @ignore\r\n */\r\nfunction _checkPrototype(classProto, thisTarget) {\r\n    // This method doesn't existing in older browsers (e.g. IE8)\r\n    if (_objGetPrototypeOf) {\r\n        // As this is primarily a coding time check, don't bother checking if running in IE8 or lower\r\n        var visited = [];\r\n        var thisProto = _getObjProto(thisTarget);\r\n        while (thisProto && !_isObjectArrayOrFunctionPrototype(thisProto) && !_hasVisited(visited, thisProto)) {\r\n            if (thisProto === classProto) {\r\n                return true;\r\n            }\r\n            // This avoids the caller from needing to check whether it's direct base class implements the function or not\r\n            // by walking the entire chain it simplifies the usage and issues from upgrading any of the base classes.\r\n            visited.push(thisProto);\r\n            thisProto = _getObjProto(thisProto);\r\n        }\r\n        return false;\r\n    }\r\n    // If objGetPrototypeOf doesn't exist then just assume everything is ok.\r\n    return true;\r\n}\r\n/**\r\n * Gets the current prototype name using the ES6 name if available otherwise falling back to a use unknown as the name.\r\n * It's not critical for this to return a name, it's used to decorate the generated unique name for easier debugging only.\r\n * @param target\r\n * @param unknownValue\r\n * @ignore\r\n */\r\nfunction _getObjName(target, unknownValue) {\r\n    if (_hasOwnProperty(target, Prototype)) {\r\n        // Look like a prototype\r\n        return target.name || unknownValue || UnknownValue;\r\n    }\r\n    return (((target || {})[Constructor]) || {}).name || unknownValue || UnknownValue;\r\n}\r\n/**\r\n * Helper function when creating dynamic (inline) functions for classes, this helper performs the following tasks :-\r\n * - Saves references to all defined base class functions\r\n * - Calls the delegateFunc with the current target (this) and a base object reference that can be used to call all \"super\" functions.\r\n * - Will populate the class prototype for all overridden functions to support class extension that call the prototype instance.\r\n * Callers should use this helper when declaring all function within the constructor of a class, as mentioned above the delegateFunc is\r\n * passed both the target \"this\" and an object that can be used to call any base (super) functions, using this based object in place of\r\n * super.XXX() (which gets expanded to _super.prototype.XXX()) provides a better minification outcome and also ensures the correct \"this\"\r\n * context is maintained as TypeScript creates incorrect references using super.XXXX() for dynamically defined functions i.e. Functions\r\n * defined in the constructor or some other function (rather than declared as complete typescript functions).\r\n * ### Usage\r\n * ```typescript\r\n * import dynamicProto from \"@microsoft/dynamicproto-js\";\r\n * class ExampleClass extends BaseClass {\r\n *     constructor() {\r\n *         dynamicProto(ExampleClass, this, (_self, base) => {\r\n *             // This will define a function that will be converted to a prototype function\r\n *             _self.newFunc = () => {\r\n *                 // Access any \"this\" instance property\r\n *                 if (_self.someProperty) {\r\n *                     ...\r\n *                 }\r\n *             }\r\n *             // This will define a function that will be converted to a prototype function\r\n *             _self.myFunction = () => {\r\n *                 // Access any \"this\" instance property\r\n *                 if (_self.someProperty) {\r\n *                     // Call the base version of the function that we are overriding\r\n *                     base.myFunction();\r\n *                 }\r\n *                 ...\r\n *             }\r\n *             _self.initialize = () => {\r\n *                 ...\r\n *             }\r\n *             // Warnings: While the following will work as _self is simply a reference to\r\n *             // this, if anyone overrides myFunction() the overridden will be called first\r\n *             // as the normal JavaScript method resolution will occur and the defined\r\n *             // _self.initialize() function is actually gets removed from the instance and\r\n *             // a proxy prototype version is created to reference the created method.\r\n *             _self.initialize();\r\n *         });\r\n *     }\r\n * }\r\n * ```\r\n * @typeparam DPType This is the generic type of the class, used to keep intellisense valid\r\n * @typeparam DPCls The type that contains the prototype of the current class\r\n * @param theClass - This is the current class instance which contains the prototype for the current class\r\n * @param target - The current \"this\" (target) reference, when the class has been extended this.prototype will not be the 'theClass' value.\r\n * @param delegateFunc - The callback function (closure) that will create the dynamic function\r\n * @param options - Additional options to configure how the dynamic prototype operates\r\n */\r\nfunction dynamicProto(theClass, target, delegateFunc, options) {\r\n    // Make sure that the passed theClass argument looks correct\r\n    if (!_hasOwnProperty(theClass, Prototype)) {\r\n        _throwTypeError(\"theClass is an invalid class definition.\");\r\n    }\r\n    // Quick check to make sure that the passed theClass argument looks correct (this is a common copy/paste error)\r\n    var classProto = theClass[Prototype];\r\n    if (!_checkPrototype(classProto, target)) {\r\n        _throwTypeError(\"[\" + _getObjName(theClass) + \"] not in hierarchy of [\" + _getObjName(target) + \"]\");\r\n    }\r\n    var className = null;\r\n    if (_hasOwnProperty(classProto, DynClassName)) {\r\n        // Only grab the class name if it's defined on this prototype (i.e. don't walk the prototype chain)\r\n        className = classProto[DynClassName];\r\n    }\r\n    else {\r\n        // As not all browser support name on the prototype creating a unique dynamic one if we have not already\r\n        // assigned one, so we can use a simple string as the lookup rather than an object for the dynamic instance\r\n        // function table lookup.\r\n        className = DynClassNamePrefix + _getObjName(theClass, \"_\") + \"$\" + _gblInst.n;\r\n        _gblInst.n++;\r\n        classProto[DynClassName] = className;\r\n    }\r\n    var perfOptions = dynamicProto[DynProtoDefaultOptions];\r\n    var useBaseInst = !!perfOptions[strUseBaseInst];\r\n    if (useBaseInst && options && options[strUseBaseInst] !== undefined) {\r\n        useBaseInst = !!options[strUseBaseInst];\r\n    }\r\n    // Get the current instance functions\r\n    var instFuncs = _getInstanceFuncs(target);\r\n    // Get all of the functions for any base instance (before they are potentially overridden)\r\n    var baseFuncs = _getBaseFuncs(classProto, target, instFuncs, useBaseInst);\r\n    // Execute the delegate passing in both the current target \"this\" and \"base\" function references\r\n    // Note casting the same type as we don't actually have the base class here and this will provide some intellisense support\r\n    delegateFunc(target, baseFuncs);\r\n    // Don't allow setting instance functions for older IE instances\r\n    var setInstanceFunc = !!_objGetPrototypeOf && !!perfOptions[strSetInstFuncs];\r\n    if (setInstanceFunc && options) {\r\n        setInstanceFunc = !!options[strSetInstFuncs];\r\n    }\r\n    // Populate the Prototype for any overridden instance functions\r\n    _populatePrototype(classProto, className, target, instFuncs, setInstanceFunc !== false);\r\n}\r\n/**\r\n * Exposes the default global options to allow global configuration, if the global values are disabled these will override\r\n * any passed values. This is primarily exposed to support unit-testing without the need for individual classes to expose\r\n * their internal usage of dynamic proto.\r\n */\r\ndynamicProto[DynProtoDefaultOptions] = _gblInst.o;\n\nexport { dynamicProto as default };\n//# sourceMappingURL=dynamicproto-js.js.map\n", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport { getGlobal, strShimObject, strShimPrototype, strShimUndefined } from \"@microsoft/applicationinsights-shims\";\r\nimport { _DYN_CALL, _DYN_INDEX_OF, _DYN_LENGTH, _DYN_NAME, _DYN_SPLIT, _DYN_TO_LOWER_CASE, _DYN_USER_AGENT } from \"../__DynamicConstants\";\r\nimport { isString, isUndefined, strContains } from \"./HelperFuncs\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\n/**\r\n * This file exists to hold environment utilities that are required to check and\r\n * validate the current operating environment. Unless otherwise required, please\r\n * only use defined methods (functions) in this class so that users of these\r\n * functions/properties only need to include those that are used within their own modules.\r\n */\r\nvar strWindow = \"window\";\r\nvar strDocument = \"document\";\r\nvar strDocumentMode = \"documentMode\";\r\nvar strNavigator = \"navigator\";\r\nvar strHistory = \"history\";\r\nvar strLocation = \"location\";\r\nvar strConsole = \"console\";\r\nvar strPerformance = \"performance\";\r\nvar strJSON = \"JSON\";\r\nvar strCrypto = \"crypto\";\r\nvar strMsCrypto = \"msCrypto\";\r\nvar strReactNative = \"ReactNative\";\r\nvar strMsie = \"msie\";\r\nvar strTrident = \"trident/\";\r\nvar strXMLHttpRequest = \"XMLHttpRequest\";\r\nvar _isTrident = null;\r\nvar _navUserAgentCheck = null;\r\nvar _enableMocks = false;\r\nvar _useXDomainRequest = null;\r\nvar _beaconsSupported = null;\r\nfunction _hasProperty(theClass, property) {\r\n    var supported = false;\r\n    if (theClass) {\r\n        try {\r\n            supported = property in theClass;\r\n            if (!supported) {\r\n                var proto = theClass[strShimPrototype];\r\n                if (proto) {\r\n                    supported = property in proto;\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // Do Nothing\r\n        }\r\n        if (!supported) {\r\n            try {\r\n                var tmp = new theClass();\r\n                supported = !isUndefined(tmp[property]);\r\n            }\r\n            catch (e) {\r\n                // Do Nothing\r\n            }\r\n        }\r\n    }\r\n    return supported;\r\n}\r\n/**\r\n * Enable the lookup of test mock objects if requested\r\n * @param enabled\r\n */\r\nexport function setEnableEnvMocks(enabled) {\r\n    _enableMocks = enabled;\r\n}\r\n/**\r\n * Return the named global object if available, will return null if the object is not available.\r\n * @param name The globally named object\r\n */\r\nexport function getGlobalInst(name) {\r\n    var gbl = getGlobal();\r\n    if (gbl && gbl[name]) {\r\n        return gbl[name];\r\n    }\r\n    // Test workaround, for environments where <global>.window (when global == window) doesn't return the base window\r\n    if (name === strWindow && hasWindow()) {\r\n        // tslint:disable-next-line: no-angle-bracket-type-assertion\r\n        return window;\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Checks if window object is available, this is required as we support the API running without a\r\n * window /document (eg. Node server, electron webworkers) and if we attempt to assign a window\r\n * object to a local variable or pass as an argument an \"Uncaught ReferenceError: window is not defined\"\r\n * exception will be thrown.\r\n * Defined as a function to support lazy / late binding environments.\r\n */\r\nexport function hasWindow() {\r\n    return Boolean(typeof window === strShimObject && window);\r\n}\r\n/**\r\n * Returns the global window object if it is present otherwise null.\r\n * This helper is used to access the window object without causing an exception\r\n * \"Uncaught ReferenceError: window is not defined\"\r\n */\r\nexport function getWindow() {\r\n    if (hasWindow()) {\r\n        return window;\r\n    }\r\n    // Return the global instance or null\r\n    return getGlobalInst(strWindow);\r\n}\r\n/**\r\n * Checks if document object is available, this is required as we support the API running without a\r\n * window /document (eg. Node server, electron webworkers) and if we attempt to assign a document\r\n * object to a local variable or pass as an argument an \"Uncaught ReferenceError: document is not defined\"\r\n * exception will be thrown.\r\n * Defined as a function to support lazy / late binding environments.\r\n */\r\nexport function hasDocument() {\r\n    return Boolean(typeof document === strShimObject && document);\r\n}\r\n/**\r\n * Returns the global document object if it is present otherwise null.\r\n * This helper is used to access the document object without causing an exception\r\n * \"Uncaught ReferenceError: document is not defined\"\r\n */\r\nexport function getDocument() {\r\n    if (hasDocument()) {\r\n        return document;\r\n    }\r\n    return getGlobalInst(strDocument);\r\n}\r\n/**\r\n * Checks if navigator object is available, this is required as we support the API running without a\r\n * window /document (eg. Node server, electron webworkers) and if we attempt to assign a navigator\r\n * object to a local variable or pass as an argument an \"Uncaught ReferenceError: navigator is not defined\"\r\n * exception will be thrown.\r\n * Defined as a function to support lazy / late binding environments.\r\n */\r\nexport function hasNavigator() {\r\n    return Boolean(typeof navigator === strShimObject && navigator);\r\n}\r\n/**\r\n * Returns the global navigator object if it is present otherwise null.\r\n * This helper is used to access the navigator object without causing an exception\r\n * \"Uncaught ReferenceError: navigator is not defined\"\r\n */\r\nexport function getNavigator() {\r\n    if (hasNavigator()) {\r\n        return navigator;\r\n    }\r\n    return getGlobalInst(strNavigator);\r\n}\r\n/**\r\n * Checks if history object is available, this is required as we support the API running without a\r\n * window /document (eg. Node server, electron webworkers) and if we attempt to assign a history\r\n * object to a local variable or pass as an argument an \"Uncaught ReferenceError: history is not defined\"\r\n * exception will be thrown.\r\n * Defined as a function to support lazy / late binding environments.\r\n */\r\nexport function hasHistory() {\r\n    return Boolean(typeof history === strShimObject && history);\r\n}\r\n/**\r\n * Returns the global history object if it is present otherwise null.\r\n * This helper is used to access the history object without causing an exception\r\n * \"Uncaught ReferenceError: history is not defined\"\r\n */\r\nexport function getHistory() {\r\n    if (hasHistory()) {\r\n        return history;\r\n    }\r\n    return getGlobalInst(strHistory);\r\n}\r\n/**\r\n * Returns the global location object if it is present otherwise null.\r\n * This helper is used to access the location object without causing an exception\r\n * \"Uncaught ReferenceError: location is not defined\"\r\n */\r\nexport function getLocation(checkForMock) {\r\n    if (checkForMock && _enableMocks) {\r\n        var mockLocation = getGlobalInst(\"__mockLocation\");\r\n        if (mockLocation) {\r\n            return mockLocation;\r\n        }\r\n    }\r\n    if (typeof location === strShimObject && location) {\r\n        return location;\r\n    }\r\n    return getGlobalInst(strLocation);\r\n}\r\n/**\r\n * Returns the global console object\r\n */\r\nexport function getConsole() {\r\n    if (typeof console !== strShimUndefined) {\r\n        return console;\r\n    }\r\n    return getGlobalInst(strConsole);\r\n}\r\n/**\r\n * Returns the performance object if it is present otherwise null.\r\n * This helper is used to access the performance object from the current\r\n * global instance which could be window or globalThis for a web worker\r\n */\r\nexport function getPerformance() {\r\n    return getGlobalInst(strPerformance);\r\n}\r\n/**\r\n * Checks if JSON object is available, this is required as we support the API running without a\r\n * window /document (eg. Node server, electron webworkers) and if we attempt to assign a history\r\n * object to a local variable or pass as an argument an \"Uncaught ReferenceError: JSON is not defined\"\r\n * exception will be thrown.\r\n * Defined as a function to support lazy / late binding environments.\r\n */\r\nexport function hasJSON() {\r\n    return Boolean((typeof JSON === strShimObject && JSON) || getGlobalInst(strJSON) !== null);\r\n}\r\n/**\r\n * Returns the global JSON object if it is present otherwise null.\r\n * This helper is used to access the JSON object without causing an exception\r\n * \"Uncaught ReferenceError: JSON is not defined\"\r\n */\r\nexport function getJSON() {\r\n    if (hasJSON()) {\r\n        return JSON || getGlobalInst(strJSON);\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Returns the crypto object if it is present otherwise null.\r\n * This helper is used to access the crypto object from the current\r\n * global instance which could be window or globalThis for a web worker\r\n */\r\nexport function getCrypto() {\r\n    return getGlobalInst(strCrypto);\r\n}\r\n/**\r\n * Returns the crypto object if it is present otherwise null.\r\n * This helper is used to access the crypto object from the current\r\n * global instance which could be window or globalThis for a web worker\r\n */\r\nexport function getMsCrypto() {\r\n    return getGlobalInst(strMsCrypto);\r\n}\r\n/**\r\n * Returns whether the environment is reporting that we are running in a React Native Environment\r\n */\r\nexport function isReactNative() {\r\n    // If running in React Native, navigator.product will be populated\r\n    var nav = getNavigator();\r\n    if (nav && nav.product) {\r\n        return nav.product === strReactNative;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Identifies whether the current environment appears to be IE\r\n */\r\nexport function isIE() {\r\n    var nav = getNavigator();\r\n    if (nav && (nav[_DYN_USER_AGENT /* @min:%2euserAgent */] !== _navUserAgentCheck || _isTrident === null)) {\r\n        // Added to support test mocking of the user agent\r\n        _navUserAgentCheck = nav[_DYN_USER_AGENT /* @min:%2euserAgent */];\r\n        var userAgent = (_navUserAgentCheck || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]();\r\n        _isTrident = (strContains(userAgent, strMsie) || strContains(userAgent, strTrident));\r\n    }\r\n    return _isTrident;\r\n}\r\n/**\r\n * Gets IE version returning the document emulation mode if we are running on IE, or null otherwise\r\n */\r\nexport function getIEVersion(userAgentStr) {\r\n    if (userAgentStr === void 0) { userAgentStr = null; }\r\n    if (!userAgentStr) {\r\n        var navigator_1 = getNavigator() || {};\r\n        userAgentStr = navigator_1 ? (navigator_1[_DYN_USER_AGENT /* @min:%2euserAgent */] || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]() : STR_EMPTY;\r\n    }\r\n    var ua = (userAgentStr || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]();\r\n    // Also check for documentMode in case X-UA-Compatible meta tag was included in HTML.\r\n    if (strContains(ua, strMsie)) {\r\n        var doc = getDocument() || {};\r\n        return Math.max(parseInt(ua[_DYN_SPLIT /* @min:%2esplit */](strMsie)[1]), (doc[strDocumentMode] || 0));\r\n    }\r\n    else if (strContains(ua, strTrident)) {\r\n        var tridentVer = parseInt(ua[_DYN_SPLIT /* @min:%2esplit */](strTrident)[1]);\r\n        if (tridentVer) {\r\n            return tridentVer + 4;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Returns string representation of an object suitable for diagnostics logging.\r\n */\r\nexport function dumpObj(object) {\r\n    var objectTypeDump = Object[strShimPrototype].toString[_DYN_CALL /* @min:%2ecall */](object);\r\n    var propertyValueDump = STR_EMPTY;\r\n    if (objectTypeDump === \"[object Error]\") {\r\n        propertyValueDump = \"{ stack: '\" + object.stack + \"', message: '\" + object.message + \"', name: '\" + object[_DYN_NAME /* @min:%2ename */] + \"'\";\r\n    }\r\n    else if (hasJSON()) {\r\n        propertyValueDump = getJSON().stringify(object);\r\n    }\r\n    return objectTypeDump + propertyValueDump;\r\n}\r\nexport function isSafari(userAgentStr) {\r\n    if (!userAgentStr || !isString(userAgentStr)) {\r\n        var navigator_2 = getNavigator() || {};\r\n        userAgentStr = navigator_2 ? (navigator_2[_DYN_USER_AGENT /* @min:%2euserAgent */] || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]() : STR_EMPTY;\r\n    }\r\n    var ua = (userAgentStr || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]();\r\n    return (ua[_DYN_INDEX_OF /* @min:%2eindexOf */](\"safari\") >= 0);\r\n}\r\n/**\r\n * Checks if HTML5 Beacons are supported in the current environment.\r\n * @returns True if supported, false otherwise.\r\n */\r\nexport function isBeaconsSupported() {\r\n    if (_beaconsSupported === null) {\r\n        _beaconsSupported = hasNavigator() && Boolean(getNavigator().sendBeacon);\r\n    }\r\n    return _beaconsSupported;\r\n}\r\n/**\r\n * Checks if the Fetch API is supported in the current environment.\r\n * @param withKeepAlive - [Optional] If True, check if fetch is available and it supports the keepalive feature, otherwise only check if fetch is supported\r\n * @returns True if supported, otherwise false\r\n */\r\nexport function isFetchSupported(withKeepAlive) {\r\n    var isSupported = false;\r\n    try {\r\n        isSupported = !!getGlobalInst(\"fetch\");\r\n        var request = getGlobalInst(\"Request\");\r\n        if (isSupported && withKeepAlive && request) {\r\n            isSupported = _hasProperty(request, \"keepalive\");\r\n        }\r\n    }\r\n    catch (e) {\r\n        // Just Swallow any failure during availability checks\r\n    }\r\n    return isSupported;\r\n}\r\nexport function useXDomainRequest() {\r\n    if (_useXDomainRequest === null) {\r\n        _useXDomainRequest = (typeof XDomainRequest !== strShimUndefined);\r\n        if (_useXDomainRequest && isXhrSupported()) {\r\n            _useXDomainRequest = _useXDomainRequest && !_hasProperty(getGlobalInst(strXMLHttpRequest), \"withCredentials\");\r\n        }\r\n    }\r\n    return _useXDomainRequest;\r\n}\r\n/**\r\n * Checks if XMLHttpRequest is supported\r\n * @returns True if supported, otherwise false\r\n */\r\nexport function isXhrSupported() {\r\n    var isSupported = false;\r\n    try {\r\n        var xmlHttpRequest = getGlobalInst(strXMLHttpRequest);\r\n        isSupported = !!xmlHttpRequest;\r\n    }\r\n    catch (e) {\r\n        // Just Swallow any failure during availability checks\r\n    }\r\n    return isSupported;\r\n}\r\nfunction _getNamedValue(values, name) {\r\n    if (values) {\r\n        for (var i = 0; i < values[_DYN_LENGTH /* @min:%2elength */]; i++) {\r\n            var value = values[i];\r\n            if (value[_DYN_NAME /* @min:%2ename */]) {\r\n                if (value[_DYN_NAME /* @min:%2ename */] === name) {\r\n                    return value;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return {};\r\n}\r\n/**\r\n * Helper function to fetch the named meta-tag from the page.\r\n * @param name\r\n */\r\nexport function findMetaTag(name) {\r\n    var doc = getDocument();\r\n    if (doc && name) {\r\n        // Look for a meta-tag\r\n        return _getNamedValue(doc.querySelectorAll(\"meta\"), name).content;\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Helper function to fetch the named server timing value from the page response (first navigation event).\r\n * @param name\r\n */\r\nexport function findNamedServerTiming(name) {\r\n    var value;\r\n    var perf = getPerformance();\r\n    if (perf) {\r\n        // Try looking for a server-timing header\r\n        var navPerf = perf.getEntriesByType(\"navigation\") || [];\r\n        value = _getNamedValue((navPerf[_DYN_LENGTH /* @min:%2elength */] > 0 ? navPerf[0] : {}).serverTiming, name).description;\r\n    }\r\n    return value;\r\n}\r\n//# sourceMappingURL=EnvUtils.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { _DYN_APPLY, _DYN_LENGTH } from \"../__DynamicConstants\";\r\nimport { getGlobalInst } from \"./EnvUtils\";\r\nvar listenerFuncs = [\"eventsSent\", \"eventsDiscarded\", \"eventsSendRequest\", \"perfEvent\"];\r\nvar _aiNamespace = null;\r\nvar _debugListener;\r\nfunction _listenerProxyFunc(name, config) {\r\n    return function () {\r\n        var args = arguments;\r\n        var dbgExt = getDebugExt(config);\r\n        if (dbgExt) {\r\n            var listener = dbgExt.listener;\r\n            if (listener && listener[name]) {\r\n                listener[name][_DYN_APPLY /* @min:%2eapply */](listener, args);\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction _getExtensionNamespace() {\r\n    // Cache the lookup of the global namespace object\r\n    var target = getGlobalInst(\"Microsoft\");\r\n    if (target) {\r\n        _aiNamespace = target[\"ApplicationInsights\"];\r\n    }\r\n    return _aiNamespace;\r\n}\r\nexport function getDebugExt(config) {\r\n    var ns = _aiNamespace;\r\n    if (!ns && config.disableDbgExt !== true) {\r\n        ns = _aiNamespace || _getExtensionNamespace();\r\n    }\r\n    return ns ? ns[\"ChromeDbgExt\"] : null;\r\n}\r\nexport function getDebugListener(config) {\r\n    if (!_debugListener) {\r\n        _debugListener = {};\r\n        for (var lp = 0; lp < listenerFuncs[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n            _debugListener[listenerFuncs[lp]] = _listenerProxyFunc(listenerFuncs[lp], config);\r\n        }\r\n    }\r\n    return _debugListener;\r\n}\r\n//# sourceMappingURL=DbgExtensionUtils.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { _DYN_DIAG_LOG, _DYN_ENABLE_DEBUG_EXCEPTI4, _DYN_LOGGER, _DYN_LOG_INTERNAL_MESSAGE, _DYN_MESSAGE, _DYN_MESSAGE_ID, _DYN_PUSH, _DYN_REPLACE } from \"../__DynamicConstants\";\r\nimport { getDebugExt } from \"./DbgExtensionUtils\";\r\nimport { dumpObj, getConsole, getJSON, hasJSON } from \"./EnvUtils\";\r\nimport { getCfgValue, isFunction, isUndefined } from \"./HelperFuncs\";\r\nimport { STR_EMPTY, STR_ERROR_TO_CONSOLE, STR_WARN_TO_CONSOLE } from \"./InternalConstants\";\r\n/**\r\n * For user non actionable traces use AI Internal prefix.\r\n */\r\nvar AiNonUserActionablePrefix = \"AI (Internal): \";\r\n/**\r\n * Prefix of the traces in portal.\r\n */\r\nvar AiUserActionablePrefix = \"AI: \";\r\n/**\r\n *  Session storage key for the prefix for the key indicating message type already logged\r\n */\r\nvar AIInternalMessagePrefix = \"AITR_\";\r\nfunction _sanitizeDiagnosticText(text) {\r\n    if (text) {\r\n        return \"\\\"\" + text[_DYN_REPLACE /* @min:%2ereplace */](/\\\"/g, STR_EMPTY) + \"\\\"\";\r\n    }\r\n    return STR_EMPTY;\r\n}\r\nfunction _logToConsole(func, message) {\r\n    var theConsole = getConsole();\r\n    if (!!theConsole) {\r\n        var logFunc = \"log\";\r\n        if (theConsole[func]) {\r\n            logFunc = func;\r\n        }\r\n        if (isFunction(theConsole[logFunc])) {\r\n            theConsole[logFunc](message);\r\n        }\r\n    }\r\n}\r\nvar _InternalLogMessage = /** @class */ (function () {\r\n    function _InternalLogMessage(msgId, msg, isUserAct, properties) {\r\n        if (isUserAct === void 0) { isUserAct = false; }\r\n        var _self = this;\r\n        _self[_DYN_MESSAGE_ID /* @min:%2emessageId */] = msgId;\r\n        _self[_DYN_MESSAGE /* @min:%2emessage */] =\r\n            (isUserAct ? AiUserActionablePrefix : AiNonUserActionablePrefix) +\r\n                msgId;\r\n        var strProps = STR_EMPTY;\r\n        if (hasJSON()) {\r\n            strProps = getJSON().stringify(properties);\r\n        }\r\n        var diagnosticText = (msg ? \" message:\" + _sanitizeDiagnosticText(msg) : STR_EMPTY) +\r\n            (properties ? \" props:\" + _sanitizeDiagnosticText(strProps) : STR_EMPTY);\r\n        _self[_DYN_MESSAGE /* @min:%2emessage */] += diagnosticText;\r\n    }\r\n    _InternalLogMessage.dataType = \"MessageData\";\r\n    return _InternalLogMessage;\r\n}());\r\nexport { _InternalLogMessage };\r\nexport function safeGetLogger(core, config) {\r\n    return (core || {})[_DYN_LOGGER /* @min:%2elogger */] || new DiagnosticLogger(config);\r\n}\r\nvar DiagnosticLogger = /** @class */ (function () {\r\n    function DiagnosticLogger(config) {\r\n        this.identifier = \"DiagnosticLogger\";\r\n        /**\r\n         * The internal logging queue\r\n         */\r\n        this.queue = [];\r\n        /**\r\n         * Count of internal messages sent\r\n         */\r\n        var _messageCount = 0;\r\n        /**\r\n         * Holds information about what message types were already logged to console or sent to server.\r\n         */\r\n        var _messageLogged = {};\r\n        var _loggingLevelConsole;\r\n        var _loggingLevelTelemetry;\r\n        var _maxInternalMessageLimit;\r\n        var _enableDebug;\r\n        dynamicProto(DiagnosticLogger, this, function (_self) {\r\n            _setDefaultsFromConfig(config || {});\r\n            _self.consoleLoggingLevel = function () { return _loggingLevelConsole; };\r\n            _self.telemetryLoggingLevel = function () { return _loggingLevelTelemetry; };\r\n            _self.maxInternalMessageLimit = function () { return _maxInternalMessageLimit; };\r\n            _self[_DYN_ENABLE_DEBUG_EXCEPTI4 /* @min:%2eenableDebugExceptions */] = function () { return _enableDebug; };\r\n            /**\r\n             * This method will throw exceptions in debug mode or attempt to log the error as a console warning.\r\n             * @param severity {LoggingSeverity} - The severity of the log message\r\n             * @param message {_InternalLogMessage} - The log message.\r\n             */\r\n            _self.throwInternal = function (severity, msgId, msg, properties, isUserAct) {\r\n                if (isUserAct === void 0) { isUserAct = false; }\r\n                var message = new _InternalLogMessage(msgId, msg, isUserAct, properties);\r\n                if (_enableDebug) {\r\n                    throw dumpObj(message);\r\n                }\r\n                else {\r\n                    // Get the logging function and fallback to warnToConsole of for some reason errorToConsole doesn't exist\r\n                    var logFunc = severity === 1 /* eLoggingSeverity.CRITICAL */ ? STR_ERROR_TO_CONSOLE : STR_WARN_TO_CONSOLE;\r\n                    if (!isUndefined(message[_DYN_MESSAGE /* @min:%2emessage */])) {\r\n                        if (isUserAct) {\r\n                            // check if this message type was already logged to console for this page view and if so, don't log it again\r\n                            var messageKey = +message[_DYN_MESSAGE_ID /* @min:%2emessageId */];\r\n                            if (!_messageLogged[messageKey] && _loggingLevelConsole >= severity) {\r\n                                _self[logFunc](message[_DYN_MESSAGE /* @min:%2emessage */]);\r\n                                _messageLogged[messageKey] = true;\r\n                            }\r\n                        }\r\n                        else {\r\n                            // Only log traces if the console Logging Level is >= the throwInternal severity level\r\n                            if (_loggingLevelConsole >= severity) {\r\n                                _self[logFunc](message[_DYN_MESSAGE /* @min:%2emessage */]);\r\n                            }\r\n                        }\r\n                        _logInternalMessage(severity, message);\r\n                    }\r\n                    else {\r\n                        _debugExtMsg(\"throw\" + (severity === 1 /* eLoggingSeverity.CRITICAL */ ? \"Critical\" : \"Warning\"), message);\r\n                    }\r\n                }\r\n            };\r\n            /**\r\n             * This will write a warning to the console if possible\r\n             * @param message {string} - The warning message\r\n             */\r\n            _self[STR_WARN_TO_CONSOLE /* @min:%2ewarnToConsole */] = function (message) {\r\n                _logToConsole(\"warn\", message);\r\n                _debugExtMsg(\"warning\", message);\r\n            };\r\n            /**\r\n             * This will write an error to the console if possible\r\n             * @param message {string} - The error message\r\n             */\r\n            _self[STR_ERROR_TO_CONSOLE /* @min:%2eerrorToConsole */] = function (message) {\r\n                _logToConsole(\"error\", message);\r\n                _debugExtMsg(\"error\", message);\r\n            };\r\n            /**\r\n             * Resets the internal message count\r\n             */\r\n            _self.resetInternalMessageCount = function () {\r\n                _messageCount = 0;\r\n                _messageLogged = {};\r\n            };\r\n            /**\r\n             * Logs a message to the internal queue.\r\n             * @param severity {LoggingSeverity} - The severity of the log message\r\n             * @param message {_InternalLogMessage} - The message to log.\r\n             */\r\n            _self[_DYN_LOG_INTERNAL_MESSAGE /* @min:%2elogInternalMessage */] = _logInternalMessage;\r\n            function _logInternalMessage(severity, message) {\r\n                if (_areInternalMessagesThrottled()) {\r\n                    return;\r\n                }\r\n                // check if this message type was already logged for this session and if so, don't log it again\r\n                var logMessage = true;\r\n                var messageKey = AIInternalMessagePrefix + message[_DYN_MESSAGE_ID /* @min:%2emessageId */];\r\n                // if the session storage is not available, limit to only one message type per page view\r\n                if (_messageLogged[messageKey]) {\r\n                    logMessage = false;\r\n                }\r\n                else {\r\n                    _messageLogged[messageKey] = true;\r\n                }\r\n                if (logMessage) {\r\n                    // Push the event in the internal queue\r\n                    if (severity <= _loggingLevelTelemetry) {\r\n                        _self.queue[_DYN_PUSH /* @min:%2epush */](message);\r\n                        _messageCount++;\r\n                        _debugExtMsg((severity === 1 /* eLoggingSeverity.CRITICAL */ ? \"error\" : \"warn\"), message);\r\n                    }\r\n                    // When throttle limit reached, send a special event\r\n                    if (_messageCount === _maxInternalMessageLimit) {\r\n                        var throttleLimitMessage = \"Internal events throttle limit per PageView reached for this app.\";\r\n                        var throttleMessage = new _InternalLogMessage(23 /* _eInternalMessageId.MessageLimitPerPVExceeded */, throttleLimitMessage, false);\r\n                        _self.queue[_DYN_PUSH /* @min:%2epush */](throttleMessage);\r\n                        if (severity === 1 /* eLoggingSeverity.CRITICAL */) {\r\n                            _self[STR_ERROR_TO_CONSOLE /* @min:%2eerrorToConsole */](throttleLimitMessage);\r\n                        }\r\n                        else {\r\n                            _self[STR_WARN_TO_CONSOLE /* @min:%2ewarnToConsole */](throttleLimitMessage);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            function _setDefaultsFromConfig(config) {\r\n                _loggingLevelConsole = getCfgValue(config.loggingLevelConsole, 0);\r\n                _loggingLevelTelemetry = getCfgValue(config.loggingLevelTelemetry, 1);\r\n                _maxInternalMessageLimit = getCfgValue(config.maxMessageLimit, 25);\r\n                _enableDebug = getCfgValue(config.enableDebug, getCfgValue(config[_DYN_ENABLE_DEBUG_EXCEPTI4 /* @min:%2eenableDebugExceptions */], false));\r\n            }\r\n            function _areInternalMessagesThrottled() {\r\n                return _messageCount >= _maxInternalMessageLimit;\r\n            }\r\n            function _debugExtMsg(name, data) {\r\n                var dbgExt = getDebugExt(config || {});\r\n                if (dbgExt && dbgExt[_DYN_DIAG_LOG /* @min:%2ediagLog */]) {\r\n                    dbgExt[_DYN_DIAG_LOG /* @min:%2ediagLog */](name, data);\r\n                }\r\n            }\r\n        });\r\n    }\r\n// Removed Stub for DiagnosticLogger.prototype.enableDebugExceptions.\r\n// Removed Stub for DiagnosticLogger.prototype.consoleLoggingLevel.\r\n// Removed Stub for DiagnosticLogger.prototype.telemetryLoggingLevel.\r\n// Removed Stub for DiagnosticLogger.prototype.maxInternalMessageLimit.\r\n// Removed Stub for DiagnosticLogger.prototype.throwInternal.\r\n// Removed Stub for DiagnosticLogger.prototype.warnToConsole.\r\n// Removed Stub for DiagnosticLogger.prototype.errorToConsole.\r\n// Removed Stub for DiagnosticLogger.prototype.resetInternalMessageCount.\r\n// Removed Stub for DiagnosticLogger.prototype.logInternalMessage.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    DiagnosticLogger.__ieDyn=1;\n\n    return DiagnosticLogger;\r\n}());\r\nexport { DiagnosticLogger };\r\nfunction _getLogger(logger) {\r\n    return (logger || new DiagnosticLogger());\r\n}\r\n/**\r\n * This is a helper method which will call throwInternal on the passed logger, will throw exceptions in\r\n * debug mode or attempt to log the error as a console warning. This helper is provided mostly to better\r\n * support minification as logger.throwInternal() will not compress the publish \"throwInternal\" used throughout\r\n * the code.\r\n * @param logger - The Diagnostic Logger instance to use.\r\n * @param severity {LoggingSeverity} - The severity of the log message\r\n * @param message {_InternalLogMessage} - The log message.\r\n */\r\nexport function _throwInternal(logger, severity, msgId, msg, properties, isUserAct) {\r\n    if (isUserAct === void 0) { isUserAct = false; }\r\n    _getLogger(logger).throwInternal(severity, msgId, msg, properties, isUserAct);\r\n}\r\n/**\r\n * This is a helper method which will call warnToConsole on the passed logger with the provided message.\r\n * @param logger - The Diagnostic Logger instance to use.\r\n * @param message {_InternalLogMessage} - The log message.\r\n */\r\nexport function _warnToConsole(logger, message) {\r\n    _getLogger(logger)[STR_WARN_TO_CONSOLE /* @min:%2ewarnToConsole */](message);\r\n}\r\n/**\r\n * Logs a message to the internal queue.\r\n * @param logger - The Diagnostic Logger instance to use.\r\n * @param severity {LoggingSeverity} - The severity of the log message\r\n * @param message {_InternalLogMessage} - The message to log.\r\n */\r\nexport function _logInternalMessage(logger, severity, message) {\r\n    _getLogger(logger)[_DYN_LOG_INTERNAL_MESSAGE /* @min:%2elogInternalMessage */](severity, message);\r\n}\r\n//# sourceMappingURL=DiagnosticLogger.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { _DYN_COMPLETE, _DYN_GET_CTX, _DYN_IS_ASYNC, _DYN_IS_CHILD_EVT, _DYN_LENGTH, _DYN_NAME, _DYN_PUSH, _DYN_SET_CTX, _DYN_TIME } from \"../__DynamicConstants\";\r\nimport { dateNow, isArray, isFunction, objDefineAccessors } from \"./HelperFuncs\";\r\nimport { STR_GET_PERF_MGR, STR_PERF_EVENT } from \"./InternalConstants\";\r\nvar strExecutionContextKey = \"ctx\";\r\nvar strParentContextKey = \"ParentContextKey\";\r\nvar strChildrenContextKey = \"ChildrenContextKey\";\r\nvar _defaultPerfManager = null;\r\nvar PerfEvent = /** @class */ (function () {\r\n    function PerfEvent(name, payloadDetails, isAsync) {\r\n        var _self = this;\r\n        var accessorDefined = false;\r\n        _self.start = dateNow();\r\n        _self[_DYN_NAME /* @min:%2ename */] = name;\r\n        _self[_DYN_IS_ASYNC /* @min:%2eisAsync */] = isAsync;\r\n        _self[_DYN_IS_CHILD_EVT /* @min:%2eisChildEvt */] = function () { return false; };\r\n        if (isFunction(payloadDetails)) {\r\n            // Create an accessor to minimize the potential performance impact of executing the payloadDetails callback\r\n            var theDetails_1;\r\n            accessorDefined = objDefineAccessors(_self, \"payload\", function () {\r\n                // Delay the execution of the payloadDetails until needed\r\n                if (!theDetails_1 && isFunction(payloadDetails)) {\r\n                    theDetails_1 = payloadDetails();\r\n                    // clear it out now so the referenced objects can be garbage collected\r\n                    payloadDetails = null;\r\n                }\r\n                return theDetails_1;\r\n            });\r\n        }\r\n        _self[_DYN_GET_CTX /* @min:%2egetCtx */] = function (key) {\r\n            if (key) {\r\n                // The parent and child links are located directly on the object (for better viewing in the DebugPlugin)\r\n                if (key === PerfEvent[strParentContextKey] || key === PerfEvent[strChildrenContextKey]) {\r\n                    return _self[key];\r\n                }\r\n                return (_self[strExecutionContextKey] || {})[key];\r\n            }\r\n            return null;\r\n        };\r\n        _self[_DYN_SET_CTX /* @min:%2esetCtx */] = function (key, value) {\r\n            if (key) {\r\n                // Put the parent and child links directly on the object (for better viewing in the DebugPlugin)\r\n                if (key === PerfEvent[strParentContextKey]) {\r\n                    // Simple assumption, if we are setting a parent then we must be a child\r\n                    if (!_self[key]) {\r\n                        _self[_DYN_IS_CHILD_EVT /* @min:%2eisChildEvt */] = function () { return true; };\r\n                    }\r\n                    _self[key] = value;\r\n                }\r\n                else if (key === PerfEvent[strChildrenContextKey]) {\r\n                    _self[key] = value;\r\n                }\r\n                else {\r\n                    var ctx = _self[strExecutionContextKey] = _self[strExecutionContextKey] || {};\r\n                    ctx[key] = value;\r\n                }\r\n            }\r\n        };\r\n        _self[_DYN_COMPLETE /* @min:%2ecomplete */] = function () {\r\n            var childTime = 0;\r\n            var childEvts = _self[_DYN_GET_CTX /* @min:%2egetCtx */](PerfEvent[strChildrenContextKey]);\r\n            if (isArray(childEvts)) {\r\n                for (var lp = 0; lp < childEvts[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n                    var childEvt = childEvts[lp];\r\n                    if (childEvt) {\r\n                        childTime += childEvt[_DYN_TIME /* @min:%2etime */];\r\n                    }\r\n                }\r\n            }\r\n            _self[_DYN_TIME /* @min:%2etime */] = dateNow() - _self.start;\r\n            _self.exTime = _self[_DYN_TIME /* @min:%2etime */] - childTime;\r\n            _self[_DYN_COMPLETE /* @min:%2ecomplete */] = function () { };\r\n            if (!accessorDefined && isFunction(payloadDetails)) {\r\n                // If we couldn't define the property set during complete -- to minimize the perf impact until after the time\r\n                _self.payload = payloadDetails();\r\n            }\r\n        };\r\n    }\r\n    PerfEvent.ParentContextKey = \"parent\";\r\n    PerfEvent.ChildrenContextKey = \"childEvts\";\r\n    return PerfEvent;\r\n}());\r\nexport { PerfEvent };\r\nvar PerfManager = /** @class */ (function () {\r\n    function PerfManager(manager) {\r\n        /**\r\n         * General bucket used for execution context set and retrieved via setCtx() and getCtx.\r\n         * Defined as private so it can be visualized via the DebugPlugin\r\n         */\r\n        this.ctx = {};\r\n        dynamicProto(PerfManager, this, function (_self) {\r\n            _self.create = function (src, payloadDetails, isAsync) {\r\n                // TODO (@MSNev): at some point we will want to add additional configuration to \"select\" which events to instrument\r\n                // for now this is just a simple do everything.\r\n                return new PerfEvent(src, payloadDetails, isAsync);\r\n            };\r\n            _self.fire = function (perfEvent) {\r\n                if (perfEvent) {\r\n                    perfEvent[_DYN_COMPLETE /* @min:%2ecomplete */]();\r\n                    if (manager && isFunction(manager[STR_PERF_EVENT /* @min:%2eperfEvent */])) {\r\n                        manager[STR_PERF_EVENT /* @min:%2eperfEvent */](perfEvent);\r\n                    }\r\n                }\r\n            };\r\n            _self[_DYN_SET_CTX /* @min:%2esetCtx */] = function (key, value) {\r\n                if (key) {\r\n                    var ctx = _self[strExecutionContextKey] = _self[strExecutionContextKey] || {};\r\n                    ctx[key] = value;\r\n                }\r\n            };\r\n            _self[_DYN_GET_CTX /* @min:%2egetCtx */] = function (key) {\r\n                return (_self[strExecutionContextKey] || {})[key];\r\n            };\r\n        });\r\n    }\r\n// Removed Stub for PerfManager.prototype.create.\r\n// Removed Stub for PerfManager.prototype.fire.\r\n// Removed Stub for PerfManager.prototype.setCtx.\r\n// Removed Stub for PerfManager.prototype.getCtx.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    PerfManager.__ieDyn=1;\n\n    return PerfManager;\r\n}());\r\nexport { PerfManager };\r\nvar doPerfActiveKey = \"CoreUtils.doPerf\";\r\n/**\r\n * Helper function to wrap a function with a perf event\r\n * @param mgrSource - The Performance Manager or a Performance provider source (may be null)\r\n * @param getSource - The callback to create the source name for the event (if perf monitoring is enabled)\r\n * @param func - The function to call and measure\r\n * @param details - A function to return the payload details\r\n * @param isAsync - Is the event / function being call asynchronously or synchronously\r\n */\r\nexport function doPerf(mgrSource, getSource, func, details, isAsync) {\r\n    if (mgrSource) {\r\n        var perfMgr = mgrSource;\r\n        if (perfMgr[STR_GET_PERF_MGR]) {\r\n            // Looks like a perf manager provider object\r\n            perfMgr = perfMgr[STR_GET_PERF_MGR]();\r\n        }\r\n        if (perfMgr) {\r\n            var perfEvt = void 0;\r\n            var currentActive = perfMgr[_DYN_GET_CTX /* @min:%2egetCtx */](doPerfActiveKey);\r\n            try {\r\n                perfEvt = perfMgr.create(getSource(), details, isAsync);\r\n                if (perfEvt) {\r\n                    if (currentActive && perfEvt[_DYN_SET_CTX /* @min:%2esetCtx */]) {\r\n                        perfEvt[_DYN_SET_CTX /* @min:%2esetCtx */](PerfEvent[strParentContextKey], currentActive);\r\n                        if (currentActive[_DYN_GET_CTX /* @min:%2egetCtx */] && currentActive[_DYN_SET_CTX /* @min:%2esetCtx */]) {\r\n                            var children = currentActive[_DYN_GET_CTX /* @min:%2egetCtx */](PerfEvent[strChildrenContextKey]);\r\n                            if (!children) {\r\n                                children = [];\r\n                                currentActive[_DYN_SET_CTX /* @min:%2esetCtx */](PerfEvent[strChildrenContextKey], children);\r\n                            }\r\n                            children[_DYN_PUSH /* @min:%2epush */](perfEvt);\r\n                        }\r\n                    }\r\n                    // Set this event as the active event now\r\n                    perfMgr[_DYN_SET_CTX /* @min:%2esetCtx */](doPerfActiveKey, perfEvt);\r\n                    return func(perfEvt);\r\n                }\r\n            }\r\n            catch (ex) {\r\n                if (perfEvt && perfEvt[_DYN_SET_CTX /* @min:%2esetCtx */]) {\r\n                    perfEvt[_DYN_SET_CTX /* @min:%2esetCtx */](\"exception\", ex);\r\n                }\r\n            }\r\n            finally {\r\n                // fire the perf event\r\n                if (perfEvt) {\r\n                    perfMgr.fire(perfEvt);\r\n                }\r\n                // Reset the active event to the previous value\r\n                perfMgr[_DYN_SET_CTX /* @min:%2esetCtx */](doPerfActiveKey, currentActive);\r\n            }\r\n        }\r\n    }\r\n    return func();\r\n}\r\n/**\r\n * Set the global performance manager to use when there is no core instance or it has not been initialized yet.\r\n * @param perfManager - The IPerfManager instance to use when no performance manager is supplied.\r\n */\r\nexport function setGblPerfMgr(perfManager) {\r\n    _defaultPerfManager = perfManager;\r\n}\r\n/**\r\n * Get the current global performance manager that will be used with no performance manager is supplied.\r\n * @returns - The current default manager\r\n */\r\nexport function getGblPerfMgr() {\r\n    return _defaultPerfManager;\r\n}\r\n//# sourceMappingURL=PerfManager.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { _DYN_LENGTH } from \"../__DynamicConstants\";\r\nimport { getCrypto, getMsCrypto, isIE } from \"./EnvUtils\";\r\nimport { dateNow } from \"./HelperFuncs\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nvar UInt32Mask = 0x100000000;\r\nvar MaxUInt32 = 0xffffffff;\r\n// MWC based Random generator (for IE)\r\nvar _mwcSeeded = false;\r\nvar _mwcW = 123456789;\r\nvar _mwcZ = 987654321;\r\n// Takes any integer\r\nfunction _mwcSeed(seedValue) {\r\n    if (seedValue < 0) {\r\n        // Make sure we end up with a positive number and not -ve one.\r\n        seedValue >>>= 0;\r\n    }\r\n    _mwcW = (123456789 + seedValue) & MaxUInt32;\r\n    _mwcZ = (987654321 - seedValue) & MaxUInt32;\r\n    _mwcSeeded = true;\r\n}\r\nfunction _autoSeedMwc() {\r\n    // Simple initialization using default Math.random() - So we inherit any entropy from the browser\r\n    // and bitwise XOR with the current milliseconds\r\n    try {\r\n        var now = dateNow() & 0x7fffffff;\r\n        _mwcSeed(((Math.random() * UInt32Mask) ^ now) + now);\r\n    }\r\n    catch (e) {\r\n        // Don't crash if something goes wrong\r\n    }\r\n}\r\n/**\r\n * Generate a random value between 0 and maxValue, max value should be limited to a 32-bit maximum.\r\n * So maxValue(16) will produce a number from 0..16 (range of 17)\r\n * @param maxValue\r\n */\r\nexport function randomValue(maxValue) {\r\n    if (maxValue > 0) {\r\n        return Math.floor((random32() / MaxUInt32) * (maxValue + 1)) >>> 0;\r\n    }\r\n    return 0;\r\n}\r\n/**\r\n * generate a random 32-bit number (0x000000..0xFFFFFFFF) or (-0x80000000..0x7FFFFFFF), defaults un-unsigned.\r\n * @param signed - True to return a signed 32-bit number (-0x80000000..0x7FFFFFFF) otherwise an unsigned one (0x000000..0xFFFFFFFF)\r\n */\r\nexport function random32(signed) {\r\n    var value = 0;\r\n    var c = getCrypto() || getMsCrypto();\r\n    if (c && c.getRandomValues) {\r\n        // Make sure the number is converted into the specified range (-0x80000000..0x7FFFFFFF)\r\n        value = c.getRandomValues(new Uint32Array(1))[0] & MaxUInt32;\r\n    }\r\n    if (value === 0 && isIE()) {\r\n        // For IE 6, 7, 8 (especially on XP) Math.random is not very random\r\n        if (!_mwcSeeded) {\r\n            // Set the seed for the Mwc algorithm\r\n            _autoSeedMwc();\r\n        }\r\n        // Don't use Math.random for IE\r\n        // Make sure the number is converted into the specified range (-0x80000000..0x7FFFFFFF)\r\n        value = mwcRandom32() & MaxUInt32;\r\n    }\r\n    if (value === 0) {\r\n        // Make sure the number is converted into the specified range (-0x80000000..0x7FFFFFFF)\r\n        value = Math.floor((UInt32Mask * Math.random()) | 0);\r\n    }\r\n    if (!signed) {\r\n        // Make sure we end up with a positive number and not -ve one.\r\n        value >>>= 0;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Seed the MWC random number generator with the specified seed or a random value\r\n * @param value - optional the number to used as the seed, if undefined, null or zero a random value will be chosen\r\n */\r\nexport function mwcRandomSeed(value) {\r\n    if (!value) {\r\n        _autoSeedMwc();\r\n    }\r\n    else {\r\n        _mwcSeed(value);\r\n    }\r\n}\r\n/**\r\n * Generate a random 32-bit number between (0x000000..0xFFFFFFFF) or (-0x80000000..0x7FFFFFFF), using MWC (Multiply with carry)\r\n * instead of Math.random() defaults to un-signed.\r\n * Used as a replacement random generator for IE to avoid issues with older IE instances.\r\n * @param signed - True to return a signed 32-bit number (-0x80000000..0x7FFFFFFF) otherwise an unsigned one (0x000000..0xFFFFFFFF)\r\n */\r\nexport function mwcRandom32(signed) {\r\n    _mwcZ = (36969 * (_mwcZ & 0xFFFF) + (_mwcZ >> 16)) & MaxUInt32;\r\n    _mwcW = (18000 * (_mwcW & 0xFFFF) + (_mwcW >> 16)) & MaxUInt32;\r\n    var value = (((_mwcZ << 16) + (_mwcW & 0xFFFF)) >>> 0) & MaxUInt32 | 0;\r\n    if (!signed) {\r\n        // Make sure we end up with a positive number and not -ve one.\r\n        value >>>= 0;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Generate random base64 id string.\r\n * The default length is 22 which is 132-bits so almost the same as a GUID but as base64 (the previous default was 5)\r\n * @param maxLength - Optional value to specify the length of the id to be generated, defaults to 22\r\n */\r\nexport function newId(maxLength) {\r\n    if (maxLength === void 0) { maxLength = 22; }\r\n    var base64chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\r\n    // Start with an initial random number, consuming the value in reverse byte order\r\n    var number = random32() >>> 0; // Make sure it's a +ve number\r\n    var chars = 0;\r\n    var result = STR_EMPTY;\r\n    while (result[_DYN_LENGTH /* @min:%2elength */] < maxLength) {\r\n        chars++;\r\n        result += base64chars.charAt(number & 0x3F);\r\n        number >>>= 6; // Zero fill with right shift\r\n        if (chars === 5) {\r\n            // 5 base64 characters === 30 bits so we don't have enough bits for another base64 char\r\n            // So add on another 30 bits and make sure it's +ve\r\n            number = (((random32() << 2) & 0xFFFFFFFF) | (number & 0x03)) >>> 0;\r\n            chars = 0; // We need to reset the number every 5 chars (30 bits)\r\n        }\r\n    }\r\n    return result;\r\n}\r\n//# sourceMappingURL=RandomHelper.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { ObjDefineProperty } from \"@microsoft/applicationinsights-shims\";\r\nimport { _DYN_NODE_TYPE } from \"../__DynamicConstants\";\r\nimport { normalizeJsName } from \"./HelperFuncs\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nimport { newId } from \"./RandomHelper\";\r\nvar _objDefineProperty = ObjDefineProperty;\r\nvar version = '2.8.14';\r\nvar instanceName = \".\" + newId(6);\r\nvar _dataUid = 0;\r\nfunction _createAccessor(target, prop, value) {\r\n    if (_objDefineProperty) {\r\n        try {\r\n            _objDefineProperty(target, prop, {\r\n                value: value,\r\n                enumerable: false,\r\n                configurable: true\r\n            });\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            // IE8 Defines a defineProperty on Object but it's only supported for DOM elements so it will throw\r\n            // We will just ignore this here.\r\n        }\r\n    }\r\n    return false;\r\n}\r\n// Accepts only:\r\n//  - Node\r\n//    - Node.ELEMENT_NODE\r\n//    - Node.DOCUMENT_NODE\r\n//  - Object\r\n//    - Any\r\nfunction _canAcceptData(target) {\r\n    return target[_DYN_NODE_TYPE /* @min:%2enodeType */] === 1 || target[_DYN_NODE_TYPE /* @min:%2enodeType */] === 9 || !(+target[_DYN_NODE_TYPE /* @min:%2enodeType */]);\r\n}\r\nfunction _getCache(data, target) {\r\n    var theCache = target[data.id];\r\n    if (!theCache) {\r\n        theCache = {};\r\n        try {\r\n            if (_canAcceptData(target)) {\r\n                if (!_createAccessor(target, data.id, theCache)) {\r\n                    // Environment doesn't support accessor, so just use direct assignment\r\n                    target[data.id] = theCache;\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // Not all environments allow extending all objects, so just ignore the cache in those cases\r\n        }\r\n    }\r\n    return theCache;\r\n}\r\nexport function createUniqueNamespace(name, includeVersion) {\r\n    if (includeVersion === void 0) { includeVersion = false; }\r\n    return normalizeJsName(name + (_dataUid++) + (includeVersion ? \".\" + version : STR_EMPTY) + instanceName);\r\n}\r\nexport function createElmNodeData(name) {\r\n    var data = {\r\n        id: createUniqueNamespace(\"_aiData-\" + (name || STR_EMPTY) + \".\" + version),\r\n        accept: function (target) {\r\n            return _canAcceptData(target);\r\n        },\r\n        get: function (target, name, defValue, addDefault) {\r\n            var theCache = target[data.id];\r\n            if (!theCache) {\r\n                if (addDefault) {\r\n                    // Side effect is adds the cache\r\n                    theCache = _getCache(data, target);\r\n                    theCache[normalizeJsName(name)] = defValue;\r\n                }\r\n                return defValue;\r\n            }\r\n            return theCache[normalizeJsName(name)];\r\n        },\r\n        kill: function (target, name) {\r\n            if (target && target[name]) {\r\n                try {\r\n                    delete target[name];\r\n                }\r\n                catch (e) {\r\n                    // Just cleaning up, so if this fails -- ignore\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return data;\r\n}\r\n//# sourceMappingURL=DataCacheHelper.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nimport { _DYN_COOKIE_CFG, _DYN_INDEX_OF, _DYN_LENGTH, _DYN_LOGGER, _DYN_SET_ENABLED, _DYN_SPLIT, _DYN_SUBSTRING, _DYN_USER_AGENT } from \"../__DynamicConstants\";\r\nimport { _throwInternal } from \"./DiagnosticLogger\";\r\nimport { dumpObj, getDocument, getLocation, getNavigator, isIE } from \"./EnvUtils\";\r\nimport { arrForEach, dateNow, getExceptionName, isArray, isFunction, isNotNullOrUndefined, isNullOrUndefined, isString, isTruthy, isUndefined, objForEachKey, setValue, strContains, strEndsWith, strTrim } from \"./HelperFuncs\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nvar strToGMTString = \"toGMTString\";\r\nvar strToUTCString = \"toUTCString\";\r\nvar strCookie = \"cookie\";\r\nvar strExpires = \"expires\";\r\nvar strEnabled = \"enabled\";\r\nvar strIsCookieUseDisabled = \"isCookieUseDisabled\";\r\nvar strDisableCookiesUsage = \"disableCookiesUsage\";\r\nvar strConfigCookieMgr = \"_ckMgr\";\r\nvar _supportsCookies = null;\r\nvar _allowUaSameSite = null;\r\nvar _parsedCookieValue = null;\r\nvar _doc = getDocument();\r\nvar _cookieCache = {};\r\nvar _globalCookieConfig = {};\r\n/**\r\n * @ignore\r\n * DO NOT USE or export from the module, this is exposed as public to support backward compatibility of previous static utility methods only.\r\n * If you want to manager cookies either use the ICookieMgr available from the core instance via getCookieMgr() or create\r\n * your own instance of the CookieMgr and use that.\r\n * Using this directly for enabling / disabling cookie handling will not only affect your usage but EVERY user of cookies.\r\n * Example, if you are using a shared component that is also using Application Insights you will affect their cookie handling.\r\n * @param logger - The DiagnosticLogger to use for reporting errors.\r\n */\r\nexport function _gblCookieMgr(config, logger) {\r\n    // Stash the global instance against the BaseCookieMgr class\r\n    var inst = createCookieMgr[strConfigCookieMgr] || _globalCookieConfig[strConfigCookieMgr];\r\n    if (!inst) {\r\n        // Note: not using the getSetValue() helper as that would require always creating a temporary cookieMgr\r\n        // that ultimately is never used\r\n        inst = createCookieMgr[strConfigCookieMgr] = createCookieMgr(config, logger);\r\n        _globalCookieConfig[strConfigCookieMgr] = inst;\r\n    }\r\n    return inst;\r\n}\r\nfunction _isMgrEnabled(cookieMgr) {\r\n    if (cookieMgr) {\r\n        return cookieMgr.isEnabled();\r\n    }\r\n    return true;\r\n}\r\nfunction _createCookieMgrConfig(rootConfig) {\r\n    var cookieMgrCfg = rootConfig[_DYN_COOKIE_CFG /* @min:%2ecookieCfg */] = rootConfig[_DYN_COOKIE_CFG /* @min:%2ecookieCfg */] || {};\r\n    // Sets the values from the root config if not already present on the cookieMgrCfg\r\n    setValue(cookieMgrCfg, \"domain\", rootConfig.cookieDomain, isNotNullOrUndefined, isNullOrUndefined);\r\n    setValue(cookieMgrCfg, \"path\", rootConfig.cookiePath || \"/\", null, isNullOrUndefined);\r\n    if (isNullOrUndefined(cookieMgrCfg[strEnabled])) {\r\n        // Set the enabled from the provided setting or the legacy root values\r\n        var cookieEnabled = void 0;\r\n        if (!isUndefined(rootConfig[strIsCookieUseDisabled])) {\r\n            cookieEnabled = !rootConfig[strIsCookieUseDisabled];\r\n        }\r\n        if (!isUndefined(rootConfig[strDisableCookiesUsage])) {\r\n            cookieEnabled = !rootConfig[strDisableCookiesUsage];\r\n        }\r\n        cookieMgrCfg[strEnabled] = cookieEnabled;\r\n    }\r\n    return cookieMgrCfg;\r\n}\r\nfunction _isIgnoredCookie(cookieMgrCfg, name) {\r\n    if (name && cookieMgrCfg && isArray(cookieMgrCfg.ignoreCookies)) {\r\n        return cookieMgrCfg.ignoreCookies[_DYN_INDEX_OF /* @min:%2eindexOf */](name) !== -1;\r\n    }\r\n    return false;\r\n}\r\nfunction _isBlockedCookie(cookieMgrCfg, name) {\r\n    if (name && cookieMgrCfg && isArray(cookieMgrCfg.blockedCookies)) {\r\n        if (cookieMgrCfg.blockedCookies[_DYN_INDEX_OF /* @min:%2eindexOf */](name) !== -1) {\r\n            return true;\r\n        }\r\n    }\r\n    return _isIgnoredCookie(cookieMgrCfg, name);\r\n}\r\n/**\r\n * Helper to return the ICookieMgr from the core (if not null/undefined) or a default implementation\r\n * associated with the configuration or a legacy default.\r\n * @param core\r\n * @param config\r\n * @returns\r\n */\r\nexport function safeGetCookieMgr(core, config) {\r\n    var cookieMgr;\r\n    if (core) {\r\n        // Always returns an instance\r\n        cookieMgr = core.getCookieMgr();\r\n    }\r\n    else if (config) {\r\n        var cookieCfg = config[_DYN_COOKIE_CFG /* @min:%2ecookieCfg */];\r\n        if (cookieCfg[strConfigCookieMgr]) {\r\n            cookieMgr = cookieCfg[strConfigCookieMgr];\r\n        }\r\n        else {\r\n            cookieMgr = createCookieMgr(config);\r\n        }\r\n    }\r\n    if (!cookieMgr) {\r\n        // Get or initialize the default global (legacy) cookie manager if we couldn't find one\r\n        cookieMgr = _gblCookieMgr(config, (core || {})[_DYN_LOGGER /* @min:%2elogger */]);\r\n    }\r\n    return cookieMgr;\r\n}\r\nexport function createCookieMgr(rootConfig, logger) {\r\n    var _a;\r\n    var cookieMgrConfig = _createCookieMgrConfig(rootConfig || _globalCookieConfig);\r\n    var _path = cookieMgrConfig.path || \"/\";\r\n    var _domain = cookieMgrConfig.domain;\r\n    // Explicitly checking against false, so that setting to undefined will === true\r\n    var _enabled = cookieMgrConfig[strEnabled] !== false;\r\n    var cookieMgr = (_a = {\r\n            isEnabled: function () {\r\n                var enabled = _enabled && areCookiesSupported(logger);\r\n                // Using an indirect lookup for any global cookie manager to support tree shaking for SDK's\r\n                // that don't use the \"applicationinsights-core\" version of the default cookie function\r\n                var gblManager = _globalCookieConfig[strConfigCookieMgr];\r\n                if (enabled && gblManager && cookieMgr !== gblManager) {\r\n                    // Make sure the GlobalCookie Manager instance (if not this instance) is also enabled.\r\n                    // As the global (deprecated) functions may have been called (for backward compatibility)\r\n                    enabled = _isMgrEnabled(gblManager);\r\n                }\r\n                return enabled;\r\n            }\r\n        },\r\n        _a[_DYN_SET_ENABLED /* @min:setEnabled */] = function (value) {\r\n            // Explicitly checking against false, so that setting to undefined will === true\r\n            _enabled = value !== false;\r\n        },\r\n        _a.set = function (name, value, maxAgeSec, domain, path) {\r\n            var result = false;\r\n            if (_isMgrEnabled(cookieMgr) && !_isBlockedCookie(cookieMgrConfig, name)) {\r\n                var values = {};\r\n                var theValue = strTrim(value || STR_EMPTY);\r\n                var idx = theValue[_DYN_INDEX_OF /* @min:%2eindexOf */](\";\");\r\n                if (idx !== -1) {\r\n                    theValue = strTrim(value[_DYN_SUBSTRING /* @min:%2esubstring */](0, idx));\r\n                    values = _extractParts(value[_DYN_SUBSTRING /* @min:%2esubstring */](idx + 1));\r\n                }\r\n                // Only update domain if not already present (isUndefined) and the value is truthy (not null, undefined or empty string)\r\n                setValue(values, \"domain\", domain || _domain, isTruthy, isUndefined);\r\n                if (!isNullOrUndefined(maxAgeSec)) {\r\n                    var _isIE = isIE();\r\n                    if (isUndefined(values[strExpires])) {\r\n                        var nowMs = dateNow();\r\n                        // Only add expires if not already present\r\n                        var expireMs = nowMs + (maxAgeSec * 1000);\r\n                        // Sanity check, if zero or -ve then ignore\r\n                        if (expireMs > 0) {\r\n                            var expiry = new Date();\r\n                            expiry.setTime(expireMs);\r\n                            setValue(values, strExpires, _formatDate(expiry, !_isIE ? strToUTCString : strToGMTString) || _formatDate(expiry, _isIE ? strToGMTString : strToUTCString) || STR_EMPTY, isTruthy);\r\n                        }\r\n                    }\r\n                    if (!_isIE) {\r\n                        // Only replace if not already present\r\n                        setValue(values, \"max-age\", STR_EMPTY + maxAgeSec, null, isUndefined);\r\n                    }\r\n                }\r\n                var location_1 = getLocation();\r\n                if (location_1 && location_1.protocol === \"https:\") {\r\n                    setValue(values, \"secure\", null, null, isUndefined);\r\n                    // Only set same site if not also secure\r\n                    if (_allowUaSameSite === null) {\r\n                        _allowUaSameSite = !uaDisallowsSameSiteNone((getNavigator() || {})[_DYN_USER_AGENT /* @min:%2euserAgent */]);\r\n                    }\r\n                    if (_allowUaSameSite) {\r\n                        setValue(values, \"SameSite\", \"None\", null, isUndefined);\r\n                    }\r\n                }\r\n                setValue(values, \"path\", path || _path, null, isUndefined);\r\n                var setCookieFn = cookieMgrConfig.setCookie || _setCookieValue;\r\n                setCookieFn(name, _formatCookieValue(theValue, values));\r\n                result = true;\r\n            }\r\n            return result;\r\n        },\r\n        _a.get = function (name) {\r\n            var value = STR_EMPTY;\r\n            if (_isMgrEnabled(cookieMgr) && !_isIgnoredCookie(cookieMgrConfig, name)) {\r\n                value = (cookieMgrConfig.getCookie || _getCookieValue)(name);\r\n            }\r\n            return value;\r\n        },\r\n        _a.del = function (name, path) {\r\n            var result = false;\r\n            if (_isMgrEnabled(cookieMgr)) {\r\n                // Only remove the cookie if the manager and cookie support has not been disabled\r\n                result = cookieMgr.purge(name, path);\r\n            }\r\n            return result;\r\n        },\r\n        _a.purge = function (name, path) {\r\n            var _a;\r\n            var result = false;\r\n            if (areCookiesSupported(logger)) {\r\n                // Setting the expiration date in the past immediately removes the cookie\r\n                var values = (_a = {},\r\n                    _a[\"path\"] = path ? path : \"/\",\r\n                    _a[strExpires] = \"Thu, 01 Jan 1970 00:00:01 GMT\",\r\n                    _a);\r\n                if (!isIE()) {\r\n                    // Set max age to expire now\r\n                    values[\"max-age\"] = \"0\";\r\n                }\r\n                var delCookie = cookieMgrConfig.delCookie || _setCookieValue;\r\n                delCookie(name, _formatCookieValue(STR_EMPTY, values));\r\n                result = true;\r\n            }\r\n            return result;\r\n        },\r\n        _a);\r\n    // Associated this cookie manager with the config\r\n    cookieMgr[strConfigCookieMgr] = cookieMgr;\r\n    return cookieMgr;\r\n}\r\n/*\r\n* Helper method to tell if document.cookie object is supported by the runtime\r\n*/\r\nexport function areCookiesSupported(logger) {\r\n    if (_supportsCookies === null) {\r\n        _supportsCookies = false;\r\n        try {\r\n            var doc = _doc || {};\r\n            _supportsCookies = doc[strCookie] !== undefined;\r\n        }\r\n        catch (e) {\r\n            _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 68 /* _eInternalMessageId.CannotAccessCookie */, \"Cannot access document.cookie - \" + getExceptionName(e), { exception: dumpObj(e) });\r\n        }\r\n    }\r\n    return _supportsCookies;\r\n}\r\nfunction _extractParts(theValue) {\r\n    var values = {};\r\n    if (theValue && theValue[_DYN_LENGTH /* @min:%2elength */]) {\r\n        var parts = strTrim(theValue)[_DYN_SPLIT /* @min:%2esplit */](\";\");\r\n        arrForEach(parts, function (thePart) {\r\n            thePart = strTrim(thePart || STR_EMPTY);\r\n            if (thePart) {\r\n                var idx = thePart[_DYN_INDEX_OF /* @min:%2eindexOf */](\"=\");\r\n                if (idx === -1) {\r\n                    values[thePart] = null;\r\n                }\r\n                else {\r\n                    values[strTrim(thePart[_DYN_SUBSTRING /* @min:%2esubstring */](0, idx))] = strTrim(thePart[_DYN_SUBSTRING /* @min:%2esubstring */](idx + 1));\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return values;\r\n}\r\nfunction _formatDate(theDate, func) {\r\n    if (isFunction(theDate[func])) {\r\n        return theDate[func]();\r\n    }\r\n    return null;\r\n}\r\nfunction _formatCookieValue(value, values) {\r\n    var cookieValue = value || STR_EMPTY;\r\n    objForEachKey(values, function (name, theValue) {\r\n        cookieValue += \"; \" + name + (!isNullOrUndefined(theValue) ? \"=\" + theValue : STR_EMPTY);\r\n    });\r\n    return cookieValue;\r\n}\r\nfunction _getCookieValue(name) {\r\n    var cookieValue = STR_EMPTY;\r\n    if (_doc) {\r\n        var theCookie = _doc[strCookie] || STR_EMPTY;\r\n        if (_parsedCookieValue !== theCookie) {\r\n            _cookieCache = _extractParts(theCookie);\r\n            _parsedCookieValue = theCookie;\r\n        }\r\n        cookieValue = strTrim(_cookieCache[name] || STR_EMPTY);\r\n    }\r\n    return cookieValue;\r\n}\r\nfunction _setCookieValue(name, cookieValue) {\r\n    if (_doc) {\r\n        _doc[strCookie] = name + \"=\" + cookieValue;\r\n    }\r\n}\r\nexport function uaDisallowsSameSiteNone(userAgent) {\r\n    if (!isString(userAgent)) {\r\n        return false;\r\n    }\r\n    // Cover all iOS based browsers here. This includes:\r\n    // - Safari on iOS 12 for iPhone, iPod Touch, iPad\r\n    // - WkWebview on iOS 12 for iPhone, iPod Touch, iPad\r\n    // - Chrome on iOS 12 for iPhone, iPod Touch, iPad\r\n    // All of which are broken by SameSite=None, because they use the iOS networking stack\r\n    if (strContains(userAgent, \"CPU iPhone OS 12\") || strContains(userAgent, \"iPad; CPU OS 12\")) {\r\n        return true;\r\n    }\r\n    // Cover Mac OS X based browsers that use the Mac OS networking stack. This includes:\r\n    // - Safari on Mac OS X\r\n    // This does not include:\r\n    // - Internal browser on Mac OS X\r\n    // - Chrome on Mac OS X\r\n    // - Chromium on Mac OS X\r\n    // Because they do not use the Mac OS networking stack.\r\n    if (strContains(userAgent, \"Macintosh; Intel Mac OS X 10_14\") && strContains(userAgent, \"Version/\") && strContains(userAgent, \"Safari\")) {\r\n        return true;\r\n    }\r\n    // Cover Mac OS X internal browsers that use the Mac OS networking stack. This includes:\r\n    // - Internal browser on Mac OS X\r\n    // This does not include:\r\n    // - Safari on Mac OS X\r\n    // - Chrome on Mac OS X\r\n    // - Chromium on Mac OS X\r\n    // Because they do not use the Mac OS networking stack.\r\n    if (strContains(userAgent, \"Macintosh; Intel Mac OS X 10_14\") && strEndsWith(userAgent, \"AppleWebKit/605.1.15 (KHTML, like Gecko)\")) {\r\n        return true;\r\n    }\r\n    // Cover Chrome 50-69, because some versions are broken by SameSite=None, and none in this range require it.\r\n    // Note: this covers some pre-Chromium Edge versions, but pre-Chromim Edge does not require SameSite=None, so this is fine.\r\n    // Note: this regex applies to Windows, Mac OS X, and Linux, deliberately.\r\n    if (strContains(userAgent, \"Chrome/5\") || strContains(userAgent, \"Chrome/6\")) {\r\n        return true;\r\n    }\r\n    // Unreal Engine runs Chromium 59, but does not advertise as Chrome until 4.23. Treat versions of Unreal\r\n    // that don't specify their Chrome version as lacking support for SameSite=None.\r\n    if (strContains(userAgent, \"UnrealEngine\") && !strContains(userAgent, \"Chrome\")) {\r\n        return true;\r\n    }\r\n    // UCBrowser < 12.13.2 ignores Set-Cookie headers with SameSite=None\r\n    // NB: this rule isn't complete - you need regex to make a complete rule.\r\n    // See: https://www.chromium.org/updates/same-site/incompatible-clients\r\n    if (strContains(userAgent, \"UCBrowser/12\") || strContains(userAgent, \"UCBrowser/11\")) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n//# sourceMappingURL=CookieMgr.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { _DYN_HANDLER, _DYN_LENGTH, _DYN_NAME, _DYN_PUSH, _DYN_REPLACE, _DYN_SPLICE, _DYN_SPLIT, _DYN_TYPE } from \"../__DynamicConstants\";\r\nimport { createElmNodeData, createUniqueNamespace } from \"./DataCacheHelper\";\r\nimport { getDocument, getWindow } from \"./EnvUtils\";\r\nimport { arrForEach, arrIndexOf, isArray, objForEachKey, objKeys } from \"./HelperFuncs\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\n// Added to help with minfication\r\nvar strOnPrefix = \"on\";\r\nvar strAttachEvent = \"attachEvent\";\r\nvar strAddEventHelper = \"addEventListener\";\r\nvar strDetachEvent = \"detachEvent\";\r\nvar strRemoveEventListener = \"removeEventListener\";\r\nvar strEvents = \"events\";\r\nvar strVisibilityChangeEvt = \"visibilitychange\";\r\nvar strPageHide = \"pagehide\";\r\nvar strPageShow = \"pageshow\";\r\nvar strUnload = \"unload\";\r\nvar strBeforeUnload = \"beforeunload\";\r\nvar strPageHideNamespace = createUniqueNamespace(\"aiEvtPageHide\");\r\nvar strPageShowNamespace = createUniqueNamespace(\"aiEvtPageShow\");\r\nvar rRemoveEmptyNs = /\\.[\\.]+/g;\r\nvar rRemoveTrailingEmptyNs = /[\\.]+$/;\r\nvar _guid = 1;\r\nvar elmNodeData = createElmNodeData(\"events\");\r\nvar eventNamespace = /^([^.]*)(?:\\.(.+)|)/;\r\nfunction _normalizeNamespace(name) {\r\n    if (name && name[_DYN_REPLACE /* @min:%2ereplace */]) {\r\n        return name[_DYN_REPLACE /* @min:%2ereplace */](/^[\\s\\.]+|(?=[\\s\\.])[\\.\\s]+$/g, STR_EMPTY);\r\n    }\r\n    return name;\r\n}\r\nfunction _getEvtNamespace(eventName, evtNamespace) {\r\n    var _a;\r\n    if (evtNamespace) {\r\n        var theNamespace_1 = STR_EMPTY;\r\n        if (isArray(evtNamespace)) {\r\n            theNamespace_1 = STR_EMPTY;\r\n            arrForEach(evtNamespace, function (name) {\r\n                name = _normalizeNamespace(name);\r\n                if (name) {\r\n                    if (name[0] !== \".\") {\r\n                        name = \".\" + name;\r\n                    }\r\n                    theNamespace_1 += name;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            theNamespace_1 = _normalizeNamespace(evtNamespace);\r\n        }\r\n        if (theNamespace_1) {\r\n            if (theNamespace_1[0] !== \".\") {\r\n                theNamespace_1 = \".\" + theNamespace_1;\r\n            }\r\n            // We may only have the namespace and not an eventName\r\n            eventName = (eventName || STR_EMPTY) + theNamespace_1;\r\n        }\r\n    }\r\n    var parsedEvent = (eventNamespace.exec(eventName || STR_EMPTY) || []);\r\n    return _a = {},\r\n        _a[_DYN_TYPE /* @min:type */] = parsedEvent[1],\r\n        _a.ns = ((parsedEvent[2] || STR_EMPTY).replace(rRemoveEmptyNs, \".\").replace(rRemoveTrailingEmptyNs, STR_EMPTY)[_DYN_SPLIT /* @min:%2esplit */](\".\").sort()).join(\".\"),\r\n        _a;\r\n}\r\n/**\r\n * Get all of the registered events on the target object, this is primarily used for testing cleanup but may also be used by\r\n * applications to remove their own events\r\n * @param target - The EventTarget that has registered events\r\n * @param eventName - [Optional] The name of the event to return the registered handlers and full name (with namespaces)\r\n * @param evtNamespace - [Optional] Additional namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace,\r\n * if the eventName also includes a namespace the namespace(s) are merged into a single namespace\r\n */\r\nexport function __getRegisteredEvents(target, eventName, evtNamespace) {\r\n    var theEvents = [];\r\n    var eventCache = elmNodeData.get(target, strEvents, {}, false);\r\n    var evtName = _getEvtNamespace(eventName, evtNamespace);\r\n    objForEachKey(eventCache, function (evtType, registeredEvents) {\r\n        arrForEach(registeredEvents, function (value) {\r\n            var _a;\r\n            if (!evtName[_DYN_TYPE /* @min:%2etype */] || evtName[_DYN_TYPE /* @min:%2etype */] === value.evtName[_DYN_TYPE /* @min:%2etype */]) {\r\n                if (!evtName.ns || evtName.ns === evtName.ns) {\r\n                    theEvents[_DYN_PUSH /* @min:%2epush */]((_a = {},\r\n                        _a[_DYN_NAME /* @min:name */] = value.evtName[_DYN_TYPE /* @min:%2etype */] + (value.evtName.ns ? \".\" + value.evtName.ns : STR_EMPTY),\r\n                        _a.handler = value[_DYN_HANDLER /* @min:%2ehandler */],\r\n                        _a));\r\n                }\r\n            }\r\n        });\r\n    });\r\n    return theEvents;\r\n}\r\n// Exported for internal unit testing only\r\nfunction _getRegisteredEvents(target, evtName, addDefault) {\r\n    if (addDefault === void 0) { addDefault = true; }\r\n    var aiEvts = elmNodeData.get(target, strEvents, {}, addDefault);\r\n    var registeredEvents = aiEvts[evtName];\r\n    if (!registeredEvents) {\r\n        registeredEvents = aiEvts[evtName] = [];\r\n    }\r\n    return registeredEvents;\r\n}\r\nfunction _doDetach(obj, evtName, handlerRef, useCapture) {\r\n    if (obj && evtName && evtName[_DYN_TYPE /* @min:%2etype */]) {\r\n        if (obj[strRemoveEventListener]) {\r\n            obj[strRemoveEventListener](evtName[_DYN_TYPE /* @min:%2etype */], handlerRef, useCapture);\r\n        }\r\n        else if (obj[strDetachEvent]) {\r\n            obj[strDetachEvent](strOnPrefix + evtName[_DYN_TYPE /* @min:%2etype */], handlerRef);\r\n        }\r\n    }\r\n}\r\nfunction _doAttach(obj, evtName, handlerRef, useCapture) {\r\n    var result = false;\r\n    if (obj && evtName && evtName[_DYN_TYPE /* @min:%2etype */] && handlerRef) {\r\n        if (obj[strAddEventHelper]) {\r\n            // all browsers except IE before version 9\r\n            obj[strAddEventHelper](evtName[_DYN_TYPE /* @min:%2etype */], handlerRef, useCapture);\r\n            result = true;\r\n        }\r\n        else if (obj[strAttachEvent]) {\r\n            // IE before version 9\r\n            obj[strAttachEvent](strOnPrefix + evtName[_DYN_TYPE /* @min:%2etype */], handlerRef);\r\n            result = true;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction _doUnregister(target, events, evtName, unRegFn) {\r\n    var idx = events[_DYN_LENGTH /* @min:%2elength */];\r\n    while (idx--) {\r\n        var theEvent = events[idx];\r\n        if (theEvent) {\r\n            if (!evtName.ns || evtName.ns === theEvent.evtName.ns) {\r\n                if (!unRegFn || unRegFn(theEvent)) {\r\n                    _doDetach(target, theEvent.evtName, theEvent[_DYN_HANDLER /* @min:%2ehandler */], theEvent.capture);\r\n                    // Remove the registered event\r\n                    events[_DYN_SPLICE /* @min:%2esplice */](idx, 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction _unregisterEvents(target, evtName, unRegFn) {\r\n    if (evtName[_DYN_TYPE /* @min:%2etype */]) {\r\n        _doUnregister(target, _getRegisteredEvents(target, evtName[_DYN_TYPE /* @min:%2etype */]), evtName, unRegFn);\r\n    }\r\n    else {\r\n        var eventCache = elmNodeData.get(target, strEvents, {});\r\n        objForEachKey(eventCache, function (evtType, events) {\r\n            _doUnregister(target, events, evtName, unRegFn);\r\n        });\r\n        // Cleanup\r\n        if (objKeys(eventCache)[_DYN_LENGTH /* @min:%2elength */] === 0) {\r\n            elmNodeData.kill(target, strEvents);\r\n        }\r\n    }\r\n}\r\nexport function mergeEvtNamespace(theNamespace, namespaces) {\r\n    var newNamespaces;\r\n    if (namespaces) {\r\n        if (isArray(namespaces)) {\r\n            newNamespaces = [theNamespace].concat(namespaces);\r\n        }\r\n        else {\r\n            newNamespaces = [theNamespace, namespaces];\r\n        }\r\n        // resort the namespaces so they are always in order\r\n        newNamespaces = (_getEvtNamespace(\"xx\", newNamespaces).ns)[_DYN_SPLIT /* @min:%2esplit */](\".\");\r\n    }\r\n    else {\r\n        newNamespaces = theNamespace;\r\n    }\r\n    return newNamespaces;\r\n}\r\n/**\r\n * Binds the specified function to an event, so that the function gets called whenever the event fires on the object\r\n * @param obj Object to add the event too.\r\n * @param eventName String that specifies any of the standard DHTML Events without \"on\" prefix, if may also include an optional (dot \".\" prefixed)\r\n * namespaces \"click\" \"click.mynamespace\" in addition to specific namespaces.\r\n * @param handlerRef Pointer that specifies the function to call when event fires\r\n * @param evtNamespace - [Optional] Additional namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace,\r\n * if the eventName also includes a namespace the namespace(s) are merged into a single namespace\r\n * @param useCapture [Optional] Defaults to false\r\n * @returns True if the function was bound successfully to the event, otherwise false\r\n */\r\nexport function eventOn(target, eventName, handlerRef, evtNamespace, useCapture) {\r\n    var _a;\r\n    if (useCapture === void 0) { useCapture = false; }\r\n    var result = false;\r\n    if (target) {\r\n        try {\r\n            var evtName = _getEvtNamespace(eventName, evtNamespace);\r\n            result = _doAttach(target, evtName, handlerRef, useCapture);\r\n            if (result && elmNodeData.accept(target)) {\r\n                var registeredEvent = (_a = {\r\n                        guid: _guid++,\r\n                        evtName: evtName\r\n                    },\r\n                    _a[_DYN_HANDLER /* @min:handler */] = handlerRef,\r\n                    _a.capture = useCapture,\r\n                    _a);\r\n                _getRegisteredEvents(target, evtName.type)[_DYN_PUSH /* @min:%2epush */](registeredEvent);\r\n            }\r\n        }\r\n        catch (e) {\r\n            // Just Ignore any error so that we don't break any execution path\r\n        }\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Removes an event handler for the specified event\r\n * @param Object to remove the event from\r\n * @param eventName {string} - The name of the event, with optional namespaces or just the namespaces,\r\n * such as \"click\", \"click.mynamespace\" or \".mynamespace\"\r\n * @param handlerRef {any} - The callback function that needs to be removed from the given event, when using a\r\n * namespace (with or without a qualifying event) this may be null to remove all previously attached event handlers\r\n * otherwise this will only remove events with this specific handler.\r\n * @param evtNamespace - [Optional] Additional namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace,\r\n * if the eventName also includes a namespace the namespace(s) are merged into a single namespace\r\n * @param useCapture [Optional] Defaults to false\r\n */\r\nexport function eventOff(target, eventName, handlerRef, evtNamespace, useCapture) {\r\n    if (useCapture === void 0) { useCapture = false; }\r\n    if (target) {\r\n        try {\r\n            var evtName_1 = _getEvtNamespace(eventName, evtNamespace);\r\n            var found_1 = false;\r\n            _unregisterEvents(target, evtName_1, function (regEvent) {\r\n                if ((evtName_1.ns && !handlerRef) || regEvent[_DYN_HANDLER /* @min:%2ehandler */] === handlerRef) {\r\n                    found_1 = true;\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n            if (!found_1) {\r\n                // fallback to try and remove as requested\r\n                _doDetach(target, evtName_1, handlerRef, useCapture);\r\n            }\r\n        }\r\n        catch (e) {\r\n            // Just Ignore any error so that we don't break any execution path\r\n        }\r\n    }\r\n}\r\n/**\r\n * Binds the specified function to an event, so that the function gets called whenever the event fires on the object\r\n * @param obj Object to add the event too.\r\n * @param eventNameWithoutOn String that specifies any of the standard DHTML Events without \"on\" prefix and optional (dot \".\" prefixed) namespaces \"click\" \"click.mynamespace\".\r\n * @param handlerRef Pointer that specifies the function to call when event fires\r\n * @param useCapture [Optional] Defaults to false\r\n * @returns True if the function was bound successfully to the event, otherwise false\r\n */\r\nexport function attachEvent(obj, eventNameWithoutOn, handlerRef, useCapture) {\r\n    if (useCapture === void 0) { useCapture = false; }\r\n    return eventOn(obj, eventNameWithoutOn, handlerRef, null, useCapture);\r\n}\r\n/**\r\n * Removes an event handler for the specified event\r\n * @param Object to remove the event from\r\n * @param eventNameWithoutOn {string} - The name of the event, with optional namespaces or just the namespaces,\r\n * such as \"click\", \"click.mynamespace\" or \".mynamespace\"\r\n * @param handlerRef {any} - The callback function that needs to be removed from the given event, when using a\r\n * namespace (with or without a qualifying event) this may be null to remove all previously attached event handlers\r\n * otherwise this will only remove events with this specific handler.\r\n * @param useCapture [Optional] Defaults to false\r\n */\r\nexport function detachEvent(obj, eventNameWithoutOn, handlerRef, useCapture) {\r\n    if (useCapture === void 0) { useCapture = false; }\r\n    eventOff(obj, eventNameWithoutOn, handlerRef, null, useCapture);\r\n}\r\n/**\r\n * Trys to add an event handler for the specified event to the window, body and document\r\n * @param eventName {string} - The name of the event\r\n * @param callback {any} - The callback function that needs to be executed for the given event\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n * @return {boolean} - true if the handler was successfully added\r\n */\r\nexport function addEventHandler(eventName, callback, evtNamespace) {\r\n    var result = false;\r\n    var w = getWindow();\r\n    if (w) {\r\n        result = eventOn(w, eventName, callback, evtNamespace);\r\n        result = eventOn(w[\"body\"], eventName, callback, evtNamespace) || result;\r\n    }\r\n    var doc = getDocument();\r\n    if (doc) {\r\n        result = eventOn(doc, eventName, callback, evtNamespace) || result;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Trys to remove event handler(s) for the specified event/namespace to the window, body and document\r\n * @param eventName {string} - The name of the event, with optional namespaces or just the namespaces,\r\n * such as \"click\", \"click.mynamespace\" or \".mynamespace\"\r\n * @param callback {any} - - The callback function that needs to be removed from the given event, when using a\r\n * namespace (with or without a qualifying event) this may be null to remove all previously attached event handlers\r\n * otherwise this will only remove events with this specific handler.\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n */\r\nexport function removeEventHandler(eventName, callback, evtNamespace) {\r\n    var w = getWindow();\r\n    if (w) {\r\n        eventOff(w, eventName, callback, evtNamespace);\r\n        eventOff(w[\"body\"], eventName, callback, evtNamespace);\r\n    }\r\n    var doc = getDocument();\r\n    if (doc) {\r\n        eventOff(doc, eventName, callback, evtNamespace);\r\n    }\r\n}\r\n/**\r\n * Bind the listener to the array of events\r\n * @param events An string array of event names to bind the listener to\r\n * @param listener The event callback to call when the event is triggered\r\n * @param excludeEvents - [Optional] An array of events that should not be hooked (if possible), unless no other events can be.\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nfunction _addEventListeners(events, listener, excludeEvents, evtNamespace) {\r\n    var added = false;\r\n    if (listener && events && events[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n        arrForEach(events, function (name) {\r\n            if (name) {\r\n                if (!excludeEvents || arrIndexOf(excludeEvents, name) === -1) {\r\n                    added = addEventHandler(name, listener, evtNamespace) || added;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return added;\r\n}\r\n/**\r\n * Bind the listener to the array of events\r\n * @param events An string array of event names to bind the listener to\r\n * @param listener The event callback to call when the event is triggered\r\n * @param excludeEvents - [Optional] An array of events that should not be hooked (if possible), unless no other events can be.\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nexport function addEventListeners(events, listener, excludeEvents, evtNamespace) {\r\n    var added = false;\r\n    if (listener && events && isArray(events)) {\r\n        added = _addEventListeners(events, listener, excludeEvents, evtNamespace);\r\n        if (!added && excludeEvents && excludeEvents[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n            // Failed to add any listeners and we excluded some, so just attempt to add the excluded events\r\n            added = _addEventListeners(events, listener, null, evtNamespace);\r\n        }\r\n    }\r\n    return added;\r\n}\r\n/**\r\n * Remove the listener from the array of events\r\n * @param events An string array of event names to bind the listener to\r\n * @param listener The event callback to call when the event is triggered\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n */\r\nexport function removeEventListeners(events, listener, evtNamespace) {\r\n    if (events && isArray(events)) {\r\n        arrForEach(events, function (name) {\r\n            if (name) {\r\n                removeEventHandler(name, listener, evtNamespace);\r\n            }\r\n        });\r\n    }\r\n}\r\n/**\r\n * Listen to the 'beforeunload', 'unload' and 'pagehide' events which indicates a page unload is occurring,\r\n * this does NOT listen to the 'visibilitychange' event as while it does indicate that the page is being hidden\r\n * it does not *necessarily* mean that the page is being completely unloaded, it can mean that the user is\r\n * just navigating to a different Tab and may come back (without unloading the page). As such you may also\r\n * need to listen to the 'addPageHideEventListener' and 'addPageShowEventListener' events.\r\n * @param listener - The event callback to call when a page unload event is triggered\r\n * @param excludeEvents - [Optional] An array of events that should not be hooked, unless no other events can be.\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nexport function addPageUnloadEventListener(listener, excludeEvents, evtNamespace) {\r\n    // Hook the unload event for the document, window and body to ensure that the client events are flushed to the server\r\n    // As just hooking the window does not always fire (on chrome) for page navigation's.\r\n    return addEventListeners([strBeforeUnload, strUnload, strPageHide], listener, excludeEvents, evtNamespace);\r\n}\r\n/**\r\n * Remove any matching 'beforeunload', 'unload' and 'pagehide' events that may have been added via addEventListener,\r\n * addEventListeners, addPageUnloadEventListener or addPageHideEventListener.\r\n * @param listener - The specific event callback to to be removed\r\n * @param evtNamespace - [Optional] Namespace(s) uniquely identified and removed based on this namespace.\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nexport function removePageUnloadEventListener(listener, evtNamespace) {\r\n    removeEventListeners([strBeforeUnload, strUnload, strPageHide], listener, evtNamespace);\r\n}\r\n/**\r\n * Listen to the pagehide and visibility changing to 'hidden' events, because the 'visibilitychange' uses\r\n * an internal proxy to detect the visibility state you SHOULD use a unique namespace when if you plan to call\r\n * removePageShowEventListener as the remove ignores the listener argument for the 'visibilitychange' event.\r\n * @param listener - The event callback to call when a page hide event is triggered\r\n * @param excludeEvents - [Optional] An array of events that should not be hooked (if possible), unless no other events can be.\r\n * @param evtNamespace - [Optional] A Namespace to append to the event listeners so they can be uniquely identified and removed\r\n * based on this namespace. This call also adds an additional unique \"pageshow\" namespace to the events\r\n * so that only the matching \"removePageHideEventListener\" can remove these events.\r\n * Suggestion: pass as true if you are also calling addPageUnloadEventListener as that also hooks pagehide\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nexport function addPageHideEventListener(listener, excludeEvents, evtNamespace) {\r\n    function _handlePageVisibility(evt) {\r\n        var doc = getDocument();\r\n        if (listener && doc && doc.visibilityState === \"hidden\") {\r\n            listener(evt);\r\n        }\r\n    }\r\n    // add the unique page show namespace to any provided namespace so we can only remove the ones added by \"pagehide\"\r\n    var newNamespaces = mergeEvtNamespace(strPageHideNamespace, evtNamespace);\r\n    var pageUnloadAdded = _addEventListeners([strPageHide], listener, excludeEvents, newNamespaces);\r\n    if (!excludeEvents || arrIndexOf(excludeEvents, strVisibilityChangeEvt) === -1) {\r\n        pageUnloadAdded = _addEventListeners([strVisibilityChangeEvt], _handlePageVisibility, excludeEvents, newNamespaces) || pageUnloadAdded;\r\n    }\r\n    if (!pageUnloadAdded && excludeEvents) {\r\n        // Failed to add any listeners and we where requested to exclude some, so just call again without excluding anything\r\n        pageUnloadAdded = addPageHideEventListener(listener, null, evtNamespace);\r\n    }\r\n    return pageUnloadAdded;\r\n}\r\n/**\r\n * Removes the pageHide event listeners added by addPageHideEventListener, because the 'visibilitychange' uses\r\n * an internal proxy to detect the visibility state you SHOULD use a unique namespace when calling addPageHideEventListener\r\n * as the remove ignores the listener argument for the 'visibilitychange' event.\r\n * @param listener - The specific listener to remove for the 'pageshow' event only (ignored for 'visibilitychange')\r\n * @param evtNamespace - The unique namespace used when calling addPageShowEventListener\r\n */\r\nexport function removePageHideEventListener(listener, evtNamespace) {\r\n    // add the unique page show namespace to any provided namespace so we only remove the ones added by \"pagehide\"\r\n    var newNamespaces = mergeEvtNamespace(strPageHideNamespace, evtNamespace);\r\n    removeEventListeners([strPageHide], listener, newNamespaces);\r\n    removeEventListeners([strVisibilityChangeEvt], null, newNamespaces);\r\n}\r\n/**\r\n * Listen to the pageshow and visibility changing to 'visible' events, because the 'visibilitychange' uses\r\n * an internal proxy to detect the visibility state you SHOULD use a unique namespace when if you plan to call\r\n * removePageShowEventListener as the remove ignores the listener argument for the 'visibilitychange' event.\r\n * @param listener - The event callback to call when a page is show event is triggered\r\n * @param excludeEvents - [Optional] An array of events that should not be hooked (if possible), unless no other events can be.\r\n * @param evtNamespace - [Optional/Recommended] A Namespace to append to the event listeners so they can be uniquely\r\n * identified and removed based on this namespace. This call also adds an additional unique \"pageshow\" namespace to the events\r\n * so that only the matching \"removePageShowEventListener\" can remove these events.\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nexport function addPageShowEventListener(listener, excludeEvents, evtNamespace) {\r\n    function _handlePageVisibility(evt) {\r\n        var doc = getDocument();\r\n        if (listener && doc && doc.visibilityState === \"visible\") {\r\n            listener(evt);\r\n        }\r\n    }\r\n    // add the unique page show namespace to any provided namespace so we can only remove the ones added by \"pageshow\"\r\n    var newNamespaces = mergeEvtNamespace(strPageShowNamespace, evtNamespace);\r\n    var pageShowAdded = _addEventListeners([strPageShow], listener, excludeEvents, newNamespaces);\r\n    pageShowAdded = _addEventListeners([strVisibilityChangeEvt], _handlePageVisibility, excludeEvents, newNamespaces) || pageShowAdded;\r\n    if (!pageShowAdded && excludeEvents) {\r\n        // Failed to add any listeners and we where requested to exclude some, so just call again without excluding anything\r\n        pageShowAdded = addPageShowEventListener(listener, null, evtNamespace);\r\n    }\r\n    return pageShowAdded;\r\n}\r\n/**\r\n * Removes the pageShow event listeners added by addPageShowEventListener, because the 'visibilitychange' uses\r\n * an internal proxy to detect the visibility state you SHOULD use a unique namespace when calling addPageShowEventListener\r\n * as the remove ignores the listener argument for the 'visibilitychange' event.\r\n * @param listener - The specific listener to remove for the 'pageshow' event only (ignored for 'visibilitychange')\r\n * @param evtNamespace - The unique namespace used when calling addPageShowEventListener\r\n */\r\nexport function removePageShowEventListener(listener, evtNamespace) {\r\n    // add the unique page show namespace to any provided namespace so we only remove the ones added by \"pageshow\"\r\n    var newNamespaces = mergeEvtNamespace(strPageShowNamespace, evtNamespace);\r\n    removeEventListeners([strPageShow], listener, newNamespaces);\r\n    removeEventListeners([strVisibilityChangeEvt], null, newNamespaces);\r\n}\r\n//# sourceMappingURL=EventHelpers.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport { objCreateFn, strShimUndefined } from \"@microsoft/applicationinsights-shims\";\r\nimport { _DYN_LENGTH, _DYN_PUSH, _DYN_SET_ENABLED, _DYN_SUBSTR, _DYN_SUBSTRING } from \"../__DynamicConstants\";\r\nimport { _gblCookieMgr } from \"./CookieMgr\";\r\nimport { getPerformance, isIE } from \"./EnvUtils\";\r\nimport { addEventHandler, attachEvent, detachEvent } from \"./EventHelpers\";\r\nimport { arrForEach, arrIndexOf, arrMap, arrReduce, dateNow, hasOwnProperty, isArray, isBoolean, isDate, isError, isFunction, isNullOrUndefined, isNumber, isObject, isString, isTypeof, isUndefined, objDefineAccessors, objKeys, strTrim, toISOString } from \"./HelperFuncs\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nimport { mwcRandom32, mwcRandomSeed, newId, random32, randomValue } from \"./RandomHelper\";\r\nvar _cookieMgrs = null;\r\nvar _canUseCookies; // legacy supported config\r\n// Added to help with minfication\r\nexport var Undefined = strShimUndefined;\r\nexport function newGuid() {\r\n    var uuid = generateW3CId();\r\n    return uuid[_DYN_SUBSTRING /* @min:%2esubstring */](0, 8) + \"-\" + uuid[_DYN_SUBSTRING /* @min:%2esubstring */](8, 12) + \"-\" + uuid[_DYN_SUBSTRING /* @min:%2esubstring */](12, 16) + \"-\" + uuid[_DYN_SUBSTRING /* @min:%2esubstring */](16, 20) + \"-\" + uuid[_DYN_SUBSTRING /* @min:%2esubstring */](20);\r\n}\r\n/**\r\n * Return the current value of the Performance Api now() function (if available) and fallback to dateNow() if it is unavailable (IE9 or less)\r\n * https://caniuse.com/#search=performance.now\r\n */\r\nexport function perfNow() {\r\n    var perf = getPerformance();\r\n    if (perf && perf.now) {\r\n        return perf.now();\r\n    }\r\n    return dateNow();\r\n}\r\n/**\r\n * The strEndsWith() method determines whether a string ends with the characters of a specified string, returning true or false as appropriate.\r\n * @param value - The value to check whether it ends with the search value.\r\n * @param search - The characters to be searched for at the end of the value.\r\n * @returns true if the given search value is found at the end of the string, otherwise false.\r\n */\r\nexport function strEndsWith(value, search) {\r\n    if (value && search) {\r\n        var len = value[_DYN_LENGTH /* @min:%2elength */];\r\n        var start = len - search[_DYN_LENGTH /* @min:%2elength */];\r\n        return value[_DYN_SUBSTRING /* @min:%2esubstring */](start >= 0 ? start : 0, len) === search;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * generate W3C trace id\r\n */\r\nexport function generateW3CId() {\r\n    var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\r\n    // rfc4122 version 4 UUID without dashes and with lowercase letters\r\n    var oct = STR_EMPTY, tmp;\r\n    for (var a = 0; a < 4; a++) {\r\n        tmp = random32();\r\n        oct +=\r\n            hexValues[tmp & 0xF] +\r\n                hexValues[tmp >> 4 & 0xF] +\r\n                hexValues[tmp >> 8 & 0xF] +\r\n                hexValues[tmp >> 12 & 0xF] +\r\n                hexValues[tmp >> 16 & 0xF] +\r\n                hexValues[tmp >> 20 & 0xF] +\r\n                hexValues[tmp >> 24 & 0xF] +\r\n                hexValues[tmp >> 28 & 0xF];\r\n    }\r\n    // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\r\n    var clockSequenceHi = hexValues[8 + (random32() & 0x03) | 0];\r\n    return oct[_DYN_SUBSTR /* @min:%2esubstr */](0, 8) + oct[_DYN_SUBSTR /* @min:%2esubstr */](9, 4) + \"4\" + oct[_DYN_SUBSTR /* @min:%2esubstr */](13, 3) + clockSequenceHi + oct[_DYN_SUBSTR /* @min:%2esubstr */](16, 3) + oct[_DYN_SUBSTR /* @min:%2esubstr */](19, 12);\r\n}\r\n/**\r\n * Provides a collection of utility functions, included for backward compatibility with previous releases.\r\n * @deprecated Marking this instance as deprecated in favor of direct usage of the helper functions\r\n * as direct usage provides better tree-shaking and minification by avoiding the inclusion of the unused items\r\n * in your resulting code.\r\n */\r\nexport var CoreUtils = {\r\n    _canUseCookies: undefined,\r\n    isTypeof: isTypeof,\r\n    isUndefined: isUndefined,\r\n    isNullOrUndefined: isNullOrUndefined,\r\n    hasOwnProperty: hasOwnProperty,\r\n    isFunction: isFunction,\r\n    isObject: isObject,\r\n    isDate: isDate,\r\n    isArray: isArray,\r\n    isError: isError,\r\n    isString: isString,\r\n    isNumber: isNumber,\r\n    isBoolean: isBoolean,\r\n    toISOString: toISOString,\r\n    arrForEach: arrForEach,\r\n    arrIndexOf: arrIndexOf,\r\n    arrMap: arrMap,\r\n    arrReduce: arrReduce,\r\n    strTrim: strTrim,\r\n    objCreate: objCreateFn,\r\n    objKeys: objKeys,\r\n    objDefineAccessors: objDefineAccessors,\r\n    addEventHandler: addEventHandler,\r\n    dateNow: dateNow,\r\n    isIE: isIE,\r\n    disableCookies: disableCookies,\r\n    newGuid: newGuid,\r\n    perfNow: perfNow,\r\n    newId: newId,\r\n    randomValue: randomValue,\r\n    random32: random32,\r\n    mwcRandomSeed: mwcRandomSeed,\r\n    mwcRandom32: mwcRandom32,\r\n    generateW3CId: generateW3CId\r\n};\r\nvar GuidRegex = /[xy]/g;\r\nexport var EventHelper = {\r\n    Attach: attachEvent,\r\n    AttachEvent: attachEvent,\r\n    Detach: detachEvent,\r\n    DetachEvent: detachEvent\r\n};\r\n/**\r\n * Helper to support backward compatibility for users that use the legacy cookie handling functions and the use the internal\r\n * CoreUtils._canUseCookies global flag to enable/disable cookies usage.\r\n * Note: This has the following deliberate side-effects\r\n * - Creates the global (legacy) cookie manager if it does not already exist\r\n * - Attempts to add \"listeners\" to the CoreUtils._canUseCookies property to support the legacy usage\r\n * @param config\r\n * @param logger\r\n * @returns\r\n */\r\nexport function _legacyCookieMgr(config, logger) {\r\n    var cookieMgr = _gblCookieMgr(config, logger);\r\n    var legacyCanUseCookies = CoreUtils._canUseCookies;\r\n    if (_cookieMgrs === null) {\r\n        _cookieMgrs = [];\r\n        _canUseCookies = legacyCanUseCookies;\r\n        // Dynamically create get/set property accessors for backward compatibility for enabling / disabling cookies\r\n        // this WILL NOT work for ES3 browsers (< IE8)\r\n        objDefineAccessors(CoreUtils, \"_canUseCookies\", function () {\r\n            return _canUseCookies;\r\n        }, function (value) {\r\n            _canUseCookies = value;\r\n            arrForEach(_cookieMgrs, function (mgr) {\r\n                mgr[_DYN_SET_ENABLED /* @min:%2esetEnabled */](value);\r\n            });\r\n        });\r\n    }\r\n    if (arrIndexOf(_cookieMgrs, cookieMgr) === -1) {\r\n        _cookieMgrs[_DYN_PUSH /* @min:%2epush */](cookieMgr);\r\n    }\r\n    if (isBoolean(legacyCanUseCookies)) {\r\n        cookieMgr[_DYN_SET_ENABLED /* @min:%2esetEnabled */](legacyCanUseCookies);\r\n    }\r\n    if (isBoolean(_canUseCookies)) {\r\n        cookieMgr[_DYN_SET_ENABLED /* @min:%2esetEnabled */](_canUseCookies);\r\n    }\r\n    return cookieMgr;\r\n}\r\n/**\r\n * @deprecated - Use the core.getCookieMgr().disable()\r\n * Force the SDK not to store and read any data from cookies.\r\n */\r\nexport function disableCookies() {\r\n    _legacyCookieMgr()[_DYN_SET_ENABLED /* @min:%2esetEnabled */](false);\r\n}\r\n/**\r\n * @deprecated - Use the core.getCookieMgr().isEnabled()\r\n * Helper method to tell if document.cookie object is available and whether it can be used.\r\n */\r\nexport function canUseCookies(logger) {\r\n    return _legacyCookieMgr(null, logger).isEnabled();\r\n}\r\n/**\r\n * @deprecated - Use the core.getCookieMgr().get()\r\n * helper method to access userId and sessionId cookie\r\n */\r\nexport function getCookie(logger, name) {\r\n    return _legacyCookieMgr(null, logger).get(name);\r\n}\r\n/**\r\n * @deprecated - Use the core.getCookieMgr().set()\r\n * helper method to set userId and sessionId cookie\r\n */\r\nexport function setCookie(logger, name, value, domain) {\r\n    _legacyCookieMgr(null, logger).set(name, value, null, domain);\r\n}\r\n/**\r\n * @deprecated - Use the core.getCookieMgr().del()\r\n * Deletes a cookie by setting it's expiration time in the past.\r\n * @param name - The name of the cookie to delete.\r\n */\r\nexport function deleteCookie(logger, name) {\r\n    return _legacyCookieMgr(null, logger).del(name);\r\n}\r\n//# sourceMappingURL=CoreUtils.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nimport { _DYN_LENGTH, _DYN_SPAN_ID, _DYN_SUBSTR, _DYN_TRACE_FLAGS, _DYN_TRACE_ID, _DYN_VERSION } from \"../__DynamicConstants\";\r\nimport { generateW3CId } from \"./CoreUtils\";\r\nimport { findMetaTag, findNamedServerTiming } from \"./EnvUtils\";\r\nimport { isArray, isString, strTrim } from \"./HelperFuncs\";\r\n// using {0,16} for leading and trailing whitespace just to constrain the possible runtime of a random string\r\nvar TRACE_PARENT_REGEX = /^([\\da-f]{2})-([\\da-f]{32})-([\\da-f]{16})-([\\da-f]{2})(-[^\\s]*)?$/;\r\nvar DEFAULT_VERSION = \"00\";\r\nvar INVALID_VERSION = \"ff\";\r\nvar INVALID_TRACE_ID = \"00000000000000000000000000000000\";\r\nvar INVALID_SPAN_ID = \"0000000000000000\";\r\nvar SAMPLED_FLAG = 0x01;\r\nfunction _isValid(value, len, invalidValue) {\r\n    if (value && value[_DYN_LENGTH /* @min:%2elength */] === len && value !== invalidValue) {\r\n        return !!value.match(/^[\\da-f]*$/);\r\n    }\r\n    return false;\r\n}\r\nfunction _formatValue(value, len, defValue) {\r\n    if (_isValid(value, len)) {\r\n        return value;\r\n    }\r\n    return defValue;\r\n}\r\nfunction _formatFlags(value) {\r\n    if (isNaN(value) || value < 0 || value > 255) {\r\n        value = 0x01;\r\n    }\r\n    var result = value.toString(16);\r\n    while (result[_DYN_LENGTH /* @min:%2elength */] < 2) {\r\n        result = \"0\" + result;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Create a new ITraceParent instance using the provided values.\r\n * @param traceId - The traceId to use, when invalid a new random W3C id will be generated.\r\n * @param spanId - The parent/span id to use, a new random value will be generated if it is invalid.\r\n * @param flags - The traceFlags to use, defaults to zero (0) if not supplied or invalid\r\n * @param version - The version to used, defaults to version \"01\" if not supplied or invalid.\r\n * @returns\r\n */\r\nexport function createTraceParent(traceId, spanId, flags, version) {\r\n    var _a;\r\n    return _a = {},\r\n        _a[_DYN_VERSION /* @min:version */] = _isValid(version, 2, INVALID_VERSION) ? version : DEFAULT_VERSION,\r\n        _a[_DYN_TRACE_ID /* @min:traceId */] = isValidTraceId(traceId) ? traceId : generateW3CId(),\r\n        _a.spanId = isValidSpanId(spanId) ? spanId : generateW3CId()[_DYN_SUBSTR /* @min:%2esubstr */](0, 16),\r\n        _a.traceFlags = flags >= 0 && flags <= 0xFF ? flags : 1,\r\n        _a;\r\n}\r\n/**\r\n * Attempt to parse the provided string as a W3C TraceParent header value (https://www.w3.org/TR/trace-context/#traceparent-header)\r\n *\r\n * @param value\r\n * @returns\r\n */\r\nexport function parseTraceParent(value) {\r\n    var _a;\r\n    if (!value) {\r\n        // Don't pass a null/undefined or empty string\r\n        return null;\r\n    }\r\n    if (isArray(value)) {\r\n        // The value may have been encoded on the page into an array so handle this automatically\r\n        value = value[0] || \"\";\r\n    }\r\n    if (!value || !isString(value) || value[_DYN_LENGTH /* @min:%2elength */] > 8192) {\r\n        // limit potential processing based on total length\r\n        return null;\r\n    }\r\n    // See https://www.w3.org/TR/trace-context/#versioning-of-traceparent\r\n    var match = TRACE_PARENT_REGEX.exec(strTrim(value));\r\n    if (!match || // No match\r\n        match[1] === INVALID_VERSION || // version ff is forbidden\r\n        match[2] === INVALID_TRACE_ID || // All zeros is considered to be invalid\r\n        match[3] === INVALID_SPAN_ID) { // All zeros is considered to be invalid\r\n        return null;\r\n    }\r\n    return _a = {},\r\n        _a[_DYN_VERSION /* @min:version */] = match[1],\r\n        _a[_DYN_TRACE_ID /* @min:traceId */] = match[2],\r\n        _a[_DYN_SPAN_ID /* @min:spanId */] = match[3],\r\n        _a[_DYN_TRACE_FLAGS /* @min:traceFlags */] = parseInt(match[4], 16),\r\n        _a;\r\n}\r\n/**\r\n * Is the provided W3c Trace Id a valid string representation, it must be a 32-character string\r\n * of lowercase hexadecimal characters for example, 4bf92f3577b34da6a3ce929d0e0e4736.\r\n * If all characters as zero (00000000000000000000000000000000) it will be considered an invalid value.\r\n * @param value - The W3c trace Id to be validated\r\n * @returns true if valid otherwise false\r\n */\r\nexport function isValidTraceId(value) {\r\n    return _isValid(value, 32, INVALID_TRACE_ID);\r\n}\r\n/**\r\n * Is the provided W3c span id (aka. parent id) a valid string representation, it must be a 16-character\r\n * string of lowercase hexadecimal characters, for example, 00f067aa0ba902b7.\r\n * If all characters are zero (0000000000000000) this is considered an invalid value.\r\n * @param value - The W3c span id to be validated\r\n * @returns true if valid otherwise false\r\n */\r\nexport function isValidSpanId(value) {\r\n    return _isValid(value, 16, INVALID_SPAN_ID);\r\n}\r\n/**\r\n * Validates that the provided ITraceParent instance conforms to the currently supported specifications\r\n * @param value\r\n * @returns\r\n */\r\nexport function isValidTraceParent(value) {\r\n    if (!value ||\r\n        !_isValid(value[_DYN_VERSION /* @min:%2eversion */], 2, INVALID_VERSION) ||\r\n        !_isValid(value[_DYN_TRACE_ID /* @min:%2etraceId */], 32, INVALID_TRACE_ID) ||\r\n        !_isValid(value[_DYN_SPAN_ID /* @min:%2espanId */], 16, INVALID_SPAN_ID) ||\r\n        !_isValid(_formatFlags(value[_DYN_TRACE_FLAGS /* @min:%2etraceFlags */]), 2)) {\r\n        // Each known field must contain a valid value\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Is the parsed traceParent indicating that the trace is currently sampled.\r\n * @param value - The parsed traceParent value\r\n * @returns\r\n */\r\nexport function isSampledFlag(value) {\r\n    if (isValidTraceParent(value)) {\r\n        return (value[_DYN_TRACE_FLAGS /* @min:%2etraceFlags */] & SAMPLED_FLAG) === SAMPLED_FLAG;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Format the ITraceParent value as a string using the supported and know version formats.\r\n * So even if the passed traceParent is a later version the string value returned from this\r\n * function will convert it to only the known version formats.\r\n * This currently only supports version \"00\" and invalid \"ff\"\r\n * @param value - The parsed traceParent value\r\n * @returns\r\n */\r\nexport function formatTraceParent(value) {\r\n    if (value) {\r\n        // Special Note: This only supports formatting as version 00, future versions should encode any known supported version\r\n        // So parsing a future version will populate the correct version value but reformatting will reduce it to version 00.\r\n        var flags = _formatFlags(value[_DYN_TRACE_FLAGS /* @min:%2etraceFlags */]);\r\n        if (!_isValid(flags, 2)) {\r\n            flags = \"01\";\r\n        }\r\n        var version = value[_DYN_VERSION /* @min:%2eversion */] || DEFAULT_VERSION;\r\n        if (version !== \"00\" && version !== \"ff\") {\r\n            // Reduce version to \"00\"\r\n            version = DEFAULT_VERSION;\r\n        }\r\n        // Format as version 00\r\n        return \"\".concat(version, \"-\").concat(_formatValue(value.traceId, 32, INVALID_TRACE_ID), \"-\").concat(_formatValue(value.spanId, 16, INVALID_SPAN_ID), \"-\").concat(flags);\r\n    }\r\n    return \"\";\r\n}\r\n/**\r\n * Helper function to fetch the passed traceparent from the page, looking for it as a meta-tag or a Server-Timing header.\r\n * @returns\r\n */\r\nexport function findW3cTraceParent() {\r\n    var name = \"traceparent\";\r\n    var traceParent = parseTraceParent(findMetaTag(name));\r\n    if (!traceParent) {\r\n        traceParent = parseTraceParent(findNamedServerTiming(name));\r\n    }\r\n    return traceParent;\r\n}\r\n//# sourceMappingURL=W3cTraceParent.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport { _DYN_CALL, _DYN_GET_NEXT, _DYN_GET_PLUGIN, _DYN_INITIALIZE, _DYN_IS_INITIALIZED, _DYN_LENGTH, _DYN_NAME, _DYN_PUSH, _DYN_SET_NEXT_PLUGIN, _DYN_SPAN_ID, _DYN_TEARDOWN, _DYN_TRACE_FLAGS, _DYN_TRACE_ID, _DYN__DO_TEARDOWN } from \"../__DynamicConstants\";\r\nimport { createElmNodeData } from \"./DataCacheHelper\";\r\nimport { arrForEach, isFunction } from \"./HelperFuncs\";\r\nimport { STR_CORE, STR_PRIORITY, STR_PROCESS_TELEMETRY } from \"./InternalConstants\";\r\nimport { isValidSpanId, isValidTraceId } from \"./W3cTraceParent\";\r\nvar pluginStateData = createElmNodeData(\"plugin\");\r\nexport function _getPluginState(plugin) {\r\n    return pluginStateData.get(plugin, \"state\", {}, true);\r\n}\r\n/**\r\n * Initialize the queue of plugins\r\n * @param plugins - The array of plugins to initialize and setting of the next plugin\r\n * @param config The current config for the instance\r\n * @param core THe current core instance\r\n * @param extensions The extensions\r\n */\r\nexport function initializePlugins(processContext, extensions) {\r\n    // Set the next plugin and identified the uninitialized plugins\r\n    var initPlugins = [];\r\n    var lastPlugin = null;\r\n    var proxy = processContext[_DYN_GET_NEXT /* @min:%2egetNext */]();\r\n    var pluginState;\r\n    while (proxy) {\r\n        var thePlugin = proxy[_DYN_GET_PLUGIN /* @min:%2egetPlugin */]();\r\n        if (thePlugin) {\r\n            if (lastPlugin &&\r\n                isFunction(lastPlugin[_DYN_SET_NEXT_PLUGIN /* @min:%2esetNextPlugin */]) &&\r\n                isFunction(thePlugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */])) {\r\n                // Set this plugin as the next for the previous one\r\n                lastPlugin[_DYN_SET_NEXT_PLUGIN /* @min:%2esetNextPlugin */](thePlugin);\r\n            }\r\n            var isInitialized = false;\r\n            if (isFunction(thePlugin[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */])) {\r\n                isInitialized = thePlugin[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */]();\r\n            }\r\n            else {\r\n                pluginState = _getPluginState(thePlugin);\r\n                isInitialized = pluginState[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */];\r\n            }\r\n            if (!isInitialized) {\r\n                initPlugins[_DYN_PUSH /* @min:%2epush */](thePlugin);\r\n            }\r\n            lastPlugin = thePlugin;\r\n            proxy = proxy[_DYN_GET_NEXT /* @min:%2egetNext */]();\r\n        }\r\n    }\r\n    // Now initialize the plugins\r\n    arrForEach(initPlugins, function (thePlugin) {\r\n        var core = processContext[STR_CORE]();\r\n        thePlugin[_DYN_INITIALIZE /* @min:%2einitialize */](processContext.getCfg(), core, extensions, processContext[_DYN_GET_NEXT /* @min:%2egetNext */]());\r\n        pluginState = _getPluginState(thePlugin);\r\n        // Only add the core to the state if the plugin didn't set it (doesn't extent from BaseTelemetryPlugin)\r\n        if (!thePlugin[STR_CORE] && !pluginState[STR_CORE]) {\r\n            pluginState[STR_CORE] = core;\r\n        }\r\n        pluginState[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */] = true;\r\n        delete pluginState[_DYN_TEARDOWN /* @min:%2eteardown */];\r\n    });\r\n}\r\nexport function sortPlugins(plugins) {\r\n    // Sort by priority\r\n    return plugins.sort(function (extA, extB) {\r\n        var result = 0;\r\n        if (extB) {\r\n            var bHasProcess = isFunction(extB[STR_PROCESS_TELEMETRY]);\r\n            if (isFunction(extA[STR_PROCESS_TELEMETRY])) {\r\n                result = bHasProcess ? extA[STR_PRIORITY] - extB[STR_PRIORITY] : 1;\r\n            }\r\n            else if (bHasProcess) {\r\n                result = -1;\r\n            }\r\n        }\r\n        else {\r\n            result = extA ? 1 : -1;\r\n        }\r\n        return result;\r\n    });\r\n    // sort complete\r\n}\r\n/**\r\n * Teardown / Unload helper to perform teardown/unloading operations for the provided components synchronously or asynchronously, this will call any\r\n * _doTeardown() or _doUnload() functions on the provided components to allow them to finish removal.\r\n * @param components - The components you want to unload\r\n * @param unloadCtx - This is the context that should be used during unloading.\r\n * @param unloadState - The details / state of the unload process, it holds details like whether it should be unloaded synchronously or asynchronously and the reason for the unload.\r\n * @param asyncCallback - An optional callback that the plugin must call if it returns true to inform the caller that it has completed any async unload/teardown operations.\r\n * @returns boolean - true if the plugin has or will call asyncCallback, this allows the plugin to perform any asynchronous operations.\r\n */\r\nexport function unloadComponents(components, unloadCtx, unloadState, asyncCallback) {\r\n    var idx = 0;\r\n    function _doUnload() {\r\n        while (idx < components[_DYN_LENGTH /* @min:%2elength */]) {\r\n            var component = components[idx++];\r\n            if (component) {\r\n                var func = component._doUnload || component[_DYN__DO_TEARDOWN /* @min:%2e_doTeardown */];\r\n                if (isFunction(func)) {\r\n                    if (func[_DYN_CALL /* @min:%2ecall */](component, unloadCtx, unloadState, _doUnload) === true) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return _doUnload();\r\n}\r\n/**\r\n * Creates a IDistributedTraceContext which optionally also \"sets\" the value on a parent\r\n * @param parentCtx - An optional parent distributed trace instance\r\n * @returns A new IDistributedTraceContext instance that uses an internal temporary object\r\n */\r\nexport function createDistributedTraceContext(parentCtx) {\r\n    var trace = {};\r\n    return {\r\n        getName: function () {\r\n            return trace[_DYN_NAME /* @min:%2ename */];\r\n        },\r\n        setName: function (newValue) {\r\n            parentCtx && parentCtx.setName(newValue);\r\n            trace[_DYN_NAME /* @min:%2ename */] = newValue;\r\n        },\r\n        getTraceId: function () {\r\n            return trace[_DYN_TRACE_ID /* @min:%2etraceId */];\r\n        },\r\n        setTraceId: function (newValue) {\r\n            parentCtx && parentCtx.setTraceId(newValue);\r\n            if (isValidTraceId(newValue)) {\r\n                trace[_DYN_TRACE_ID /* @min:%2etraceId */] = newValue;\r\n            }\r\n        },\r\n        getSpanId: function () {\r\n            return trace[_DYN_SPAN_ID /* @min:%2espanId */];\r\n        },\r\n        setSpanId: function (newValue) {\r\n            parentCtx && parentCtx.setSpanId(newValue);\r\n            if (isValidSpanId(newValue)) {\r\n                trace[_DYN_SPAN_ID /* @min:%2espanId */] = newValue;\r\n            }\r\n        },\r\n        getTraceFlags: function () {\r\n            return trace[_DYN_TRACE_FLAGS /* @min:%2etraceFlags */];\r\n        },\r\n        setTraceFlags: function (newTraceFlags) {\r\n            parentCtx && parentCtx.setTraceFlags(newTraceFlags);\r\n            trace[_DYN_TRACE_FLAGS /* @min:%2etraceFlags */] = newTraceFlags;\r\n        }\r\n    };\r\n}\r\n//# sourceMappingURL=TelemetryHelpers.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport { _DYN_CALL, _DYN_CONFIG, _DYN_CREATE_NEW, _DYN_DIAG_LOG, _DYN_GET_NEXT, _DYN_GET_PLUGIN, _DYN_IDENTIFIER, _DYN_IS_ASYNC, _DYN_IS_INITIALIZED, _DYN_LENGTH, _DYN_LOGGER, _DYN_PROCESS_NEXT, _DYN_PUSH, _DYN_SET_NEXT_PLUGIN, _DYN_TEARDOWN, _DYN_UPDATE } from \"../__DynamicConstants\";\r\nimport { _throwInternal, safeGetLogger } from \"./DiagnosticLogger\";\r\nimport { dumpObj } from \"./EnvUtils\";\r\nimport { arrForEach, isArray, isFunction, isNullOrUndefined, isObject, isUndefined, objExtend, objForEachKey, objFreeze, objKeys, proxyFunctions } from \"./HelperFuncs\";\r\nimport { STR_CORE, STR_DISABLED, STR_EMPTY, STR_EXTENSION_CONFIG, STR_PRIORITY, STR_PROCESS_TELEMETRY } from \"./InternalConstants\";\r\nimport { doPerf } from \"./PerfManager\";\r\nimport { _getPluginState } from \"./TelemetryHelpers\";\r\nvar strTelemetryPluginChain = \"TelemetryPluginChain\";\r\nvar strHasRunFlags = \"_hasRun\";\r\nvar strGetTelCtx = \"_getTelCtx\";\r\nvar _chainId = 0;\r\nfunction _getNextProxyStart(proxy, core, startAt) {\r\n    while (proxy) {\r\n        if (proxy[_DYN_GET_PLUGIN /* @min:%2egetPlugin */]() === startAt) {\r\n            return proxy;\r\n        }\r\n        proxy = proxy[_DYN_GET_NEXT /* @min:%2egetNext */]();\r\n    }\r\n    // This wasn't found in the existing chain so create an isolated one with just this plugin\r\n    return createTelemetryProxyChain([startAt], core[_DYN_CONFIG /* @min:%2econfig */] || {}, core);\r\n}\r\n/**\r\n * @ignore\r\n * @param telemetryChain\r\n * @param config\r\n * @param core\r\n * @param startAt - Identifies the next plugin to execute, if null there is no \"next\" plugin and if undefined it should assume the start of the chain\r\n * @returns\r\n */\r\nfunction _createInternalContext(telemetryChain, config, core, startAt) {\r\n    // We have a special case where we want to start execution from this specific plugin\r\n    // or we simply reuse the existing telemetry plugin chain (normal execution case)\r\n    var _nextProxy = null; // By Default set as no next plugin\r\n    var _onComplete = [];\r\n    if (startAt !== null) {\r\n        // There is no next element (null) vs not defined (undefined) so use the full chain\r\n        _nextProxy = startAt ? _getNextProxyStart(telemetryChain, core, startAt) : telemetryChain;\r\n    }\r\n    var context = {\r\n        _next: _moveNext,\r\n        ctx: {\r\n            core: function () {\r\n                return core;\r\n            },\r\n            diagLog: function () {\r\n                return safeGetLogger(core, config);\r\n            },\r\n            getCfg: function () {\r\n                return config;\r\n            },\r\n            getExtCfg: _getExtCfg,\r\n            getConfig: _getConfig,\r\n            hasNext: function () {\r\n                return !!_nextProxy;\r\n            },\r\n            getNext: function () {\r\n                return _nextProxy;\r\n            },\r\n            setNext: function (nextPlugin) {\r\n                _nextProxy = nextPlugin;\r\n            },\r\n            iterate: _iterateChain,\r\n            onComplete: _addOnComplete\r\n        }\r\n    };\r\n    function _addOnComplete(onComplete, that) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        if (onComplete) {\r\n            _onComplete[_DYN_PUSH /* @min:%2epush */]({\r\n                func: onComplete,\r\n                self: !isUndefined(that) ? that : context.ctx,\r\n                args: args\r\n            });\r\n        }\r\n    }\r\n    function _moveNext() {\r\n        var nextProxy = _nextProxy;\r\n        // Automatically move to the next plugin\r\n        _nextProxy = nextProxy ? nextProxy[_DYN_GET_NEXT /* @min:%2egetNext */]() : null;\r\n        if (!nextProxy) {\r\n            var onComplete = _onComplete;\r\n            if (onComplete && onComplete[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                arrForEach(onComplete, function (completeDetails) {\r\n                    try {\r\n                        completeDetails.func[_DYN_CALL /* @min:%2ecall */](completeDetails.self, completeDetails.args);\r\n                    }\r\n                    catch (e) {\r\n                        _throwInternal(core[_DYN_LOGGER /* @min:%2elogger */], 2 /* eLoggingSeverity.WARNING */, 73 /* _eInternalMessageId.PluginException */, \"Unexpected Exception during onComplete - \" + dumpObj(e));\r\n                    }\r\n                });\r\n                _onComplete = [];\r\n            }\r\n        }\r\n        return nextProxy;\r\n    }\r\n    function _getExtCfg(identifier, defaultValue, mergeDefault) {\r\n        if (defaultValue === void 0) { defaultValue = {}; }\r\n        if (mergeDefault === void 0) { mergeDefault = 0 /* GetExtCfgMergeType.None */; }\r\n        var theConfig;\r\n        if (config) {\r\n            var extConfig = config[STR_EXTENSION_CONFIG /* @min:%2eextensionConfig */];\r\n            if (extConfig && identifier) {\r\n                theConfig = extConfig[identifier];\r\n            }\r\n        }\r\n        if (!theConfig) {\r\n            // Just use the defaults\r\n            theConfig = defaultValue;\r\n        }\r\n        else if (isObject(defaultValue)) {\r\n            if (mergeDefault !== 0 /* GetExtCfgMergeType.None */) {\r\n                // Merge the defaults and configured values\r\n                var newConfig_1 = objExtend(true, defaultValue, theConfig);\r\n                if (config && mergeDefault === 2 /* GetExtCfgMergeType.MergeDefaultFromRootOrDefault */) {\r\n                    // Enumerate over the defaultValues and if not already populated attempt to\r\n                    // find a value from the root config\r\n                    objForEachKey(defaultValue, function (field) {\r\n                        // for each unspecified field, set the default value\r\n                        if (isNullOrUndefined(newConfig_1[field])) {\r\n                            var cfgValue = config[field];\r\n                            if (!isNullOrUndefined(cfgValue)) {\r\n                                newConfig_1[field] = cfgValue;\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                theConfig = newConfig_1;\r\n            }\r\n        }\r\n        return theConfig;\r\n    }\r\n    function _getConfig(identifier, field, defaultValue) {\r\n        if (defaultValue === void 0) { defaultValue = false; }\r\n        var theValue;\r\n        var extConfig = _getExtCfg(identifier, null);\r\n        if (extConfig && !isNullOrUndefined(extConfig[field])) {\r\n            theValue = extConfig[field];\r\n        }\r\n        else if (config && !isNullOrUndefined(config[field])) {\r\n            theValue = config[field];\r\n        }\r\n        return !isNullOrUndefined(theValue) ? theValue : defaultValue;\r\n    }\r\n    function _iterateChain(cb) {\r\n        // Keep processing until we reach the end of the chain\r\n        var nextPlugin;\r\n        while (!!(nextPlugin = context._next())) {\r\n            var plugin = nextPlugin[_DYN_GET_PLUGIN /* @min:%2egetPlugin */]();\r\n            if (plugin) {\r\n                // callback with the current on\r\n                cb(plugin);\r\n            }\r\n        }\r\n    }\r\n    return context;\r\n}\r\n/**\r\n * Creates a new Telemetry Item context with the current config, core and plugin execution chain\r\n * @param plugins - The plugin instances that will be executed\r\n * @param config - The current config\r\n * @param core - The current core instance\r\n * @param startAt - Identifies the next plugin to execute, if null there is no \"next\" plugin and if undefined it should assume the start of the chain\r\n */\r\nexport function createProcessTelemetryContext(telemetryChain, config, core, startAt) {\r\n    var internalContext = _createInternalContext(telemetryChain, config, core, startAt);\r\n    var context = internalContext.ctx;\r\n    function _processNext(env) {\r\n        var nextPlugin = internalContext._next();\r\n        // Run the next plugin which will call \"processNext()\"\r\n        nextPlugin && nextPlugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */](env, context);\r\n        return !nextPlugin;\r\n    }\r\n    function _createNew(plugins, startAt) {\r\n        if (plugins === void 0) { plugins = null; }\r\n        if (isArray(plugins)) {\r\n            plugins = createTelemetryProxyChain(plugins, config, core, startAt);\r\n        }\r\n        return createProcessTelemetryContext(plugins || context[_DYN_GET_NEXT /* @min:%2egetNext */](), config, core, startAt);\r\n    }\r\n    context[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */] = _processNext;\r\n    context[_DYN_CREATE_NEW /* @min:%2ecreateNew */] = _createNew;\r\n    return context;\r\n}\r\n/**\r\n * Creates a new Telemetry Item context with the current config, core and plugin execution chain for handling the unloading of the chain\r\n * @param plugins - The plugin instances that will be executed\r\n * @param config - The current config\r\n * @param core - The current core instance\r\n * @param startAt - Identifies the next plugin to execute, if null there is no \"next\" plugin and if undefined it should assume the start of the chain\r\n */\r\nexport function createProcessTelemetryUnloadContext(telemetryChain, core, startAt) {\r\n    var config = core[_DYN_CONFIG /* @min:%2econfig */] || {};\r\n    var internalContext = _createInternalContext(telemetryChain, config, core, startAt);\r\n    var context = internalContext.ctx;\r\n    function _processNext(unloadState) {\r\n        var nextPlugin = internalContext._next();\r\n        nextPlugin && nextPlugin.unload(context, unloadState);\r\n        return !nextPlugin;\r\n    }\r\n    function _createNew(plugins, startAt) {\r\n        if (plugins === void 0) { plugins = null; }\r\n        if (isArray(plugins)) {\r\n            plugins = createTelemetryProxyChain(plugins, config, core, startAt);\r\n        }\r\n        return createProcessTelemetryUnloadContext(plugins || context[_DYN_GET_NEXT /* @min:%2egetNext */](), core, startAt);\r\n    }\r\n    context[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */] = _processNext;\r\n    context[_DYN_CREATE_NEW /* @min:%2ecreateNew */] = _createNew;\r\n    return context;\r\n}\r\n/**\r\n * Creates a new Telemetry Item context with the current config, core and plugin execution chain for updating the configuration\r\n * @param plugins - The plugin instances that will be executed\r\n * @param config - The current config\r\n * @param core - The current core instance\r\n * @param startAt - Identifies the next plugin to execute, if null there is no \"next\" plugin and if undefined it should assume the start of the chain\r\n */\r\nexport function createProcessTelemetryUpdateContext(telemetryChain, core, startAt) {\r\n    var config = core[_DYN_CONFIG /* @min:%2econfig */] || {};\r\n    var internalContext = _createInternalContext(telemetryChain, config, core, startAt);\r\n    var context = internalContext.ctx;\r\n    function _processNext(updateState) {\r\n        return context.iterate(function (plugin) {\r\n            if (isFunction(plugin[_DYN_UPDATE /* @min:%2eupdate */])) {\r\n                plugin[_DYN_UPDATE /* @min:%2eupdate */](context, updateState);\r\n            }\r\n        });\r\n    }\r\n    function _createNew(plugins, startAt) {\r\n        if (plugins === void 0) { plugins = null; }\r\n        if (isArray(plugins)) {\r\n            plugins = createTelemetryProxyChain(plugins, config, core, startAt);\r\n        }\r\n        return createProcessTelemetryUpdateContext(plugins || context[_DYN_GET_NEXT /* @min:%2egetNext */](), core, startAt);\r\n    }\r\n    context[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */] = _processNext;\r\n    context[_DYN_CREATE_NEW /* @min:%2ecreateNew */] = _createNew;\r\n    return context;\r\n}\r\n/**\r\n * Creates an execution chain from the array of plugins\r\n * @param plugins - The array of plugins that will be executed in this order\r\n * @param defItemCtx - The default execution context to use when no telemetry context is passed to processTelemetry(), this\r\n * should be for legacy plugins only. Currently, only used for passing the current core instance and to provide better error\r\n * reporting (hasRun) when errors occur.\r\n */\r\nexport function createTelemetryProxyChain(plugins, config, core, startAt) {\r\n    var firstProxy = null;\r\n    var add = startAt ? false : true;\r\n    if (isArray(plugins) && plugins[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n        // Create the proxies and wire up the next plugin chain\r\n        var lastProxy_1 = null;\r\n        arrForEach(plugins, function (thePlugin) {\r\n            if (!add && startAt === thePlugin) {\r\n                add = true;\r\n            }\r\n            if (add && thePlugin && isFunction(thePlugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */])) {\r\n                // Only add plugins that are processors\r\n                var newProxy = createTelemetryPluginProxy(thePlugin, config, core);\r\n                if (!firstProxy) {\r\n                    firstProxy = newProxy;\r\n                }\r\n                if (lastProxy_1) {\r\n                    // Set this new proxy as the next for the previous one\r\n                    lastProxy_1._setNext(newProxy);\r\n                }\r\n                lastProxy_1 = newProxy;\r\n            }\r\n        });\r\n    }\r\n    if (startAt && !firstProxy) {\r\n        // Special case where the \"startAt\" was not in the original list of plugins\r\n        return createTelemetryProxyChain([startAt], config, core);\r\n    }\r\n    return firstProxy;\r\n}\r\n/**\r\n * Create the processing telemetry proxy instance, the proxy is used to abstract the current plugin to allow monitoring and\r\n * execution plugins while passing around the dynamic execution state (IProcessTelemetryContext), the proxy instance no longer\r\n * contains any execution state and can be reused between requests (this was not the case for 2.7.2 and earlier with the\r\n * TelemetryPluginChain class).\r\n * @param plugin - The plugin instance to proxy\r\n * @param config - The default execution context to use when no telemetry context is passed to processTelemetry(), this\r\n * should be for legacy plugins only. Currently, only used for passing the current core instance and to provide better error\r\n * reporting (hasRun) when errors occur.\r\n * @returns\r\n */\r\nexport function createTelemetryPluginProxy(plugin, config, core) {\r\n    var nextProxy = null;\r\n    var hasProcessTelemetry = isFunction(plugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */]);\r\n    var hasSetNext = isFunction(plugin[_DYN_SET_NEXT_PLUGIN /* @min:%2esetNextPlugin */]);\r\n    var chainId;\r\n    if (plugin) {\r\n        chainId = plugin[_DYN_IDENTIFIER /* @min:%2eidentifier */] + \"-\" + plugin[STR_PRIORITY /* @min:%2epriority */] + \"-\" + _chainId++;\r\n    }\r\n    else {\r\n        chainId = \"Unknown-0-\" + _chainId++;\r\n    }\r\n    var proxyChain = {\r\n        getPlugin: function () {\r\n            return plugin;\r\n        },\r\n        getNext: function () {\r\n            return nextProxy;\r\n        },\r\n        processTelemetry: _processTelemetry,\r\n        unload: _unloadPlugin,\r\n        update: _updatePlugin,\r\n        _id: chainId,\r\n        _setNext: function (nextPlugin) {\r\n            nextProxy = nextPlugin;\r\n        }\r\n    };\r\n    function _getTelCtx() {\r\n        var itemCtx;\r\n        // Looks like a plugin didn't pass the (optional) context, so create a new one\r\n        if (plugin && isFunction(plugin[strGetTelCtx])) {\r\n            // This plugin extends from the BaseTelemetryPlugin so lets use it\r\n            itemCtx = plugin[strGetTelCtx]();\r\n        }\r\n        if (!itemCtx) {\r\n            // Create a temporary one\r\n            itemCtx = createProcessTelemetryContext(proxyChain, config, core);\r\n        }\r\n        return itemCtx;\r\n    }\r\n    function _processChain(itemCtx, processPluginFn, name, details, isAsync) {\r\n        var hasRun = false;\r\n        var identifier = plugin ? plugin[_DYN_IDENTIFIER /* @min:%2eidentifier */] : strTelemetryPluginChain;\r\n        var hasRunContext = itemCtx[strHasRunFlags];\r\n        if (!hasRunContext) {\r\n            // Assign and populate\r\n            hasRunContext = itemCtx[strHasRunFlags] = {};\r\n        }\r\n        // Ensure that we keep the context in sync\r\n        itemCtx.setNext(nextProxy);\r\n        if (plugin) {\r\n            doPerf(itemCtx[STR_CORE /* @min:%2ecore */](), function () { return identifier + \":\" + name; }, function () {\r\n                // Mark this component as having run\r\n                hasRunContext[chainId] = true;\r\n                try {\r\n                    // Set a flag on the next plugin so we know if it was attempted to be executed\r\n                    var nextId = nextProxy ? nextProxy._id : STR_EMPTY;\r\n                    if (nextId) {\r\n                        hasRunContext[nextId] = false;\r\n                    }\r\n                    hasRun = processPluginFn(itemCtx);\r\n                }\r\n                catch (error) {\r\n                    var hasNextRun = nextProxy ? hasRunContext[nextProxy._id] : true;\r\n                    if (hasNextRun) {\r\n                        // The next plugin after us has already run so set this one as complete\r\n                        hasRun = true;\r\n                    }\r\n                    if (!nextProxy || !hasNextRun) {\r\n                        // Either we have no next plugin or the current one did not attempt to call the next plugin\r\n                        // Which means the current one is the root of the failure so log/report this failure\r\n                        _throwInternal(itemCtx[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 1 /* eLoggingSeverity.CRITICAL */, 73 /* _eInternalMessageId.PluginException */, \"Plugin [\" + identifier + \"] failed during \" + name + \" - \" + dumpObj(error) + \", run flags: \" + dumpObj(hasRunContext));\r\n                    }\r\n                }\r\n            }, details, isAsync);\r\n        }\r\n        return hasRun;\r\n    }\r\n    function _processTelemetry(env, itemCtx) {\r\n        itemCtx = itemCtx || _getTelCtx();\r\n        function _callProcessTelemetry(itemCtx) {\r\n            if (!plugin || !hasProcessTelemetry) {\r\n                return false;\r\n            }\r\n            var pluginState = _getPluginState(plugin);\r\n            if (pluginState[_DYN_TEARDOWN /* @min:%2eteardown */] || pluginState[STR_DISABLED]) {\r\n                return false;\r\n            }\r\n            // Ensure that we keep the context in sync (for processNext()), just in case a plugin\r\n            // doesn't calls processTelemetry() instead of itemContext.processNext() or some\r\n            // other form of error occurred\r\n            if (hasSetNext) {\r\n                // Backward compatibility setting the next plugin on the instance\r\n                plugin[_DYN_SET_NEXT_PLUGIN /* @min:%2esetNextPlugin */](nextProxy);\r\n            }\r\n            plugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */](env, itemCtx);\r\n            // Process Telemetry is expected to call itemCtx.processNext() or nextPlugin.processTelemetry()\r\n            return true;\r\n        }\r\n        if (!_processChain(itemCtx, _callProcessTelemetry, \"processTelemetry\", function () { return ({ item: env }); }, !(env.sync))) {\r\n            // The underlying plugin is either not defined, not enabled or does not have a processTelemetry implementation\r\n            // so we still want the next plugin to be executed.\r\n            itemCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](env);\r\n        }\r\n    }\r\n    function _unloadPlugin(unloadCtx, unloadState) {\r\n        function _callTeardown() {\r\n            // Setting default of hasRun as false so the proxyProcessFn() is called as teardown() doesn't have to exist or call unloadNext().\r\n            var hasRun = false;\r\n            if (plugin) {\r\n                var pluginState = _getPluginState(plugin);\r\n                var pluginCore = plugin[STR_CORE] || pluginState[STR_CORE /* @min:%2ecore */];\r\n                // Only teardown the plugin if it was initialized by the current core (i.e. It's not a shared plugin)\r\n                if (plugin && (!pluginCore || pluginCore === unloadCtx.core()) && !pluginState[_DYN_TEARDOWN /* @min:%2eteardown */]) {\r\n                    // Handle plugins that don't extend from the BaseTelemetryPlugin\r\n                    pluginState[STR_CORE /* @min:%2ecore */] = null;\r\n                    pluginState[_DYN_TEARDOWN /* @min:%2eteardown */] = true;\r\n                    pluginState[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */] = false;\r\n                    if (plugin[_DYN_TEARDOWN /* @min:%2eteardown */] && plugin[_DYN_TEARDOWN /* @min:%2eteardown */](unloadCtx, unloadState) === true) {\r\n                        // plugin told us that it was going to (or has) call unloadCtx.processNext()\r\n                        hasRun = true;\r\n                    }\r\n                }\r\n            }\r\n            return hasRun;\r\n        }\r\n        if (!_processChain(unloadCtx, _callTeardown, \"unload\", function () { }, unloadState[_DYN_IS_ASYNC /* @min:%2eisAsync */])) {\r\n            // Only called if we hasRun was not true\r\n            unloadCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](unloadState);\r\n        }\r\n    }\r\n    function _updatePlugin(updateCtx, updateState) {\r\n        function _callUpdate() {\r\n            // Setting default of hasRun as false so the proxyProcessFn() is called as teardown() doesn't have to exist or call unloadNext().\r\n            var hasRun = false;\r\n            if (plugin) {\r\n                var pluginState = _getPluginState(plugin);\r\n                var pluginCore = plugin[STR_CORE] || pluginState[STR_CORE /* @min:%2ecore */];\r\n                // Only update the plugin if it was initialized by the current core (i.e. It's not a shared plugin)\r\n                if (plugin && (!pluginCore || pluginCore === updateCtx.core()) && !pluginState[_DYN_TEARDOWN /* @min:%2eteardown */]) {\r\n                    if (plugin[_DYN_UPDATE /* @min:%2eupdate */] && plugin[_DYN_UPDATE /* @min:%2eupdate */](updateCtx, updateState) === true) {\r\n                        // plugin told us that it was going to (or has) call unloadCtx.processNext()\r\n                        hasRun = true;\r\n                    }\r\n                }\r\n            }\r\n            return hasRun;\r\n        }\r\n        if (!_processChain(updateCtx, _callUpdate, \"update\", function () { }, false)) {\r\n            // Only called if we hasRun was not true\r\n            updateCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](updateState);\r\n        }\r\n    }\r\n    return objFreeze(proxyChain);\r\n}\r\n/**\r\n * This class will be removed!\r\n * @deprecated use createProcessTelemetryContext() instead\r\n */\r\nvar ProcessTelemetryContext = /** @class */ (function () {\r\n    /**\r\n     * Creates a new Telemetry Item context with the current config, core and plugin execution chain\r\n     * @param plugins - The plugin instances that will be executed\r\n     * @param config - The current config\r\n     * @param core - The current core instance\r\n     */\r\n    function ProcessTelemetryContext(pluginChain, config, core, startAt) {\r\n        var _self = this;\r\n        var context = createProcessTelemetryContext(pluginChain, config, core, startAt);\r\n        // Proxy all functions of the context to this object\r\n        proxyFunctions(_self, context, objKeys(context));\r\n    }\r\n    return ProcessTelemetryContext;\r\n}());\r\nexport { ProcessTelemetryContext };\r\n//# sourceMappingURL=ProcessTelemetryContext.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n// \r\nimport { _DYN_CONFIG, _DYN_CREATE_NEW, _DYN_FLUSH, _DYN_IDENTIFIER, _DYN_LENGTH, _DYN_ON_COMPLETE, _DYN_PROCESS_NEXT, _DYN_PUSH } from \"../__DynamicConstants\";\r\nimport { arrForEach, isArray, objFreeze, throwError } from \"./HelperFuncs\";\r\nimport { STR_PRIORITY } from \"./InternalConstants\";\r\nimport { createProcessTelemetryContext, createTelemetryProxyChain } from \"./ProcessTelemetryContext\";\r\nimport { initializePlugins } from \"./TelemetryHelpers\";\r\nexport var ChannelControllerPriority = 500;\r\nvar ChannelValidationMessage = \"Channel has invalid priority - \";\r\nfunction _addChannelQueue(channelQueue, queue, core) {\r\n    if (queue && isArray(queue) && queue[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n        queue = queue.sort(function (a, b) {\r\n            return a[STR_PRIORITY /* @min:%2epriority */] - b[STR_PRIORITY /* @min:%2epriority */];\r\n        });\r\n        arrForEach(queue, function (queueItem) {\r\n            if (queueItem[STR_PRIORITY /* @min:%2epriority */] < ChannelControllerPriority) {\r\n                throwError(ChannelValidationMessage + queueItem[_DYN_IDENTIFIER /* @min:%2eidentifier */]);\r\n            }\r\n        });\r\n        channelQueue[_DYN_PUSH /* @min:%2epush */]({\r\n            queue: objFreeze(queue),\r\n            chain: createTelemetryProxyChain(queue, core[_DYN_CONFIG /* @min:%2econfig */], core)\r\n        });\r\n    }\r\n}\r\nexport function createChannelControllerPlugin(channelQueue, core) {\r\n    function _getTelCtx() {\r\n        return createProcessTelemetryContext(null, core[_DYN_CONFIG /* @min:%2econfig */], core, null);\r\n    }\r\n    function _processChannelQueue(theChannels, itemCtx, processFn, onComplete) {\r\n        var waiting = theChannels ? (theChannels[_DYN_LENGTH /* @min:%2elength */] + 1) : 1;\r\n        function _runChainOnComplete() {\r\n            waiting--;\r\n            if (waiting === 0) {\r\n                onComplete && onComplete();\r\n                onComplete = null;\r\n            }\r\n        }\r\n        if (waiting > 0) {\r\n            arrForEach(theChannels, function (channels) {\r\n                // pass on to first item in queue\r\n                if (channels && channels.queue[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    var channelChain = channels.chain;\r\n                    var chainCtx = itemCtx[_DYN_CREATE_NEW /* @min:%2ecreateNew */](channelChain);\r\n                    chainCtx[_DYN_ON_COMPLETE /* @min:%2eonComplete */](_runChainOnComplete);\r\n                    // Cause this chain to start processing\r\n                    processFn(chainCtx);\r\n                }\r\n                else {\r\n                    waiting--;\r\n                }\r\n            });\r\n        }\r\n        _runChainOnComplete();\r\n    }\r\n    function _doUpdate(updateCtx, updateState) {\r\n        var theUpdateState = updateState || {\r\n            reason: 0 /* TelemetryUpdateReason.Unknown */\r\n        };\r\n        _processChannelQueue(channelQueue, updateCtx, function (chainCtx) {\r\n            chainCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](theUpdateState);\r\n        }, function () {\r\n            updateCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](theUpdateState);\r\n        });\r\n        return true;\r\n    }\r\n    function _doTeardown(unloadCtx, unloadState) {\r\n        var theUnloadState = unloadState || {\r\n            reason: 0 /* TelemetryUnloadReason.ManualTeardown */,\r\n            isAsync: false\r\n        };\r\n        _processChannelQueue(channelQueue, unloadCtx, function (chainCtx) {\r\n            chainCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](theUnloadState);\r\n        }, function () {\r\n            unloadCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](theUnloadState);\r\n            isInitialized = false;\r\n        });\r\n        return true;\r\n    }\r\n    function _getChannel(pluginIdentifier) {\r\n        var thePlugin = null;\r\n        if (channelQueue && channelQueue[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n            arrForEach(channelQueue, function (channels) {\r\n                // pass on to first item in queue\r\n                if (channels && channels.queue[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    arrForEach(channels.queue, function (ext) {\r\n                        if (ext[_DYN_IDENTIFIER /* @min:%2eidentifier */] === pluginIdentifier) {\r\n                            thePlugin = ext;\r\n                            // Cause arrForEach to stop iterating\r\n                            return -1;\r\n                        }\r\n                    });\r\n                    if (thePlugin) {\r\n                        // Cause arrForEach to stop iterating\r\n                        return -1;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        return thePlugin;\r\n    }\r\n    var isInitialized = false;\r\n    var channelController = {\r\n        identifier: \"ChannelControllerPlugin\",\r\n        priority: ChannelControllerPriority,\r\n        initialize: function (config, core, extensions, pluginChain) {\r\n            isInitialized = true;\r\n            arrForEach(channelQueue, function (channels) {\r\n                if (channels && channels.queue[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    initializePlugins(createProcessTelemetryContext(channels.chain, config, core), extensions);\r\n                }\r\n            });\r\n        },\r\n        isInitialized: function () {\r\n            return isInitialized;\r\n        },\r\n        processTelemetry: function (item, itemCtx) {\r\n            _processChannelQueue(channelQueue, itemCtx || _getTelCtx(), function (chainCtx) {\r\n                chainCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](item);\r\n            }, function () {\r\n                itemCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](item);\r\n            });\r\n        },\r\n        update: _doUpdate,\r\n        pause: function () {\r\n            _processChannelQueue(channelQueue, _getTelCtx(), function (chainCtx) {\r\n                chainCtx.iterate(function (plugin) {\r\n                    plugin.pause && plugin.pause();\r\n                });\r\n            }, null);\r\n        },\r\n        resume: function () {\r\n            _processChannelQueue(channelQueue, _getTelCtx(), function (chainCtx) {\r\n                chainCtx.iterate(function (plugin) {\r\n                    plugin.resume && plugin.resume();\r\n                });\r\n            }, null);\r\n        },\r\n        teardown: _doTeardown,\r\n        getChannel: _getChannel,\r\n        flush: function (isAsync, callBack, sendReason, cbTimeout) {\r\n            // Setting waiting to one so that we don't call the callBack until we finish iterating\r\n            var waiting = 1;\r\n            var doneIterating = false;\r\n            var cbTimer = null;\r\n            cbTimeout = cbTimeout || 5000;\r\n            function doCallback() {\r\n                waiting--;\r\n                if (doneIterating && waiting === 0) {\r\n                    if (cbTimer) {\r\n                        clearTimeout(cbTimer);\r\n                        cbTimer = null;\r\n                    }\r\n                    callBack && callBack(doneIterating);\r\n                    callBack = null;\r\n                }\r\n            }\r\n            _processChannelQueue(channelQueue, _getTelCtx(), function (chainCtx) {\r\n                chainCtx.iterate(function (plugin) {\r\n                    if (plugin[_DYN_FLUSH /* @min:%2eflush */]) {\r\n                        waiting++;\r\n                        var handled_1 = false;\r\n                        // Not all channels will call this callback for every scenario\r\n                        if (!plugin[_DYN_FLUSH /* @min:%2eflush */](isAsync, function () {\r\n                            handled_1 = true;\r\n                            doCallback();\r\n                        }, sendReason)) {\r\n                            if (!handled_1) {\r\n                                // If any channel doesn't return true and it didn't call the callback, then we should assume that the callback\r\n                                // will never be called, so use a timeout to allow the channel(s) some time to \"finish\" before triggering any\r\n                                // followup function (such as unloading)\r\n                                if (isAsync && cbTimer == null) {\r\n                                    cbTimer = setTimeout(function () {\r\n                                        cbTimer = null;\r\n                                        doCallback();\r\n                                    }, cbTimeout);\r\n                                }\r\n                                else {\r\n                                    doCallback();\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }, function () {\r\n                doneIterating = true;\r\n                doCallback();\r\n            });\r\n            return true;\r\n        },\r\n        _setQueue: function (queue) {\r\n            channelQueue = queue;\r\n        }\r\n    };\r\n    return channelController;\r\n}\r\nexport function createChannelQueues(channels, extensions, core) {\r\n    var channelQueue = [];\r\n    if (channels) {\r\n        // Add and sort the configuration channel queues\r\n        arrForEach(channels, function (queue) { return _addChannelQueue(channelQueue, queue, core); });\r\n    }\r\n    if (extensions) {\r\n        // Create a new channel queue for any extensions with a priority > the ChannelControllerPriority\r\n        var extensionQueue_1 = [];\r\n        arrForEach(extensions, function (plugin) {\r\n            if (plugin[STR_PRIORITY /* @min:%2epriority */] > ChannelControllerPriority) {\r\n                extensionQueue_1[_DYN_PUSH /* @min:%2epush */](plugin);\r\n            }\r\n        });\r\n        _addChannelQueue(channelQueue, extensionQueue_1, core);\r\n    }\r\n    return channelQueue;\r\n}\r\n//# sourceMappingURL=ChannelController.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { _DYN_DIAG_LOG, _DYN_PUSH } from \"../__DynamicConstants\";\r\nimport { _throwInternal } from \"./DiagnosticLogger\";\r\nimport { dumpObj } from \"./EnvUtils\";\r\nimport { arrForEach } from \"./HelperFuncs\";\r\nexport function createUnloadHandlerContainer() {\r\n    var handlers = [];\r\n    function _addHandler(handler) {\r\n        if (handler) {\r\n            handlers[_DYN_PUSH /* @min:%2epush */](handler);\r\n        }\r\n    }\r\n    function _runHandlers(unloadCtx, unloadState) {\r\n        arrForEach(handlers, function (handler) {\r\n            try {\r\n                handler(unloadCtx, unloadState);\r\n            }\r\n            catch (e) {\r\n                _throwInternal(unloadCtx[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 2 /* eLoggingSeverity.WARNING */, 73 /* _eInternalMessageId.PluginException */, \"Unexpected error calling unload handler - \" + dumpObj(e));\r\n            }\r\n        });\r\n        handlers = [];\r\n    }\r\n    return {\r\n        add: _addHandler,\r\n        run: _runHandlers\r\n    };\r\n}\r\n//# sourceMappingURL=UnloadHandlerContainer.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { _DYN_CREATE_NEW, _DYN_DIAG_LOG, _DYN_GET_NEXT, _DYN_GET_PROCESS_TEL_CONT0, _DYN_INITIALIZE, _DYN_IS_ASYNC, _DYN_IS_INITIALIZED, _DYN_PROCESS_NEXT, _DYN_PUSH, _DYN_SET_NEXT_PLUGIN, _DYN_TEARDOWN, _DYN_UPDATE, _DYN__DO_TEARDOWN } from \"../__DynamicConstants\";\r\nimport { arrForEach, isArray, isFunction, isNullOrUndefined, proxyFunctionAs, setValue } from \"./HelperFuncs\";\r\nimport { STR_CORE, STR_EXTENSION_CONFIG, STR_PROCESS_TELEMETRY } from \"./InternalConstants\";\r\nimport { createProcessTelemetryContext, createProcessTelemetryUnloadContext, createProcessTelemetryUpdateContext } from \"./ProcessTelemetryContext\";\r\nimport { createUnloadHandlerContainer } from \"./UnloadHandlerContainer\";\r\nvar strGetPlugin = \"getPlugin\";\r\n/**\r\n * BaseTelemetryPlugin provides a basic implementation of the ITelemetryPlugin interface so that plugins\r\n * can avoid implementation the same set of boiler plate code as well as provide a base\r\n * implementation so that new default implementations can be added without breaking all plugins.\r\n */\r\nvar BaseTelemetryPlugin = /** @class */ (function () {\r\n    function BaseTelemetryPlugin() {\r\n        var _self = this; // Setting _self here as it's used outside of the dynamicProto as well\r\n        // NOTE!: DON'T set default values here, instead set them in the _initDefaults() function as it is also called during teardown()\r\n        var _isinitialized;\r\n        var _rootCtx; // Used as the root context, holding the current config and initialized core\r\n        var _nextPlugin; // Used for backward compatibility where plugins don't call the main pipeline\r\n        var _unloadHandlerContainer;\r\n        var _hooks;\r\n        _initDefaults();\r\n        dynamicProto(BaseTelemetryPlugin, _self, function (_self) {\r\n            _self[_DYN_INITIALIZE /* @min:%2einitialize */] = function (config, core, extensions, pluginChain) {\r\n                _setDefaults(config, core, pluginChain);\r\n                _isinitialized = true;\r\n            };\r\n            _self[_DYN_TEARDOWN /* @min:%2eteardown */] = function (unloadCtx, unloadState) {\r\n                var _a;\r\n                // If this plugin has already been torn down (not operational) or is not initialized (core is not set)\r\n                // or the core being used for unload was not the same core used for initialization.\r\n                var core = _self[STR_CORE /* @min:%2ecore */];\r\n                if (!core || (unloadCtx && core !== unloadCtx[STR_CORE /* @min:%2ecore */]())) {\r\n                    // Do Nothing as either the plugin is not initialized or was not initialized by the current core\r\n                    return;\r\n                }\r\n                var result;\r\n                var unloadDone = false;\r\n                var theUnloadCtx = unloadCtx || createProcessTelemetryUnloadContext(null, core, _nextPlugin && _nextPlugin[strGetPlugin] ? _nextPlugin[strGetPlugin]() : _nextPlugin);\r\n                var theUnloadState = unloadState || (_a = {\r\n                        reason: 0 /* TelemetryUnloadReason.ManualTeardown */\r\n                    },\r\n                    _a[_DYN_IS_ASYNC /* @min:isAsync */] = false,\r\n                    _a);\r\n                function _unloadCallback() {\r\n                    if (!unloadDone) {\r\n                        unloadDone = true;\r\n                        _unloadHandlerContainer.run(theUnloadCtx, unloadState);\r\n                        var oldHooks = _hooks;\r\n                        _hooks = [];\r\n                        // Remove all instrumentation hooks\r\n                        arrForEach(oldHooks, function (fn) {\r\n                            fn.rm();\r\n                        });\r\n                        if (result === true) {\r\n                            theUnloadCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](theUnloadState);\r\n                        }\r\n                        _initDefaults();\r\n                    }\r\n                }\r\n                if (!_self[_DYN__DO_TEARDOWN /* @min:%2e_doTeardown */] || _self[_DYN__DO_TEARDOWN /* @min:%2e_doTeardown */](theUnloadCtx, theUnloadState, _unloadCallback) !== true) {\r\n                    _unloadCallback();\r\n                }\r\n                else {\r\n                    // Tell the caller that we will be calling processNext()\r\n                    result = true;\r\n                }\r\n                return result;\r\n            };\r\n            _self[_DYN_UPDATE /* @min:%2eupdate */] = function (updateCtx, updateState) {\r\n                // If this plugin has already been torn down (not operational) or is not initialized (core is not set)\r\n                // or the core being used for unload was not the same core used for initialization.\r\n                var core = _self[STR_CORE /* @min:%2ecore */];\r\n                if (!core || (updateCtx && core !== updateCtx[STR_CORE /* @min:%2ecore */]())) {\r\n                    // Do Nothing\r\n                    return;\r\n                }\r\n                var result;\r\n                var updateDone = false;\r\n                var theUpdateCtx = updateCtx || createProcessTelemetryUpdateContext(null, core, _nextPlugin && _nextPlugin[strGetPlugin] ? _nextPlugin[strGetPlugin]() : _nextPlugin);\r\n                var theUpdateState = updateState || {\r\n                    reason: 0 /* TelemetryUpdateReason.Unknown */\r\n                };\r\n                function _updateCallback() {\r\n                    if (!updateDone) {\r\n                        updateDone = true;\r\n                        _setDefaults(theUpdateCtx.getCfg(), theUpdateCtx.core(), theUpdateCtx[_DYN_GET_NEXT /* @min:%2egetNext */]());\r\n                    }\r\n                }\r\n                if (!_self._doUpdate || _self._doUpdate(theUpdateCtx, theUpdateState, _updateCallback) !== true) {\r\n                    _updateCallback();\r\n                }\r\n                else {\r\n                    result = true;\r\n                }\r\n                return result;\r\n            };\r\n            _self._addHook = function (hooks) {\r\n                if (hooks) {\r\n                    if (isArray(hooks)) {\r\n                        _hooks = _hooks.concat(hooks);\r\n                    }\r\n                    else {\r\n                        _hooks[_DYN_PUSH /* @min:%2epush */](hooks);\r\n                    }\r\n                }\r\n            };\r\n            proxyFunctionAs(_self, \"_addUnloadCb\", function () { return _unloadHandlerContainer; }, \"add\");\r\n        });\r\n        // These are added after the dynamicProto so that are not moved to the prototype\r\n        _self[_DYN_DIAG_LOG /* @min:%2ediagLog */] = function (itemCtx) {\r\n            return _getTelCtx(itemCtx)[_DYN_DIAG_LOG /* @min:%2ediagLog */]();\r\n        };\r\n        _self[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */] = function () {\r\n            return _isinitialized;\r\n        };\r\n        _self.setInitialized = function (isInitialized) {\r\n            _isinitialized = isInitialized;\r\n        };\r\n        // _self.getNextPlugin = () => DO NOT IMPLEMENT\r\n        // Sub-classes of this base class *should* not be relying on this value and instead\r\n        // should use processNext() function. If you require access to the plugin use the\r\n        // IProcessTelemetryContext.getNext().getPlugin() while in the pipeline, Note getNext() may return null.\r\n        _self[_DYN_SET_NEXT_PLUGIN /* @min:%2esetNextPlugin */] = function (next) {\r\n            _nextPlugin = next;\r\n        };\r\n        _self[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */] = function (env, itemCtx) {\r\n            if (itemCtx) {\r\n                // Normal core execution sequence\r\n                itemCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](env);\r\n            }\r\n            else if (_nextPlugin && isFunction(_nextPlugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */])) {\r\n                // Looks like backward compatibility or out of band processing. And as it looks\r\n                // like a ITelemetryPlugin or ITelemetryPluginChain, just call processTelemetry\r\n                _nextPlugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */](env, null);\r\n            }\r\n        };\r\n        _self._getTelCtx = _getTelCtx;\r\n        function _getTelCtx(currentCtx) {\r\n            if (currentCtx === void 0) { currentCtx = null; }\r\n            var itemCtx = currentCtx;\r\n            if (!itemCtx) {\r\n                var rootCtx = _rootCtx || createProcessTelemetryContext(null, {}, _self[STR_CORE /* @min:%2ecore */]);\r\n                // tslint:disable-next-line: prefer-conditional-expression\r\n                if (_nextPlugin && _nextPlugin[strGetPlugin]) {\r\n                    // Looks like a chain object\r\n                    itemCtx = rootCtx[_DYN_CREATE_NEW /* @min:%2ecreateNew */](null, _nextPlugin[strGetPlugin]);\r\n                }\r\n                else {\r\n                    itemCtx = rootCtx[_DYN_CREATE_NEW /* @min:%2ecreateNew */](null, _nextPlugin);\r\n                }\r\n            }\r\n            return itemCtx;\r\n        }\r\n        function _setDefaults(config, core, pluginChain) {\r\n            if (config) {\r\n                // Make sure the extensionConfig exists\r\n                setValue(config, STR_EXTENSION_CONFIG, [], null, isNullOrUndefined);\r\n            }\r\n            if (!pluginChain && core) {\r\n                // Get the first plugin from the core\r\n                pluginChain = core[_DYN_GET_PROCESS_TEL_CONT0 /* @min:%2egetProcessTelContext */]()[_DYN_GET_NEXT /* @min:%2egetNext */]();\r\n            }\r\n            var nextPlugin = _nextPlugin;\r\n            if (_nextPlugin && _nextPlugin[strGetPlugin]) {\r\n                // If it looks like a proxy/chain then get the plugin\r\n                nextPlugin = _nextPlugin[strGetPlugin]();\r\n            }\r\n            // Support legacy plugins where core was defined as a property\r\n            _self[STR_CORE /* @min:%2ecore */] = core;\r\n            _rootCtx = createProcessTelemetryContext(pluginChain, config, core, nextPlugin);\r\n        }\r\n        function _initDefaults() {\r\n            _isinitialized = false;\r\n            _self[STR_CORE /* @min:%2ecore */] = null;\r\n            _rootCtx = null;\r\n            _nextPlugin = null;\r\n            _hooks = [];\r\n            _unloadHandlerContainer = createUnloadHandlerContainer();\r\n        }\r\n    }\r\n// Removed Stub for BaseTelemetryPlugin.prototype.initialize.\r\n// Removed Stub for BaseTelemetryPlugin.prototype.teardown.\r\n// Removed Stub for BaseTelemetryPlugin.prototype.update.\r\n// Removed Stub for BaseTelemetryPlugin.prototype._addUnloadCb.\r\n// Removed Stub for BaseTelemetryPlugin.prototype._addHook.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    BaseTelemetryPlugin.__ieDyn=1;\n\n    return BaseTelemetryPlugin;\r\n}());\r\nexport { BaseTelemetryPlugin };\r\n//# sourceMappingURL=BaseTelemetryPlugin.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n// \r\n// \r\nimport { __extendsFn as __extends } from \"@microsoft/applicationinsights-shims\";\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { _DYN_APPLY, _DYN_DIAG_LOG, _DYN_LENGTH, _DYN_PROCESS_NEXT, _DYN_PUSH, _DYN_SPLICE, _DYN__DO_TEARDOWN } from \"../__DynamicConstants\";\r\nimport { BaseTelemetryPlugin } from \"./BaseTelemetryPlugin\";\r\nimport { _throwInternal } from \"./DiagnosticLogger\";\r\nimport { dumpObj } from \"./EnvUtils\";\r\nimport { arrForEach, getExceptionName } from \"./HelperFuncs\";\r\nimport { STR_PROCESS_TELEMETRY } from \"./InternalConstants\";\r\nvar TelemetryInitializerPlugin = /** @class */ (function (_super) {\r\n    __extends(TelemetryInitializerPlugin, _super);\r\n    function TelemetryInitializerPlugin() {\r\n        var _this = _super.call(this) || this;\r\n        _this.identifier = \"TelemetryInitializerPlugin\";\r\n        _this.priority = 199;\r\n        // NOTE!: DON'T set default values here, instead set them in the _initDefaults() function as it is also called during teardown()\r\n        var _id;\r\n        var _initializers;\r\n        _initDefaults();\r\n        dynamicProto(TelemetryInitializerPlugin, _this, function (_self, _base) {\r\n            _self.addTelemetryInitializer = function (telemetryInitializer) {\r\n                var theInitializer = {\r\n                    id: _id++,\r\n                    fn: telemetryInitializer\r\n                };\r\n                _initializers[_DYN_PUSH /* @min:%2epush */](theInitializer);\r\n                var handler = {\r\n                    remove: function () {\r\n                        arrForEach(_initializers, function (initializer, idx) {\r\n                            if (initializer.id === theInitializer.id) {\r\n                                _initializers[_DYN_SPLICE /* @min:%2esplice */](idx, 1);\r\n                                return -1;\r\n                            }\r\n                        });\r\n                    }\r\n                };\r\n                return handler;\r\n            };\r\n            _self[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */] = function (item, itemCtx) {\r\n                var doNotSendItem = false;\r\n                var telemetryInitializersCount = _initializers[_DYN_LENGTH /* @min:%2elength */];\r\n                for (var i = 0; i < telemetryInitializersCount; ++i) {\r\n                    var telemetryInitializer = _initializers[i];\r\n                    if (telemetryInitializer) {\r\n                        try {\r\n                            if (telemetryInitializer.fn[_DYN_APPLY /* @min:%2eapply */](null, [item]) === false) {\r\n                                doNotSendItem = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                        catch (e) {\r\n                            // log error but dont stop executing rest of the telemetry initializers\r\n                            // doNotSendItem = true;\r\n                            _throwInternal(itemCtx[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 1 /* eLoggingSeverity.CRITICAL */, 64 /* _eInternalMessageId.TelemetryInitializerFailed */, \"One of telemetry initializers failed, telemetry item will not be sent: \" + getExceptionName(e), { exception: dumpObj(e) }, true);\r\n                        }\r\n                    }\r\n                }\r\n                if (!doNotSendItem) {\r\n                    _self[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](item, itemCtx);\r\n                }\r\n            };\r\n            _self[_DYN__DO_TEARDOWN /* @min:%2e_doTeardown */] = function () {\r\n                _initDefaults();\r\n            };\r\n        });\r\n        function _initDefaults() {\r\n            _id = 0;\r\n            _initializers = [];\r\n        }\r\n        return _this;\r\n    }\r\n// Removed Stub for TelemetryInitializerPlugin.prototype.addTelemetryInitializer.\r\n// Removed Stub for TelemetryInitializerPlugin.prototype.processTelemetry.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    TelemetryInitializerPlugin.__ieDyn=1;\n\n    return TelemetryInitializerPlugin;\r\n}(BaseTelemetryPlugin));\r\nexport { TelemetryInitializerPlugin };\r\n//# sourceMappingURL=TelemetryInitializerPlugin.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport { __spreadArrayFn as __spreadArray } from \"@microsoft/applicationinsights-shims\";\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { objCreateFn } from \"@microsoft/applicationinsights-shims\";\r\nimport { _DYN_ADD_NOTIFICATION_LIS1, _DYN_CONFIG, _DYN_FLUSH, _DYN_GET_NOTIFY_MGR, _DYN_GET_PLUGIN, _DYN_GET_PROCESS_TEL_CONT0, _DYN_IDENTIFIER, _DYN_INITIALIZE, _DYN_INSTRUMENTATION_KEY, _DYN_IS_ASYNC, _DYN_IS_INITIALIZED, _DYN_LENGTH, _DYN_LOGGER, _DYN_MESSAGE, _DYN_MESSAGE_ID, _DYN_NAME, _DYN_ON_COMPLETE, _DYN_PROCESS_NEXT, _DYN_PUSH, _DYN_REMOVE_NOTIFICATION_2, _DYN_SET_ENABLED, _DYN_SPLICE, _DYN_STOP_POLLING_INTERNA3, _DYN_TEARDOWN, _DYN_TIME, _DYN__EXTENSIONS } from \"../__DynamicConstants\";\r\nimport { ChannelControllerPriority, createChannelControllerPlugin, createChannelQueues } from \"./ChannelController\";\r\nimport { createCookieMgr } from \"./CookieMgr\";\r\nimport { createUniqueNamespace } from \"./DataCacheHelper\";\r\nimport { getDebugListener } from \"./DbgExtensionUtils\";\r\nimport { DiagnosticLogger, _InternalLogMessage, _throwInternal, _warnToConsole } from \"./DiagnosticLogger\";\r\nimport { arrForEach, arrIndexOf, getCfgValue, getSetValue, isFunction, isNullOrUndefined, objExtend, objFreeze, proxyFunctionAs, proxyFunctions, throwError, toISOString } from \"./HelperFuncs\";\r\nimport { STR_CHANNELS, STR_CORE, STR_CREATE_PERF_MGR, STR_DISABLED, STR_EVENTS_DISCARDED, STR_EVENTS_SEND_REQUEST, STR_EVENTS_SENT, STR_EXTENSIONS, STR_EXTENSION_CONFIG, STR_GET_PERF_MGR, STR_PRIORITY } from \"./InternalConstants\";\r\nimport { PerfManager, getGblPerfMgr } from \"./PerfManager\";\r\nimport { createProcessTelemetryContext, createProcessTelemetryUnloadContext, createProcessTelemetryUpdateContext, createTelemetryProxyChain } from \"./ProcessTelemetryContext\";\r\nimport { _getPluginState, createDistributedTraceContext, initializePlugins, sortPlugins } from \"./TelemetryHelpers\";\r\nimport { TelemetryInitializerPlugin } from \"./TelemetryInitializerPlugin\";\r\nimport { createUnloadHandlerContainer } from \"./UnloadHandlerContainer\";\r\nvar strValidationError = \"Plugins must provide initialize method\";\r\nvar strNotificationManager = \"_notificationManager\";\r\nvar strSdkUnloadingError = \"SDK is still unloading...\";\r\nvar strSdkNotInitialized = \"SDK is not initialized\";\r\n// const strPluginUnloadFailed = \"Failed to unload plugin\";\r\nvar defaultInitConfig = {\r\n    // Have the Diagnostic Logger default to log critical errors to the console\r\n    loggingLevelConsole: 1 /* eLoggingSeverity.CRITICAL */\r\n};\r\n/**\r\n * Helper to create the default performance manager\r\n * @param core\r\n * @param notificationMgr\r\n */\r\nfunction _createPerfManager(core, notificationMgr) {\r\n    return new PerfManager(notificationMgr);\r\n}\r\nfunction _validateExtensions(logger, channelPriority, allExtensions) {\r\n    var _a;\r\n    // Concat all available extensions\r\n    var coreExtensions = [];\r\n    // Check if any two extensions have the same priority, then warn to console\r\n    // And extract the local extensions from the\r\n    var extPriorities = {};\r\n    // Extension validation\r\n    arrForEach(allExtensions, function (ext) {\r\n        // Check for ext.initialize\r\n        if (isNullOrUndefined(ext) || isNullOrUndefined(ext[_DYN_INITIALIZE /* @min:%2einitialize */])) {\r\n            throwError(strValidationError);\r\n        }\r\n        var extPriority = ext[STR_PRIORITY /* @min:%2epriority */];\r\n        var identifier = ext[_DYN_IDENTIFIER /* @min:%2eidentifier */];\r\n        if (ext && extPriority) {\r\n            if (!isNullOrUndefined(extPriorities[extPriority])) {\r\n                _warnToConsole(logger, \"Two extensions have same priority #\" + extPriority + \" - \" + extPriorities[extPriority] + \", \" + identifier);\r\n            }\r\n            else {\r\n                // set a value\r\n                extPriorities[extPriority] = identifier;\r\n            }\r\n        }\r\n        // Split extensions to core and channelController\r\n        if (!extPriority || extPriority < channelPriority) {\r\n            // Add to core extension that will be managed by BaseCore\r\n            coreExtensions[_DYN_PUSH /* @min:%2epush */](ext);\r\n        }\r\n    });\r\n    return _a = {\r\n            all: allExtensions\r\n        },\r\n        _a[STR_CORE /* @min:core */] = coreExtensions,\r\n        _a;\r\n}\r\nfunction _isPluginPresent(thePlugin, plugins) {\r\n    var exists = false;\r\n    arrForEach(plugins, function (plugin) {\r\n        if (plugin === thePlugin) {\r\n            exists = true;\r\n            return -1;\r\n        }\r\n    });\r\n    return exists;\r\n}\r\nfunction _createDummyNotificationManager() {\r\n    var _a;\r\n    return objCreateFn((_a = {},\r\n        _a[_DYN_ADD_NOTIFICATION_LIS1 /* @min:addNotificationListener */] = function (listener) { },\r\n        _a[_DYN_REMOVE_NOTIFICATION_2 /* @min:removeNotificationListener */] = function (listener) { },\r\n        _a[STR_EVENTS_SENT /* @min:eventsSent */] = function (events) { },\r\n        _a[STR_EVENTS_DISCARDED /* @min:eventsDiscarded */] = function (events, reason) { },\r\n        _a[STR_EVENTS_SEND_REQUEST /* @min:eventsSendRequest */] = function (sendReason, isAsync) { },\r\n        _a));\r\n}\r\nvar BaseCore = /** @class */ (function () {\r\n    function BaseCore() {\r\n        // NOTE!: DON'T set default values here, instead set them in the _initDefaults() function as it is also called during teardown()\r\n        var _config;\r\n        var _isInitialized;\r\n        var _eventQueue;\r\n        var _notificationManager;\r\n        var _perfManager;\r\n        var _cfgPerfManager;\r\n        var _cookieManager;\r\n        var _pluginChain;\r\n        var _configExtensions;\r\n        var _coreExtensions;\r\n        var _channelControl;\r\n        var _channelConfig;\r\n        var _channelQueue;\r\n        var _isUnloading;\r\n        var _telemetryInitializerPlugin;\r\n        var _internalLogsEventName;\r\n        var _evtNamespace;\r\n        var _unloadHandlers;\r\n        var _debugListener;\r\n        var _traceCtx;\r\n        /**\r\n         * Internal log poller\r\n         */\r\n        var _internalLogPoller = 0;\r\n        var _forceStopInternalLogPoller = false;\r\n        dynamicProto(BaseCore, this, function (_self) {\r\n            // Set the default values (also called during teardown)\r\n            _initDefaults();\r\n            _self[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */] = function () { return _isInitialized; };\r\n            // Creating the self.initialize = ()\r\n            _self[_DYN_INITIALIZE /* @min:%2einitialize */] = function (config, extensions, logger, notificationManager) {\r\n                if (_isUnloading) {\r\n                    throwError(strSdkUnloadingError);\r\n                }\r\n                // Make sure core is only initialized once\r\n                if (_self[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */]()) {\r\n                    throwError(\"Core should not be initialized more than once\");\r\n                }\r\n                _config = config || {};\r\n                _self[_DYN_CONFIG /* @min:%2econfig */] = _config;\r\n                if (isNullOrUndefined(config[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */])) {\r\n                    throwError(\"Please provide instrumentation key\");\r\n                }\r\n                _notificationManager = notificationManager;\r\n                // For backward compatibility only\r\n                _self[strNotificationManager] = notificationManager;\r\n                _initDebugListener();\r\n                _initPerfManager();\r\n                // add notification to the extensions in the config so other plugins can access it\r\n                _initExtConfig();\r\n                if (logger) {\r\n                    _self[_DYN_LOGGER /* @min:%2elogger */] = logger;\r\n                }\r\n                var cfgExtensions = getSetValue(_config, STR_EXTENSIONS, []);\r\n                // Extension validation\r\n                _configExtensions = [];\r\n                _configExtensions[_DYN_PUSH /* @min:%2epush */].apply(_configExtensions, __spreadArray(__spreadArray([], extensions, false), cfgExtensions, false));\r\n                _channelConfig = getSetValue(_config, STR_CHANNELS, []);\r\n                _initPluginChain(null);\r\n                if (!_channelQueue || _channelQueue[_DYN_LENGTH /* @min:%2elength */] === 0) {\r\n                    throwError(\"No \" + STR_CHANNELS + \" available\");\r\n                }\r\n                _isInitialized = true;\r\n                _self.releaseQueue();\r\n            };\r\n            _self.getTransmissionControls = function () {\r\n                var controls = [];\r\n                if (_channelQueue) {\r\n                    arrForEach(_channelQueue, function (channels) {\r\n                        controls[_DYN_PUSH /* @min:%2epush */](channels.queue);\r\n                    });\r\n                }\r\n                return objFreeze(controls);\r\n            };\r\n            _self.track = function (telemetryItem) {\r\n                // setup default iKey if not passed in\r\n                telemetryItem.iKey = telemetryItem.iKey || _config[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */];\r\n                // add default timestamp if not passed in\r\n                telemetryItem[_DYN_TIME /* @min:%2etime */] = telemetryItem[_DYN_TIME /* @min:%2etime */] || toISOString(new Date());\r\n                // Common Schema 4.0\r\n                telemetryItem.ver = telemetryItem.ver || \"4.0\";\r\n                if (!_isUnloading && _self[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */]()) {\r\n                    // Process the telemetry plugin chain\r\n                    _createTelCtx()[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](telemetryItem);\r\n                }\r\n                else {\r\n                    // Queue events until all extensions are initialized\r\n                    _eventQueue[_DYN_PUSH /* @min:%2epush */](telemetryItem);\r\n                }\r\n            };\r\n            _self[_DYN_GET_PROCESS_TEL_CONT0 /* @min:%2egetProcessTelContext */] = _createTelCtx;\r\n            _self[_DYN_GET_NOTIFY_MGR /* @min:%2egetNotifyMgr */] = function () {\r\n                if (!_notificationManager) {\r\n                    // Create Dummy notification manager\r\n                    _notificationManager = _createDummyNotificationManager();\r\n                    // For backward compatibility only\r\n                    _self[strNotificationManager] = _notificationManager;\r\n                }\r\n                return _notificationManager;\r\n            };\r\n            /**\r\n             * Adds a notification listener. The SDK calls methods on the listener when an appropriate notification is raised.\r\n             * The added plugins must raise notifications. If the plugins do not implement the notifications, then no methods will be\r\n             * called.\r\n             * @param {INotificationListener} listener - An INotificationListener object.\r\n             */\r\n            _self[_DYN_ADD_NOTIFICATION_LIS1 /* @min:%2eaddNotificationListener */] = function (listener) {\r\n                if (_notificationManager) {\r\n                    _notificationManager[_DYN_ADD_NOTIFICATION_LIS1 /* @min:%2eaddNotificationListener */](listener);\r\n                }\r\n            };\r\n            /**\r\n             * Removes all instances of the listener.\r\n             * @param {INotificationListener} listener - INotificationListener to remove.\r\n             */\r\n            _self[_DYN_REMOVE_NOTIFICATION_2 /* @min:%2eremoveNotificationListener */] = function (listener) {\r\n                if (_notificationManager) {\r\n                    _notificationManager[_DYN_REMOVE_NOTIFICATION_2 /* @min:%2eremoveNotificationListener */](listener);\r\n                }\r\n            };\r\n            _self.getCookieMgr = function () {\r\n                if (!_cookieManager) {\r\n                    _cookieManager = createCookieMgr(_config, _self[_DYN_LOGGER /* @min:%2elogger */]);\r\n                }\r\n                return _cookieManager;\r\n            };\r\n            _self.setCookieMgr = function (cookieMgr) {\r\n                _cookieManager = cookieMgr;\r\n            };\r\n            _self[STR_GET_PERF_MGR /* @min:%2egetPerfMgr */] = function () {\r\n                if (!_perfManager && !_cfgPerfManager) {\r\n                    if (getCfgValue(_config.enablePerfMgr)) {\r\n                        var createPerfMgr = getCfgValue(_config[STR_CREATE_PERF_MGR /* @min:%2ecreatePerfMgr */]);\r\n                        if (isFunction(createPerfMgr)) {\r\n                            _cfgPerfManager = createPerfMgr(_self, _self[_DYN_GET_NOTIFY_MGR /* @min:%2egetNotifyMgr */]());\r\n                        }\r\n                    }\r\n                }\r\n                return _perfManager || _cfgPerfManager || getGblPerfMgr();\r\n            };\r\n            _self.setPerfMgr = function (perfMgr) {\r\n                _perfManager = perfMgr;\r\n            };\r\n            _self.eventCnt = function () {\r\n                return _eventQueue[_DYN_LENGTH /* @min:%2elength */];\r\n            };\r\n            _self.releaseQueue = function () {\r\n                if (_isInitialized && _eventQueue[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    var eventQueue = _eventQueue;\r\n                    _eventQueue = [];\r\n                    arrForEach(eventQueue, function (event) {\r\n                        _createTelCtx()[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](event);\r\n                    });\r\n                }\r\n            };\r\n            _self.pollInternalLogs = function (eventName) {\r\n                _internalLogsEventName = eventName || null;\r\n                _forceStopInternalLogPoller = false;\r\n                if (_internalLogPoller) {\r\n                    clearInterval(_internalLogPoller);\r\n                    _internalLogPoller = null;\r\n                }\r\n                return _startInternalLogTimer(true);\r\n            };\r\n            function _startInternalLogTimer(alwaysStart) {\r\n                if (!_internalLogPoller && !_forceStopInternalLogPoller) {\r\n                    var shouldStart = alwaysStart || (_self[_DYN_LOGGER /* @min:%2elogger */] && _self[_DYN_LOGGER /* @min:%2elogger */].queue[_DYN_LENGTH /* @min:%2elength */] > 0);\r\n                    if (shouldStart) {\r\n                        var interval = getCfgValue(_config.diagnosticLogInterval);\r\n                        if (!interval || !(interval > 0)) {\r\n                            interval = 10000;\r\n                        }\r\n                        // Keeping as an interval timer for backward compatibility as it returns the result\r\n                        _internalLogPoller = setInterval(function () {\r\n                            clearInterval(_internalLogPoller);\r\n                            _internalLogPoller = 0;\r\n                            _flushInternalLogs();\r\n                        }, interval);\r\n                    }\r\n                }\r\n                return _internalLogPoller;\r\n            }\r\n            _self[_DYN_STOP_POLLING_INTERNA3 /* @min:%2estopPollingInternalLogs */] = function () {\r\n                _forceStopInternalLogPoller = true;\r\n                if (_internalLogPoller) {\r\n                    clearInterval(_internalLogPoller);\r\n                    _internalLogPoller = 0;\r\n                    _flushInternalLogs();\r\n                }\r\n            };\r\n            // Add addTelemetryInitializer\r\n            proxyFunctions(_self, function () { return _telemetryInitializerPlugin; }, [\"addTelemetryInitializer\"]);\r\n            _self.unload = function (isAsync, unloadComplete, cbTimeout) {\r\n                var _a;\r\n                if (isAsync === void 0) { isAsync = true; }\r\n                if (!_isInitialized) {\r\n                    // The SDK is not initialized\r\n                    throwError(strSdkNotInitialized);\r\n                }\r\n                // Check if the SDK still unloading so throw\r\n                if (_isUnloading) {\r\n                    // The SDK is already unloading\r\n                    throwError(strSdkUnloadingError);\r\n                }\r\n                var unloadState = (_a = {\r\n                        reason: 50 /* TelemetryUnloadReason.SdkUnload */\r\n                    },\r\n                    _a[_DYN_IS_ASYNC /* @min:isAsync */] = isAsync,\r\n                    _a.flushComplete = false,\r\n                    _a);\r\n                var processUnloadCtx = createProcessTelemetryUnloadContext(_getPluginChain(), _self);\r\n                processUnloadCtx[_DYN_ON_COMPLETE /* @min:%2eonComplete */](function () {\r\n                    _initDefaults();\r\n                    unloadComplete && unloadComplete(unloadState);\r\n                }, _self);\r\n                function _doUnload(flushComplete) {\r\n                    unloadState.flushComplete = flushComplete;\r\n                    _isUnloading = true;\r\n                    // Run all of the unload handlers first (before unloading the plugins)\r\n                    _unloadHandlers.run(processUnloadCtx, unloadState);\r\n                    // Stop polling the internal logs\r\n                    _self[_DYN_STOP_POLLING_INTERNA3 /* @min:%2estopPollingInternalLogs */]();\r\n                    // Start unloading the components, from this point onwards the SDK should be considered to be in an unstable state\r\n                    processUnloadCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](unloadState);\r\n                }\r\n                _flushInternalLogs();\r\n                if (!_flushChannels(isAsync, _doUnload, 6 /* SendRequestReason.SdkUnload */, cbTimeout)) {\r\n                    _doUnload(false);\r\n                }\r\n            };\r\n            _self[_DYN_GET_PLUGIN /* @min:%2egetPlugin */] = _getPlugin;\r\n            _self.addPlugin = function (plugin, replaceExisting, isAsync, addCb) {\r\n                if (!plugin) {\r\n                    addCb && addCb(false);\r\n                    _logOrThrowError(strValidationError);\r\n                    return;\r\n                }\r\n                var existingPlugin = _getPlugin(plugin[_DYN_IDENTIFIER /* @min:%2eidentifier */]);\r\n                if (existingPlugin && !replaceExisting) {\r\n                    addCb && addCb(false);\r\n                    _logOrThrowError(\"Plugin [\" + plugin[_DYN_IDENTIFIER /* @min:%2eidentifier */] + \"] is already loaded!\");\r\n                    return;\r\n                }\r\n                var updateState = {\r\n                    reason: 16 /* TelemetryUpdateReason.PluginAdded */\r\n                };\r\n                function _addPlugin(removed) {\r\n                    _configExtensions[_DYN_PUSH /* @min:%2epush */](plugin);\r\n                    updateState.added = [plugin];\r\n                    // Re-Initialize the plugin chain\r\n                    _initPluginChain(updateState);\r\n                    addCb && addCb(true);\r\n                }\r\n                if (existingPlugin) {\r\n                    var removedPlugins_1 = [existingPlugin.plugin];\r\n                    var unloadState = {\r\n                        reason: 2 /* TelemetryUnloadReason.PluginReplace */,\r\n                        isAsync: !!isAsync\r\n                    };\r\n                    _removePlugins(removedPlugins_1, unloadState, function (removed) {\r\n                        if (!removed) {\r\n                            // Previous plugin was successfully removed or was not installed\r\n                            addCb && addCb(false);\r\n                        }\r\n                        else {\r\n                            updateState.removed = removedPlugins_1;\r\n                            updateState.reason |= 32 /* TelemetryUpdateReason.PluginRemoved */;\r\n                            _addPlugin(true);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    _addPlugin(false);\r\n                }\r\n            };\r\n            _self.evtNamespace = function () {\r\n                return _evtNamespace;\r\n            };\r\n            _self[_DYN_FLUSH /* @min:%2eflush */] = _flushChannels;\r\n            _self.getTraceCtx = function (createNew) {\r\n                if (!_traceCtx) {\r\n                    _traceCtx = createDistributedTraceContext();\r\n                }\r\n                return _traceCtx;\r\n            };\r\n            _self.setTraceCtx = function (traceCtx) {\r\n                _traceCtx = traceCtx || null;\r\n            };\r\n            // Create the addUnloadCb\r\n            proxyFunctionAs(_self, \"addUnloadCb\", function () { return _unloadHandlers; }, \"add\");\r\n            function _initDefaults() {\r\n                _isInitialized = false;\r\n                // Use a default logger so initialization errors are not dropped on the floor with full logging\r\n                _config = objExtend(true, {}, defaultInitConfig);\r\n                _self[_DYN_CONFIG /* @min:%2econfig */] = _config;\r\n                _self[_DYN_LOGGER /* @min:%2elogger */] = new DiagnosticLogger(_config);\r\n                _self[_DYN__EXTENSIONS /* @min:%2e_extensions */] = [];\r\n                _telemetryInitializerPlugin = new TelemetryInitializerPlugin();\r\n                _eventQueue = [];\r\n                _notificationManager = null;\r\n                _perfManager = null;\r\n                _cfgPerfManager = null;\r\n                _cookieManager = null;\r\n                _pluginChain = null;\r\n                _coreExtensions = null;\r\n                _configExtensions = [];\r\n                _channelControl = null;\r\n                _channelConfig = null;\r\n                _channelQueue = null;\r\n                _isUnloading = false;\r\n                _internalLogsEventName = null;\r\n                _evtNamespace = createUniqueNamespace(\"AIBaseCore\", true);\r\n                _unloadHandlers = createUnloadHandlerContainer();\r\n                _traceCtx = null;\r\n            }\r\n            function _createTelCtx() {\r\n                var theCtx = createProcessTelemetryContext(_getPluginChain(), _config, _self);\r\n                theCtx[_DYN_ON_COMPLETE /* @min:%2eonComplete */](_startInternalLogTimer);\r\n                return theCtx;\r\n            }\r\n            // Initialize or Re-initialize the plugins\r\n            function _initPluginChain(updateState) {\r\n                // Extension validation\r\n                var theExtensions = _validateExtensions(_self[_DYN_LOGGER /* @min:%2elogger */], ChannelControllerPriority, _configExtensions);\r\n                _coreExtensions = theExtensions[STR_CORE /* @min:%2ecore */];\r\n                _pluginChain = null;\r\n                // Sort the complete set of extensions by priority\r\n                var allExtensions = theExtensions.all;\r\n                // Initialize the Channel Queues and the channel plugins first\r\n                _channelQueue = objFreeze(createChannelQueues(_channelConfig, allExtensions, _self));\r\n                if (_channelControl) {\r\n                    // During add / remove of a plugin this may get called again, so don't re-add if already present\r\n                    // But we also want the controller as the last, so remove if already present\r\n                    // And reusing the existing instance, just in case an installed plugin has a reference and\r\n                    // is using it.\r\n                    var idx = arrIndexOf(allExtensions, _channelControl);\r\n                    if (idx !== -1) {\r\n                        allExtensions[_DYN_SPLICE /* @min:%2esplice */](idx, 1);\r\n                    }\r\n                    idx = arrIndexOf(_coreExtensions, _channelControl);\r\n                    if (idx !== -1) {\r\n                        _coreExtensions[_DYN_SPLICE /* @min:%2esplice */](idx, 1);\r\n                    }\r\n                    _channelControl._setQueue(_channelQueue);\r\n                }\r\n                else {\r\n                    _channelControl = createChannelControllerPlugin(_channelQueue, _self);\r\n                }\r\n                // Add on \"channelController\" as the last \"plugin\"\r\n                allExtensions[_DYN_PUSH /* @min:%2epush */](_channelControl);\r\n                _coreExtensions[_DYN_PUSH /* @min:%2epush */](_channelControl);\r\n                // Required to allow plugins to call core.getPlugin() during their own initialization\r\n                _self[_DYN__EXTENSIONS /* @min:%2e_extensions */] = sortPlugins(allExtensions);\r\n                // Initialize the controls\r\n                _channelControl[_DYN_INITIALIZE /* @min:%2einitialize */](_config, _self, allExtensions);\r\n                var initCtx = _createTelCtx();\r\n                initializePlugins(initCtx, allExtensions);\r\n                // Now reset the extensions to just those being managed by Basecore\r\n                _self[_DYN__EXTENSIONS /* @min:%2e_extensions */] = objFreeze(sortPlugins(_coreExtensions || [])).slice();\r\n                if (updateState) {\r\n                    _doUpdate(updateState);\r\n                }\r\n            }\r\n            function _getPlugin(pluginIdentifier) {\r\n                var _a;\r\n                var theExt = null;\r\n                var thePlugin = null;\r\n                arrForEach(_self[_DYN__EXTENSIONS /* @min:%2e_extensions */], function (ext) {\r\n                    if (ext[_DYN_IDENTIFIER /* @min:%2eidentifier */] === pluginIdentifier && ext !== _channelControl && ext !== _telemetryInitializerPlugin) {\r\n                        thePlugin = ext;\r\n                        return -1;\r\n                    }\r\n                });\r\n                if (!thePlugin && _channelControl) {\r\n                    // Check the channel Controller\r\n                    thePlugin = _channelControl.getChannel(pluginIdentifier);\r\n                }\r\n                if (thePlugin) {\r\n                    theExt = (_a = {\r\n                            plugin: thePlugin\r\n                        },\r\n                        _a[_DYN_SET_ENABLED /* @min:setEnabled */] = function (enabled) {\r\n                            _getPluginState(thePlugin)[STR_DISABLED] = !enabled;\r\n                        },\r\n                        _a.isEnabled = function () {\r\n                            var pluginState = _getPluginState(thePlugin);\r\n                            return !pluginState[_DYN_TEARDOWN /* @min:%2eteardown */] && !pluginState[STR_DISABLED];\r\n                        },\r\n                        _a.remove = function (isAsync, removeCb) {\r\n                            var _a;\r\n                            if (isAsync === void 0) { isAsync = true; }\r\n                            var pluginsToRemove = [thePlugin];\r\n                            var unloadState = (_a = {\r\n                                    reason: 1 /* TelemetryUnloadReason.PluginUnload */\r\n                                },\r\n                                _a[_DYN_IS_ASYNC /* @min:isAsync */] = isAsync,\r\n                                _a);\r\n                            _removePlugins(pluginsToRemove, unloadState, function (removed) {\r\n                                if (removed) {\r\n                                    // Re-Initialize the plugin chain\r\n                                    _initPluginChain({\r\n                                        reason: 32 /* TelemetryUpdateReason.PluginRemoved */,\r\n                                        removed: pluginsToRemove\r\n                                    });\r\n                                }\r\n                                removeCb && removeCb(removed);\r\n                            });\r\n                        },\r\n                        _a);\r\n                }\r\n                return theExt;\r\n            }\r\n            function _getPluginChain() {\r\n                if (!_pluginChain) {\r\n                    // copy the collection of extensions\r\n                    var extensions = (_coreExtensions || []).slice();\r\n                    // During add / remove this may get called again, so don't readd if already present\r\n                    if (arrIndexOf(extensions, _telemetryInitializerPlugin) === -1) {\r\n                        extensions[_DYN_PUSH /* @min:%2epush */](_telemetryInitializerPlugin);\r\n                    }\r\n                    _pluginChain = createTelemetryProxyChain(sortPlugins(extensions), _config, _self);\r\n                }\r\n                return _pluginChain;\r\n            }\r\n            function _removePlugins(thePlugins, unloadState, removeComplete) {\r\n                if (thePlugins && thePlugins[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    var unloadChain = createTelemetryProxyChain(thePlugins, _config, _self);\r\n                    var unloadCtx = createProcessTelemetryUnloadContext(unloadChain, _self);\r\n                    unloadCtx[_DYN_ON_COMPLETE /* @min:%2eonComplete */](function () {\r\n                        var removed = false;\r\n                        // Remove the listed config extensions\r\n                        var newConfigExtensions = [];\r\n                        arrForEach(_configExtensions, function (plugin, idx) {\r\n                            if (!_isPluginPresent(plugin, thePlugins)) {\r\n                                newConfigExtensions[_DYN_PUSH /* @min:%2epush */](plugin);\r\n                            }\r\n                            else {\r\n                                removed = true;\r\n                            }\r\n                        });\r\n                        _configExtensions = newConfigExtensions;\r\n                        // Re-Create the channel config\r\n                        var newChannelConfig = [];\r\n                        if (_channelConfig) {\r\n                            arrForEach(_channelConfig, function (queue, idx) {\r\n                                var newQueue = [];\r\n                                arrForEach(queue, function (channel) {\r\n                                    if (!_isPluginPresent(channel, thePlugins)) {\r\n                                        newQueue[_DYN_PUSH /* @min:%2epush */](channel);\r\n                                    }\r\n                                    else {\r\n                                        removed = true;\r\n                                    }\r\n                                });\r\n                                newChannelConfig[_DYN_PUSH /* @min:%2epush */](newQueue);\r\n                            });\r\n                            _channelConfig = newChannelConfig;\r\n                        }\r\n                        removeComplete && removeComplete(removed);\r\n                        _startInternalLogTimer();\r\n                    });\r\n                    unloadCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](unloadState);\r\n                }\r\n                else {\r\n                    removeComplete(false);\r\n                }\r\n            }\r\n            function _flushInternalLogs() {\r\n                if (_self[_DYN_LOGGER /* @min:%2elogger */] && _self[_DYN_LOGGER /* @min:%2elogger */].queue) {\r\n                    var queue = _self[_DYN_LOGGER /* @min:%2elogger */].queue.slice(0);\r\n                    _self[_DYN_LOGGER /* @min:%2elogger */].queue[_DYN_LENGTH /* @min:%2elength */] = 0;\r\n                    arrForEach(queue, function (logMessage) {\r\n                        var _a;\r\n                        var item = (_a = {},\r\n                            _a[_DYN_NAME /* @min:name */] = _internalLogsEventName ? _internalLogsEventName : \"InternalMessageId: \" + logMessage[_DYN_MESSAGE_ID /* @min:%2emessageId */],\r\n                            _a.iKey = getCfgValue(_config[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */]),\r\n                            _a.time = toISOString(new Date()),\r\n                            _a.baseType = _InternalLogMessage.dataType,\r\n                            _a.baseData = { message: logMessage[_DYN_MESSAGE /* @min:%2emessage */] },\r\n                            _a);\r\n                        _self.track(item);\r\n                    });\r\n                }\r\n            }\r\n            function _flushChannels(isAsync, callBack, sendReason, cbTimeout) {\r\n                if (_channelControl) {\r\n                    return _channelControl[_DYN_FLUSH /* @min:%2eflush */](isAsync, callBack, sendReason || 6 /* SendRequestReason.SdkUnload */, cbTimeout);\r\n                }\r\n                callBack && callBack(false);\r\n                return true;\r\n            }\r\n            function _initDebugListener() {\r\n                var disableDbgExt = getCfgValue(_config.disableDbgExt);\r\n                if (disableDbgExt === true && _debugListener) {\r\n                    // Remove any previously loaded debug listener\r\n                    _notificationManager[_DYN_REMOVE_NOTIFICATION_2 /* @min:%2eremoveNotificationListener */](_debugListener);\r\n                    _debugListener = null;\r\n                }\r\n                if (_notificationManager && !_debugListener && disableDbgExt !== true) {\r\n                    _debugListener = getDebugListener(_config);\r\n                    _notificationManager[_DYN_ADD_NOTIFICATION_LIS1 /* @min:%2eaddNotificationListener */](_debugListener);\r\n                }\r\n            }\r\n            function _initPerfManager() {\r\n                var enablePerfMgr = getCfgValue(_config.enablePerfMgr);\r\n                if (!enablePerfMgr && _cfgPerfManager) {\r\n                    // Remove any existing config based performance manager\r\n                    _cfgPerfManager = null;\r\n                }\r\n                if (enablePerfMgr) {\r\n                    // Set the performance manager creation function if not defined\r\n                    getSetValue(_config, STR_CREATE_PERF_MGR, _createPerfManager);\r\n                }\r\n            }\r\n            function _initExtConfig() {\r\n                var extConfig = getSetValue(_config, STR_EXTENSION_CONFIG, {});\r\n                extConfig.NotificationManager = _notificationManager;\r\n            }\r\n            function _doUpdate(updateState) {\r\n                var updateCtx = createProcessTelemetryUpdateContext(_getPluginChain(), _self);\r\n                updateCtx[_DYN_ON_COMPLETE /* @min:%2eonComplete */](_startInternalLogTimer);\r\n                if (!_self._updateHook || _self._updateHook(updateCtx, updateState) !== true) {\r\n                    updateCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](updateState);\r\n                }\r\n            }\r\n            function _logOrThrowError(message) {\r\n                var logger = _self[_DYN_LOGGER /* @min:%2elogger */];\r\n                if (logger) {\r\n                    // there should always be a logger\r\n                    _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 73 /* _eInternalMessageId.PluginException */, message);\r\n                    _startInternalLogTimer();\r\n                }\r\n                else {\r\n                    throwError(message);\r\n                }\r\n            }\r\n        });\r\n    }\r\n// Removed Stub for BaseCore.prototype.initialize.\r\n// Removed Stub for BaseCore.prototype.getTransmissionControls.\r\n// Removed Stub for BaseCore.prototype.track.\r\n// Removed Stub for BaseCore.prototype.getProcessTelContext.\r\n// Removed Stub for BaseCore.prototype.getNotifyMgr.\r\n// Removed Stub for BaseCore.prototype.addNotificationListener.\r\n// Removed Stub for BaseCore.prototype.removeNotificationListener.\r\n// Removed Stub for BaseCore.prototype.getCookieMgr.\r\n// Removed Stub for BaseCore.prototype.setCookieMgr.\r\n// Removed Stub for BaseCore.prototype.getPerfMgr.\r\n// Removed Stub for BaseCore.prototype.setPerfMgr.\r\n// Removed Stub for BaseCore.prototype.eventCnt.\r\n// Removed Stub for BaseCore.prototype.pollInternalLogs.\r\n// Removed Stub for BaseCore.prototype.stopPollingInternalLogs.\r\n// Removed Stub for BaseCore.prototype.addTelemetryInitializer.\r\n// Removed Stub for BaseCore.prototype.unload.\r\n// Removed Stub for BaseCore.prototype.getPlugin.\r\n// Removed Stub for BaseCore.prototype.addPlugin.\r\n// Removed Stub for BaseCore.prototype.evtNamespace.\r\n// Removed Stub for BaseCore.prototype.addUnloadCb.\r\n// Removed Stub for BaseCore.prototype.flush.\r\n// Removed Stub for BaseCore.prototype.getTraceCtx.\r\n// Removed Stub for BaseCore.prototype.setTraceCtx.\r\n// Removed Stub for BaseCore.prototype.releaseQueue.\r\n// Removed Stub for BaseCore.prototype._updateHook.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    BaseCore.__ieDyn=1;\n\n    return BaseCore;\r\n}());\r\nexport { BaseCore };\r\n//# sourceMappingURL=BaseCore.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { _DYN_ADD_NOTIFICATION_LIS1, _DYN_IS_ASYNC, _DYN_IS_CHILD_EVT, _DYN_LISTENERS, _DYN_PUSH, _DYN_REMOVE_NOTIFICATION_2, _DYN_SPLICE } from \"../__DynamicConstants\";\r\nimport { arrForEach, arrIndexOf } from \"./HelperFuncs\";\r\nimport { STR_EVENTS_DISCARDED, STR_EVENTS_SEND_REQUEST, STR_EVENTS_SENT, STR_PERF_EVENT } from \"./InternalConstants\";\r\nfunction _runListeners(listeners, name, isAsync, callback) {\r\n    arrForEach(listeners, function (listener) {\r\n        if (listener && listener[name]) {\r\n            if (isAsync) {\r\n                setTimeout(function () { return callback(listener); }, 0);\r\n            }\r\n            else {\r\n                try {\r\n                    callback(listener);\r\n                }\r\n                catch (e) {\r\n                    // Catch errors to ensure we don't block sending the requests\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\r\n/**\r\n * Class to manage sending notifications to all the listeners.\r\n */\r\nvar NotificationManager = /** @class */ (function () {\r\n    function NotificationManager(config) {\r\n        this.listeners = [];\r\n        var perfEvtsSendAll = !!(config || {}).perfEvtsSendAll;\r\n        dynamicProto(NotificationManager, this, function (_self) {\r\n            _self[_DYN_ADD_NOTIFICATION_LIS1 /* @min:%2eaddNotificationListener */] = function (listener) {\r\n                _self.listeners[_DYN_PUSH /* @min:%2epush */](listener);\r\n            };\r\n            /**\r\n             * Removes all instances of the listener.\r\n             * @param {INotificationListener} listener - AWTNotificationListener to remove.\r\n             */\r\n            _self[_DYN_REMOVE_NOTIFICATION_2 /* @min:%2eremoveNotificationListener */] = function (listener) {\r\n                var index = arrIndexOf(_self[_DYN_LISTENERS /* @min:%2elisteners */], listener);\r\n                while (index > -1) {\r\n                    _self.listeners[_DYN_SPLICE /* @min:%2esplice */](index, 1);\r\n                    index = arrIndexOf(_self[_DYN_LISTENERS /* @min:%2elisteners */], listener);\r\n                }\r\n            };\r\n            /**\r\n             * Notification for events sent.\r\n             * @param {ITelemetryItem[]} events - The array of events that have been sent.\r\n             */\r\n            _self[STR_EVENTS_SENT /* @min:%2eeventsSent */] = function (events) {\r\n                _runListeners(_self[_DYN_LISTENERS /* @min:%2elisteners */], STR_EVENTS_SENT, true, function (listener) {\r\n                    listener[STR_EVENTS_SENT /* @min:%2eeventsSent */](events);\r\n                });\r\n            };\r\n            /**\r\n             * Notification for events being discarded.\r\n             * @param {ITelemetryItem[]} events - The array of events that have been discarded by the SDK.\r\n             * @param {number} reason           - The reason for which the SDK discarded the events. The EventsDiscardedReason\r\n             * constant should be used to check the different values.\r\n             */\r\n            _self[STR_EVENTS_DISCARDED /* @min:%2eeventsDiscarded */] = function (events, reason) {\r\n                _runListeners(_self[_DYN_LISTENERS /* @min:%2elisteners */], STR_EVENTS_DISCARDED, true, function (listener) {\r\n                    listener[STR_EVENTS_DISCARDED /* @min:%2eeventsDiscarded */](events, reason);\r\n                });\r\n            };\r\n            /**\r\n             * [Optional] A function called when the events have been requested to be sent to the sever.\r\n             * @param {number} sendReason - The reason why the event batch is being sent.\r\n             * @param {boolean} isAsync   - A flag which identifies whether the requests are being sent in an async or sync manner.\r\n             */\r\n            _self[STR_EVENTS_SEND_REQUEST /* @min:%2eeventsSendRequest */] = function (sendReason, isAsync) {\r\n                _runListeners(_self[_DYN_LISTENERS /* @min:%2elisteners */], STR_EVENTS_SEND_REQUEST, isAsync, function (listener) {\r\n                    listener[STR_EVENTS_SEND_REQUEST /* @min:%2eeventsSendRequest */](sendReason, isAsync);\r\n                });\r\n            };\r\n            _self[STR_PERF_EVENT /* @min:%2eperfEvent */] = function (perfEvent) {\r\n                if (perfEvent) {\r\n                    // Send all events or only parent events\r\n                    if (perfEvtsSendAll || !perfEvent[_DYN_IS_CHILD_EVT /* @min:%2eisChildEvt */]()) {\r\n                        _runListeners(_self[_DYN_LISTENERS /* @min:%2elisteners */], STR_PERF_EVENT, false, function (listener) {\r\n                            if (perfEvent[_DYN_IS_ASYNC /* @min:%2eisAsync */]) {\r\n                                setTimeout(function () { return listener[STR_PERF_EVENT /* @min:%2eperfEvent */](perfEvent); }, 0);\r\n                            }\r\n                            else {\r\n                                listener[STR_PERF_EVENT /* @min:%2eperfEvent */](perfEvent);\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            };\r\n        });\r\n    }\r\n// Removed Stub for NotificationManager.prototype.addNotificationListener.\r\n// Removed Stub for NotificationManager.prototype.removeNotificationListener.\r\n// Removed Stub for NotificationManager.prototype.eventsSent.\r\n// Removed Stub for NotificationManager.prototype.eventsDiscarded.\r\n// Removed Stub for NotificationManager.prototype.eventsSendRequest.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    NotificationManager.__ieDyn=1;\n\n    return NotificationManager;\r\n}());\r\nexport { NotificationManager };\r\n//# sourceMappingURL=NotificationManager.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nimport { __extendsFn as __extends } from \"@microsoft/applicationinsights-shims\";\r\n\r\n\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { _DYN_GET_NOTIFY_MGR, _DYN_INITIALIZE, _DYN_NAME } from \"../__DynamicConstants\";\r\nimport { BaseCore } from \"./BaseCore\";\r\nimport { DiagnosticLogger } from \"./DiagnosticLogger\";\r\nimport { isNullOrUndefined, throwError } from \"./HelperFuncs\";\r\nimport { STR_EVENTS_DISCARDED, STR_GET_PERF_MGR } from \"./InternalConstants\";\r\nimport { NotificationManager } from \"./NotificationManager\";\r\nimport { doPerf } from \"./PerfManager\";\r\nvar AppInsightsCore = /** @class */ (function (_super) {\r\n    __extends(AppInsightsCore, _super);\r\n    function AppInsightsCore() {\r\n        var _this = _super.call(this) || this;\r\n        dynamicProto(AppInsightsCore, _this, function (_self, _base) {\r\n            _self[_DYN_INITIALIZE /* @min:%2einitialize */] = function (config, extensions, logger, notificationManager) {\r\n                _base[_DYN_INITIALIZE /* @min:%2einitialize */](config, extensions, logger || new DiagnosticLogger(config), notificationManager || new NotificationManager(config));\r\n            };\r\n            _self.track = function (telemetryItem) {\r\n                doPerf(_self[STR_GET_PERF_MGR /* @min:%2egetPerfMgr */](), function () { return \"AppInsightsCore:track\"; }, function () {\r\n                    if (telemetryItem === null) {\r\n                        _notifyInvalidEvent(telemetryItem);\r\n                        // throw error\r\n                        throwError(\"Invalid telemetry item\");\r\n                    }\r\n                    // do basic validation before sending it through the pipeline\r\n                    _validateTelemetryItem(telemetryItem);\r\n                    _base.track(telemetryItem);\r\n                }, function () { return ({ item: telemetryItem }); }, !(telemetryItem.sync));\r\n            };\r\n            function _validateTelemetryItem(telemetryItem) {\r\n                if (isNullOrUndefined(telemetryItem[_DYN_NAME /* @min:%2ename */])) {\r\n                    _notifyInvalidEvent(telemetryItem);\r\n                    throwError(\"telemetry name required\");\r\n                }\r\n            }\r\n            function _notifyInvalidEvent(telemetryItem) {\r\n                var manager = _self[_DYN_GET_NOTIFY_MGR /* @min:%2egetNotifyMgr */]();\r\n                if (manager) {\r\n                    manager[STR_EVENTS_DISCARDED /* @min:%2eeventsDiscarded */]([telemetryItem], 2 /* eEventsDiscardedReason.InvalidEvent */);\r\n                }\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n// Removed Stub for AppInsightsCore.prototype.initialize.\r\n// Removed Stub for AppInsightsCore.prototype.track.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    AppInsightsCore.__ieDyn=1;\n\n    return AppInsightsCore;\r\n}(BaseCore));\r\nexport { AppInsightsCore };\r\n//# sourceMappingURL=AppInsightsCore.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n//  @skip-file-minify\r\nvar _a;\r\nimport { createEnumStyle } from \"../JavaScriptSDK.Enums/EnumHelperFuncs\";\r\nvar FAILED = \"Failed\";\r\nvar FAILED_MONITOR_AJAX = FAILED + \"MonitorAjax\";\r\nvar TRACK = \"Track\";\r\nvar START = \"Start\";\r\nvar STOP = \"Stop\";\r\nvar EVENT = \"Event\";\r\nvar AUTH_CONTEXT = \"AuthContext\";\r\nvar EXCEPTION = \"Exception\";\r\nvar LOCAL = \"Local\";\r\nvar SESSION = \"Session\";\r\nvar STORAGE = \"Storage\";\r\nvar BROWSER = \"Browser\";\r\nvar CANNOT = \"Cannot\";\r\nvar BUFFER = \"Buffer\";\r\nvar INSTRUMENTATION_KEY = \"InstrumentationKey\";\r\nexport var LoggingSeverity = createEnumStyle({\r\n    CRITICAL: 1 /* eLoggingSeverity.CRITICAL */,\r\n    WARNING: 2 /* eLoggingSeverity.WARNING */\r\n});\r\n/**\r\n * Internal message ID. Please create a new one for every conceptually different message. Please keep alphabetically ordered\r\n */\r\nexport var _InternalMessageId = createEnumStyle((_a = {},\r\n    // Non user actionable\r\n    _a[BROWSER + \"DoesNotSupport\" + LOCAL + STORAGE] = 0 /* _eInternalMessageId.BrowserDoesNotSupportLocalStorage */,\r\n    _a[BROWSER + CANNOT + \"Read\" + LOCAL + STORAGE] = 1 /* _eInternalMessageId.BrowserCannotReadLocalStorage */,\r\n    _a[BROWSER + CANNOT + \"Read\" + SESSION + STORAGE] = 2 /* _eInternalMessageId.BrowserCannotReadSessionStorage */,\r\n    _a[BROWSER + CANNOT + \"Write\" + LOCAL + STORAGE] = 3 /* _eInternalMessageId.BrowserCannotWriteLocalStorage */,\r\n    _a[BROWSER + CANNOT + \"Write\" + SESSION + STORAGE] = 4 /* _eInternalMessageId.BrowserCannotWriteSessionStorage */,\r\n    _a[BROWSER + FAILED + \"RemovalFrom\" + LOCAL + STORAGE] = 5 /* _eInternalMessageId.BrowserFailedRemovalFromLocalStorage */,\r\n    _a[BROWSER + FAILED + \"RemovalFrom\" + SESSION + STORAGE] = 6 /* _eInternalMessageId.BrowserFailedRemovalFromSessionStorage */,\r\n    _a[CANNOT + \"SendEmptyTelemetry\"] = 7 /* _eInternalMessageId.CannotSendEmptyTelemetry */,\r\n    _a.ClientPerformanceMathError = 8 /* _eInternalMessageId.ClientPerformanceMathError */,\r\n    _a[\"ErrorParsingAI\" + SESSION + \"Cookie\"] = 9 /* _eInternalMessageId.ErrorParsingAISessionCookie */,\r\n    _a.ErrorPVCalc = 10 /* _eInternalMessageId.ErrorPVCalc */,\r\n    _a[EXCEPTION + \"WhileLoggingError\"] = 11 /* _eInternalMessageId.ExceptionWhileLoggingError */,\r\n    _a[FAILED + \"AddingTelemetryTo\" + BUFFER] = 12 /* _eInternalMessageId.FailedAddingTelemetryToBuffer */,\r\n    _a[FAILED_MONITOR_AJAX + \"Abort\"] = 13 /* _eInternalMessageId.FailedMonitorAjaxAbort */,\r\n    _a[FAILED_MONITOR_AJAX + \"Dur\"] = 14 /* _eInternalMessageId.FailedMonitorAjaxDur */,\r\n    _a[FAILED_MONITOR_AJAX + \"Open\"] = 15 /* _eInternalMessageId.FailedMonitorAjaxOpen */,\r\n    _a[FAILED_MONITOR_AJAX + \"RSC\"] = 16 /* _eInternalMessageId.FailedMonitorAjaxRSC */,\r\n    _a[FAILED_MONITOR_AJAX + \"Send\"] = 17 /* _eInternalMessageId.FailedMonitorAjaxSend */,\r\n    _a[FAILED_MONITOR_AJAX + \"GetCorrelationHeader\"] = 18 /* _eInternalMessageId.FailedMonitorAjaxGetCorrelationHeader */,\r\n    _a[FAILED + \"ToAddHandlerForOnBeforeUnload\"] = 19 /* _eInternalMessageId.FailedToAddHandlerForOnBeforeUnload */,\r\n    _a[FAILED + \"ToSendQueuedTelemetry\"] = 20 /* _eInternalMessageId.FailedToSendQueuedTelemetry */,\r\n    _a[FAILED + \"ToReportDataLoss\"] = 21 /* _eInternalMessageId.FailedToReportDataLoss */,\r\n    _a[\"Flush\" + FAILED] = 22 /* _eInternalMessageId.FlushFailed */,\r\n    _a.MessageLimitPerPVExceeded = 23 /* _eInternalMessageId.MessageLimitPerPVExceeded */,\r\n    _a.MissingRequiredFieldSpecification = 24 /* _eInternalMessageId.MissingRequiredFieldSpecification */,\r\n    _a.NavigationTimingNotSupported = 25 /* _eInternalMessageId.NavigationTimingNotSupported */,\r\n    _a.OnError = 26 /* _eInternalMessageId.OnError */,\r\n    _a[SESSION + \"RenewalDateIsZero\"] = 27 /* _eInternalMessageId.SessionRenewalDateIsZero */,\r\n    _a.SenderNotInitialized = 28 /* _eInternalMessageId.SenderNotInitialized */,\r\n    _a[START + TRACK + EVENT + FAILED] = 29 /* _eInternalMessageId.StartTrackEventFailed */,\r\n    _a[STOP + TRACK + EVENT + FAILED] = 30 /* _eInternalMessageId.StopTrackEventFailed */,\r\n    _a[START + TRACK + FAILED] = 31 /* _eInternalMessageId.StartTrackFailed */,\r\n    _a[STOP + TRACK + FAILED] = 32 /* _eInternalMessageId.StopTrackFailed */,\r\n    _a.TelemetrySampledAndNotSent = 33 /* _eInternalMessageId.TelemetrySampledAndNotSent */,\r\n    _a[TRACK + EVENT + FAILED] = 34 /* _eInternalMessageId.TrackEventFailed */,\r\n    _a[TRACK + EXCEPTION + FAILED] = 35 /* _eInternalMessageId.TrackExceptionFailed */,\r\n    _a[TRACK + \"Metric\" + FAILED] = 36 /* _eInternalMessageId.TrackMetricFailed */,\r\n    _a[TRACK + \"PV\" + FAILED] = 37 /* _eInternalMessageId.TrackPVFailed */,\r\n    _a[TRACK + \"PV\" + FAILED + \"Calc\"] = 38 /* _eInternalMessageId.TrackPVFailedCalc */,\r\n    _a[TRACK + \"Trace\" + FAILED] = 39 /* _eInternalMessageId.TrackTraceFailed */,\r\n    _a[\"Transmission\" + FAILED] = 40 /* _eInternalMessageId.TransmissionFailed */,\r\n    _a[FAILED + \"ToSet\" + STORAGE + BUFFER] = 41 /* _eInternalMessageId.FailedToSetStorageBuffer */,\r\n    _a[FAILED + \"ToRestore\" + STORAGE + BUFFER] = 42 /* _eInternalMessageId.FailedToRestoreStorageBuffer */,\r\n    _a.InvalidBackendResponse = 43 /* _eInternalMessageId.InvalidBackendResponse */,\r\n    _a[FAILED + \"ToFixDepricatedValues\"] = 44 /* _eInternalMessageId.FailedToFixDepricatedValues */,\r\n    _a.InvalidDurationValue = 45 /* _eInternalMessageId.InvalidDurationValue */,\r\n    _a.TelemetryEnvelopeInvalid = 46 /* _eInternalMessageId.TelemetryEnvelopeInvalid */,\r\n    _a.CreateEnvelopeError = 47 /* _eInternalMessageId.CreateEnvelopeError */,\r\n    // User actionable\r\n    _a[CANNOT + \"SerializeObject\"] = 48 /* _eInternalMessageId.CannotSerializeObject */,\r\n    _a[CANNOT + \"SerializeObjectNonSerializable\"] = 49 /* _eInternalMessageId.CannotSerializeObjectNonSerializable */,\r\n    _a.CircularReferenceDetected = 50 /* _eInternalMessageId.CircularReferenceDetected */,\r\n    _a[\"Clear\" + AUTH_CONTEXT + FAILED] = 51 /* _eInternalMessageId.ClearAuthContextFailed */,\r\n    _a[EXCEPTION + \"Truncated\"] = 52 /* _eInternalMessageId.ExceptionTruncated */,\r\n    _a.IllegalCharsInName = 53 /* _eInternalMessageId.IllegalCharsInName */,\r\n    _a.ItemNotInArray = 54 /* _eInternalMessageId.ItemNotInArray */,\r\n    _a.MaxAjaxPerPVExceeded = 55 /* _eInternalMessageId.MaxAjaxPerPVExceeded */,\r\n    _a.MessageTruncated = 56 /* _eInternalMessageId.MessageTruncated */,\r\n    _a.NameTooLong = 57 /* _eInternalMessageId.NameTooLong */,\r\n    _a.SampleRateOutOfRange = 58 /* _eInternalMessageId.SampleRateOutOfRange */,\r\n    _a[\"Set\" + AUTH_CONTEXT + FAILED] = 59 /* _eInternalMessageId.SetAuthContextFailed */,\r\n    _a[\"Set\" + AUTH_CONTEXT + FAILED + \"AccountName\"] = 60 /* _eInternalMessageId.SetAuthContextFailedAccountName */,\r\n    _a.StringValueTooLong = 61 /* _eInternalMessageId.StringValueTooLong */,\r\n    _a.StartCalledMoreThanOnce = 62 /* _eInternalMessageId.StartCalledMoreThanOnce */,\r\n    _a.StopCalledWithoutStart = 63 /* _eInternalMessageId.StopCalledWithoutStart */,\r\n    _a[\"TelemetryInitializer\" + FAILED] = 64 /* _eInternalMessageId.TelemetryInitializerFailed */,\r\n    _a.TrackArgumentsNotSpecified = 65 /* _eInternalMessageId.TrackArgumentsNotSpecified */,\r\n    _a.UrlTooLong = 66 /* _eInternalMessageId.UrlTooLong */,\r\n    _a[SESSION + STORAGE + BUFFER + \"Full\"] = 67 /* _eInternalMessageId.SessionStorageBufferFull */,\r\n    _a[CANNOT + \"AccessCookie\"] = 68 /* _eInternalMessageId.CannotAccessCookie */,\r\n    _a.IdTooLong = 69 /* _eInternalMessageId.IdTooLong */,\r\n    _a.InvalidEvent = 70 /* _eInternalMessageId.InvalidEvent */,\r\n    _a[FAILED_MONITOR_AJAX + \"SetRequestHeader\"] = 71 /* _eInternalMessageId.FailedMonitorAjaxSetRequestHeader */,\r\n    _a[\"Send\" + BROWSER + \"InfoOnUserInit\"] = 72 /* _eInternalMessageId.SendBrowserInfoOnUserInit */,\r\n    _a[\"Plugin\" + EXCEPTION] = 73 /* _eInternalMessageId.PluginException */,\r\n    _a[\"Notification\" + EXCEPTION] = 74 /* _eInternalMessageId.NotificationException */,\r\n    _a.SnippetScriptLoadFailure = 99 /* _eInternalMessageId.SnippetScriptLoadFailure */,\r\n    _a[\"Invalid\" + INSTRUMENTATION_KEY] = 100 /* _eInternalMessageId.InvalidInstrumentationKey */,\r\n    _a[CANNOT + \"ParseAiBlobValue\"] = 101 /* _eInternalMessageId.CannotParseAiBlobValue */,\r\n    _a.InvalidContentBlob = 102 /* _eInternalMessageId.InvalidContentBlob */,\r\n    _a[TRACK + \"PageAction\" + EVENT + FAILED] = 103 /* _eInternalMessageId.TrackPageActionEventFailed */,\r\n    _a[FAILED + \"AddingCustomDefinedRequestContext\"] = 104 /* _eInternalMessageId.FailedAddingCustomDefinedRequestContext */,\r\n    _a[\"InMemory\" + STORAGE + BUFFER + \"Full\"] = 105 /* _eInternalMessageId.InMemoryStorageBufferFull */,\r\n    _a[INSTRUMENTATION_KEY + \"Deprecation\"] = 106 /* _eInternalMessageId.InstrumentationKeyDeprecation */,\r\n    _a));\r\n//# sourceMappingURL=LoggingEnums.js.map", "/*\n * Application Insights JavaScript SDK - Core, 2.8.14\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { strShimFunction, strShimPrototype } from \"@microsoft/applicationinsights-shims\";\r\nimport { _DYN_APPLY, _DYN_LENGTH, _DYN_NAME, _DYN_PUSH, _DYN_SPLICE } from \"../__DynamicConstants\";\r\nimport { getGlobalInst } from \"./EnvUtils\";\r\nimport { _getObjProto, hasOwnProperty } from \"./HelperFuncs\";\r\nvar aiInstrumentHooks = \"_aiHooks\";\r\nvar cbNames = [\r\n    \"req\", \"rsp\", \"hkErr\", \"fnErr\"\r\n];\r\n/** @ignore */\r\nfunction _arrLoop(arr, fn) {\r\n    if (arr) {\r\n        for (var lp = 0; lp < arr[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n            if (fn(arr[lp], lp)) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n/** @ignore */\r\nfunction _doCallbacks(hooks, callDetails, cbArgs, hookCtx, type) {\r\n    if (type >= 0 /* CallbackType.Request */ && type <= 2 /* CallbackType.HookError */) {\r\n        _arrLoop(hooks, function (hook, idx) {\r\n            var cbks = hook.cbks;\r\n            var cb = cbks[cbNames[type]];\r\n            if (cb) {\r\n                // Set the specific hook context implementation using a lazy creation pattern\r\n                callDetails.ctx = function () {\r\n                    var ctx = hookCtx[idx] = (hookCtx[idx] || {});\r\n                    return ctx;\r\n                };\r\n                try {\r\n                    cb[_DYN_APPLY /* @min:%2eapply */](callDetails.inst, cbArgs);\r\n                }\r\n                catch (err) {\r\n                    var orgEx = callDetails.err;\r\n                    try {\r\n                        // Report Hook error via the callback\r\n                        var hookErrorCb = cbks[cbNames[2 /* CallbackType.HookError */]];\r\n                        if (hookErrorCb) {\r\n                            callDetails.err = err;\r\n                            hookErrorCb[_DYN_APPLY /* @min:%2eapply */](callDetails.inst, cbArgs);\r\n                        }\r\n                    }\r\n                    catch (e) {\r\n                        // Not much we can do here -- swallowing the exception to avoid crashing the hosting app\r\n                    }\r\n                    finally {\r\n                        // restore the original exception (if any)\r\n                        callDetails.err = orgEx;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n/** @ignore */\r\nfunction _createFunctionHook(aiHook) {\r\n    // Define a temporary method that queues-up a the real method call\r\n    return function () {\r\n        var _a;\r\n        var funcThis = this;\r\n        // Capture the original arguments passed to the method\r\n        var orgArgs = arguments;\r\n        var hooks = aiHook.h;\r\n        var funcArgs = (_a = {},\r\n            _a[_DYN_NAME /* @min:name */] = aiHook.n,\r\n            _a.inst = funcThis,\r\n            _a.ctx = null,\r\n            _a.set = _replaceArg,\r\n            _a);\r\n        var hookCtx = [];\r\n        var cbArgs = _createArgs([funcArgs], orgArgs);\r\n        funcArgs.evt = getGlobalInst(\"event\");\r\n        function _createArgs(target, theArgs) {\r\n            _arrLoop(theArgs, function (arg) {\r\n                target[_DYN_PUSH /* @min:%2epush */](arg);\r\n            });\r\n            return target;\r\n        }\r\n        function _replaceArg(idx, value) {\r\n            orgArgs = _createArgs([], orgArgs);\r\n            orgArgs[idx] = value;\r\n            cbArgs = _createArgs([funcArgs], orgArgs);\r\n        }\r\n        // Call the pre-request hooks\r\n        _doCallbacks(hooks, funcArgs, cbArgs, hookCtx, 0 /* CallbackType.Request */);\r\n        // Call the original function was called\r\n        var theFunc = aiHook.f;\r\n        if (theFunc) {\r\n            try {\r\n                funcArgs.rslt = theFunc[_DYN_APPLY /* @min:%2eapply */](funcThis, orgArgs);\r\n            }\r\n            catch (err) {\r\n                // Report the request callback\r\n                funcArgs.err = err;\r\n                _doCallbacks(hooks, funcArgs, cbArgs, hookCtx, 3 /* CallbackType.FunctionError */);\r\n                // rethrow the original exception so anyone listening for it can catch the exception\r\n                throw err;\r\n            }\r\n        }\r\n        // Call the post-request hooks\r\n        _doCallbacks(hooks, funcArgs, cbArgs, hookCtx, 1 /* CallbackType.Response */);\r\n        return funcArgs.rslt;\r\n    };\r\n}\r\n/** @ignore */\r\nfunction _getOwner(target, name, checkPrototype, checkParentProto) {\r\n    var owner = null;\r\n    if (target) {\r\n        if (hasOwnProperty(target, name)) {\r\n            owner = target;\r\n        }\r\n        else if (checkPrototype) {\r\n            owner = _getOwner(_getObjProto(target), name, checkParentProto, false);\r\n        }\r\n    }\r\n    return owner;\r\n}\r\n/**\r\n * Intercept the named prototype functions for the target class / object\r\n * @param target - The target object\r\n * @param funcName - The function name\r\n * @param callbacks - The callbacks to configure and call whenever the function is called\r\n */\r\nexport function InstrumentProto(target, funcName, callbacks) {\r\n    if (target) {\r\n        return InstrumentFunc(target[strShimPrototype], funcName, callbacks, false);\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Intercept the named prototype functions for the target class / object\r\n * @param target - The target object\r\n * @param funcNames - The function names to intercept and call\r\n * @param callbacks - The callbacks to configure and call whenever the function is called\r\n */\r\nexport function InstrumentProtos(target, funcNames, callbacks) {\r\n    if (target) {\r\n        return InstrumentFuncs(target[strShimPrototype], funcNames, callbacks, false);\r\n    }\r\n    return null;\r\n}\r\nfunction _createInstrumentHook(owner, funcName, fn, callbacks) {\r\n    var aiHook = fn && fn[aiInstrumentHooks];\r\n    if (!aiHook) {\r\n        // Only hook the function once\r\n        aiHook = {\r\n            i: 0,\r\n            n: funcName,\r\n            f: fn,\r\n            h: []\r\n        };\r\n        // Override (hook) the original function\r\n        var newFunc = _createFunctionHook(aiHook);\r\n        newFunc[aiInstrumentHooks] = aiHook; // Tag and store the function hooks\r\n        owner[funcName] = newFunc;\r\n    }\r\n    var theHook = {\r\n        // tslint:disable:object-literal-shorthand\r\n        id: aiHook.i,\r\n        cbks: callbacks,\r\n        rm: function () {\r\n            // DO NOT Use () => { shorthand for the function as the this gets replaced\r\n            // with the outer this and not the this for theHook instance.\r\n            var id = this.id;\r\n            _arrLoop(aiHook.h, function (hook, idx) {\r\n                if (hook.id === id) {\r\n                    aiHook.h[_DYN_SPLICE /* @min:%2esplice */](idx, 1);\r\n                    return 1;\r\n                }\r\n            });\r\n        }\r\n        // tslint:enable:object-literal-shorthand\r\n    };\r\n    aiHook.i++;\r\n    aiHook.h[_DYN_PUSH /* @min:%2epush */](theHook);\r\n    return theHook;\r\n}\r\n/**\r\n * Intercept the named prototype functions for the target class / object\r\n * @param target - The target object\r\n * @param funcName - The function name\r\n * @param callbacks - The callbacks to configure and call whenever the function is called\r\n * @param checkPrototype - If the function doesn't exist on the target should it attempt to hook the prototype function\r\n * @param checkParentProto - If the function doesn't exist on the target or it's prototype should it attempt to hook the parent's prototype\r\n */\r\nexport function InstrumentFunc(target, funcName, callbacks, checkPrototype, checkParentProto) {\r\n    if (checkPrototype === void 0) { checkPrototype = true; }\r\n    if (target && funcName && callbacks) {\r\n        var owner = _getOwner(target, funcName, checkPrototype, checkParentProto);\r\n        if (owner) {\r\n            var fn = owner[funcName];\r\n            if (typeof fn === strShimFunction) {\r\n                return _createInstrumentHook(owner, funcName, fn, callbacks);\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Intercept the named functions for the target class / object\r\n * @param target - The target object\r\n * @param funcNames - The function names to intercept and call\r\n * @param callbacks - The callbacks to configure and call whenever the function is called\r\n * @param checkPrototype - If the function doesn't exist on the target should it attempt to hook the prototype function\r\n * @param checkParentProto - If the function doesn't exist on the target or it's prototype should it attempt to hook the parent's prototype\r\n */\r\nexport function InstrumentFuncs(target, funcNames, callbacks, checkPrototype, checkParentProto) {\r\n    if (checkPrototype === void 0) { checkPrototype = true; }\r\n    var hooks = null;\r\n    _arrLoop(funcNames, function (funcName) {\r\n        var hook = InstrumentFunc(target, funcName, callbacks, checkPrototype, checkParentProto);\r\n        if (hook) {\r\n            if (!hooks) {\r\n                hooks = [];\r\n            }\r\n            hooks[_DYN_PUSH /* @min:%2epush */](hook);\r\n        }\r\n    });\r\n    return hooks;\r\n}\r\n/**\r\n * Add an instrumentation hook to the provided named \"event\" for the target class / object, this doesn't check whether the\r\n * named \"event\" is in fact a function and just assigns the instrumentation hook to the target[evtName]\r\n * @param target - The target object\r\n * @param evtName - The name of the event\r\n * @param callbacks - The callbacks to configure and call whenever the function is called\r\n * @param checkPrototype - If the function doesn't exist on the target should it attempt to hook the prototype function\r\n * @param checkParentProto - If the function doesn't exist on the target or it's prototype should it attempt to hook the parent's prototype\r\n */\r\nexport function InstrumentEvent(target, evtName, callbacks, checkPrototype, checkParentProto) {\r\n    if (target && evtName && callbacks) {\r\n        var owner = _getOwner(target, evtName, checkPrototype, checkParentProto) || target;\r\n        if (owner) {\r\n            return _createInstrumentHook(owner, evtName, owner[evtName], callbacks);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n//# sourceMappingURL=InstrumentHooks.js.map", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nvar _a;\r\n;\r\nvar UNDEFINED = \"undefined\";\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar Constructor = 'constructor';\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar Prototype = 'prototype';\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar strFunction = 'function';\r\n/**\r\n * Used to define the name of the instance function lookup table\r\n * @ignore\r\n */\r\nvar DynInstFuncTable = '_dynInstFuncs';\r\n/**\r\n * Name used to tag the dynamic prototype function\r\n * @ignore\r\n */\r\nvar DynProxyTag = '_isDynProxy';\r\n/**\r\n * Name added to a prototype to define the dynamic prototype \"class\" name used to lookup the function table\r\n * @ignore\r\n */\r\nvar DynClassName = '_dynClass';\r\n/**\r\n * Prefix added to the classname to avoid any name clashes with other instance level properties\r\n * @ignore\r\n */\r\nvar DynClassNamePrefix = '_dynCls$';\r\n/**\r\n * A tag which is used to check if we have already to attempted to set the instance function if one is not present\r\n * @ignore\r\n */\r\nvar DynInstChkTag = '_dynInstChk';\r\n/**\r\n * A tag which is used to check if we are allows to try and set an instance function is one is not present. Using the same\r\n * tag name as the function level but a different const name for readability only.\r\n */\r\nvar DynAllowInstChkTag = DynInstChkTag;\r\n/**\r\n * The global (imported) instances where the global performance options are stored\r\n */\r\nvar DynProtoDefaultOptions = '_dfOpts';\r\n/**\r\n * Value used as the name of a class when it cannot be determined\r\n * @ignore\r\n */\r\nvar UnknownValue = '_unknown_';\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar str__Proto = \"__proto__\";\r\n/**\r\n * The polyfill version of __proto__ so that it doesn't cause issues for anyone not expecting it to exist\r\n */\r\nvar DynProtoBaseProto = \"_dyn\" + str__Proto;\r\n/**\r\n * Runtime Global holder for dynamicProto settings\r\n */\r\nvar DynProtoGlobalSettings = \"__dynProto$Gbl\";\r\n/**\r\n * Track the current prototype for IE8 as you can't look back to get the prototype\r\n */\r\nvar DynProtoCurrent = \"_dynInstProto\";\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar strUseBaseInst = 'useBaseInst';\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar strSetInstFuncs = 'setInstFuncs';\r\nvar Obj = Object;\r\n/**\r\n * Pre-lookup to check if we are running on a modern browser (i.e. not IE8)\r\n * @ignore\r\n */\r\nvar _objGetPrototypeOf = Obj[\"getPrototypeOf\"];\r\n/**\r\n * Pre-lookup to check for the existence of this function\r\n */\r\nvar _objGetOwnProps = Obj[\"getOwnPropertyNames\"];\r\n/**\r\n * Gets the runtime global reference\r\n * @returns\r\n */\r\nfunction _getGlobal() {\r\n    var result;\r\n    if (typeof globalThis !== UNDEFINED) {\r\n        result = globalThis;\r\n    }\r\n    if (!result && typeof self !== UNDEFINED) {\r\n        result = self;\r\n    }\r\n    if (!result && typeof window !== UNDEFINED) {\r\n        result = window;\r\n    }\r\n    if (!result && typeof global !== UNDEFINED) {\r\n        result = global;\r\n    }\r\n    return result || {};\r\n}\r\n// Since 1.1.7 moving these to the runtime global to work around mixed version and module issues\r\n// See Issue https://github.com/microsoft/DynamicProto-JS/issues/57 for details\r\nvar _gbl = _getGlobal();\r\nvar _gblInst = _gbl[DynProtoGlobalSettings] || (_gbl[DynProtoGlobalSettings] = {\r\n    o: (_a = {},\r\n        _a[strSetInstFuncs] = true,\r\n        _a[strUseBaseInst] = true,\r\n        _a),\r\n    n: 1000 // Start new global index @ 1000 so we \"fix\" some cases when mixed with 1.1.6 or earlier\r\n});\r\n/**\r\n * Helper to check if the object contains a property of the name\r\n * @ignore\r\n */\r\nfunction _hasOwnProperty(obj, prop) {\r\n    return obj && Obj[Prototype].hasOwnProperty.call(obj, prop);\r\n}\r\n/**\r\n * Helper used to check whether the target is an Object prototype or Array prototype\r\n * @ignore\r\n */\r\nfunction _isObjectOrArrayPrototype(target) {\r\n    return target && (target === Obj[Prototype] || target === Array[Prototype]);\r\n}\r\n/**\r\n * Helper used to check whether the target is an Object prototype, Array prototype or Function prototype\r\n * @ignore\r\n */\r\nfunction _isObjectArrayOrFunctionPrototype(target) {\r\n    return _isObjectOrArrayPrototype(target) || target === Function[Prototype];\r\n}\r\n/**\r\n * Helper used to get the prototype of the target object as getPrototypeOf is not available in an ES3 environment.\r\n * @ignore\r\n */\r\nfunction _getObjProto(target) {\r\n    var newProto;\r\n    if (target) {\r\n        // This method doesn't exist in older browsers (e.g. IE8)\r\n        if (_objGetPrototypeOf) {\r\n            return _objGetPrototypeOf(target);\r\n        }\r\n        var curProto = target[str__Proto] || target[Prototype] || (target[Constructor] ? target[Constructor][Prototype] : null);\r\n        // Using the pre-calculated value as IE8 doesn't support looking up the prototype of a prototype and thus fails for more than 1 base class\r\n        newProto = target[DynProtoBaseProto] || curProto;\r\n        if (!_hasOwnProperty(target, DynProtoBaseProto)) {\r\n            // As this prototype doesn't have this property then this is from an inherited class so newProto is the base to return so save it\r\n            // so we can look it up value (which for a multiple hierarchy dynamicProto will be the base class)\r\n            delete target[DynProtoCurrent]; // Delete any current value allocated to this instance so we pick up the value from prototype hierarchy\r\n            newProto = target[DynProtoBaseProto] = target[DynProtoCurrent] || target[DynProtoBaseProto];\r\n            target[DynProtoCurrent] = curProto;\r\n        }\r\n    }\r\n    return newProto;\r\n}\r\n/**\r\n * Helper to get the properties of an object, including none enumerable ones as functions on a prototype in ES6\r\n * are not enumerable.\r\n * @param target\r\n */\r\nfunction _forEachProp(target, func) {\r\n    var props = [];\r\n    if (_objGetOwnProps) {\r\n        props = _objGetOwnProps(target);\r\n    }\r\n    else {\r\n        for (var name_1 in target) {\r\n            if (typeof name_1 === \"string\" && _hasOwnProperty(target, name_1)) {\r\n                props.push(name_1);\r\n            }\r\n        }\r\n    }\r\n    if (props && props.length > 0) {\r\n        for (var lp = 0; lp < props.length; lp++) {\r\n            func(props[lp]);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Helper function to check whether the provided function name is a potential candidate for dynamic\r\n * callback and prototype generation.\r\n * @param target The target object, may be a prototype or class object\r\n * @param funcName The function name\r\n * @param skipOwn Skips the check for own property\r\n * @ignore\r\n */\r\nfunction _isDynamicCandidate(target, funcName, skipOwn) {\r\n    return (funcName !== Constructor && typeof target[funcName] === strFunction && (skipOwn || _hasOwnProperty(target, funcName)));\r\n}\r\n/**\r\n * Helper to throw a TypeError exception\r\n * @param message the message\r\n * @ignore\r\n */\r\nfunction _throwTypeError(message) {\r\n    throw new TypeError(\"DynamicProto: \" + message);\r\n}\r\n/**\r\n * Returns a collection of the instance functions that are defined directly on the thisTarget object, it does\r\n * not return any inherited functions\r\n * @param thisTarget The object to get the instance functions from\r\n * @ignore\r\n */\r\nfunction _getInstanceFuncs(thisTarget) {\r\n    // Get the base proto\r\n    var instFuncs = {};\r\n    // Save any existing instance functions\r\n    _forEachProp(thisTarget, function (name) {\r\n        // Don't include any dynamic prototype instances - as we only want the real functions\r\n        if (!instFuncs[name] && _isDynamicCandidate(thisTarget, name, false)) {\r\n            // Create an instance callback for passing the base function to the caller\r\n            instFuncs[name] = thisTarget[name];\r\n        }\r\n    });\r\n    return instFuncs;\r\n}\r\n/**\r\n * Returns whether the value is included in the array\r\n * @param values The array of values\r\n * @param value  The value\r\n */\r\nfunction _hasVisited(values, value) {\r\n    for (var lp = values.length - 1; lp >= 0; lp--) {\r\n        if (values[lp] === value) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Returns an object that contains callback functions for all \"base/super\" functions, this is used to \"save\"\r\n * enabling calling super.xxx() functions without requiring that the base \"class\" has defined a prototype references\r\n * @param target The current instance\r\n * @ignore\r\n */\r\nfunction _getBaseFuncs(classProto, thisTarget, instFuncs, useBaseInst) {\r\n    function _instFuncProxy(target, funcHost, funcName) {\r\n        var theFunc = funcHost[funcName];\r\n        if (theFunc[DynProxyTag] && useBaseInst) {\r\n            // grab and reuse the hosted looking function (if available) otherwise the original passed function\r\n            var instFuncTable = target[DynInstFuncTable] || {};\r\n            if (instFuncTable[DynAllowInstChkTag] !== false) {\r\n                theFunc = (instFuncTable[funcHost[DynClassName]] || {})[funcName] || theFunc;\r\n            }\r\n        }\r\n        return function () {\r\n            // eslint-disable-next-line prefer-rest-params\r\n            return theFunc.apply(target, arguments);\r\n        };\r\n    }\r\n    // Start creating a new baseFuncs by creating proxies for the instance functions (as they may get replaced)\r\n    var baseFuncs = {};\r\n    _forEachProp(instFuncs, function (name) {\r\n        // Create an instance callback for passing the base function to the caller\r\n        baseFuncs[name] = _instFuncProxy(thisTarget, instFuncs, name);\r\n    });\r\n    // Get the base prototype functions\r\n    var baseProto = _getObjProto(classProto);\r\n    var visited = [];\r\n    // Don't include base object functions for Object, Array or Function\r\n    while (baseProto && !_isObjectArrayOrFunctionPrototype(baseProto) && !_hasVisited(visited, baseProto)) {\r\n        // look for prototype functions\r\n        _forEachProp(baseProto, function (name) {\r\n            // Don't include any dynamic prototype instances - as we only want the real functions\r\n            // For IE 7/8 the prototype lookup doesn't provide the full chain so we need to bypass the \r\n            // hasOwnProperty check we get all of the methods, main difference is that IE7/8 doesn't return\r\n            // the Object prototype methods while bypassing the check\r\n            if (!baseFuncs[name] && _isDynamicCandidate(baseProto, name, !_objGetPrototypeOf)) {\r\n                // Create an instance callback for passing the base function to the caller\r\n                baseFuncs[name] = _instFuncProxy(thisTarget, baseProto, name);\r\n            }\r\n        });\r\n        // We need to find all possible functions that might be overloaded by walking the entire prototype chain\r\n        // This avoids the caller from needing to check whether it's direct base class implements the function or not\r\n        // by walking the entire chain it simplifies the usage and issues from upgrading any of the base classes.\r\n        visited.push(baseProto);\r\n        baseProto = _getObjProto(baseProto);\r\n    }\r\n    return baseFuncs;\r\n}\r\nfunction _getInstFunc(target, funcName, proto, currentDynProtoProxy) {\r\n    var instFunc = null;\r\n    // We need to check whether the class name is defined directly on this prototype otherwise\r\n    // it will walk the proto chain and return any parent proto classname.\r\n    if (target && _hasOwnProperty(proto, DynClassName)) {\r\n        var instFuncTable = target[DynInstFuncTable] || {};\r\n        instFunc = (instFuncTable[proto[DynClassName]] || {})[funcName];\r\n        if (!instFunc) {\r\n            // Avoid stack overflow from recursive calling the same function\r\n            _throwTypeError(\"Missing [\" + funcName + \"] \" + strFunction);\r\n        }\r\n        // We have the instance function, lets check it we can speed up further calls\r\n        // by adding the instance function back directly on the instance (avoiding the dynamic func lookup)\r\n        if (!instFunc[DynInstChkTag] && instFuncTable[DynAllowInstChkTag] !== false) {\r\n            // If the instance already has an instance function we can't replace it\r\n            var canAddInst = !_hasOwnProperty(target, funcName);\r\n            // Get current prototype\r\n            var objProto = _getObjProto(target);\r\n            var visited = [];\r\n            // Lookup the function starting at the top (instance level prototype) and traverse down, if the first matching function\r\n            // if nothing is found or if the first hit is a dynamic proto instance then we can safely add an instance shortcut\r\n            while (canAddInst && objProto && !_isObjectArrayOrFunctionPrototype(objProto) && !_hasVisited(visited, objProto)) {\r\n                var protoFunc = objProto[funcName];\r\n                if (protoFunc) {\r\n                    canAddInst = (protoFunc === currentDynProtoProxy);\r\n                    break;\r\n                }\r\n                // We need to find all possible initial functions to ensure that we don't bypass a valid override function\r\n                visited.push(objProto);\r\n                objProto = _getObjProto(objProto);\r\n            }\r\n            try {\r\n                if (canAddInst) {\r\n                    // This instance doesn't have an instance func and the class hierarchy does have a higher level prototype version\r\n                    // so it's safe to directly assign for any subsequent calls (for better performance)\r\n                    target[funcName] = instFunc;\r\n                }\r\n                // Block further attempts to set the instance function for any\r\n                instFunc[DynInstChkTag] = 1;\r\n            }\r\n            catch (e) {\r\n                // Don't crash if the object is readonly or the runtime doesn't allow changing this\r\n                // And set a flag so we don't try again for any function\r\n                instFuncTable[DynAllowInstChkTag] = false;\r\n            }\r\n        }\r\n    }\r\n    return instFunc;\r\n}\r\nfunction _getProtoFunc(funcName, proto, currentDynProtoProxy) {\r\n    var protoFunc = proto[funcName];\r\n    // Check that the prototype function is not a self reference -- try to avoid stack overflow!\r\n    if (protoFunc === currentDynProtoProxy) {\r\n        // It is so lookup the base prototype\r\n        protoFunc = _getObjProto(proto)[funcName];\r\n    }\r\n    if (typeof protoFunc !== strFunction) {\r\n        _throwTypeError(\"[\" + funcName + \"] is not a \" + strFunction);\r\n    }\r\n    return protoFunc;\r\n}\r\n/**\r\n * Add the required dynamic prototype methods to the the class prototype\r\n * @param proto - The class prototype\r\n * @param className - The instance classname\r\n * @param target - The target instance\r\n * @param baseInstFuncs - The base instance functions\r\n * @param setInstanceFunc - Flag to allow prototype function to reset the instance function if one does not exist\r\n * @ignore\r\n */\r\nfunction _populatePrototype(proto, className, target, baseInstFuncs, setInstanceFunc) {\r\n    function _createDynamicPrototype(proto, funcName) {\r\n        var dynProtoProxy = function () {\r\n            // Use the instance or prototype function\r\n            var instFunc = _getInstFunc(this, funcName, proto, dynProtoProxy) || _getProtoFunc(funcName, proto, dynProtoProxy);\r\n            // eslint-disable-next-line prefer-rest-params\r\n            return instFunc.apply(this, arguments);\r\n        };\r\n        // Tag this function as a proxy to support replacing dynamic proxy elements (primary use case is for unit testing\r\n        // via which can dynamically replace the prototype function reference)\r\n        dynProtoProxy[DynProxyTag] = 1;\r\n        return dynProtoProxy;\r\n    }\r\n    if (!_isObjectOrArrayPrototype(proto)) {\r\n        var instFuncTable = target[DynInstFuncTable] = target[DynInstFuncTable] || {};\r\n        var instFuncs_1 = instFuncTable[className] = (instFuncTable[className] || {}); // fetch and assign if as it may not exist yet\r\n        // Set whether we are allow to lookup instances, if someone has set to false then do not re-enable\r\n        if (instFuncTable[DynAllowInstChkTag] !== false) {\r\n            instFuncTable[DynAllowInstChkTag] = !!setInstanceFunc;\r\n        }\r\n        _forEachProp(target, function (name) {\r\n            // Only add overridden functions\r\n            if (_isDynamicCandidate(target, name, false) && target[name] !== baseInstFuncs[name]) {\r\n                // Save the instance Function to the lookup table and remove it from the instance as it's not a dynamic proto function\r\n                instFuncs_1[name] = target[name];\r\n                delete target[name];\r\n                // Add a dynamic proto if one doesn't exist or if a prototype function exists and it's not a dynamic one\r\n                if (!_hasOwnProperty(proto, name) || (proto[name] && !proto[name][DynProxyTag])) {\r\n                    proto[name] = _createDynamicPrototype(proto, name);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n/**\r\n * Checks whether the passed prototype object appears to be correct by walking the prototype hierarchy of the instance\r\n * @param classProto The class prototype instance\r\n * @param thisTarget The current instance that will be checked whether the passed prototype instance is in the hierarchy\r\n * @ignore\r\n */\r\nfunction _checkPrototype(classProto, thisTarget) {\r\n    // This method doesn't existing in older browsers (e.g. IE8)\r\n    if (_objGetPrototypeOf) {\r\n        // As this is primarily a coding time check, don't bother checking if running in IE8 or lower\r\n        var visited = [];\r\n        var thisProto = _getObjProto(thisTarget);\r\n        while (thisProto && !_isObjectArrayOrFunctionPrototype(thisProto) && !_hasVisited(visited, thisProto)) {\r\n            if (thisProto === classProto) {\r\n                return true;\r\n            }\r\n            // This avoids the caller from needing to check whether it's direct base class implements the function or not\r\n            // by walking the entire chain it simplifies the usage and issues from upgrading any of the base classes.\r\n            visited.push(thisProto);\r\n            thisProto = _getObjProto(thisProto);\r\n        }\r\n        return false;\r\n    }\r\n    // If objGetPrototypeOf doesn't exist then just assume everything is ok.\r\n    return true;\r\n}\r\n/**\r\n * Gets the current prototype name using the ES6 name if available otherwise falling back to a use unknown as the name.\r\n * It's not critical for this to return a name, it's used to decorate the generated unique name for easier debugging only.\r\n * @param target\r\n * @param unknownValue\r\n * @ignore\r\n */\r\nfunction _getObjName(target, unknownValue) {\r\n    if (_hasOwnProperty(target, Prototype)) {\r\n        // Look like a prototype\r\n        return target.name || unknownValue || UnknownValue;\r\n    }\r\n    return (((target || {})[Constructor]) || {}).name || unknownValue || UnknownValue;\r\n}\r\n/**\r\n * Helper function when creating dynamic (inline) functions for classes, this helper performs the following tasks :-\r\n * - Saves references to all defined base class functions\r\n * - Calls the delegateFunc with the current target (this) and a base object reference that can be used to call all \"super\" functions.\r\n * - Will populate the class prototype for all overridden functions to support class extension that call the prototype instance.\r\n * Callers should use this helper when declaring all function within the constructor of a class, as mentioned above the delegateFunc is\r\n * passed both the target \"this\" and an object that can be used to call any base (super) functions, using this based object in place of\r\n * super.XXX() (which gets expanded to _super.prototype.XXX()) provides a better minification outcome and also ensures the correct \"this\"\r\n * context is maintained as TypeScript creates incorrect references using super.XXXX() for dynamically defined functions i.e. Functions\r\n * defined in the constructor or some other function (rather than declared as complete typescript functions).\r\n * ### Usage\r\n * ```typescript\r\n * import dynamicProto from \"@microsoft/dynamicproto-js\";\r\n * class ExampleClass extends BaseClass {\r\n *     constructor() {\r\n *         dynamicProto(ExampleClass, this, (_self, base) => {\r\n *             // This will define a function that will be converted to a prototype function\r\n *             _self.newFunc = () => {\r\n *                 // Access any \"this\" instance property\r\n *                 if (_self.someProperty) {\r\n *                     ...\r\n *                 }\r\n *             }\r\n *             // This will define a function that will be converted to a prototype function\r\n *             _self.myFunction = () => {\r\n *                 // Access any \"this\" instance property\r\n *                 if (_self.someProperty) {\r\n *                     // Call the base version of the function that we are overriding\r\n *                     base.myFunction();\r\n *                 }\r\n *                 ...\r\n *             }\r\n *             _self.initialize = () => {\r\n *                 ...\r\n *             }\r\n *             // Warnings: While the following will work as _self is simply a reference to\r\n *             // this, if anyone overrides myFunction() the overridden will be called first\r\n *             // as the normal JavaScript method resolution will occur and the defined\r\n *             // _self.initialize() function is actually gets removed from the instance and\r\n *             // a proxy prototype version is created to reference the created method.\r\n *             _self.initialize();\r\n *         });\r\n *     }\r\n * }\r\n * ```\r\n * @typeparam DPType This is the generic type of the class, used to keep intellisense valid\r\n * @typeparam DPCls The type that contains the prototype of the current class\r\n * @param theClass - This is the current class instance which contains the prototype for the current class\r\n * @param target - The current \"this\" (target) reference, when the class has been extended this.prototype will not be the 'theClass' value.\r\n * @param delegateFunc - The callback function (closure) that will create the dynamic function\r\n * @param options - Additional options to configure how the dynamic prototype operates\r\n */\r\nexport default function dynamicProto(theClass, target, delegateFunc, options) {\r\n    // Make sure that the passed theClass argument looks correct\r\n    if (!_hasOwnProperty(theClass, Prototype)) {\r\n        _throwTypeError(\"theClass is an invalid class definition.\");\r\n    }\r\n    // Quick check to make sure that the passed theClass argument looks correct (this is a common copy/paste error)\r\n    var classProto = theClass[Prototype];\r\n    if (!_checkPrototype(classProto, target)) {\r\n        _throwTypeError(\"[\" + _getObjName(theClass) + \"] not in hierarchy of [\" + _getObjName(target) + \"]\");\r\n    }\r\n    var className = null;\r\n    if (_hasOwnProperty(classProto, DynClassName)) {\r\n        // Only grab the class name if it's defined on this prototype (i.e. don't walk the prototype chain)\r\n        className = classProto[DynClassName];\r\n    }\r\n    else {\r\n        // As not all browser support name on the prototype creating a unique dynamic one if we have not already\r\n        // assigned one, so we can use a simple string as the lookup rather than an object for the dynamic instance\r\n        // function table lookup.\r\n        className = DynClassNamePrefix + _getObjName(theClass, \"_\") + \"$\" + _gblInst.n;\r\n        _gblInst.n++;\r\n        classProto[DynClassName] = className;\r\n    }\r\n    var perfOptions = dynamicProto[DynProtoDefaultOptions];\r\n    var useBaseInst = !!perfOptions[strUseBaseInst];\r\n    if (useBaseInst && options && options[strUseBaseInst] !== undefined) {\r\n        useBaseInst = !!options[strUseBaseInst];\r\n    }\r\n    // Get the current instance functions\r\n    var instFuncs = _getInstanceFuncs(target);\r\n    // Get all of the functions for any base instance (before they are potentially overridden)\r\n    var baseFuncs = _getBaseFuncs(classProto, target, instFuncs, useBaseInst);\r\n    // Execute the delegate passing in both the current target \"this\" and \"base\" function references\r\n    // Note casting the same type as we don't actually have the base class here and this will provide some intellisense support\r\n    delegateFunc(target, baseFuncs);\r\n    // Don't allow setting instance functions for older IE instances\r\n    var setInstanceFunc = !!_objGetPrototypeOf && !!perfOptions[strSetInstFuncs];\r\n    if (setInstanceFunc && options) {\r\n        setInstanceFunc = !!options[strSetInstFuncs];\r\n    }\r\n    // Populate the Prototype for any overridden instance functions\r\n    _populatePrototype(classProto, className, target, instFuncs, setInstanceFunc !== false);\r\n}\r\n/**\r\n * Exposes the default global options to allow global configuration, if the global values are disabled these will override\r\n * any passed values. This is primarily exposed to support unit-testing without the need for individual classes to expose\r\n * their internal usage of dynamic proto.\r\n */\r\ndynamicProto[DynProtoDefaultOptions] = _gblInst.o;\r\n//# sourceMappingURL=DynamicProto.js.map", "/*\n * 1DS JS SDK Core, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* Enums.ts\r\n* @author Abhilash Panwar (abpanwar)\r\n* @copyright Microsoft 2018\r\n* File containing the enums as constants.\r\n*/\r\nimport { __assignFn as __assign } from \"@microsoft/applicationinsights-shims\";\r\nimport { _InternalMessageId, createEnumStyle, objFreeze } from \"@microsoft/applicationinsights-core-js\";\r\n/**\r\n * The ValueKind contains a set of values that specify value kind of the property.\r\n * Either PII (Personal Identifiable Information) or customer content.\r\n */\r\nexport var ValueKind = createEnumStyle({\r\n    NotSet: 0 /* eValueKind.NotSet */,\r\n    Pii_DistinguishedName: 1 /* eValueKind.Pii_DistinguishedName */,\r\n    Pii_GenericData: 2 /* eValueKind.Pii_GenericData */,\r\n    Pii_IPV4Address: 3 /* eValueKind.Pii_IPV4Address */,\r\n    Pii_IPv6Address: 4 /* eValueKind.Pii_IPv6Address */,\r\n    Pii_MailSubject: 5 /* eValueKind.Pii_MailSubject */,\r\n    Pii_PhoneNumber: 6 /* eValueKind.Pii_PhoneNumber */,\r\n    Pii_QueryString: 7 /* eValueKind.Pii_QueryString */,\r\n    Pii_SipAddress: 8 /* eValueKind.Pii_SipAddress */,\r\n    Pii_SmtpAddress: 9 /* eValueKind.Pii_SmtpAddress */,\r\n    Pii_Identity: 10 /* eValueKind.Pii_Identity */,\r\n    Pii_Uri: 11 /* eValueKind.Pii_Uri */,\r\n    Pii_Fqdn: 12 /* eValueKind.Pii_Fqdn */,\r\n    Pii_IPV4AddressLegacy: 13 /* eValueKind.Pii_IPV4AddressLegacy */,\r\n    CustomerContent_GenericContent: 32 /* eValueKind.CustomerContent_GenericContent */\r\n});\r\n/**\r\n * The EventLatency contains a set of values that specify the latency with which an event is sent.\r\n */\r\nexport var EventLatency = createEnumStyle({\r\n    /**\r\n     * Normal latency.\r\n     */\r\n    Normal: 1 /* EventLatencyValue.Normal */,\r\n    /**\r\n     * Cost deferred latency. At the moment this latency is treated as Normal latency.\r\n     */\r\n    CostDeferred: 2 /* EventLatencyValue.CostDeferred */,\r\n    /**\r\n     * Real time latency.\r\n     */\r\n    RealTime: 3 /* EventLatencyValue.RealTime */,\r\n    /**\r\n     * Bypass normal batching/timing and send as soon as possible, this will still send asynchronously.\r\n     * Added in v3.1.1\r\n     */\r\n    Immediate: 4 /* EventLatencyValue.Immediate */\r\n});\r\n/**\r\n * Enum for property types.\r\n */\r\nexport var EventPropertyType = createEnumStyle({\r\n    Unspecified: 0 /* eEventPropertyType.Unspecified */,\r\n    String: 1 /* eEventPropertyType.String */,\r\n    Int32: 2 /* eEventPropertyType.Int32 */,\r\n    UInt32: 3 /* eEventPropertyType.UInt32 */,\r\n    Int64: 4 /* eEventPropertyType.Int64 */,\r\n    UInt64: 5 /* eEventPropertyType.UInt64 */,\r\n    Double: 6 /* eEventPropertyType.Double */,\r\n    Bool: 7 /* eEventPropertyType.Bool */,\r\n    Guid: 8 /* eEventPropertyType.Guid */,\r\n    DateTime: 9 /* eEventPropertyType.DateTime */\r\n});\r\n/**\r\n * The EventPersistence contains a set of values that specify the event's persistence.\r\n */\r\nexport var EventPersistence = createEnumStyle({\r\n    /**\r\n     * Normal persistence.\r\n     */\r\n    Normal: 1 /* EventPersistenceValue.Normal */,\r\n    /**\r\n     * Critical persistence.\r\n     */\r\n    Critical: 2 /* EventPersistenceValue.Critical */\r\n});\r\nexport var TraceLevel = createEnumStyle({\r\n    NONE: 0 /* eTraceLevel.NONE */,\r\n    ERROR: 1 /* eTraceLevel.ERROR */,\r\n    WARNING: 2 /* eTraceLevel.WARNING */,\r\n    INFORMATION: 3 /* eTraceLevel.INFORMATION */\r\n});\r\nexport var _ExtendedInternalMessageId = objFreeze(__assign(__assign({}, _InternalMessageId), createEnumStyle({\r\n    AuthHandShakeError: 501 /* _eExtendedInternalMessageId.AuthHandShakeError */,\r\n    AuthRedirectFail: 502 /* _eExtendedInternalMessageId.AuthRedirectFail */,\r\n    BrowserCannotReadLocalStorage: 503 /* _eExtendedInternalMessageId.BrowserCannotReadLocalStorage */,\r\n    BrowserCannotWriteLocalStorage: 504 /* _eExtendedInternalMessageId.BrowserCannotWriteLocalStorage */,\r\n    BrowserDoesNotSupportLocalStorage: 505 /* _eExtendedInternalMessageId.BrowserDoesNotSupportLocalStorage */,\r\n    CannotParseBiBlobValue: 506 /* _eExtendedInternalMessageId.CannotParseBiBlobValue */,\r\n    CannotParseDataAttribute: 507 /* _eExtendedInternalMessageId.CannotParseDataAttribute */,\r\n    CVPluginNotAvailable: 508 /* _eExtendedInternalMessageId.CVPluginNotAvailable */,\r\n    DroppedEvent: 509 /* _eExtendedInternalMessageId.DroppedEvent */,\r\n    ErrorParsingAISessionCookie: 510 /* _eExtendedInternalMessageId.ErrorParsingAISessionCookie */,\r\n    ErrorProvidedChannels: 511 /* _eExtendedInternalMessageId.ErrorProvidedChannels */,\r\n    FailedToGetCookies: 512 /* _eExtendedInternalMessageId.FailedToGetCookies */,\r\n    FailedToInitializeCorrelationVector: 513 /* _eExtendedInternalMessageId.FailedToInitializeCorrelationVector */,\r\n    FailedToInitializeSDK: 514 /* _eExtendedInternalMessageId.FailedToInitializeSDK */,\r\n    InvalidContentBlob: 515 /* _eExtendedInternalMessageId.InvalidContentBlob */,\r\n    InvalidCorrelationValue: 516 /* _eExtendedInternalMessageId.InvalidCorrelationValue */,\r\n    SessionRenewalDateIsZero: 517 /* _eExtendedInternalMessageId.SessionRenewalDateIsZero */,\r\n    SendPostOnCompleteFailure: 518 /* _eExtendedInternalMessageId.SendPostOnCompleteFailure */,\r\n    PostResponseHandler: 519 /* _eExtendedInternalMessageId.PostResponseHandler */,\r\n    SDKNotInitialized: 520 /* _eExtendedInternalMessageId.SDKNotInitialized */\r\n})));\r\n//# sourceMappingURL=Enums.js.map", "/*\n * 1DS JS SDK Core, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n\r\n// Licensed under the MIT License.\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Note: DON'T Export these const from the package as we are still targeting ES3 this will export a mutable variables that someone could change!!!\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Generally you should only put values that are used more than 2 times and then only if not already exposed as a constant (such as SdkCoreNames)\r\n// as when using \"short\" named values from here they will be will be minified smaller than the SdkCoreNames[eSdkCoreNames.xxxx] value.\r\nexport var STR_EMPTY = \"\";\r\nexport var STR_DEFAULT_ENDPOINT_URL = \"https://browser.events.data.microsoft.com/OneCollector/1.0/\";\r\nexport var STR_PLUGIN_VERSION_STRING = \"pluginVersionString\";\r\nexport var STR_PLUGIN_VERSION_STRING_ARR = STR_PLUGIN_VERSION_STRING + \"Arr\";\r\nexport var STR_VERSION = \"version\";\r\nexport var STR_PROPERTIES = \"properties\";\r\n//# sourceMappingURL=InternalConstants.js.map", "/*\n * 1DS JS SDK Core, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nvar _a;\r\n/**\r\n* Utils.ts\r\n* @author  Abhilash Panwar (abpanwar) Hector Hernandez (hectorh)\r\n* @copyright Microsoft 2018\r\n* File containing utility functions.\r\n*/\r\nimport { addEventHandler, addPageUnloadEventListener, areCookiesSupported, arrForEach, arrIndexOf, arrMap, arrReduce, dateNow, generateW3CId, getDocument, getGlobalInst, getNavigator, getWindow, hasOwnProperty, isArray, isBeaconsSupported, isBoolean, isDate, isError, isFunction, isIE, isNullOrUndefined, isNumber, isObject, isReactNative, isString, isTypeof, isUndefined, mwcRandom32, mwcRandomSeed, newGuid, newId, objDefineAccessors, objForEachKey, objKeys, perfNow, random32, randomValue, safeGetCookieMgr, strEndsWith, strObject, strTrim, strUndefined, toISOString, uaDisallowsSameSiteNone, useXDomainRequest } from \"@microsoft/applicationinsights-core-js\";\r\nimport { ObjHasOwnProperty, objCreateFn, strShimObject, strShimPrototype } from \"@microsoft/applicationinsights-shims\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nexport var Version = '3.2.12';\r\nexport var FullVersionString = \"1DS-Web-JS-\" + Version;\r\n// Defining here so we don't need to take (import) the ApplicationInsights Common module\r\nvar strDisabledPropertyName = \"Microsoft_ApplicationInsights_BypassAjaxInstrumentation\";\r\nvar strWithCredentials = \"withCredentials\";\r\nvar strTimeout = \"timeout\";\r\n// If value is array just get the type for the first element\r\nvar _fieldTypeEventPropMap = (_a = {},\r\n    _a[0 /* FieldValueSanitizerType.NotSet */] = 0 /* eEventPropertyType.Unspecified */,\r\n    _a[2 /* FieldValueSanitizerType.Number */] = 6 /* eEventPropertyType.Double */,\r\n    _a[1 /* FieldValueSanitizerType.String */] = 1 /* eEventPropertyType.String */,\r\n    _a[3 /* FieldValueSanitizerType.Boolean */] = 7 /* eEventPropertyType.Bool */,\r\n    _a[4096 /* FieldValueSanitizerType.Array */ | 2 /* FieldValueSanitizerType.Number */] = 6 /* eEventPropertyType.Double */,\r\n    _a[4096 /* FieldValueSanitizerType.Array */ | 1 /* FieldValueSanitizerType.String */] = 1 /* eEventPropertyType.String */,\r\n    _a[4096 /* FieldValueSanitizerType.Array */ | 3 /* FieldValueSanitizerType.Boolean */] = 7 /* eEventPropertyType.Bool */,\r\n    _a);\r\n/**\r\n * @ignore\r\n */\r\n// let _uaDisallowsSameSiteNone = null;\r\nvar uInt8ArraySupported = null;\r\n// var _areCookiesAvailable: boolean | undefined;\r\n/**\r\n * Checks if document object is available\r\n */\r\nexport var isDocumentObjectAvailable = Boolean(getDocument());\r\n/**\r\n * Checks if window object is available\r\n */\r\nexport var isWindowObjectAvailable = Boolean(getWindow());\r\n/**\r\n * Checks if value is assigned to the given param.\r\n * @param value - The token from which the tenant id is to be extracted.\r\n * @returns True/false denoting if value is assigned to the param.\r\n */\r\nexport function isValueAssigned(value) {\r\n    /// <summary> takes a value and checks for undefined, null and empty string </summary>\r\n    /// <param type=\"any\"> value to be tested </param>\r\n    /// <returns> true if value is null undefined or emptyString </returns>\r\n    return !(value === STR_EMPTY || isNullOrUndefined(value));\r\n}\r\n/**\r\n * Gets the tenant id from the tenant token.\r\n * @param apiKey - The token from which the tenant id is to be extracted.\r\n * @returns The tenant id.\r\n */\r\nexport function getTenantId(apiKey) {\r\n    if (apiKey) {\r\n        var indexTenantId = apiKey.indexOf(\"-\");\r\n        if (indexTenantId > -1) {\r\n            return apiKey.substring(0, indexTenantId);\r\n        }\r\n    }\r\n    return STR_EMPTY;\r\n}\r\n/**\r\n * Checks if Uint8Array are available in the current environment. Safari and Firefox along with\r\n * ReactNative are known to not support Uint8Array properly.\r\n * @returns True if available, false otherwise.\r\n */\r\nexport function isUint8ArrayAvailable() {\r\n    if (uInt8ArraySupported === null) {\r\n        uInt8ArraySupported = !isUndefined(Uint8Array) && !isSafariOrFirefox() && !isReactNative();\r\n    }\r\n    return uInt8ArraySupported;\r\n}\r\n/**\r\n * Checks if the value is a valid EventLatency.\r\n * @param value - The value that needs to be checked.\r\n * @returns True if the value is in AWTEventLatency, false otherwise.\r\n */\r\nexport function isLatency(value) {\r\n    if (value && isNumber(value) && value >= 1 /* EventLatencyValue.Normal */ && value <= 4 /* EventLatencyValue.Immediate */) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Sanitizes the Property. It checks the that the property name and value are valid. It also\r\n * checks/populates the correct type and pii of the property value.\r\n * @param name - property name                          - The property name.\r\n * @param property - The property value or an IEventProperty containing value,\r\n * type ,pii and customer content.\r\n * @returns IEventProperty containing valid name, value, pii and type or null if invalid.\r\n */\r\nexport function sanitizeProperty(name, property, stringifyObjects) {\r\n    // Check that property is valid\r\n    if ((!property && !isValueAssigned(property)) || typeof name !== \"string\") {\r\n        return null;\r\n    }\r\n    // Perf optimization -- only need to get the type once not multiple times\r\n    var propType = typeof property;\r\n    // If the property isn't IEventProperty (and is either string, number, boolean or array), convert it into one.\r\n    if (propType === \"string\" || propType === \"number\" || propType === \"boolean\" || isArray(property)) {\r\n        property = { value: property };\r\n    }\r\n    else if (propType === \"object\" && !ObjHasOwnProperty.call(property, \"value\")) {\r\n        property = { value: stringifyObjects ? JSON.stringify(property) : property };\r\n    }\r\n    else if (isNullOrUndefined(property.value)\r\n        || property.value === STR_EMPTY || (!isString(property.value)\r\n        && !isNumber(property.value) && !isBoolean(property.value)\r\n        && !isArray(property.value))) {\r\n        // Since property is IEventProperty, we need to validate its value\r\n        return null;\r\n    }\r\n    // We need to check that if the property value is an array, it is valid\r\n    if (isArray(property.value) &&\r\n        !isArrayValid(property.value)) {\r\n        return null;\r\n    }\r\n    // If either pii or cc is set convert value to string (since only string pii/cc is allowed).\r\n    // If the value is a complex type like an array that can't be converted to string we will drop\r\n    // the property.\r\n    if (!isNullOrUndefined(property.kind)) {\r\n        if (isArray(property.value) || !isValueKind(property.kind)) {\r\n            return null;\r\n        }\r\n        property.value = property.value.toString();\r\n    }\r\n    return property;\r\n}\r\nexport function getCommonSchemaMetaData(value, kind, type) {\r\n    var encodedTypeValue = -1;\r\n    if (!isUndefined(value)) {\r\n        if (kind > 0) {\r\n            if (kind === 32) {\r\n                // encode customer content. Value can only be string. bit 13-16 are for cc\r\n                encodedTypeValue = (1 << 13);\r\n            }\r\n            else if (kind <= 13) {\r\n                // encode PII. Value can only be string. bits 5-12 are for Pii\r\n                encodedTypeValue = (kind << 5);\r\n            }\r\n        }\r\n        // isDataType checks that the \"type\" is a number so we don't need to check for undefined\r\n        if (isDataType(type)) {\r\n            // Data Type is provided and valid, so use that\r\n            if (encodedTypeValue === -1) {\r\n                // Don't return -1\r\n                encodedTypeValue = 0;\r\n            }\r\n            encodedTypeValue |= type;\r\n        }\r\n        else {\r\n            var propType = _fieldTypeEventPropMap[getFieldValueType(value)] || -1;\r\n            if (encodedTypeValue !== -1 && propType !== -1) {\r\n                // pii exists so we must return correct type\r\n                encodedTypeValue |= propType;\r\n            }\r\n            else if (propType === 6 /* eEventPropertyType.Double */) {\r\n                encodedTypeValue = propType;\r\n            }\r\n        }\r\n    }\r\n    return encodedTypeValue;\r\n}\r\n/**\r\n * @deprecated - Use the core.getCookieMgr().disable()\r\n * Force the SDK not to store and read any data from cookies.\r\n * Overriding the applicationinsights-core version for tree-shaking\r\n */\r\nexport function disableCookies() {\r\n    safeGetCookieMgr(null).setEnabled(false);\r\n}\r\n/**\r\n * @deprecated - Use the oneDs.getCookieMgr().set()\r\n * Sets the value of a cookie.\r\n * @param name - Cookie name.\r\n * @param value - Cookie value.\r\n * @param days - Expiration days.\r\n */\r\nexport function setCookie(name, value, days) {\r\n    if (areCookiesSupported(null)) {\r\n        safeGetCookieMgr(null).set(name, value, days * 86400, null, \"/\");\r\n    }\r\n}\r\n/**\r\n * @deprecated - Use the oneDs.getCookieMgr().del()\r\n * Deletes a cookie, by setting its expiration to -1.\r\n * @param name - Cookie name to delete.\r\n */\r\nexport function deleteCookie(name) {\r\n    if (areCookiesSupported(null)) {\r\n        safeGetCookieMgr(null).del(name);\r\n    }\r\n}\r\n/**\r\n * @deprecated - Use the oneDs.getCookieMgr().get()\r\n * Gets the cookie value for the specified cookie.\r\n * if value is k1=v1&k2==v2 then will return 'v1' for key 'k1'\r\n * @param cookieName - Cookie name.\r\n */\r\nexport function getCookie(name) {\r\n    if (areCookiesSupported(null)) {\r\n        return getCookieValue(safeGetCookieMgr(null), name);\r\n    }\r\n    return STR_EMPTY;\r\n}\r\n/**\r\n * Helper to get and decode the cookie value using decodeURIComponent, this is for historical\r\n * backward compatibility where the document.cookie value was decoded before parsing.\r\n * @param cookieMgr - The cookie manager to use\r\n * @param name - The name of the cookie to get\r\n * @param decode - A flag to indicate whether the cookie value should be decoded\r\n * @returns The decoded cookie value (if available) otherwise an empty string.\r\n */\r\nexport function getCookieValue(cookieMgr, name, decode) {\r\n    if (decode === void 0) { decode = true; }\r\n    var cookieValue;\r\n    if (cookieMgr) {\r\n        cookieValue = cookieMgr.get(name);\r\n        if (decode && cookieValue && decodeURIComponent) {\r\n            cookieValue = decodeURIComponent(cookieValue);\r\n        }\r\n    }\r\n    return cookieValue || STR_EMPTY;\r\n}\r\n/**\r\n * Create a new guid.\r\n * @param style - The style of guid to generated, defaults to Digits\r\n * Digits (Default) : 32 digits separated by hyphens: 00000000-0000-0000-0000-000000000000\r\n * Braces - 32 digits separated by hyphens, enclosed in braces: {00000000-0000-0000-0000-000000000000}\r\n * Parentheses - 32 digits separated by hyphens, enclosed in parentheses: (00000000-0000-0000-0000-000000000000)\r\n * Numeric - 32 digits: 00000000000000000000000000000000\r\n * @returns The formatted guid.\r\n */\r\nexport function createGuid(style) {\r\n    if (style === void 0) { style = \"D\" /* GuidStyle.Digits */; }\r\n    var theGuid = newGuid();\r\n    if (style === \"B\" /* GuidStyle.Braces */) {\r\n        theGuid = \"{\" + theGuid + \"}\";\r\n    }\r\n    else if (style === \"P\" /* GuidStyle.Parentheses */) {\r\n        theGuid = \"(\" + theGuid + \")\";\r\n    }\r\n    else if (style === \"N\" /* GuidStyle.Numeric */) {\r\n        theGuid = theGuid.replace(/-/g, STR_EMPTY);\r\n    }\r\n    return theGuid;\r\n}\r\n/**\r\n * Pass in the objects to merge as arguments.\r\n * @param obj1 - object to merge.  Set this argument to 'true' for a deep extend.\r\n * @param obj2 - object to merge.\r\n * @param obj3 - object to merge.\r\n * @param obj4 - object to merge.\r\n * @param obj5 - object to merge.\r\n * @returns The extended object.\r\n */\r\nexport function extend(obj, obj2, obj3, obj4, obj5) {\r\n    // Variables\r\n    var extended = {};\r\n    var deep = false;\r\n    var i = 0;\r\n    var length = arguments.length;\r\n    var objProto = Object[strShimPrototype];\r\n    var theArgs = arguments;\r\n    // Check if a deep merge\r\n    if (objProto.toString.call(theArgs[0]) === \"[object Boolean]\") {\r\n        deep = theArgs[0];\r\n        i++;\r\n    }\r\n    // Loop through each object and conduct a merge\r\n    for (; i < length; i++) {\r\n        var obj = theArgs[i];\r\n        objForEachKey(obj, function (prop, value) {\r\n            // If deep merge and property is an object, merge properties\r\n            if (deep && value && isObject(value)) {\r\n                if (isArray(value)) {\r\n                    extended[prop] = extended[prop] || [];\r\n                    arrForEach(value, function (arrayValue, arrayIndex) {\r\n                        if (arrayValue && isObject(arrayValue)) {\r\n                            extended[prop][arrayIndex] = extend(true, extended[prop][arrayIndex], arrayValue);\r\n                        }\r\n                        else {\r\n                            extended[prop][arrayIndex] = arrayValue;\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    extended[prop] = extend(true, extended[prop], value);\r\n                }\r\n            }\r\n            else {\r\n                extended[prop] = value;\r\n            }\r\n        });\r\n    }\r\n    return extended;\r\n}\r\nexport var getTime = perfNow;\r\nexport function isValueKind(value) {\r\n    // Always assume that it's a number (no type checking) for performance as this is used during the JSON serialization\r\n    if (value === 0 /* eValueKind.NotSet */ || ((value > 0 /* eValueKind.NotSet */ && value <= 13 /* eValueKind.Pii_IPV4AddressLegacy */) || value === 32 /* eValueKind.CustomerContent_GenericContent */)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction isDataType(value) {\r\n    // Remark: 0 returns false, but it doesn't affect encoding anyways\r\n    // Always assume that it's a number (no type checking) for performance as this is used during the JSON serialization\r\n    if (value >= 0 && value <= 9) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction isSafariOrFirefox() {\r\n    var nav = getNavigator();\r\n    // If non-browser navigator will be undefined\r\n    if (!isUndefined(nav) && nav.userAgent) {\r\n        var ua = nav.userAgent.toLowerCase();\r\n        if ((ua.indexOf(\"safari\") >= 0 || ua.indexOf(\"firefox\") >= 0) && ua.indexOf(\"chrome\") < 0) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nexport function isArrayValid(value) {\r\n    return value.length > 0;\r\n}\r\nexport function setProcessTelemetryTimings(event, identifier) {\r\n    var evt = event;\r\n    evt.timings = evt.timings || {};\r\n    evt.timings.processTelemetryStart = evt.timings.processTelemetryStart || {};\r\n    evt.timings.processTelemetryStart[identifier] = getTime();\r\n}\r\n/**\r\n * Returns a bitwise value for the FieldValueSanitizerType enum representing the decoded type of the passed value\r\n * @param value The value to determine the type\r\n */\r\nexport function getFieldValueType(value) {\r\n    var theType = 0 /* FieldValueSanitizerType.NotSet */;\r\n    if (value !== null && value !== undefined) {\r\n        var objType = typeof value;\r\n        if (objType === \"string\") {\r\n            theType = 1 /* FieldValueSanitizerType.String */;\r\n        }\r\n        else if (objType === \"number\") {\r\n            theType = 2 /* FieldValueSanitizerType.Number */;\r\n        }\r\n        else if (objType === \"boolean\") {\r\n            theType = 3 /* FieldValueSanitizerType.Boolean */;\r\n        }\r\n        else if (objType === strShimObject) {\r\n            theType = 4 /* FieldValueSanitizerType.Object */;\r\n            if (isArray(value)) {\r\n                theType = 4096 /* FieldValueSanitizerType.Array */;\r\n                if (value.length > 0) {\r\n                    // Empty arrays are not supported and are considered to be the same as null\r\n                    theType |= getFieldValueType(value[0]);\r\n                }\r\n            }\r\n            else if (ObjHasOwnProperty.call(value, \"value\")) {\r\n                // Looks like an IEventProperty\r\n                theType = 8192 /* FieldValueSanitizerType.EventProperty */ | getFieldValueType(value.value);\r\n            }\r\n        }\r\n    }\r\n    return theType;\r\n}\r\nexport var Utils = {\r\n    Version: Version,\r\n    FullVersionString: FullVersionString,\r\n    strUndefined: strUndefined,\r\n    strObject: strObject,\r\n    Undefined: strUndefined,\r\n    arrForEach: arrForEach,\r\n    arrIndexOf: arrIndexOf,\r\n    arrMap: arrMap,\r\n    arrReduce: arrReduce,\r\n    objKeys: objKeys,\r\n    toISOString: toISOString,\r\n    isReactNative: isReactNative,\r\n    isString: isString,\r\n    isNumber: isNumber,\r\n    isBoolean: isBoolean,\r\n    isFunction: isFunction,\r\n    isArray: isArray,\r\n    isObject: isObject,\r\n    strTrim: strTrim,\r\n    isDocumentObjectAvailable: isDocumentObjectAvailable,\r\n    isWindowObjectAvailable: isWindowObjectAvailable,\r\n    isValueAssigned: isValueAssigned,\r\n    getTenantId: getTenantId,\r\n    isBeaconsSupported: isBeaconsSupported,\r\n    isUint8ArrayAvailable: isUint8ArrayAvailable,\r\n    isLatency: isLatency,\r\n    sanitizeProperty: sanitizeProperty,\r\n    getISOString: toISOString,\r\n    useXDomainRequest: useXDomainRequest,\r\n    getCommonSchemaMetaData: getCommonSchemaMetaData,\r\n    cookieAvailable: areCookiesSupported,\r\n    disallowsSameSiteNone: uaDisallowsSameSiteNone,\r\n    setCookie: setCookie,\r\n    deleteCookie: deleteCookie,\r\n    getCookie: getCookie,\r\n    createGuid: createGuid,\r\n    extend: extend,\r\n    getTime: getTime,\r\n    isValueKind: isValueKind,\r\n    isArrayValid: isArrayValid,\r\n    objDefineAccessors: objDefineAccessors,\r\n    addPageUnloadEventListener: addPageUnloadEventListener,\r\n    setProcessTelemetryTimings: setProcessTelemetryTimings,\r\n    addEventHandler: addEventHandler,\r\n    getFieldValueType: getFieldValueType,\r\n    strEndsWith: strEndsWith,\r\n    objForEachKey: objForEachKey\r\n};\r\n/**\r\n * Provides a collection of utility functions, included for backward compatibility with previous releases.\r\n * @deprecated Marking this instance as deprecated in favor of direct usage of the helper functions\r\n * as direct usage provides better tree-shaking and minification by avoiding the inclusion of the unused items\r\n * in your resulting code.\r\n * Overriding the applicationinsights-core version for tree-shaking\r\n */\r\nexport var CoreUtils = {\r\n    _canUseCookies: undefined,\r\n    isTypeof: isTypeof,\r\n    isUndefined: isUndefined,\r\n    isNullOrUndefined: isNullOrUndefined,\r\n    hasOwnProperty: hasOwnProperty,\r\n    isFunction: isFunction,\r\n    isObject: isObject,\r\n    isDate: isDate,\r\n    isArray: isArray,\r\n    isError: isError,\r\n    isString: isString,\r\n    isNumber: isNumber,\r\n    isBoolean: isBoolean,\r\n    toISOString: toISOString,\r\n    arrForEach: arrForEach,\r\n    arrIndexOf: arrIndexOf,\r\n    arrMap: arrMap,\r\n    arrReduce: arrReduce,\r\n    strTrim: strTrim,\r\n    objCreate: objCreateFn,\r\n    objKeys: objKeys,\r\n    objDefineAccessors: objDefineAccessors,\r\n    addEventHandler: addEventHandler,\r\n    dateNow: dateNow,\r\n    isIE: isIE,\r\n    disableCookies: disableCookies,\r\n    newGuid: newGuid,\r\n    perfNow: perfNow,\r\n    newId: newId,\r\n    randomValue: randomValue,\r\n    random32: random32,\r\n    mwcRandomSeed: mwcRandomSeed,\r\n    mwcRandom32: mwcRandom32,\r\n    generateW3CId: generateW3CId\r\n};\r\n/**\r\n * Helper to identify whether we are running in a chromium based browser environment\r\n */\r\nexport function isChromium() {\r\n    return !!getGlobalInst(\"chrome\");\r\n}\r\n/**\r\n * Create and open an XMLHttpRequest object\r\n * @param method - The request method\r\n * @param urlString - The url\r\n * @param withCredentials - Option flag indicating that credentials should be sent\r\n * @param disabled - Optional flag indicating that the XHR object should be marked as disabled and not tracked (default is false)\r\n * @param isSync - Optional flag indicating if the instance should be a synchronous request (defaults to false)\r\n * @param timeout - Optional value identifying the timeout value that should be assigned to the XHR request\r\n * @returns A new opened XHR request\r\n */\r\nexport function openXhr(method, urlString, withCredentials, disabled, isSync, timeout) {\r\n    if (disabled === void 0) { disabled = false; }\r\n    if (isSync === void 0) { isSync = false; }\r\n    function _wrapSetXhrProp(xhr, prop, value) {\r\n        try {\r\n            xhr[prop] = value;\r\n        }\r\n        catch (e) {\r\n            // - Wrapping as depending on the environment setting the property may fail (non-terminally)\r\n        }\r\n    }\r\n    var xhr = new XMLHttpRequest();\r\n    if (disabled) {\r\n        // Tag the instance so it's not tracked (trackDependency)\r\n        // If the environment has locked down the XMLHttpRequest (preventExtensions and/or freeze), this would\r\n        // cause the request to fail and we no telemetry would be sent\r\n        _wrapSetXhrProp(xhr, strDisabledPropertyName, disabled);\r\n    }\r\n    if (withCredentials) {\r\n        // Some libraries require that the withCredentials flag is set \"before\" open and\r\n        // - Wrapping as IE 10 has started throwing when setting before open\r\n        _wrapSetXhrProp(xhr, strWithCredentials, withCredentials);\r\n    }\r\n    xhr.open(method, urlString, !isSync);\r\n    if (withCredentials) {\r\n        // withCredentials should be set AFTER open (https://xhr.spec.whatwg.org/#the-withcredentials-attribute)\r\n        // And older firefox instances from 11+ will throw for sync events (current versions don't) which happens during unload processing\r\n        _wrapSetXhrProp(xhr, strWithCredentials, withCredentials);\r\n    }\r\n    // Only set the timeout for asynchronous requests as\r\n    // \"Timeout shouldn't be used for synchronous XMLHttpRequests requests used in a document environment or it will throw an InvalidAccessError exception.\"\"\r\n    // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/timeout\r\n    if (!isSync && timeout) {\r\n        _wrapSetXhrProp(xhr, strTimeout, timeout);\r\n    }\r\n    return xhr;\r\n}\r\n//# sourceMappingURL=Utils.js.map", "/*\n * 1DS JS SDK Core, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nimport { __extendsFn as __extends } from \"@microsoft/applicationinsights-shims\";\r\n/**\r\n* AppInsightsCore.ts\r\n* @author Abhilash Panwar (abpanwar) Hector Hernandez (hectorh)\r\n* @copyright Microsoft 2018\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { AppInsightsCore as InternalCore, DiagnosticLogger, _throwInternal, arrForEach, doPerf, dumpObj, throwError } from \"@microsoft/applicationinsights-core-js\";\r\nimport { STR_DEFAULT_ENDPOINT_URL, STR_EMPTY, STR_PROPERTIES, STR_VERSION } from \"./InternalConstants\";\r\nimport { FullVersionString, getTime, isLatency } from \"./Utils\";\r\nvar AppInsightsCore = /** @class */ (function (_super) {\r\n    __extends(AppInsightsCore, _super);\r\n    function AppInsightsCore() {\r\n        var _this = _super.call(this) || this;\r\n        _this.pluginVersionStringArr = [];\r\n        dynamicProto(AppInsightsCore, _this, function (_self, _base) {\r\n            if (!_self.logger || !_self.logger.queue) {\r\n                // The AI Base can inject a No-Op logger so if not defined or the No-Op, change to use a default logger so initialization errors\r\n                // are not dropped on the floor if one is not already defined\r\n                _self.logger = new DiagnosticLogger({ loggingLevelConsole: 1 /* eLoggingSeverity.CRITICAL */ });\r\n            }\r\n            _self.initialize = function (config, extensions, logger, notificationManager) {\r\n                doPerf(_self, function () { return \"AppInsightsCore.initialize\"; }, function () {\r\n                    var _pluginVersionStringArr = _self.pluginVersionStringArr;\r\n                    // Add default collector url\r\n                    if (config) {\r\n                        if (!config.endpointUrl) {\r\n                            config.endpointUrl = STR_DEFAULT_ENDPOINT_URL;\r\n                        }\r\n                        var propertyStorageOverride = config.propertyStorageOverride;\r\n                        // Validate property storage override\r\n                        if (propertyStorageOverride && (!propertyStorageOverride.getProperty || !propertyStorageOverride.setProperty)) {\r\n                            throwError(\"Invalid property storage override passed.\");\r\n                        }\r\n                        if (config.channels) {\r\n                            arrForEach(config.channels, function (channels) {\r\n                                if (channels) {\r\n                                    arrForEach(channels, function (channel) {\r\n                                        if (channel.identifier && channel.version) {\r\n                                            var ver = channel.identifier + \"=\" + channel.version;\r\n                                            _pluginVersionStringArr.push(ver);\r\n                                        }\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                    _self.getWParam = function () {\r\n                        return (typeof document !== \"undefined\" || !!config.enableWParam) ? 0 : -1;\r\n                    };\r\n                    if (extensions) {\r\n                        arrForEach(extensions, function (ext) {\r\n                            if (ext && ext.identifier && ext.version) {\r\n                                var ver = ext.identifier + \"=\" + ext.version;\r\n                                _pluginVersionStringArr.push(ver);\r\n                            }\r\n                        });\r\n                    }\r\n                    _self.pluginVersionString = _pluginVersionStringArr.join(\";\");\r\n                    _self.pluginVersionStringArr = _pluginVersionStringArr;\r\n                    try {\r\n                        _base.initialize(config, extensions, logger, notificationManager);\r\n                        _self.pollInternalLogs(\"InternalLog\");\r\n                    }\r\n                    catch (e) {\r\n                        var logger_1 = _self.logger;\r\n                        var message = dumpObj(e);\r\n                        if (message.indexOf(\"channels\") !== -1) {\r\n                            // Add some additional context to the underlying reported error\r\n                            message += \"\\n - Channels must be provided through config.channels only!\";\r\n                        }\r\n                        _throwInternal(logger_1, 1 /* eLoggingSeverity.CRITICAL */, 514 /* _eExtendedInternalMessageId.FailedToInitializeSDK */, \"SDK Initialization Failed - no telemetry will be sent: \" + message);\r\n                    }\r\n                }, function () { return ({ config: config, extensions: extensions, logger: logger, notificationManager: notificationManager }); });\r\n            };\r\n            _self.track = function (item) {\r\n                doPerf(_self, function () { return \"AppInsightsCore.track\"; }, function () {\r\n                    var telemetryItem = item;\r\n                    if (telemetryItem) {\r\n                        telemetryItem.timings = telemetryItem.timings || {};\r\n                        telemetryItem.timings.trackStart = getTime();\r\n                        if (!isLatency(telemetryItem.latency)) {\r\n                            telemetryItem.latency = 1 /* EventLatencyValue.Normal */;\r\n                        }\r\n                        var itemExt = telemetryItem.ext = telemetryItem.ext || {};\r\n                        itemExt.sdk = itemExt.sdk || {};\r\n                        itemExt.sdk.ver = FullVersionString;\r\n                        var baseData = telemetryItem.baseData = telemetryItem.baseData || {};\r\n                        baseData[STR_PROPERTIES] = baseData[STR_PROPERTIES] || {};\r\n                        var itemProperties = baseData[STR_PROPERTIES];\r\n                        itemProperties[STR_VERSION] = itemProperties[STR_VERSION] || _self.pluginVersionString || STR_EMPTY;\r\n                    }\r\n                    _base.track(telemetryItem);\r\n                }, function () { return ({ item: item }); }, !(item.sync));\r\n            };\r\n        });\r\n        return _this;\r\n    }\r\n// Removed Stub for AppInsightsCore.prototype.initialize.\r\n// Removed Stub for AppInsightsCore.prototype.track.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    AppInsightsCore.__ieDyn=1;\n\n    return AppInsightsCore;\r\n}(InternalCore));\r\nexport default AppInsightsCore;\r\n//# sourceMappingURL=AppInsightsCore.js.map", "/*\n * 1DS JS SDK Core, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nimport { __extendsFn as __extends } from \"@microsoft/applicationinsights-shims\";\r\n/**\r\n* BaseCore.ts\r\n* Base Core is a subset of 1DS Web SDK Core. The purpose of Base Core is to generate a smaller bundle size while providing essential features of Core. Features that are not included in Base Core are:\r\n* 1. Internal logging\r\n* 2. Sending notifications on telemetry sent/discarded\r\n* @author Abhilash Panwar (abpanwar) Hector Hernandez (hectorh)\r\n* @copyright Microsoft 2018\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { BaseCore as InternalCore, _throwInternal, dumpObj } from \"@microsoft/applicationinsights-core-js\";\r\nimport { STR_DEFAULT_ENDPOINT_URL } from \"./InternalConstants\";\r\nimport { FullVersionString, isDocumentObjectAvailable } from \"./Utils\";\r\nvar BaseCore = /** @class */ (function (_super) {\r\n    __extends(BaseCore, _super);\r\n    function BaseCore() {\r\n        var _this = _super.call(this) || this;\r\n        dynamicProto(BaseCore, _this, function (_self, _base) {\r\n            _self.initialize = function (config, extensions, logger, notificationManager) {\r\n                if (config && !config.endpointUrl) {\r\n                    config.endpointUrl = STR_DEFAULT_ENDPOINT_URL;\r\n                }\r\n                _self.getWParam = function () {\r\n                    return (isDocumentObjectAvailable || !!config.enableWParam) ? 0 : -1;\r\n                };\r\n                try {\r\n                    _base.initialize(config, extensions, logger, notificationManager);\r\n                }\r\n                catch (e) {\r\n                    _throwInternal(_self.logger, 1 /* eLoggingSeverity.CRITICAL */, 514 /* _eExtendedInternalMessageId.FailedToInitializeSDK */, \"Initialization Failed: \" + dumpObj(e) + \"\\n - Note: Channels must be provided through config.channels only\");\r\n                }\r\n            };\r\n            _self.track = function (item) {\r\n                var telemetryItem = item;\r\n                if (telemetryItem) {\r\n                    var ext = telemetryItem.ext = telemetryItem.ext || {};\r\n                    ext.sdk = ext.sdk || {};\r\n                    ext.sdk.ver = FullVersionString;\r\n                }\r\n                _base.track(telemetryItem);\r\n            };\r\n        });\r\n        return _this;\r\n    }\r\n// Removed Stub for BaseCore.prototype.initialize.\r\n// Removed Stub for BaseCore.prototype.track.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    BaseCore.__ieDyn=1;\n\n    return BaseCore;\r\n}(InternalCore));\r\nexport default BaseCore;\r\n//# sourceMappingURL=BaseCore.js.map", "/*\n * 1DS JS SDK Core, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* ESPromise.ts\r\n* @author  Nev Wylie (newylie))\r\n* @copyright Microsoft 2019\r\n* Simplified wrapper to provide ES6 style Promise callback handling for older browsers\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { isFunction } from \"@microsoft/applicationinsights-core-js\";\r\n/**\r\n * @ignore -- Don't include in the generated documentation\r\n * Using a local variable to assist with minfication\r\n */\r\nvar _isFunction = isFunction;\r\n/**\r\n * @ignore -- Don't include in the generated documentation\r\n * This function will be used as onFulfilled handler for any Promise found in the iterable passed to Promise.all.\r\n * The goal here is to capture in a closure the index of the current item from the iterable. If we did not create\r\n * this closure, the captured index variable would be the same one that the for loop updates and thus would always\r\n * be pointing to the last index in the iterable by the time that the onFulfilled handler is called.\r\n * However, note that for the resolvedCallback callback we want the opposite. For this one we do want to capture\r\n * the same variable that the for loop updates so that we have the full count of pending promises by the time\r\n * the onFulfilled handlers start getting called.\r\n * @param values The resolving promise values\r\n * @param index The index of this callback function\r\n * @param resolvedCallback THe callback function used to check if the \"all\" promise is complete\r\n */\r\nfunction _createPromiseAllOnResolvedFunction(values, index, resolvedCallback) {\r\n    return function (value) {\r\n        values[index] = value;\r\n        resolvedCallback();\r\n    };\r\n}\r\n/**\r\n * Simplified wrapper to provide ES6 style Promise callback handling for older browsers\r\n */\r\nvar ESPromise = /** @class */ (function () {\r\n    /**\r\n     * The Promise object represents the eventual completion (or failure) of an asynchronous operation, and its resulting value.\r\n     * @param resolverFunc A function that is passed with the arguments resolve and reject. The executor function is executed\r\n     * immediately by the Promise implementation, passing resolve and reject functions (the executor is called before the Promise\r\n     * constructor even returns the created object). The resolve and reject functions, when called, resolve or reject the promise,\r\n     * respectively. The executor normally initiates some asynchronous work, and then, once that completes, either calls the resolve\r\n     * function to resolve the promise or else rejects it if an error occurred. If an error is thrown in the executor function, the\r\n     * promise is rejected. The return value of the executor is ignored.\r\n     */\r\n    function ESPromise(resolverFunc) {\r\n        var _state = 0 /* PromiseState.Pending */;\r\n        var _settledValue = null;\r\n        var _queue = [];\r\n        dynamicProto(ESPromise, this, function (_this) {\r\n            _this.then = function (onResolved, onRejected) {\r\n                return new ESPromise(function (resolve, reject) {\r\n                    // Queue the new promise returned to be resolved or rejected\r\n                    // when this promise settles.\r\n                    _enqueue(onResolved, onRejected, resolve, reject);\r\n                });\r\n            };\r\n            _this[\"catch\"] = function (onRejected) {\r\n                return _this.then(null, onRejected);\r\n            };\r\n        });\r\n        function _enqueue(onResolved, onRejected, resolve, reject) {\r\n            _queue.push(function () {\r\n                var value;\r\n                try {\r\n                    // First call the onFulfilled or onRejected handler, on the settled value\r\n                    // of this promise. If the corresponding handler does not exist, simply\r\n                    // pass through the settled value.\r\n                    if (_state === 1 /* PromiseState.Resolved */) {\r\n                        value = _isFunction(onResolved) ? onResolved(_settledValue) : _settledValue;\r\n                    }\r\n                    else {\r\n                        value = _isFunction(onRejected) ? onRejected(_settledValue) : _settledValue;\r\n                    }\r\n                    if (value instanceof ESPromise) {\r\n                        // The called handlers returned a new promise, so the chained promise\r\n                        // will follow the state of this promise.\r\n                        value.then(resolve, reject);\r\n                    }\r\n                    else if (_state === 2 /* PromiseState.Rejected */ && !_isFunction(onRejected)) {\r\n                        // If there wasn't an onRejected handler and this promise is rejected, then\r\n                        // the chained promise also rejects with the same reason.\r\n                        reject(value);\r\n                    }\r\n                    else {\r\n                        // If this promise is fulfilled, then the chained promise is also fulfilled\r\n                        // with either the settled value of this promise (if no onFulfilled handler\r\n                        // was available) or the return value of the handler. If this promise is\r\n                        // rejected and there was an onRejected handler, then the chained promise is\r\n                        // fulfilled with the return value of the handler.\r\n                        resolve(value);\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    // The chained promise will reject if there is any exception thrown while\r\n                    // calling the onFulfilled or onRejected handlers.\r\n                    reject(error);\r\n                    return;\r\n                }\r\n            });\r\n            // If this promise is already settled, then immediately process the callback we\r\n            // just added to the queue.\r\n            if (_state !== 0 /* PromiseState.Pending */) {\r\n                _processQueue();\r\n            }\r\n        }\r\n        function _processQueue() {\r\n            if (_queue.length > 0) {\r\n                // The onFulfilled and onRejected handlers must be called asynchronously. Thus,\r\n                // we make a copy of the queue and work on it once the current call stack unwinds.\r\n                var pending_1 = _queue.slice();\r\n                _queue = [];\r\n                setTimeout(function () {\r\n                    for (var i = 0, len = pending_1.length; i < len; ++i) {\r\n                        try {\r\n                            pending_1[i]();\r\n                        }\r\n                        catch (e) {\r\n                            // Don't let 1 failing handler break all others\r\n                            // TODO (newylie): Add some form of error reporting (i.e. Call any registered JS error handler so the error is reported)\r\n                        }\r\n                    }\r\n                }, 0);\r\n            }\r\n        }\r\n        function _resolve(value) {\r\n            if (_state === 0 /* PromiseState.Pending */) {\r\n                _settledValue = value;\r\n                _state = 1 /* PromiseState.Resolved */;\r\n                _processQueue();\r\n            }\r\n        }\r\n        function _reject(reason) {\r\n            if (_state === 0 /* PromiseState.Pending */) {\r\n                _settledValue = reason;\r\n                _state = 2 /* PromiseState.Rejected */;\r\n                _processQueue();\r\n            }\r\n        }\r\n        (function _initialize() {\r\n            if (!_isFunction(resolverFunc)) {\r\n                throw new TypeError(\"ESPromise: resolvedFunc argument is not a Function\");\r\n            }\r\n            try {\r\n                resolverFunc(_resolve, _reject);\r\n            }\r\n            catch (error) {\r\n                // This promise will immediately reject if any exception is thrown\r\n                // from within the executor function.\r\n                _reject(error);\r\n            }\r\n        })();\r\n    }\r\n    /**\r\n     * The Promise.resolve() method returns a Promise object that is resolved with a given value. If the value is a promise, that promise is returned;\r\n     * if the value is a thenable (i.e. has a \"then\" method), the returned promise will \"follow\" that thenable, adopting its eventual state; otherwise\r\n     * the returned promise will be fulfilled with the value. This function flattens nested layers of promise-like objects (e.g. a promise that resolves\r\n     * to a promise that resolves to something) into a single layer.\r\n     * @param value Argument to be resolved by this Promise. Can also be a Promise or a thenable to resolve.\r\n     */\r\n    ESPromise.resolve = function (value) {\r\n        if (value instanceof ESPromise) {\r\n            // Value is a Promise so just return it\r\n            return value;\r\n        }\r\n        else if (value && _isFunction(value.then)) {\r\n            // Value looks like a promise or thenable (has a then function)\r\n            return new ESPromise(function (resolve, reject) {\r\n                try {\r\n                    value.then(resolve, reject);\r\n                }\r\n                catch (error) {\r\n                    reject(error);\r\n                }\r\n            });\r\n        }\r\n        return new ESPromise(function (resolve) {\r\n            resolve(value);\r\n        });\r\n    };\r\n    /**\r\n     * The Promise.reject() method returns a Promise object that is rejected with a given reason.\r\n     * @param reason The reason why this Promise rejected.\r\n     */\r\n    ESPromise.reject = function (reason) {\r\n        return new ESPromise(function (resolve, reject) {\r\n            reject(reason);\r\n        });\r\n    };\r\n    /**\r\n     * The Promise.all() method returns a single Promise that resolves when all of the promises passed as an iterable\r\n     * have resolved or when the iterable contains no promises. It rejects with the reason of the first promise that\r\n     * rejects. There is no implied ordering in the execution of the array of Promises given. On some computers, they\r\n     * may be executed in parallel, or in some sense concurrently, while on others they may be executed serially. For\r\n     * this reason, there must be no dependency in any Promise on the order of execution of the Promises.\r\n     * This method can be useful for aggregating the results of multiple promises.\r\n     * FulfillmentSection - The returned promise is fulfilled with an array containing all the values of the iterable\r\n     * passed as argument (also non-promise values).\r\n     * If an empty iterable is passed, then this method returns (synchronously) an already resolved promise.\r\n     * If all of the passed-in promises fulfill, or are not promises, the promise returned by Promise.all is fulfilled\r\n     * asynchronously.\r\n     * RejectionSection - If any of the passed-in promises reject, Promise.all asynchronously rejects with the value of\r\n     * the promise that rejected, whether or not the other promises have resolved.\r\n     * @param iterable\r\n     */\r\n    ESPromise.all = function (iterable) {\r\n        if (!iterable || !iterable.length) {\r\n            return;\r\n        }\r\n        return new ESPromise(function (resolve, reject) {\r\n            try {\r\n                var values_1 = [];\r\n                var pending_2 = 0;\r\n                for (var lp = 0; lp < iterable.length; lp++) {\r\n                    var item = iterable[lp];\r\n                    // Quick and direct check for a Promise (will also catch a thenable)\r\n                    if (item && _isFunction(item.then)) {\r\n                        pending_2++;\r\n                        item.then(_createPromiseAllOnResolvedFunction(values_1, lp, function () {\r\n                            if (--pending_2 === 0) {\r\n                                resolve(values_1);\r\n                            }\r\n                        }), reject);\r\n                    }\r\n                    else {\r\n                        values_1[lp] = item;\r\n                    }\r\n                }\r\n                if (pending_2 === 0) {\r\n                    // All promises were either resolved or where not a promise\r\n                    setTimeout(function () {\r\n                        resolve(values_1);\r\n                    }, 0);\r\n                }\r\n            }\r\n            catch (error) {\r\n                reject(error);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * The race function returns a Promise that is settled the same way (and takes the same value) as the first promise\r\n     * that settles amongst the promises of the iterable passed as an argument.\r\n     * If the iterable passed is empty, the promise returned will be forever pending.\r\n     * If the iterable contains one or more non-promise value and/or an already settled promise, then Promise.race will\r\n     * resolve to the first of these values found in the iterable.\r\n     * @param iterable\r\n     */\r\n    ESPromise.race = function (iterable) {\r\n        return new ESPromise(function (resolve, reject) {\r\n            if (!iterable || !iterable.length) {\r\n                return;\r\n            }\r\n            try {\r\n                var _loop_1 = function (lp) {\r\n                    var item = iterable[lp];\r\n                    // Quick and direct check for a Promise (will also catch a thenable)\r\n                    if (item && _isFunction(item.then)) {\r\n                        item.then(resolve, reject);\r\n                    }\r\n                    else {\r\n                        setTimeout(function () {\r\n                            resolve(item);\r\n                        }, 0);\r\n                    }\r\n                };\r\n                for (var lp = 0; lp < iterable.length; lp++) {\r\n                    _loop_1(lp);\r\n                }\r\n            }\r\n            catch (error) {\r\n                reject(error);\r\n            }\r\n        });\r\n    };\r\n// Removed Stub for ESPromise.prototype.then.\r\n// Removed Stub for ESPromise.prototype[\"catch\"].\r\n    return ESPromise;\r\n}());\r\nexport default ESPromise;\r\n//# sourceMappingURL=ESPromise.js.map", "/*\n * 1DS JS SDK Core, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* ESPromiseScheduler.ts\r\n* @author Nev Wylie (newylie)\r\n* @copyright Microsoft 2019\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport ESPromise from \"./ESPromise\";\r\nimport { _warnToConsole, getGlobal } from \"@microsoft/applicationinsights-core-js\";\r\n/** This is a default timeout that will cause outstanding running promises to be removed/rejected to avoid filling up memory with blocked events */\r\nvar LazyRejectPeriod = 600000; // 10 Minutes\r\n// These are global variables that are shared across ALL instances of the scheduler\r\n/**\r\n * @ignore\r\n */\r\nvar _schedulerId = 0;\r\n/**\r\n * @ignore\r\n */\r\nvar _running = [];\r\n/**\r\n * @ignore\r\n */\r\nvar _waiting = [];\r\n/**\r\n * @ignore\r\n */\r\nvar _timedOut = [];\r\n/**\r\n * @ignore\r\n */\r\nfunction _getTime() {\r\n    return new Date().getTime();\r\n}\r\n/**\r\n * Provides a simple mechanism queueing mechanism for scheduling events based on the ESPromise callbacks, this is used to ensure\r\n * order of async operations that are required to be executed in a specific order.\r\n */\r\nvar ESPromiseScheduler = /** @class */ (function () {\r\n    function ESPromiseScheduler(name, diagLog) {\r\n        var _promiseId = 0;\r\n        var _scheduledName = (name || \"<unnamed>\") + \".\" + _schedulerId;\r\n        _schedulerId++;\r\n        dynamicProto(ESPromiseScheduler, this, function (_this) {\r\n            var _lastEvent = null;\r\n            var _eventCount = 0;\r\n            _this.scheduleEvent = function (startEventAction, eventName, timeout) {\r\n                var uniqueId = _scheduledName + \".\" + _eventCount;\r\n                _eventCount++;\r\n                if (eventName) {\r\n                    uniqueId += \"-(\" + eventName + \")\";\r\n                }\r\n                var uniqueEventId = uniqueId + \"{\" + _promiseId + \"}\";\r\n                _promiseId++;\r\n                // Create the next scheduled event details\r\n                var newScheduledEvent = {\r\n                    evt: null,\r\n                    tm: _getTime(),\r\n                    id: uniqueEventId,\r\n                    isRunning: false,\r\n                    isAborted: false\r\n                };\r\n                if (!_lastEvent) {\r\n                    // We don't have any currently running event, so just start the next event\r\n                    newScheduledEvent.evt = _startWaitingEvent(newScheduledEvent);\r\n                }\r\n                else {\r\n                    // Start a new promise which will wait until all current active events are complete before starting\r\n                    // the new event, it does not resolve this scheduled event until after the new event is resolve to\r\n                    // ensure that all scheduled events are completed in the correct order\r\n                    newScheduledEvent.evt = _waitForPreviousEvent(newScheduledEvent, _lastEvent);\r\n                }\r\n                // Set this new event as the last one, so that any future events will wait for this one\r\n                _lastEvent = newScheduledEvent;\r\n                _lastEvent.evt._schId = uniqueEventId;\r\n                return newScheduledEvent.evt;\r\n                function _abortAndRemoveOldEvents(eventQueue) {\r\n                    var now = _getTime();\r\n                    var expired = now - LazyRejectPeriod;\r\n                    var len = eventQueue.length;\r\n                    var lp = 0;\r\n                    while (lp < len) {\r\n                        var evt = eventQueue[lp];\r\n                        if (evt && evt.tm < expired) {\r\n                            var message = null;\r\n                            if (evt.abort) {\r\n                                message = \"Aborting [\" + evt.id + \"] due to Excessive runtime (\" + (now - evt.tm) + \" ms)\";\r\n                                evt.abort(message);\r\n                            }\r\n                            else {\r\n                                message = \"Removing [\" + evt.id + \"] due to Excessive runtime (\" + (now - evt.tm) + \" ms)\";\r\n                            }\r\n                            _warnLog(message);\r\n                            eventQueue.splice(lp, 1);\r\n                            len--;\r\n                        }\r\n                        else {\r\n                            lp++;\r\n                        }\r\n                    }\r\n                }\r\n                function _cleanup(eventId, completed) {\r\n                    var toQueue = false;\r\n                    var removed = _removeQueuedEvent(_running, eventId);\r\n                    if (!removed) {\r\n                        removed = _removeQueuedEvent(_timedOut, eventId);\r\n                        toQueue = true;\r\n                    }\r\n                    if (removed) {\r\n                        if (removed.to) {\r\n                            // If there was a timeout stop it\r\n                            clearTimeout(removed.to);\r\n                            removed.to = null;\r\n                        }\r\n                        // TODO (newylie): Convert this into reportable metrics\r\n                        var tm = _getTime() - removed.tm;\r\n                        if (completed) {\r\n                            if (!toQueue) {\r\n                                _debugLog(\"Promise [\" + eventId + \"] Complete -- \" + tm + \" ms\");\r\n                            }\r\n                            else {\r\n                                _warnLog(\"Timed out event [\" + eventId + \"] finally complete -- \" + tm + \" ms\");\r\n                            }\r\n                        }\r\n                        else {\r\n                            _timedOut.push(removed);\r\n                            _warnLog(\"Event [\" + eventId + \"] Timed out and removed -- \" + tm + \" ms\");\r\n                        }\r\n                    }\r\n                    else {\r\n                        _debugLog(\"Failed to remove [\" + eventId + \"] from running queue\");\r\n                    }\r\n                    // Also if the last scheduled event was this event then clear it as we are now finished\r\n                    if (_lastEvent && _lastEvent.id === eventId) {\r\n                        _lastEvent = null;\r\n                    }\r\n                    _abortAndRemoveOldEvents(_running);\r\n                    _abortAndRemoveOldEvents(_waiting);\r\n                    _abortAndRemoveOldEvents(_timedOut);\r\n                }\r\n                // Return a callback function that will be called when the waiting promise is resolved or rejected to ensure\r\n                // that any outer promise is also resolved or rejected\r\n                function _removeScheduledEvent(eventId, callback) {\r\n                    return function (value) {\r\n                        _cleanup(eventId, true);\r\n                        callback && callback(value);\r\n                        return value;\r\n                    };\r\n                }\r\n                function _waitForFinalResult(eventId, startResult, schEventResolve, schEventReject) {\r\n                    startResult.then(function (value) {\r\n                        if (value instanceof ESPromise) {\r\n                            // If the result is a promise then this appears to be a chained result, so wait for this promise to complete\r\n                            _debugLog(\"Event [\" + eventId + \"] returned a promise -- waiting\");\r\n                            _waitForFinalResult(eventId, value, schEventResolve, schEventReject);\r\n                            return value;\r\n                        }\r\n                        else {\r\n                            return _removeScheduledEvent(eventId, schEventResolve)(value);\r\n                        }\r\n                    }, _removeScheduledEvent(eventId, schEventReject));\r\n                }\r\n                // Add the passed event to the active event list with resolve and reject callbacks that will remove\r\n                // it from the active event list\r\n                function _createScheduledEvent(eventDetails, startEvent) {\r\n                    var eventId = eventDetails.id;\r\n                    return new ESPromise(function (schEventResolve, schEventReject) {\r\n                        _debugLog(\"Event [\" + eventId + \"] Starting -- waited for \" + (eventDetails.wTm || \"--\") + \" ms\");\r\n                        eventDetails.isRunning = true;\r\n                        eventDetails.abort = function (message) {\r\n                            eventDetails.abort = null;\r\n                            eventDetails.isAborted = true;\r\n                            _cleanup(eventId, false);\r\n                            schEventReject(new Error(message));\r\n                        };\r\n                        var startResult = startEvent(eventId);\r\n                        if (startResult instanceof ESPromise) {\r\n                            if (timeout) {\r\n                                // Note: Only starting a timer if a timeout was specified\r\n                                eventDetails.to = setTimeout(function () {\r\n                                    _cleanup(eventId, false);\r\n                                    // Cause the listeners to reject (Note: We can't actually reject the waiting event)\r\n                                    schEventReject(new Error(\"Timed out after [\" + timeout + \"] ms\"));\r\n                                }, timeout);\r\n                            }\r\n                            _waitForFinalResult(eventId, startResult, function (theResult) {\r\n                                _debugLog(\"Event [\" + eventId + \"] Resolving after \" + (_getTime() - eventDetails.tm) + \" ms\");\r\n                                schEventResolve(theResult);\r\n                            }, schEventReject);\r\n                        }\r\n                        else {\r\n                            // The startEvent didn't return a promise so just return a resolved promise\r\n                            _debugLog(\"Promise [\" + eventId + \"] Auto completed as the start action did not return a promise\");\r\n                            schEventResolve();\r\n                        }\r\n                    });\r\n                }\r\n                function _startWaitingEvent(eventDetails) {\r\n                    var now = _getTime();\r\n                    eventDetails.wTm = now - eventDetails.tm;\r\n                    eventDetails.tm = now;\r\n                    if (eventDetails.isAborted) {\r\n                        return ESPromise.reject(new Error(\"[\" + uniqueId + \"] was aborted\"));\r\n                    }\r\n                    _running.push(eventDetails);\r\n                    return _createScheduledEvent(eventDetails, startEventAction);\r\n                }\r\n                // Start a new promise which will wait until all current active events are complete before starting\r\n                // the new event, it does not resolve this scheduled event until after the new event is resolve to\r\n                // ensure that all scheduled events are completed in the correct order\r\n                function _waitForPreviousEvent(eventDetails, waitForEvent) {\r\n                    var waitEvent = new ESPromise(function (waitResolve, waitReject) {\r\n                        var runTime = _getTime() - waitForEvent.tm;\r\n                        var prevId = waitForEvent.id;\r\n                        _debugLog(\"[\" + uniqueId + \"] is waiting for [\" + prevId + \":\" + runTime + \" ms] to complete before starting -- [\" + _waiting.length + \"] waiting and [\" + _running.length + \"] running\");\r\n                        eventDetails.abort = function (message) {\r\n                            eventDetails.abort = null;\r\n                            _removeQueuedEvent(_waiting, uniqueId);\r\n                            eventDetails.isAborted = true;\r\n                            waitReject(new Error(message));\r\n                        };\r\n                        // Wait for the previous event to complete\r\n                        waitForEvent.evt.then(function (value) {\r\n                            _removeQueuedEvent(_waiting, uniqueId);\r\n                            // Wait for the last event to complete before starting the new one, this ensures the execution\r\n                            // order so that we don't try and remove events that havn't been committed yet\r\n                            _startWaitingEvent(eventDetails).then(waitResolve, waitReject);\r\n                        }, function (reason) {\r\n                            _removeQueuedEvent(_waiting, uniqueId);\r\n                            // Wait for the last event to complete before starting the new one, this ensures the execution\r\n                            // order so that we don't try and remove events that havn't been committed yet\r\n                            _startWaitingEvent(eventDetails).then(waitResolve, waitReject);\r\n                        });\r\n                    });\r\n                    _waiting.push(eventDetails);\r\n                    return waitEvent;\r\n                }\r\n            };\r\n            function _removeQueuedEvent(queue, eventId) {\r\n                for (var lp = 0; lp < queue.length; lp++) {\r\n                    if (queue[lp].id === eventId) {\r\n                        return queue.splice(lp, 1)[0];\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n        });\r\n        function _debugLog(message) {\r\n            // Only log if running within test harness\r\n            var global = getGlobal();\r\n            if (global && global[\"QUnit\"]) {\r\n                // tslint:disable-next-line:no-console\r\n                console && console.log(\"ESPromiseScheduler[\" + _scheduledName + \"] \" + message);\r\n            }\r\n        }\r\n        function _warnLog(message) {\r\n            _warnToConsole(diagLog, \"ESPromiseScheduler[\" + _scheduledName + \"] \" + message);\r\n        }\r\n    }\r\n    ESPromiseScheduler.incomplete = function () {\r\n        return _running;\r\n    };\r\n    ESPromiseScheduler.waitingToStart = function () {\r\n        return _waiting;\r\n    };\r\n// Removed Stub for ESPromiseScheduler.prototype.scheduleEvent.\r\n    return ESPromiseScheduler;\r\n}());\r\nexport default ESPromiseScheduler;\r\n//# sourceMappingURL=ESPromiseScheduler.js.map", "/*\n * 1DS JS SDK Core, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nimport { isNullOrUndefined, isString, objForEachKey } from \"@microsoft/applicationinsights-core-js\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nimport { getFieldValueType, isValueAssigned, isValueKind } from \"./Utils\";\r\nvar ValueSanitizer = /** @class */ (function () {\r\n    function ValueSanitizer(fieldSanitizerProvider) {\r\n        var _self = this;\r\n        // To aid with performance this is a lookup map to check if the field value sanitizer supports this field\r\n        var _sanitizerMap = {};\r\n        var _sanitizers = [];\r\n        var _fieldSanitizers = [];\r\n        if (fieldSanitizerProvider) {\r\n            _fieldSanitizers.push(fieldSanitizerProvider);\r\n        }\r\n        function _getFieldSanitizer(path, name) {\r\n            var result;\r\n            var fieldLookup = _sanitizerMap[path];\r\n            if (fieldLookup) {\r\n                result = fieldLookup[name];\r\n            }\r\n            if (!result && result !== null) {\r\n                // Null is a valid result indicating that the value sanitizer does not support this field\r\n                if (isString(path) && isString(name)) {\r\n                    if (_fieldSanitizers.length > 0) {\r\n                        for (var lp = 0; lp < _fieldSanitizers.length; lp++) {\r\n                            if (_fieldSanitizers[lp].handleField(path, name)) {\r\n                                result = {\r\n                                    canHandle: true,\r\n                                    fieldHandler: _fieldSanitizers[lp]\r\n                                };\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (_sanitizers.length === 0) {\r\n                        // Special use-case where there is no sanitizer to pass on to, so just resolving the field\r\n                        // and returning the resulting value (same as sanitizeProperty())\r\n                        result = {\r\n                            canHandle: true\r\n                        };\r\n                    }\r\n                }\r\n                // We still don't have a handler so lets lookup the providers\r\n                if (!result && result !== null) {\r\n                    // Setting the result to null -- which means we and any contained sanitizers can't handle this field\r\n                    result = null;\r\n                    for (var lp = 0; lp < _sanitizers.length; lp++) {\r\n                        if (_sanitizers[lp].handleField(path, name)) {\r\n                            result = {\r\n                                canHandle: true,\r\n                                handler: _sanitizers[lp],\r\n                                fieldHandler: null\r\n                            };\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (!fieldLookup) {\r\n                    fieldLookup = _sanitizerMap[path] = {};\r\n                }\r\n                fieldLookup[name] = result;\r\n            }\r\n            return result;\r\n        }\r\n        _self.addSanitizer = function (newSanitizer) {\r\n            if (newSanitizer) {\r\n                _sanitizers.push(newSanitizer);\r\n                // Invalidate any previously mapped fields\r\n                _sanitizerMap = {};\r\n            }\r\n        };\r\n        _self.addFieldSanitizer = function (fieldSanitizer) {\r\n            if (fieldSanitizer) {\r\n                _fieldSanitizers.push(fieldSanitizer);\r\n                // Invalidate any previously mapped fields\r\n                _sanitizerMap = {};\r\n            }\r\n        };\r\n        _self.handleField = function (path, name) {\r\n            var mapValue = _getFieldSanitizer(path, name);\r\n            return mapValue ? mapValue.canHandle : false;\r\n        };\r\n        _self.value = function (path, name, value, stringifyObjects) {\r\n            var mapValue = _getFieldSanitizer(path, name);\r\n            if (mapValue && mapValue.canHandle) {\r\n                if (!mapValue || !mapValue.canHandle) {\r\n                    return null;\r\n                }\r\n                if (mapValue.handler) {\r\n                    // This value sanitizer can't handle this field so pass it only the next one\r\n                    return mapValue.handler.value(path, name, value, stringifyObjects);\r\n                }\r\n                // Check that property is valid\r\n                if (!isString(name) || isNullOrUndefined(value) || value === STR_EMPTY) {\r\n                    return null;\r\n                }\r\n                var property = null;\r\n                var fieldType = getFieldValueType(value);\r\n                if ((fieldType & 8192 /* FieldValueSanitizerType.EventProperty */) === 8192 /* FieldValueSanitizerType.EventProperty */) {\r\n                    var subType = fieldType & ~8192 /* FieldValueSanitizerType.EventProperty */;\r\n                    property = value;\r\n                    if (!isValueAssigned(property.value) ||\r\n                        (subType !== 1 /* FieldValueSanitizerType.String */ &&\r\n                            subType !== 2 /* FieldValueSanitizerType.Number */ &&\r\n                            subType !== 3 /* FieldValueSanitizerType.Boolean */ &&\r\n                            (subType & 4096 /* FieldValueSanitizerType.Array */) !== 4096 /* FieldValueSanitizerType.Array */)) {\r\n                        // Not a supported IEventProperty type to be able to sanitize\r\n                        return null;\r\n                    }\r\n                }\r\n                else if (fieldType === 1 /* FieldValueSanitizerType.String */ ||\r\n                    fieldType === 2 /* FieldValueSanitizerType.Number */ ||\r\n                    fieldType === 3 /* FieldValueSanitizerType.Boolean */ ||\r\n                    (fieldType & 4096 /* FieldValueSanitizerType.Array */) === 4096 /* FieldValueSanitizerType.Array */) {\r\n                    // If the property isn't IEventProperty (and is either string, number, boolean or array), convert it into one.\r\n                    property = _convertToProperty(path, name, value);\r\n                }\r\n                else if (fieldType === 4 /* FieldValueSanitizerType.Object */) {\r\n                    property = _convertToProperty(path, name, !!stringifyObjects ? JSON.stringify(value) : value);\r\n                }\r\n                if (property) {\r\n                    return _handleProperty(mapValue, path, name, fieldType, property, stringifyObjects);\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n        _self.property = function (path, name, property, stringifyObjects) {\r\n            var mapValue = _getFieldSanitizer(path, name);\r\n            if (!mapValue || !mapValue.canHandle) {\r\n                return null;\r\n            }\r\n            // Check that property is valid\r\n            if (!isString(name) || isNullOrUndefined(property) || !isValueAssigned(property.value)) {\r\n                return null;\r\n            }\r\n            var fieldType = getFieldValueType(property.value);\r\n            if (fieldType === 0 /* FieldValueSanitizerType.NotSet */) {\r\n                // Not a supported field that we can sanitize or serialize\r\n                return null;\r\n            }\r\n            return _handleProperty(mapValue, path, name, fieldType, property, stringifyObjects);\r\n        };\r\n        function _handleProperty(mapValue, path, name, fieldType, property, stringifyObjects) {\r\n            if (mapValue.handler) {\r\n                // This value sanitizer can't handle this field so pass it only the next one\r\n                return mapValue.handler.property(path, name, property, stringifyObjects);\r\n            }\r\n            // If either pii or cc is set convert value to string (since only string pii/cc is allowed).\r\n            // If the value is a complex type like an array that can't be converted to string we will drop\r\n            // the property.\r\n            if (!isNullOrUndefined(property.kind)) {\r\n                if ((fieldType & 4096 /* FieldValueSanitizerType.Array */) === 4096 /* FieldValueSanitizerType.Array */ || !isValueKind(property.kind)) {\r\n                    return null;\r\n                }\r\n                // Convert the value to a string and assign back to the original value\r\n                property.value = property.value.toString();\r\n            }\r\n            return _callFieldSanitizer(mapValue.fieldHandler, path, name, fieldType, property);\r\n        }\r\n        function _convertToProperty(path, name, value) {\r\n            if (isValueAssigned(value)) {\r\n                return { value: value };\r\n            }\r\n            return null;\r\n        }\r\n        function _callFieldSanitizer(fieldProvider, path, name, theType, property) {\r\n            if (property && fieldProvider) {\r\n                var sanitizer = fieldProvider.getSanitizer(path, name, theType, property.kind, property.propertyType);\r\n                if (sanitizer) {\r\n                    // This is where we the field will call the handler to \"scrub\" the value. This the primary hook for the ClientHashing Plugin to\r\n                    // be able to apply the hashFunc() / Sha256 conversion of the properties value\r\n                    if (theType === 4 /* FieldValueSanitizerType.Object */) {\r\n                        // Special case of an embedded object (ext.metadata, data.properties)\r\n                        var newValue_1 = {};\r\n                        var propValue = property.value;\r\n                        objForEachKey(propValue, function (propKey, theValue) {\r\n                            var newPath = path + \".\" + name;\r\n                            if (isValueAssigned(theValue)) {\r\n                                var newProp = _convertToProperty(newPath, propKey, theValue);\r\n                                newProp = _callFieldSanitizer(fieldProvider, newPath, propKey, getFieldValueType(theValue), newProp);\r\n                                if (newProp) {\r\n                                    newValue_1[propKey] = newProp.value;\r\n                                }\r\n                            }\r\n                        });\r\n                        property.value = newValue_1;\r\n                    }\r\n                    else {\r\n                        var details = {\r\n                            path: path,\r\n                            name: name,\r\n                            type: theType,\r\n                            prop: property,\r\n                            sanitizer: _self\r\n                        };\r\n                        property = sanitizer.call(_self, details);\r\n                    }\r\n                }\r\n            }\r\n            return property;\r\n        }\r\n    }\r\n    ValueSanitizer.getFieldType = getFieldValueType;\r\n    return ValueSanitizer;\r\n}());\r\nexport { ValueSanitizer };\r\n//# sourceMappingURL=ValueSanitizer.js.map", "/*\n * 1DS JS SDK POST plugin, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n * Real Time profile (default profile). RealTime Latency events are sent every 1 sec and\r\n * Normal Latency events are sent every 2 sec.\r\n */\r\nexport var RT_PROFILE = \"REAL_TIME\";\r\n/**\r\n * Near Real Time profile. RealTime Latency events are sent every 3 sec and\r\n * Normal Latency events are sent every 6 sec.\r\n */\r\nexport var NRT_PROFILE = \"NEAR_REAL_TIME\";\r\n/**\r\n * Best Effort. RealTime Latency events are sent every 9 sec and\r\n * Normal Latency events are sent every 18 sec.\r\n */\r\nexport var BE_PROFILE = \"BEST_EFFORT\";\r\n//# sourceMappingURL=DataModels.js.map", "/*\n * 1DS JS SDK POST plugin, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n\r\n// Licensed under the MIT License.\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Note: DON'T Export these const from the package as we are still targeting ES3 this will export a mutable variables that someone could change!!!\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Generally you should only put values that are used more than 2 times and then only if not already exposed as a constant (such as SdkCoreNames)\r\n// as when using \"short\" named values from here they will be will be minified smaller than the SdkCoreNames[eSdkCoreNames.xxxx] value.\r\nexport var STR_EMPTY = \"\";\r\nexport var STR_POST_METHOD = \"POST\";\r\nexport var STR_DISABLED_PROPERTY_NAME = \"Microsoft_ApplicationInsights_BypassAjaxInstrumentation\";\r\nexport var STR_DROPPED = \"drop\";\r\nexport var STR_SENDING = \"send\";\r\nexport var STR_REQUEUE = \"requeue\";\r\nexport var STR_RESPONSE_FAIL = \"rspFail\";\r\nexport var STR_OTHER = \"oth\";\r\nexport var DEFAULT_CACHE_CONTROL = \"no-cache, no-store\";\r\nexport var DEFAULT_CONTENT_TYPE = \"application/x-json-stream\";\r\nexport var STR_CACHE_CONTROL = \"cache-control\";\r\nexport var STR_CONTENT_TYPE_HEADER = \"content-type\";\r\nexport var STR_KILL_TOKENS_HEADER = \"kill-tokens\";\r\nexport var STR_KILL_DURATION_HEADER = \"kill-duration\";\r\nexport var STR_KILL_DURATION_SECONDS_HEADER = \"kill-duration-seconds\";\r\nexport var STR_TIME_DELTA_HEADER = \"time-delta-millis\";\r\nexport var STR_CLIENT_VERSION = \"client-version\";\r\nexport var STR_CLIENT_ID = \"client-id\";\r\nexport var STR_TIME_DELTA_TO_APPLY = \"time-delta-to-apply-millis\";\r\nexport var STR_UPLOAD_TIME = \"upload-time\";\r\nexport var STR_API_KEY = \"apikey\";\r\nexport var STR_MSA_DEVICE_TICKET = \"AuthMsaDeviceTicket\";\r\nexport var STR_AUTH_XTOKEN = \"AuthXToken\";\r\nexport var STR_SDK_VERSION = \"sdk-version\";\r\nexport var STR_NO_RESPONSE_BODY = \"NoResponseBody\";\r\nexport var STR_MSFPC = \"msfpc\";\r\nexport var STR_TRACE = \"trace\";\r\nexport var STR_USER = \"user\";\r\n//# sourceMappingURL=InternalConstants.js.map", "/*\n * 1DS JS SDK POST plugin, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* EventBatch.ts\r\n* @author Nev Wylie (newylie)\r\n* @copyright Microsoft 2020\r\n*/\r\nimport { isNullOrUndefined, isValueAssigned } from \"@microsoft/1ds-core-js\";\r\nimport { STR_EMPTY, STR_MSFPC } from \"./InternalConstants\";\r\nfunction _getEventMsfpc(theEvent) {\r\n    var intWeb = ((theEvent.ext || {})[\"intweb\"]);\r\n    if (intWeb && isValueAssigned(intWeb[STR_MSFPC])) {\r\n        return intWeb[STR_MSFPC];\r\n    }\r\n    return null;\r\n}\r\nfunction _getMsfpc(theEvents) {\r\n    var msfpc = null;\r\n    for (var lp = 0; msfpc === null && lp < theEvents.length; lp++) {\r\n        msfpc = _getEventMsfpc(theEvents[lp]);\r\n    }\r\n    return msfpc;\r\n}\r\n/**\r\n* This class defines a \"batch\" events related to a specific iKey, it is used by the PostChannel and HttpManager\r\n* to collect and transfer ownership of events without duplicating them in-memory. This reduces the previous\r\n* array duplication and shared ownership issues that occurred due to race conditions caused by the async nature\r\n* of sending requests.\r\n*/\r\nvar EventBatch = /** @class */ (function () {\r\n    /**\r\n     * Private constructor so that caller is forced to use the static create method.\r\n     * @param iKey - The iKey to associate with the events (not validated)\r\n     * @param addEvents - The optional collection of events to assign to this batch - defaults to an empty array.\r\n     */\r\n    function EventBatch(iKey, addEvents) {\r\n        var events = addEvents ? [].concat(addEvents) : [];\r\n        var _self = this;\r\n        var _msfpc = _getMsfpc(events);\r\n        _self.iKey = function () {\r\n            return iKey;\r\n        };\r\n        _self.Msfpc = function () {\r\n            // return the cached value unless it's undefined -- used to avoid cpu\r\n            return _msfpc || STR_EMPTY;\r\n        };\r\n        _self.count = function () {\r\n            return events.length;\r\n        };\r\n        _self.events = function () {\r\n            return events;\r\n        };\r\n        _self.addEvent = function (theEvent) {\r\n            if (theEvent) {\r\n                events.push(theEvent);\r\n                if (!_msfpc) {\r\n                    // Not found so try and find one\r\n                    _msfpc = _getEventMsfpc(theEvent);\r\n                }\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        _self.split = function (fromEvent, numEvents) {\r\n            // Create a new batch with the same iKey\r\n            var theEvents;\r\n            if (fromEvent < events.length) {\r\n                var cnt = events.length - fromEvent;\r\n                if (!isNullOrUndefined(numEvents)) {\r\n                    cnt = numEvents < cnt ? numEvents : cnt;\r\n                }\r\n                theEvents = events.splice(fromEvent, cnt);\r\n                // reset the fetched msfpc value\r\n                _msfpc = _getMsfpc(events);\r\n            }\r\n            return new EventBatch(iKey, theEvents);\r\n        };\r\n    }\r\n    /**\r\n     * Creates a new Event Batch object\r\n     * @param iKey The iKey associated with this batch of events\r\n     */\r\n    EventBatch.create = function (iKey, theEvents) {\r\n        return new EventBatch(iKey, theEvents);\r\n    };\r\n    return EventBatch;\r\n}());\r\nexport { EventBatch };\r\n//# sourceMappingURL=EventBatch.js.map", "/*\n * 1DS JS SDK POST plugin, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* ClockSkewManager.ts\r\n* @author Abhilash Panwar (abpanwar)\r\n* @copyright Microsoft 2018\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\n/**\r\n* Class to manage clock skew correction.\r\n*/\r\nvar ClockSkewManager = /** @class */ (function () {\r\n    function ClockSkewManager() {\r\n        var _allowRequestSending = true;\r\n        var _shouldAddClockSkewHeaders = true;\r\n        var _isFirstRequest = true;\r\n        var _clockSkewHeaderValue = \"use-collector-delta\";\r\n        var _clockSkewSet = false;\r\n        dynamicProto(ClockSkewManager, this, function (_self) {\r\n            /**\r\n             * Determine if requests can be sent.\r\n             * @returns True if requests can be sent, false otherwise.\r\n             */\r\n            _self.allowRequestSending = function () {\r\n                return _allowRequestSending;\r\n            };\r\n            /**\r\n             * Tells the ClockSkewManager that it should assume that the first request has now been sent,\r\n             * If this method had not yet been called AND the clock Skew had not been set this will set\r\n             * allowRequestSending to false until setClockSet() is called.\r\n             */\r\n            _self.firstRequestSent = function () {\r\n                if (_isFirstRequest) {\r\n                    _isFirstRequest = false;\r\n                    if (!_clockSkewSet) {\r\n                        // Block sending until we get the first clock Skew\r\n                        _allowRequestSending = false;\r\n                    }\r\n                }\r\n            };\r\n            /**\r\n             * Determine if clock skew headers should be added to the request.\r\n             * @returns True if clock skew headers should be added, false otherwise.\r\n             */\r\n            _self.shouldAddClockSkewHeaders = function () {\r\n                return _shouldAddClockSkewHeaders;\r\n            };\r\n            /**\r\n             * Gets the clock skew header value.\r\n             * @returns The clock skew header value.\r\n             */\r\n            _self.getClockSkewHeaderValue = function () {\r\n                return _clockSkewHeaderValue;\r\n            };\r\n            /**\r\n             * Sets the clock skew header value. Once clock skew is set this method\r\n             * is no-op.\r\n             * @param timeDeltaInMillis - Time delta to be saved as the clock skew header value.\r\n             */\r\n            _self.setClockSkew = function (timeDeltaInMillis) {\r\n                if (!_clockSkewSet) {\r\n                    if (timeDeltaInMillis) {\r\n                        _clockSkewHeaderValue = timeDeltaInMillis;\r\n                        _shouldAddClockSkewHeaders = true;\r\n                        _clockSkewSet = true;\r\n                    }\r\n                    else {\r\n                        _shouldAddClockSkewHeaders = false;\r\n                    }\r\n                    // Unblock sending\r\n                    _allowRequestSending = true;\r\n                }\r\n            };\r\n        });\r\n    }\r\n// Removed Stub for ClockSkewManager.prototype.allowRequestSending.\r\n// Removed Stub for ClockSkewManager.prototype.firstRequestSent.\r\n// Removed Stub for ClockSkewManager.prototype.shouldAddClockSkewHeaders.\r\n// Removed Stub for ClockSkewManager.prototype.getClockSkewHeaderValue.\r\n// Removed Stub for ClockSkewManager.prototype.setClockSkew.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    ClockSkewManager.__ieDyn=1;\n\n    return ClockSkewManager;\r\n}());\r\nexport default ClockSkewManager;\r\n//# sourceMappingURL=ClockSkewManager.js.map", "/*\n * 1DS JS SDK POST plugin, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* KillSwitch.ts\r\n* @author Abhilash Panwar (abpanwar)\r\n* @copyright Microsoft 2018\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { arrForEach, dateNow, strTrim } from \"@microsoft/1ds-core-js\";\r\nvar SecToMsMultiplier = 1000;\r\n/**\r\n* Class to stop certain tenants sending events.\r\n*/\r\nvar KillSwitch = /** @class */ (function () {\r\n    function KillSwitch() {\r\n        var _killedTokenDictionary = {};\r\n        function _normalizeTenants(values) {\r\n            var result = [];\r\n            if (values) {\r\n                arrForEach(values, function (value) {\r\n                    result.push(strTrim(value));\r\n                });\r\n            }\r\n            return result;\r\n        }\r\n        dynamicProto(KillSwitch, this, function (_self) {\r\n            _self.setKillSwitchTenants = function (killTokens, killDuration) {\r\n                if (killTokens && killDuration) {\r\n                    try {\r\n                        var killedTokens = _normalizeTenants(killTokens.split(\",\"));\r\n                        if (killDuration === \"this-request-only\") {\r\n                            return killedTokens;\r\n                        }\r\n                        var durationMs = parseInt(killDuration, 10) * SecToMsMultiplier;\r\n                        for (var i = 0; i < killedTokens.length; ++i) {\r\n                            _killedTokenDictionary[killedTokens[i]] = dateNow() + durationMs;\r\n                        }\r\n                    }\r\n                    catch (ex) {\r\n                        return [];\r\n                    }\r\n                }\r\n                return [];\r\n            };\r\n            _self.isTenantKilled = function (tenantToken) {\r\n                var killDictionary = _killedTokenDictionary;\r\n                var name = strTrim(tenantToken);\r\n                if (killDictionary[name] !== undefined && killDictionary[name] > dateNow()) {\r\n                    return true;\r\n                }\r\n                delete killDictionary[name];\r\n                return false;\r\n            };\r\n        });\r\n    }\r\n// Removed Stub for KillSwitch.prototype.setKillSwitchTenants.\r\n// Removed Stub for KillSwitch.prototype.isTenantKilled.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    KillSwitch.__ieDyn=1;\n\n    return KillSwitch;\r\n}());\r\nexport default KillSwitch;\r\n//# sourceMappingURL=KillSwitch.js.map", "/*\n * 1DS JS SDK POST plugin, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* RetryPolicy.ts\r\n* @author Abhilash Panwar (abpanwar)\r\n* @copyright Microsoft 2018\r\n*/\r\nvar RandomizationLowerThreshold = 0.8;\r\nvar RandomizationUpperThreshold = 1.2;\r\nvar BaseBackoff = 3000;\r\nvar MaxBackoff = 600000;\r\n/**\r\n * Determine if the request should be retried for the given status code.\r\n * The below expression reads that we should only retry for:\r\n *      - HttpStatusCodes that are smaller than 300.\r\n *      - HttpStatusCodes greater or equal to 500 (except for 501-NotImplement\r\n *        and 505-HttpVersionNotSupport).\r\n *      - HttpStatusCode 408-RequestTimeout.\r\n *      - HttpStatusCode 429.\r\n * This is based on Microsoft.WindowsAzure.Storage.RetryPolicies.ExponentialRetry class\r\n * @param httpStatusCode - The status code returned for the request.\r\n * @returns True if request should be retried, false otherwise.\r\n */\r\nexport function retryPolicyShouldRetryForStatus(httpStatusCode) {\r\n    /* tslint:disable:triple-equals */\r\n    // Disabling triple-equals rule to avoid httpOverrides from failing because they are returning a string value\r\n    return !((httpStatusCode >= 300 && httpStatusCode < 500 && httpStatusCode != 408 && httpStatusCode != 429)\r\n        || (httpStatusCode == 501)\r\n        || (httpStatusCode == 505));\r\n    /* tslint:enable:triple-equals */\r\n}\r\n/**\r\n * Gets the number of milliseconds to back off before retrying the request. The\r\n * back off duration is exponentially scaled based on the number of retries already\r\n * done for the request.\r\n * @param retriesSoFar - The number of times the request has already been retried.\r\n * @returns The back off duration for the request before it can be retried.\r\n */\r\nexport function retryPolicyGetMillisToBackoffForRetry(retriesSoFar) {\r\n    var waitDuration = 0;\r\n    var minBackoff = BaseBackoff * RandomizationLowerThreshold;\r\n    var maxBackoff = BaseBackoff * RandomizationUpperThreshold;\r\n    var randomBackoff = Math.floor(Math.random() * (maxBackoff - minBackoff)) + minBackoff;\r\n    waitDuration = Math.pow(2, retriesSoFar) * randomBackoff;\r\n    return Math.min(waitDuration, MaxBackoff);\r\n}\r\n//# sourceMappingURL=RetryPolicy.js.map", "/*\n * 1DS JS SDK POST plugin, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* Serializer.ts\r\n* @author Abhilash Panwar (abpanwar); Hector Hernandez (hectorh); Nev Wylie (newylie)\r\n* @copyright Microsoft 2018-2020\r\n*/\r\n// @skip-file-minify\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { arrIndexOf, doPerf, getCommonSchemaMetaData, getTenantId, isArray, isValueAssigned, objForEachKey, sanitizeProperty, strStartsWith } from \"@microsoft/1ds-core-js\";\r\nimport { EventBatch } from \"./EventBatch\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\n/**\r\n * Note: This is an optimization for V8-based browsers. When V8 concatenates a string,\r\n * the strings are only joined logically using a \"cons string\" or \"constructed/concatenated\r\n * string\". These containers keep references to one another and can result in very large\r\n * memory usage. For example, if a 2MB string is constructed by concatenating 4 bytes\r\n * together at a time, the memory usage will be ~44MB; so ~22x increase. The strings are\r\n * only joined together when an operation requiring their joining takes place, such as\r\n * substr(). This function is called when adding data to this buffer to ensure these\r\n * types of strings are periodically joined to reduce the memory footprint.\r\n * Setting to every 20 events as the JSON.stringify() may have joined many strings\r\n * and calling this too much causes a minor delay while processing.\r\n */\r\nvar _MAX_STRING_JOINS = 20;\r\nvar RequestSizeLimitBytes = 3984588; // approx 3.8 Mb\r\nvar BeaconRequestSizeLimitBytes = 65000; // approx 64kb (the current Edge, Firefox and Chrome max limit)\r\nvar MaxRecordSize = 2000000; // approx 2 Mb\r\nvar MaxBeaconRecordSize = Math.min(MaxRecordSize, BeaconRequestSizeLimitBytes);\r\nvar metadata = \"metadata\";\r\nvar f = \"f\";\r\nvar rCheckDot = /\\./;\r\n/**\r\n* Class to handle serialization of event and request.\r\n* Currently uses Bond for serialization. Please note that this may be subject to change.\r\n*/\r\nvar Serializer = /** @class */ (function () {\r\n    function Serializer(perfManager, valueSanitizer, stringifyObjects, enableCompoundKey) {\r\n        var strData = \"data\";\r\n        var strBaseData = \"baseData\";\r\n        var strExt = \"ext\";\r\n        var _checkForCompoundkey = !!enableCompoundKey;\r\n        var _processSubMetaData = true;\r\n        var _theSanitizer = valueSanitizer;\r\n        var _isReservedCache = {};\r\n        dynamicProto(Serializer, this, function (_self) {\r\n            _self.createPayload = function (retryCnt, isTeardown, isSync, isReducedPayload, sendReason, sendType) {\r\n                return {\r\n                    apiKeys: [],\r\n                    payloadBlob: STR_EMPTY,\r\n                    overflow: null,\r\n                    sizeExceed: [],\r\n                    failedEvts: [],\r\n                    batches: [],\r\n                    numEvents: 0,\r\n                    retryCnt: retryCnt,\r\n                    isTeardown: isTeardown,\r\n                    isSync: isSync,\r\n                    isBeacon: isReducedPayload,\r\n                    sendType: sendType,\r\n                    sendReason: sendReason\r\n                };\r\n            };\r\n            _self.appendPayload = function (payload, theBatch, maxEventsPerBatch) {\r\n                var canAddEvents = payload && theBatch && !payload.overflow;\r\n                if (canAddEvents) {\r\n                    doPerf(perfManager, function () { return \"Serializer:appendPayload\"; }, function () {\r\n                        var theEvents = theBatch.events();\r\n                        var payloadBlob = payload.payloadBlob;\r\n                        var payloadEvents = payload.numEvents;\r\n                        var eventsAdded = false;\r\n                        var sizeExceeded = [];\r\n                        var failedEvts = [];\r\n                        var isBeaconPayload = payload.isBeacon;\r\n                        var requestMaxSize = isBeaconPayload ? BeaconRequestSizeLimitBytes : RequestSizeLimitBytes;\r\n                        var recordMaxSize = isBeaconPayload ? MaxBeaconRecordSize : MaxRecordSize;\r\n                        var lp = 0;\r\n                        var joinCount = 0;\r\n                        while (lp < theEvents.length) {\r\n                            var theEvent = theEvents[lp];\r\n                            if (theEvent) {\r\n                                if (payloadEvents >= maxEventsPerBatch) {\r\n                                    // Maximum events per payload reached, so don't add any more\r\n                                    payload.overflow = theBatch.split(lp);\r\n                                    break;\r\n                                }\r\n                                var eventBlob = _self.getEventBlob(theEvent);\r\n                                if (eventBlob && eventBlob.length <= recordMaxSize) {\r\n                                    // This event will fit into the payload\r\n                                    var blobLength = eventBlob.length;\r\n                                    var currentSize = payloadBlob.length;\r\n                                    if (currentSize + blobLength > requestMaxSize) {\r\n                                        // Request or batch size exceeded, so don't add any more to the payload\r\n                                        payload.overflow = theBatch.split(lp);\r\n                                        break;\r\n                                    }\r\n                                    if (payloadBlob) {\r\n                                        payloadBlob += \"\\n\";\r\n                                    }\r\n                                    payloadBlob += eventBlob;\r\n                                    joinCount++;\r\n                                    // v8 memory optimization only\r\n                                    if (joinCount > _MAX_STRING_JOINS) {\r\n                                        // this substr() should cause the constructed string to join\r\n                                        payloadBlob.substr(0, 1);\r\n                                        joinCount = 0;\r\n                                    }\r\n                                    eventsAdded = true;\r\n                                    payloadEvents++;\r\n                                }\r\n                                else {\r\n                                    if (eventBlob) {\r\n                                        // Single event size exceeded so remove from the batch\r\n                                        sizeExceeded.push(theEvent);\r\n                                    }\r\n                                    else {\r\n                                        failedEvts.push(theEvent);\r\n                                    }\r\n                                    // We also need to remove this event from the existing array, otherwise a notification will be sent\r\n                                    // indicating that it was successfully sent\r\n                                    theEvents.splice(lp, 1);\r\n                                    lp--;\r\n                                }\r\n                            }\r\n                            lp++;\r\n                        }\r\n                        if (sizeExceeded && sizeExceeded.length > 0) {\r\n                            payload.sizeExceed.push(EventBatch.create(theBatch.iKey(), sizeExceeded));\r\n                            // Remove the exceeded events from the batch\r\n                        }\r\n                        if (failedEvts && failedEvts.length > 0) {\r\n                            payload.failedEvts.push(EventBatch.create(theBatch.iKey(), failedEvts));\r\n                            // Remove the failed events from the batch\r\n                        }\r\n                        if (eventsAdded) {\r\n                            payload.batches.push(theBatch);\r\n                            payload.payloadBlob = payloadBlob;\r\n                            payload.numEvents = payloadEvents;\r\n                            var apiKey = theBatch.iKey();\r\n                            if (arrIndexOf(payload.apiKeys, apiKey) === -1) {\r\n                                payload.apiKeys.push(apiKey);\r\n                            }\r\n                        }\r\n                    }, function () { return ({ payload: payload, theBatch: { iKey: theBatch.iKey(), evts: theBatch.events() }, max: maxEventsPerBatch }); });\r\n                }\r\n                return canAddEvents;\r\n            };\r\n            _self.getEventBlob = function (eventData) {\r\n                try {\r\n                    return doPerf(perfManager, function () { return \"Serializer.getEventBlob\"; }, function () {\r\n                        var serializedEvent = {};\r\n                        // Adding as dynamic keys for v8 performance\r\n                        serializedEvent.name = eventData.name;\r\n                        serializedEvent.time = eventData.time;\r\n                        serializedEvent.ver = eventData.ver;\r\n                        serializedEvent.iKey = \"o:\" + getTenantId(eventData.iKey);\r\n                        // Assigning local var so usage in part b/c don't throw if there is no ext\r\n                        var serializedExt = {};\r\n                        // Part A\r\n                        var eventExt = eventData[strExt];\r\n                        if (eventExt) {\r\n                            // Only assign ext if the event had one (There are tests covering this use case)\r\n                            serializedEvent[strExt] = serializedExt;\r\n                            objForEachKey(eventExt, function (key, value) {\r\n                                var data = serializedExt[key] = {};\r\n                                // Don't include a metadata callback as we don't currently set metadata Part A fields\r\n                                _processPathKeys(value, data, \"ext.\" + key, true, null, null, true);\r\n                            });\r\n                        }\r\n                        var serializedData = serializedEvent[strData] = {};\r\n                        serializedData.baseType = eventData.baseType;\r\n                        var serializedBaseData = serializedData[strBaseData] = {};\r\n                        // Part B\r\n                        _processPathKeys(eventData.baseData, serializedBaseData, strBaseData, false, [strBaseData], function (pathKeys, name, value) {\r\n                            _addJSONPropertyMetaData(serializedExt, pathKeys, name, value);\r\n                        }, _processSubMetaData);\r\n                        // Part C\r\n                        _processPathKeys(eventData.data, serializedData, strData, false, [], function (pathKeys, name, value) {\r\n                            _addJSONPropertyMetaData(serializedExt, pathKeys, name, value);\r\n                        }, _processSubMetaData);\r\n                        return JSON.stringify(serializedEvent);\r\n                    }, function () { return ({ item: eventData }); });\r\n                }\r\n                catch (e) {\r\n                    return null;\r\n                }\r\n            };\r\n            function _isReservedField(path, name) {\r\n                var result = _isReservedCache[path];\r\n                if (result === undefined) {\r\n                    if (path.length >= 7) {\r\n                        // Do not allow the changing of fields located in the ext.metadata or ext.web extension\r\n                        result = strStartsWith(path, \"ext.metadata\") || strStartsWith(path, \"ext.web\");\r\n                    }\r\n                    _isReservedCache[path] = result;\r\n                }\r\n                return result;\r\n            }\r\n            function _processPathKeys(srcObj, target, thePath, checkReserved, metadataPathKeys, metadataCallback, processSubKeys) {\r\n                objForEachKey(srcObj, function (key, srcValue) {\r\n                    var prop = null;\r\n                    if (srcValue || isValueAssigned(srcValue)) {\r\n                        var path = thePath;\r\n                        var name_1 = key;\r\n                        var theMetaPathKeys = metadataPathKeys;\r\n                        var destObj = target;\r\n                        // Handle keys with embedded '.', like \"TestObject.testProperty\"\r\n                        if (_checkForCompoundkey && !checkReserved && rCheckDot.test(key)) {\r\n                            var subKeys = key.split(\".\");\r\n                            var keyLen = subKeys.length;\r\n                            if (keyLen > 1) {\r\n                                if (theMetaPathKeys) {\r\n                                    // Create a copy of the meta path keys so we can add the extra ones\r\n                                    theMetaPathKeys = theMetaPathKeys.slice();\r\n                                }\r\n                                for (var lp = 0; lp < keyLen - 1; lp++) {\r\n                                    var subKey = subKeys[lp];\r\n                                    // Add/reuse the sub key object\r\n                                    destObj = destObj[subKey] = destObj[subKey] || {};\r\n                                    path += \".\" + subKey;\r\n                                    if (theMetaPathKeys) {\r\n                                        theMetaPathKeys.push(subKey);\r\n                                    }\r\n                                }\r\n                                name_1 = subKeys[keyLen - 1];\r\n                            }\r\n                        }\r\n                        var isReserved = checkReserved && _isReservedField(path, name_1);\r\n                        if (!isReserved && _theSanitizer && _theSanitizer.handleField(path, name_1)) {\r\n                            prop = _theSanitizer.value(path, name_1, srcValue, stringifyObjects);\r\n                        }\r\n                        else {\r\n                            prop = sanitizeProperty(name_1, srcValue, stringifyObjects);\r\n                        }\r\n                        if (prop) {\r\n                            // Set the value\r\n                            var newValue = prop.value;\r\n                            destObj[name_1] = newValue;\r\n                            if (metadataCallback) {\r\n                                metadataCallback(theMetaPathKeys, name_1, prop);\r\n                            }\r\n                            if (processSubKeys && typeof newValue === \"object\" && !isArray(newValue)) {\r\n                                var newPath = theMetaPathKeys;\r\n                                if (newPath) {\r\n                                    newPath = newPath.slice();\r\n                                    newPath.push(name_1);\r\n                                }\r\n                                // Make sure we process sub objects as well (for value sanitization and metadata)\r\n                                _processPathKeys(srcValue, newValue, path + \".\" + name_1, checkReserved, newPath, metadataCallback, processSubKeys);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n// Removed Stub for Serializer.prototype.createPayload.\r\n// Removed Stub for Serializer.prototype.appendPayload.\r\n// Removed Stub for Serializer.prototype.getEventBlob.\r\n// Removed Stub for Serializer.prototype.handleField.\r\n// Removed Stub for Serializer.prototype.getSanitizer.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    Serializer.__ieDyn=1;\n\n    return Serializer;\r\n}());\r\nexport { Serializer };\r\n/**\r\n * @ignore\r\n */\r\nfunction _addJSONPropertyMetaData(json, propKeys, name, propertyValue) {\r\n    if (propertyValue && json) {\r\n        var encodedTypeValue = getCommonSchemaMetaData(propertyValue.value, propertyValue.kind, propertyValue.propertyType);\r\n        if (encodedTypeValue > -1) {\r\n            // Add the root metadata\r\n            var metaData = json[metadata];\r\n            if (!metaData) {\r\n                // Sets the root 'f'\r\n                metaData = json[metadata] = { f: {} };\r\n            }\r\n            var metaTarget = metaData[f];\r\n            if (!metaTarget) {\r\n                // This can occur if someone has manually added an ext.metadata object\r\n                // Such as ext.metadata.privLevel and ext.metadata.privTags\r\n                metaTarget = metaData[f] = {};\r\n            }\r\n            // Traverse the metadata path and build each object (contains an 'f' key) -- if required\r\n            if (propKeys) {\r\n                for (var lp = 0; lp < propKeys.length; lp++) {\r\n                    var key = propKeys[lp];\r\n                    if (!metaTarget[key]) {\r\n                        metaTarget[key] = { f: {} };\r\n                    }\r\n                    var newTarget = metaTarget[key][f];\r\n                    if (!newTarget) {\r\n                        // Not expected, but can occur if the metadata context was pre-created as part of the event\r\n                        newTarget = metaTarget[key][f] = {};\r\n                    }\r\n                    metaTarget = newTarget;\r\n                }\r\n            }\r\n            metaTarget = metaTarget[name] = {};\r\n            if (isArray(propertyValue.value)) {\r\n                metaTarget[\"a\"] = {\r\n                    t: encodedTypeValue\r\n                };\r\n            }\r\n            else {\r\n                metaTarget[\"t\"] = encodedTypeValue;\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Serializer.js.map", "/*\n * 1DS JS SDK POST plugin, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nvar _a;\r\n/**\r\n* HttpManager.ts\r\n* @author Abhilash Panwar (abpanwar); Hector Hernandez (hectorh); Nev Wylie (newylie)\r\n* @copyright Microsoft 2018-2020\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport EVTClockSkewManager from \"./ClockSkewManager\";\r\nimport EVTKillSwitch from \"./KillSwitch\";\r\nimport { FullVersionString, _throwInternal, _warnToConsole, arrForEach, dateNow, doPerf, dumpObj, extend, getLocation, getNavigator, getTime, hasOwnProperty, isArray, isBeaconsSupported, isFetchSupported, isNullOrUndefined, isNumber, isReactNative, isString, isUndefined, isValueAssigned, isXhrSupported, objForEachKey, objKeys, openXhr, strTrim, strUndefined, useXDomainRequest } from \"@microsoft/1ds-core-js\";\r\nimport { DEFAULT_CACHE_CONTROL, DEFAULT_CONTENT_TYPE, STR_API_KEY, STR_AUTH_XTOKEN, STR_CACHE_CONTROL, STR_CLIENT_ID, STR_CLIENT_VERSION, STR_CONTENT_TYPE_HEADER, STR_DISABLED_PROPERTY_NAME, STR_DROPPED, STR_EMPTY, STR_KILL_DURATION_HEADER, STR_KILL_DURATION_SECONDS_HEADER, STR_KILL_TOKENS_HEADER, STR_MSA_DEVICE_TICKET, STR_MSFPC, STR_NO_RESPONSE_BODY, STR_OTHER, STR_POST_METHOD, STR_REQUEUE, STR_RESPONSE_FAIL, STR_SENDING, STR_TIME_DELTA_HEADER, STR_TIME_DELTA_TO_APPLY, STR_UPLOAD_TIME } from \"./InternalConstants\";\r\nimport { retryPolicyGetMillisToBackoffForRetry, retryPolicyShouldRetryForStatus } from \"./RetryPolicy\";\r\nimport { Serializer } from \"./Serializer\";\r\nvar strSendAttempt = \"sendAttempt\";\r\nvar _noResponseQs = \"&\" + STR_NO_RESPONSE_BODY + \"=true\";\r\n/**\r\n * Identifies the default notification reason to the action names\r\n */\r\nvar _eventActionMap = (_a = {},\r\n    _a[1 /* EventBatchNotificationReason.Paused */] = STR_REQUEUE,\r\n    _a[100 /* EventBatchNotificationReason.RequeueEvents */] = STR_REQUEUE,\r\n    _a[200 /* EventBatchNotificationReason.Complete */] = \"sent\",\r\n    _a[8004 /* EventBatchNotificationReason.KillSwitch */] = STR_DROPPED,\r\n    _a[8003 /* EventBatchNotificationReason.SizeLimitExceeded */] = STR_DROPPED,\r\n    _a);\r\nvar _collectorQsHeaders = {};\r\nvar _collectorHeaderToQs = {};\r\nfunction _addCollectorHeaderQsMapping(qsName, headerName, allowQs) {\r\n    _collectorQsHeaders[qsName] = headerName;\r\n    if (allowQs !== false) {\r\n        _collectorHeaderToQs[headerName] = qsName;\r\n    }\r\n}\r\n_addCollectorHeaderQsMapping(STR_MSA_DEVICE_TICKET, STR_MSA_DEVICE_TICKET, false);\r\n_addCollectorHeaderQsMapping(STR_CLIENT_VERSION, STR_CLIENT_VERSION);\r\n_addCollectorHeaderQsMapping(STR_CLIENT_ID, \"Client-Id\");\r\n_addCollectorHeaderQsMapping(STR_API_KEY, STR_API_KEY);\r\n_addCollectorHeaderQsMapping(STR_TIME_DELTA_TO_APPLY, STR_TIME_DELTA_TO_APPLY);\r\n_addCollectorHeaderQsMapping(STR_UPLOAD_TIME, STR_UPLOAD_TIME);\r\n_addCollectorHeaderQsMapping(STR_AUTH_XTOKEN, STR_AUTH_XTOKEN);\r\nfunction _getResponseText(xhr) {\r\n    try {\r\n        return xhr.responseText;\r\n    }\r\n    catch (e) {\r\n        // Best effort, as XHR may throw while XDR wont so just ignore\r\n    }\r\n    return STR_EMPTY;\r\n}\r\nfunction _hasHeader(headers, header) {\r\n    var hasHeader = false;\r\n    if (headers && header) {\r\n        var keys = objKeys(headers);\r\n        if (keys && keys.length > 0) {\r\n            var lowerHeader = header.toLowerCase();\r\n            for (var lp = 0; lp < keys.length; lp++) {\r\n                var value = keys[lp];\r\n                if (value && hasOwnProperty(header, value) &&\r\n                    value.toLowerCase() === lowerHeader) {\r\n                    hasHeader = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return hasHeader;\r\n}\r\nfunction _addRequestDetails(details, name, value, useHeaders) {\r\n    if (name && value && value.length > 0) {\r\n        if (useHeaders && _collectorQsHeaders[name]) {\r\n            details.hdrs[_collectorQsHeaders[name]] = value;\r\n            details.useHdrs = true;\r\n        }\r\n        else {\r\n            details.url += \"&\" + name + \"=\" + value;\r\n        }\r\n    }\r\n}\r\nfunction _prependTransports(theTransports, newTransports) {\r\n    if (newTransports) {\r\n        if (isNumber(newTransports)) {\r\n            theTransports = [newTransports].concat(theTransports);\r\n        }\r\n        else if (isArray(newTransports)) {\r\n            theTransports = newTransports.concat(theTransports);\r\n        }\r\n    }\r\n    return theTransports;\r\n}\r\n/**\r\n * Class managing the sending of requests.\r\n */\r\nvar HttpManager = /** @class */ (function () {\r\n    /**\r\n     * @constructor\r\n     * @param requestQueue   - The queue that contains the requests to be sent.\r\n     */\r\n    function HttpManager(maxEventsPerBatch, maxConnections, maxRequestRetriesBeforeBackoff, actions, timeoutOverride) {\r\n        this._responseHandlers = [];\r\n        var _urlString = \"?cors=true&\" + STR_CONTENT_TYPE_HEADER.toLowerCase() + \"=\" + DEFAULT_CONTENT_TYPE;\r\n        var _killSwitch = new EVTKillSwitch();\r\n        var _paused = false;\r\n        var _clockSkewManager = new EVTClockSkewManager();\r\n        var _useBeacons = false;\r\n        var _outstandingRequests = 0; // Holds the number of outstanding async requests that have not returned a response yet\r\n        var _postManager;\r\n        var _logger;\r\n        var _sendInterfaces;\r\n        var _core;\r\n        var _customHttpInterface = true;\r\n        var _queryStringParameters = [];\r\n        var _headers = {};\r\n        var _batchQueue = [];\r\n        var _serializer = null;\r\n        var _enableEventTimings = false;\r\n        var _cookieMgr;\r\n        var _isUnloading = false;\r\n        var _useHeaders = false;\r\n        var _xhrTimeout;\r\n        var _disableXhrSync;\r\n        var _disableFetchKeepAlive;\r\n        var _canHaveReducedPayload;\r\n        var _addNoResponse;\r\n        dynamicProto(HttpManager, this, function (_self) {\r\n            var _sendCredentials = true;\r\n            _self.initialize = function (endpointUrl, core, postChannel, httpInterface, channelConfig) {\r\n                var _a;\r\n                if (!channelConfig) {\r\n                    channelConfig = {};\r\n                }\r\n                _urlString = endpointUrl + _urlString;\r\n                _useHeaders = !isUndefined(channelConfig.avoidOptions) ? !channelConfig.avoidOptions : true;\r\n                _core = core;\r\n                _cookieMgr = core.getCookieMgr();\r\n                _enableEventTimings = !_core.config.disableEventTimings;\r\n                var enableCompoundKey = !!_core.config.enableCompoundKey;\r\n                _postManager = postChannel;\r\n                _logger = _postManager.diagLog();\r\n                var valueSanitizer = channelConfig.valueSanitizer;\r\n                var stringifyObjects = channelConfig.stringifyObjects;\r\n                if (!isUndefined(channelConfig.enableCompoundKey)) {\r\n                    enableCompoundKey = !!channelConfig.enableCompoundKey;\r\n                }\r\n                _xhrTimeout = channelConfig.xhrTimeout;\r\n                _disableXhrSync = !!channelConfig.disableXhrSync;\r\n                _disableFetchKeepAlive = !!channelConfig.disableFetchKeepAlive;\r\n                _addNoResponse = channelConfig.addNoResponse !== false;\r\n                _useBeacons = !isReactNative(); // Only use beacons if not running in React Native\r\n                _serializer = new Serializer(_core, valueSanitizer, stringifyObjects, enableCompoundKey);\r\n                if (!isNullOrUndefined(channelConfig.useSendBeacon)) {\r\n                    _useBeacons = !!channelConfig.useSendBeacon;\r\n                }\r\n                var syncHttpInterface = httpInterface;\r\n                var beaconHttpInterface = channelConfig.alwaysUseXhrOverride ? httpInterface : null;\r\n                var fetchSyncHttpInterface = channelConfig.alwaysUseXhrOverride ? httpInterface : null;\r\n                var beaconUnloadTransports = [3 /* TransportType.Beacon */, 2 /* TransportType.Fetch */];\r\n                if (!httpInterface) {\r\n                    _customHttpInterface = false;\r\n                    var location_1 = getLocation();\r\n                    if (location_1 && location_1.protocol && location_1.protocol.toLowerCase() === \"file:\") {\r\n                        // Special case where a local html file fails with a CORS error on Chromium browsers\r\n                        _sendCredentials = false;\r\n                    }\r\n                    var theTransports = [];\r\n                    if (isReactNative()) {\r\n                        // Use Fetch or XDR/XHR\r\n                        theTransports = [2 /* TransportType.Fetch */, 1 /* TransportType.Xhr */];\r\n                        beaconUnloadTransports = [2 /* TransportType.Fetch */, 1 /* TransportType.Xhr */, 3 /* TransportType.Beacon */];\r\n                    }\r\n                    else {\r\n                        // Use XDR/XHR, Fetch or beacons\r\n                        theTransports = [1 /* TransportType.Xhr */, 2 /* TransportType.Fetch */, 3 /* TransportType.Beacon */];\r\n                    }\r\n                    // Prefix any user requested transport(s) values\r\n                    theTransports = _prependTransports(theTransports, channelConfig.transports);\r\n                    httpInterface = _getSenderInterface(theTransports, false);\r\n                    if (!httpInterface) {\r\n                        _warnToConsole(_logger, \"No available transport to send events\");\r\n                    }\r\n                    syncHttpInterface = _getSenderInterface(theTransports, true);\r\n                }\r\n                if (!beaconHttpInterface) {\r\n                    // Allow overriding the usage of sendBeacon\r\n                    beaconUnloadTransports = _prependTransports(beaconUnloadTransports, channelConfig.unloadTransports);\r\n                    beaconHttpInterface = _getSenderInterface(beaconUnloadTransports, true);\r\n                }\r\n                _canHaveReducedPayload = !_customHttpInterface && ((_useBeacons && isBeaconsSupported()) || (!_disableFetchKeepAlive && isFetchSupported(true)));\r\n                _sendInterfaces = (_a = {},\r\n                    _a[0 /* EventSendType.Batched */] = httpInterface,\r\n                    _a[1 /* EventSendType.Synchronous */] = syncHttpInterface || _getSenderInterface([1 /* TransportType.Xhr */, 2 /* TransportType.Fetch */, 3 /* TransportType.Beacon */], true),\r\n                    _a[2 /* EventSendType.SendBeacon */] = beaconHttpInterface || syncHttpInterface || _getSenderInterface([1 /* TransportType.Xhr */], true),\r\n                    _a[3 /* EventSendType.SyncFetch */] = fetchSyncHttpInterface || _getSenderInterface([2 /* TransportType.Fetch */, 3 /* TransportType.Beacon */], true) || syncHttpInterface || _getSenderInterface([1 /* TransportType.Xhr */], true),\r\n                    _a);\r\n            };\r\n            // Special internal method to allow the DebugPlugin to hook embedded objects\r\n            function _getSenderInterface(transports, syncSupport) {\r\n                var transportType = 0 /* TransportType.NotSet */;\r\n                var sendPostFunc = null;\r\n                var lp = 0;\r\n                while (sendPostFunc == null && lp < transports.length) {\r\n                    transportType = transports[lp];\r\n                    if (transportType === 1 /* TransportType.Xhr */) {\r\n                        if (useXDomainRequest()) {\r\n                            sendPostFunc = _xdrSendPost;\r\n                        }\r\n                        else if (isXhrSupported()) {\r\n                            sendPostFunc = _xhrSendPost;\r\n                        }\r\n                    }\r\n                    else if (transportType === 2 /* TransportType.Fetch */ && isFetchSupported(syncSupport) && (!syncSupport || (syncSupport && !_disableFetchKeepAlive))) {\r\n                        sendPostFunc = _fetchSendPost;\r\n                    }\r\n                    else if (_useBeacons && transportType === 3 /* TransportType.Beacon */ && isBeaconsSupported()) {\r\n                        sendPostFunc = _beaconSendPost;\r\n                    }\r\n                    lp++;\r\n                }\r\n                if (sendPostFunc) {\r\n                    return {\r\n                        _transport: transportType,\r\n                        _isSync: syncSupport,\r\n                        sendPOST: sendPostFunc\r\n                    };\r\n                }\r\n                return null;\r\n            }\r\n            _self[\"_getDbgPlgTargets\"] = function () {\r\n                return [_sendInterfaces[0 /* EventSendType.Batched */], _killSwitch, _serializer, _sendInterfaces];\r\n            };\r\n            function _xdrSendPost(payload, oncomplete, sync) {\r\n                // It doesn't support custom headers, so no action is taken with current requestHeaders\r\n                var xdr = new XDomainRequest();\r\n                xdr.open(STR_POST_METHOD, payload.urlString);\r\n                if (payload.timeout) {\r\n                    xdr.timeout = payload.timeout;\r\n                }\r\n                // can't get the status code in xdr.\r\n                xdr.onload = function () {\r\n                    // we will assume onload means the request succeeded.\r\n                    var response = _getResponseText(xdr);\r\n                    _doOnComplete(oncomplete, 200, {}, response);\r\n                    _handleCollectorResponse(response);\r\n                };\r\n                // we will assume onerror means we need to drop the events.\r\n                xdr.onerror = function () {\r\n                    _doOnComplete(oncomplete, 400, {});\r\n                };\r\n                // we will assume ontimeout means we need to retry the events.\r\n                xdr.ontimeout = function () {\r\n                    _doOnComplete(oncomplete, 500, {});\r\n                };\r\n                // https://cypressnorth.com/web-programming-and-development/internet-explorer-aborting-ajax-requests-fixed/\r\n                // tslint:disable-next-line:no-empty\r\n                xdr.onprogress = function () { };\r\n                if (sync) {\r\n                    xdr.send(payload.data);\r\n                }\r\n                else {\r\n                    timeoutOverride.set(function () {\r\n                        xdr.send(payload.data);\r\n                    }, 0);\r\n                }\r\n            }\r\n            function _fetchSendPost(payload, oncomplete, sync) {\r\n                var _a;\r\n                var theUrl = payload.urlString;\r\n                var ignoreResponse = false;\r\n                var responseHandled = false;\r\n                var requestInit = (_a = {\r\n                        body: payload.data,\r\n                        method: STR_POST_METHOD\r\n                    },\r\n                    _a[STR_DISABLED_PROPERTY_NAME] = true,\r\n                    _a);\r\n                if (sync) {\r\n                    requestInit.keepalive = true;\r\n                    if (payload._sendReason === 2 /* SendRequestReason.Unload */) {\r\n                        // As a sync request (during unload), it is unlikely that we will get a chance to process the response so\r\n                        // just like beacon send assume that the events have been accepted and processed\r\n                        ignoreResponse = true;\r\n                        if (_addNoResponse) {\r\n                            theUrl += _noResponseQs;\r\n                        }\r\n                    }\r\n                }\r\n                if (_sendCredentials) {\r\n                    // Don't send credentials when URL is file://\r\n                    requestInit.credentials = \"include\";\r\n                }\r\n                // Only add headers if there are headers to add, due to issue with some polyfills\r\n                if (payload.headers && objKeys(payload.headers).length > 0) {\r\n                    requestInit.headers = payload.headers;\r\n                }\r\n                fetch(theUrl, requestInit).then(function (response) {\r\n                    var headerMap = {};\r\n                    var responseText = STR_EMPTY;\r\n                    var headers = response.headers;\r\n                    if (headers) {\r\n                        headers[\"forEach\"](function (value, name) {\r\n                            headerMap[name] = value;\r\n                        });\r\n                    }\r\n                    if (response.body) {\r\n                        response.text().then(function (text) {\r\n                            responseText = text;\r\n                        });\r\n                    }\r\n                    if (!responseHandled) {\r\n                        responseHandled = true;\r\n                        _doOnComplete(oncomplete, response.status, headerMap, responseText);\r\n                        _handleCollectorResponse(responseText);\r\n                    }\r\n                })[\"catch\"](function (error) {\r\n                    // In case there is an error in the request. Set the status to 0\r\n                    // so that the events can be retried later.\r\n                    if (!responseHandled) {\r\n                        responseHandled = true;\r\n                        _doOnComplete(oncomplete, 0, {});\r\n                    }\r\n                });\r\n                if (ignoreResponse && !responseHandled) {\r\n                    // Assume success during unload processing\r\n                    responseHandled = true;\r\n                    _doOnComplete(oncomplete, 200, {});\r\n                }\r\n                if (!responseHandled && payload.timeout > 0) {\r\n                    // Simulate timeout\r\n                    timeoutOverride.set(function () {\r\n                        if (!responseHandled) {\r\n                            // Assume a 500 response (which will cause a retry)\r\n                            responseHandled = true;\r\n                            _doOnComplete(oncomplete, 500, {});\r\n                        }\r\n                    }, payload.timeout);\r\n                }\r\n            }\r\n            function _xhrSendPost(payload, oncomplete, sync) {\r\n                var theUrl = payload.urlString;\r\n                function _appendHeader(theHeaders, xhr, name) {\r\n                    if (!theHeaders[name] && xhr && xhr.getResponseHeader) {\r\n                        var value = xhr.getResponseHeader(name);\r\n                        if (value) {\r\n                            theHeaders[name] = strTrim(value);\r\n                        }\r\n                    }\r\n                    return theHeaders;\r\n                }\r\n                function _getAllResponseHeaders(xhr) {\r\n                    var theHeaders = {};\r\n                    if (!xhr.getAllResponseHeaders) {\r\n                        // Firefox 2-63 doesn't have getAllResponseHeaders function but it does have getResponseHeader\r\n                        // Only call these if getAllResponseHeaders doesn't exist, otherwise we can get invalid response errors\r\n                        // as collector is not currently returning the correct header to allow JS to access these headers\r\n                        theHeaders = _appendHeader(theHeaders, xhr, STR_TIME_DELTA_HEADER);\r\n                        theHeaders = _appendHeader(theHeaders, xhr, STR_KILL_DURATION_HEADER);\r\n                        theHeaders = _appendHeader(theHeaders, xhr, STR_KILL_DURATION_SECONDS_HEADER);\r\n                    }\r\n                    else {\r\n                        theHeaders = _convertAllHeadersToMap(xhr.getAllResponseHeaders());\r\n                    }\r\n                    return theHeaders;\r\n                }\r\n                function xhrComplete(xhr, responseTxt) {\r\n                    _doOnComplete(oncomplete, xhr.status, _getAllResponseHeaders(xhr), responseTxt);\r\n                }\r\n                if (sync && payload.disableXhrSync) {\r\n                    sync = false;\r\n                }\r\n                var xhrRequest = openXhr(STR_POST_METHOD, theUrl, _sendCredentials, true, sync, payload.timeout);\r\n                // Set custom headers (e.g. gzip) here (after open())\r\n                objForEachKey(payload.headers, function (name, value) {\r\n                    xhrRequest.setRequestHeader(name, value);\r\n                });\r\n                xhrRequest.onload = function () {\r\n                    var response = _getResponseText(xhrRequest);\r\n                    xhrComplete(xhrRequest, response);\r\n                    _handleCollectorResponse(response);\r\n                };\r\n                xhrRequest.onerror = function () {\r\n                    xhrComplete(xhrRequest);\r\n                };\r\n                xhrRequest.ontimeout = function () {\r\n                    xhrComplete(xhrRequest);\r\n                };\r\n                xhrRequest.send(payload.data);\r\n            }\r\n            function _doOnComplete(oncomplete, status, headers, response) {\r\n                try {\r\n                    oncomplete(status, headers, response);\r\n                }\r\n                catch (e) {\r\n                    _throwInternal(_logger, 2 /* eLoggingSeverity.WARNING */, 518 /* _eExtendedInternalMessageId.SendPostOnCompleteFailure */, dumpObj(e));\r\n                }\r\n            }\r\n            function _beaconSendPost(payload, oncomplete, sync) {\r\n                // Custom headers not supported in sendBeacon payload.headers would be ignored\r\n                var internalPayloadData = payload;\r\n                var status = 200;\r\n                var thePayload = internalPayloadData._thePayload;\r\n                var theUrl = payload.urlString + (_addNoResponse ? _noResponseQs : STR_EMPTY);\r\n                try {\r\n                    var nav_1 = getNavigator();\r\n                    if (!nav_1.sendBeacon(theUrl, payload.data)) {\r\n                        if (thePayload) {\r\n                            // Failed to send entire payload so try and split data and try to send as much events as possible\r\n                            var droppedBatches_1 = [];\r\n                            arrForEach(thePayload.batches, function (theBatch) {\r\n                                if (droppedBatches_1 && theBatch && theBatch.count() > 0) {\r\n                                    var theEvents = theBatch.events();\r\n                                    for (var lp = 0; lp < theEvents.length; lp++) {\r\n                                        if (!nav_1.sendBeacon(theUrl, _serializer.getEventBlob(theEvents[lp]))) {\r\n                                            // Can't send anymore, so split the batch and drop the rest\r\n                                            droppedBatches_1.push(theBatch.split(lp));\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    // Remove all of the events from the existing batch in the payload as the copy includes the original\r\n                                    droppedBatches_1.push(theBatch.split(0));\r\n                                }\r\n                            });\r\n                            _sendBatchesNotification(droppedBatches_1, 8003 /* EventBatchNotificationReason.SizeLimitExceeded */, thePayload.sendType, true);\r\n                        }\r\n                        else {\r\n                            status = 0;\r\n                        }\r\n                    }\r\n                }\r\n                catch (ex) {\r\n                    _warnToConsole(_logger, \"Failed to send telemetry using sendBeacon API. Ex:\" + dumpObj(ex));\r\n                    status = 0;\r\n                }\r\n                finally {\r\n                    _doOnComplete(oncomplete, status, {}, STR_EMPTY);\r\n                }\r\n            }\r\n            function _isBeaconPayload(sendType) {\r\n                // Sync Fetch has the same payload limitation as sendBeacon -- 64kb limit, so treat both as a beacon send\r\n                return sendType === 2 /* EventSendType.SendBeacon */ || sendType === 3 /* EventSendType.SyncFetch */;\r\n            }\r\n            function _adjustSendType(sendType) {\r\n                if (_isUnloading && _isBeaconPayload(sendType)) {\r\n                    sendType = 2 /* EventSendType.SendBeacon */;\r\n                }\r\n                return sendType;\r\n            }\r\n            _self.addQueryStringParameter = function (name, value) {\r\n                for (var i = 0; i < _queryStringParameters.length; i++) {\r\n                    if (_queryStringParameters[i].name === name) {\r\n                        _queryStringParameters[i].value = value;\r\n                        return;\r\n                    }\r\n                }\r\n                _queryStringParameters.push({ name: name, value: value });\r\n            };\r\n            _self.addHeader = function (name, value) {\r\n                _headers[name] = value;\r\n            };\r\n            _self.canSendRequest = function () {\r\n                return _hasIdleConnection() && _clockSkewManager.allowRequestSending();\r\n            };\r\n            _self.sendQueuedRequests = function (sendType, sendReason) {\r\n                if (isUndefined(sendType)) {\r\n                    sendType = 0 /* EventSendType.Batched */;\r\n                }\r\n                if (_isUnloading) {\r\n                    sendType = _adjustSendType(sendType);\r\n                    sendReason = 2 /* SendRequestReason.Unload */;\r\n                }\r\n                if (_canSendPayload(_batchQueue, sendType, 0)) {\r\n                    _sendBatches(_clearQueue(), 0, false, sendType, sendReason || 0 /* SendRequestReason.Undefined */);\r\n                }\r\n            };\r\n            _self.isCompletelyIdle = function () {\r\n                return !_paused && _outstandingRequests === 0 && _batchQueue.length === 0;\r\n            };\r\n            _self.setUnloading = function (value) {\r\n                _isUnloading = value;\r\n            };\r\n            _self.addBatch = function (theBatch) {\r\n                if (theBatch && theBatch.count() > 0) {\r\n                    // Try and kill the event faster\r\n                    if (_killSwitch.isTenantKilled(theBatch.iKey())) {\r\n                        return false;\r\n                    }\r\n                    _batchQueue.push(theBatch);\r\n                }\r\n                return true;\r\n            };\r\n            /**\r\n             * Queue all the remaining requests to be sent. The requests will be\r\n             * sent using HTML5 Beacons if they are available.\r\n             */\r\n            _self.teardown = function () {\r\n                if (_batchQueue.length > 0) {\r\n                    _sendBatches(_clearQueue(), 0, true, 2 /* EventSendType.SendBeacon */, 2 /* SendRequestReason.Unload */);\r\n                }\r\n            };\r\n            /**\r\n             * Pause the sending of requests. No new requests will be sent.\r\n             */\r\n            _self.pause = function () {\r\n                _paused = true;\r\n            };\r\n            /**\r\n             * Resume the sending of requests.\r\n             */\r\n            _self.resume = function () {\r\n                _paused = false;\r\n                _self.sendQueuedRequests(0 /* EventSendType.Batched */, 4 /* SendRequestReason.Resumed */);\r\n            };\r\n            /**\r\n             * Sends a request synchronously to the Aria collector. This api is used to send\r\n             * a request containing a single immediate event.\r\n             *\r\n             * @param batch - The request to be sent.\r\n             * @param sendReason   - The token used to send the request.\r\n             */\r\n            _self.sendSynchronousBatch = function (batch, sendType, sendReason) {\r\n                // This will not take into account the max connections restriction. Since this is sync, we can\r\n                // only send one of this request at a time and thus should not worry about multiple connections\r\n                // being used to send synchronous events.\r\n                // Increment active connection since we are still going to use a connection to send the request.\r\n                if (batch && batch.count() > 0) {\r\n                    if (isNullOrUndefined(sendType)) {\r\n                        sendType = 1 /* EventSendType.Synchronous */;\r\n                    }\r\n                    if (_isUnloading) {\r\n                        sendType = _adjustSendType(sendType);\r\n                        sendReason = 2 /* SendRequestReason.Unload */;\r\n                    }\r\n                    // For sync requests we will not wait for the clock skew.\r\n                    _sendBatches([batch], 0, false, sendType, sendReason || 0 /* SendRequestReason.Undefined */);\r\n                }\r\n            };\r\n            function _hasIdleConnection() {\r\n                return !_paused && _outstandingRequests < maxConnections;\r\n            }\r\n            function _clearQueue() {\r\n                var theQueue = _batchQueue;\r\n                _batchQueue = [];\r\n                return theQueue;\r\n            }\r\n            function _canSendPayload(theBatches, sendType, retryCnt) {\r\n                var result = false;\r\n                if (theBatches && theBatches.length > 0 && !_paused && _sendInterfaces[sendType] && _serializer) {\r\n                    // Always attempt to send synchronous events don't wait for idle or clockSkew\r\n                    // and don't block retry requests if clockSkew is not yet set\r\n                    result = (sendType !== 0 /* EventSendType.Batched */) || (_hasIdleConnection() && (retryCnt > 0 || _clockSkewManager.allowRequestSending()));\r\n                }\r\n                return result;\r\n            }\r\n            function _createDebugBatches(theBatches) {\r\n                var values = {};\r\n                if (theBatches) {\r\n                    arrForEach(theBatches, function (theBatch, idx) {\r\n                        values[idx] = {\r\n                            iKey: theBatch.iKey(),\r\n                            evts: theBatch.events()\r\n                        };\r\n                    });\r\n                }\r\n                return values;\r\n            }\r\n            function _sendBatches(theBatches, retryCount, isTeardown, sendType, sendReason) {\r\n                if (!theBatches || theBatches.length === 0) {\r\n                    // Nothing to do\r\n                    return;\r\n                }\r\n                if (_paused) {\r\n                    _sendBatchesNotification(theBatches, 1 /* EventBatchNotificationReason.Paused */, sendType);\r\n                    return;\r\n                }\r\n                // Make sure that if we are unloading the sendType is a supported version\r\n                sendType = _adjustSendType(sendType);\r\n                try {\r\n                    var orgBatches_1 = theBatches;\r\n                    var isSynchronous_1 = sendType !== 0 /* EventSendType.Batched */;\r\n                    doPerf(_core, function () { return \"HttpManager:_sendBatches\"; }, function (perfEvt) {\r\n                        if (perfEvt) {\r\n                            // Perf Monitoring is enabled, so create a \"Quick\" copy of the original batches so we still report\r\n                            // the original values as part of the perfEvent. This is because theBatches uses .shift() to remove each\r\n                            // batch as they are processed - removing from the original array, so by the time the _createDebugBatches()\r\n                            // function is called the passed in value has changed and therefore the reported value for the perfEvent is incorrect\r\n                            theBatches = theBatches.slice(0);\r\n                        }\r\n                        var droppedBatches = [];\r\n                        var thePayload = null;\r\n                        var serializationStart = getTime();\r\n                        var sendInterface = _sendInterfaces[sendType] || (isSynchronous_1 ? _sendInterfaces[1 /* EventSendType.Synchronous */] : _sendInterfaces[0 /* EventSendType.Batched */]);\r\n                        var sendTransport = sendInterface && sendInterface._transport;\r\n                        // Sync Fetch has the same payload limitation as sendBeacon -- 64kb limit\r\n                        var isReducedPayload = _canHaveReducedPayload && (_isUnloading || _isBeaconPayload(sendType) || (sendTransport === 3 /* TransportType.Beacon */ || (sendInterface._isSync && sendTransport === 2 /* TransportType.Fetch */)));\r\n                        while (_canSendPayload(theBatches, sendType, retryCount)) {\r\n                            var theBatch = theBatches.shift();\r\n                            if (theBatch && theBatch.count() > 0) {\r\n                                if (!_killSwitch.isTenantKilled(theBatch.iKey())) {\r\n                                    // Make sure we have a payload object\r\n                                    thePayload = thePayload || _serializer.createPayload(retryCount, isTeardown, isSynchronous_1, isReducedPayload, sendReason, sendType);\r\n                                    // Add the batch to the current payload\r\n                                    if (!_serializer.appendPayload(thePayload, theBatch, maxEventsPerBatch)) {\r\n                                        // Entire batch was not added so send the payload and retry adding this batch\r\n                                        _doPayloadSend(thePayload, serializationStart, getTime(), sendReason);\r\n                                        serializationStart = getTime();\r\n                                        theBatches = [theBatch].concat(theBatches);\r\n                                        thePayload = null;\r\n                                    }\r\n                                    else if (thePayload.overflow !== null) {\r\n                                        // Total Payload size was exceeded so send the payload and add the unsent as the next batch to send\r\n                                        theBatches = [thePayload.overflow].concat(theBatches);\r\n                                        thePayload.overflow = null;\r\n                                        _doPayloadSend(thePayload, serializationStart, getTime(), sendReason);\r\n                                        serializationStart = getTime();\r\n                                        thePayload = null;\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    droppedBatches.push(theBatch);\r\n                                }\r\n                            }\r\n                        }\r\n                        // Make sure to flush any remaining payload\r\n                        if (thePayload) {\r\n                            _doPayloadSend(thePayload, serializationStart, getTime(), sendReason);\r\n                        }\r\n                        if (theBatches.length > 0) {\r\n                            // Add any unsent batches back to the head of the queue\r\n                            _batchQueue = theBatches.concat(_batchQueue);\r\n                        }\r\n                        // Now send notification about any dropped events\r\n                        _sendBatchesNotification(droppedBatches, 8004 /* EventBatchNotificationReason.KillSwitch */, sendType);\r\n                    }, function () { return ({ batches: _createDebugBatches(orgBatches_1), retryCount: retryCount, isTeardown: isTeardown, isSynchronous: isSynchronous_1, sendReason: sendReason, useSendBeacon: _isBeaconPayload(sendType), sendType: sendType }); }, !isSynchronous_1);\r\n                }\r\n                catch (ex) {\r\n                    _throwInternal(_logger, 2 /* eLoggingSeverity.WARNING */, 48 /* _eInternalMessageId.CannotSerializeObject */, \"Unexpected Exception sending batch: \" + dumpObj(ex));\r\n                }\r\n            }\r\n            function _buildRequestDetails(thePayload, useHeaders) {\r\n                var requestDetails = {\r\n                    url: _urlString,\r\n                    hdrs: {},\r\n                    useHdrs: false // Assume no headers\r\n                };\r\n                if (!useHeaders) {\r\n                    // Attempt to map headers to a query string if possible\r\n                    objForEachKey(_headers, function (name, value) {\r\n                        if (_collectorHeaderToQs[name]) {\r\n                            _addRequestDetails(requestDetails, _collectorHeaderToQs[name], value, false);\r\n                        }\r\n                        else {\r\n                            // No mapping, so just include in the headers anyway (may not get sent if using sendBeacon())\r\n                            requestDetails.hdrs[name] = value;\r\n                            requestDetails.useHdrs = true;\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    // Copy the pre-defined headers into the payload headers\r\n                    requestDetails.hdrs = extend(requestDetails.hdrs, _headers);\r\n                    requestDetails.useHdrs = (objKeys(requestDetails.hdrs).length > 0);\r\n                }\r\n                _addRequestDetails(requestDetails, STR_CLIENT_ID, \"NO_AUTH\", useHeaders);\r\n                _addRequestDetails(requestDetails, STR_CLIENT_VERSION, FullVersionString, useHeaders);\r\n                var apiQsKeys = STR_EMPTY;\r\n                arrForEach(thePayload.apiKeys, function (apiKey) {\r\n                    if (apiQsKeys.length > 0) {\r\n                        apiQsKeys += \",\";\r\n                    }\r\n                    apiQsKeys += apiKey;\r\n                });\r\n                _addRequestDetails(requestDetails, STR_API_KEY, apiQsKeys, useHeaders);\r\n                _addRequestDetails(requestDetails, STR_UPLOAD_TIME, dateNow().toString(), useHeaders);\r\n                var msfpc = _getMsfpc(thePayload);\r\n                if (isValueAssigned(msfpc)) {\r\n                    requestDetails.url += \"&ext.intweb.msfpc=\" + msfpc;\r\n                }\r\n                if (_clockSkewManager.shouldAddClockSkewHeaders()) {\r\n                    _addRequestDetails(requestDetails, STR_TIME_DELTA_TO_APPLY, _clockSkewManager.getClockSkewHeaderValue(), useHeaders);\r\n                }\r\n                if (_core.getWParam) {\r\n                    var wParam = _core.getWParam();\r\n                    if (wParam >= 0) {\r\n                        requestDetails.url += \"&w=\" + wParam;\r\n                    }\r\n                }\r\n                for (var i = 0; i < _queryStringParameters.length; i++) {\r\n                    requestDetails.url += \"&\" + _queryStringParameters[i].name + \"=\" + _queryStringParameters[i].value;\r\n                }\r\n                return requestDetails;\r\n            }\r\n            function _setTimingValue(timings, name, value) {\r\n                timings[name] = timings[name] || {};\r\n                timings[name][_postManager.identifier] = value;\r\n            }\r\n            function _doPayloadSend(thePayload, serializationStart, serializationCompleted, sendReason) {\r\n                if (thePayload && thePayload.payloadBlob && thePayload.payloadBlob.length > 0) {\r\n                    var useSendHook_1 = !!_self.sendHook;\r\n                    var sendInterface_1 = _sendInterfaces[thePayload.sendType];\r\n                    // Send all data using a beacon style transport if closing mode is on or channel was teared down\r\n                    if (!_isBeaconPayload(thePayload.sendType) && thePayload.isBeacon && thePayload.sendReason === 2 /* SendRequestReason.Unload */) {\r\n                        sendInterface_1 = _sendInterfaces[2 /* EventSendType.SendBeacon */] || _sendInterfaces[3 /* EventSendType.SyncFetch */] || sendInterface_1;\r\n                    }\r\n                    var useHeaders_1 = _useHeaders;\r\n                    // Disable header usage if we know we are using sendBeacon as additional headers are not supported\r\n                    if (thePayload.isBeacon || sendInterface_1._transport === 3 /* TransportType.Beacon */) {\r\n                        useHeaders_1 = false;\r\n                    }\r\n                    var requestDetails_1 = _buildRequestDetails(thePayload, useHeaders_1);\r\n                    useHeaders_1 = useHeaders_1 || requestDetails_1.useHdrs;\r\n                    var sendEventStart_1 = getTime();\r\n                    doPerf(_core, function () { return \"HttpManager:_doPayloadSend\"; }, function () {\r\n                        // Increment the send attempt count and add timings after packaging (So it's not serialized in the 1st attempt)\r\n                        for (var batchLp = 0; batchLp < thePayload.batches.length; batchLp++) {\r\n                            var theBatch = thePayload.batches[batchLp];\r\n                            var theEvents = theBatch.events();\r\n                            for (var evtLp = 0; evtLp < theEvents.length; evtLp++) {\r\n                                var telemetryItem = theEvents[evtLp];\r\n                                if (_enableEventTimings) {\r\n                                    var timings = telemetryItem.timings = telemetryItem.timings || {};\r\n                                    _setTimingValue(timings, \"sendEventStart\", sendEventStart_1);\r\n                                    _setTimingValue(timings, \"serializationStart\", serializationStart);\r\n                                    _setTimingValue(timings, \"serializationCompleted\", serializationCompleted);\r\n                                }\r\n                                telemetryItem[strSendAttempt] > 0 ? telemetryItem[strSendAttempt]++ : telemetryItem[strSendAttempt] = 1;\r\n                            }\r\n                        }\r\n                        // Note: always sending this notification in a synchronous manner.\r\n                        _sendBatchesNotification(thePayload.batches, (1000 /* EventBatchNotificationReason.SendingUndefined */ + (sendReason || 0 /* SendRequestReason.Undefined */)), thePayload.sendType, true);\r\n                        // Disabling the use of const because of Issue: \r\n                        // - Task 9227844: [1DS] Some environments and packagers automatically \"freeze\" objects which are defined as const which causes any mutations to throw\r\n                        // eslint-disable-next-line prefer-const\r\n                        var orgPayloadData = {\r\n                            data: thePayload.payloadBlob,\r\n                            urlString: requestDetails_1.url,\r\n                            headers: requestDetails_1.hdrs,\r\n                            _thePayload: thePayload,\r\n                            _sendReason: sendReason,\r\n                            timeout: _xhrTimeout,\r\n                            disableXhrSync: _disableXhrSync,\r\n                            disableFetchKeepAlive: _disableFetchKeepAlive\r\n                        };\r\n                        // Only automatically add the following headers if already sending headers and we are not attempting to avoid an options call\r\n                        if (useHeaders_1) {\r\n                            if (!_hasHeader(orgPayloadData.headers, STR_CACHE_CONTROL)) {\r\n                                orgPayloadData.headers[STR_CACHE_CONTROL] = DEFAULT_CACHE_CONTROL;\r\n                            }\r\n                            if (!_hasHeader(orgPayloadData.headers, STR_CONTENT_TYPE_HEADER)) {\r\n                                orgPayloadData.headers[STR_CONTENT_TYPE_HEADER] = DEFAULT_CONTENT_TYPE;\r\n                            }\r\n                        }\r\n                        var sender = null;\r\n                        if (sendInterface_1) {\r\n                            // Send sync requests if the request is immediate or we are tearing down telemetry.\r\n                            sender = function (payload) {\r\n                                // Notify the clock skew manager that we are sending the first request (Potentially blocking all further requests)\r\n                                _clockSkewManager.firstRequestSent();\r\n                                var onComplete = function (status, headers) {\r\n                                    _retryRequestIfNeeded(status, headers, thePayload, sendReason);\r\n                                };\r\n                                var isSync = thePayload.isTeardown || thePayload.isSync;\r\n                                try {\r\n                                    sendInterface_1.sendPOST(payload, onComplete, isSync);\r\n                                    if (_self.sendListener) {\r\n                                        // Send the original payload to the listener\r\n                                        _self.sendListener(orgPayloadData, payload, isSync, thePayload.isBeacon);\r\n                                    }\r\n                                }\r\n                                catch (ex) {\r\n                                    _warnToConsole(_logger, \"Unexpected exception sending payload. Ex:\" + dumpObj(ex));\r\n                                    _doOnComplete(onComplete, 0, {});\r\n                                }\r\n                            };\r\n                        }\r\n                        doPerf(_core, function () { return \"HttpManager:_doPayloadSend.sender\"; }, function () {\r\n                            if (sender) {\r\n                                if (thePayload.sendType === 0 /* EventSendType.Batched */) {\r\n                                    _outstandingRequests++;\r\n                                }\r\n                                // Only call the hook if it's defined and we are not using sendBeacon as additional headers are not supported\r\n                                if (useSendHook_1 && !thePayload.isBeacon && sendInterface_1._transport !== 3 /* TransportType.Beacon */) {\r\n                                    // Create a new IPayloadData that is sent into the hook method, so that the hook method\r\n                                    // can't change the object references to the orgPayloadData (it can still change the content -- mainly the headers)\r\n                                    // Disabling the use of const because of Issue: \r\n                                    // - Task 9227844: [1DS] Some environments and packagers automatically \"freeze\" objects which are defined as const which causes any mutations to throw\r\n                                    // eslint-disable-next-line prefer-const\r\n                                    var hookData_1 = {\r\n                                        data: orgPayloadData.data,\r\n                                        urlString: orgPayloadData.urlString,\r\n                                        headers: extend({}, orgPayloadData.headers),\r\n                                        timeout: orgPayloadData.timeout,\r\n                                        disableXhrSync: orgPayloadData.disableXhrSync,\r\n                                        disableFetchKeepAlive: orgPayloadData.disableFetchKeepAlive\r\n                                    };\r\n                                    var senderCalled_1 = false;\r\n                                    doPerf(_core, function () { return \"HttpManager:_doPayloadSend.sendHook\"; }, function () {\r\n                                        try {\r\n                                            _self.sendHook(hookData_1, function (payload) {\r\n                                                senderCalled_1 = true;\r\n                                                // Add back the internal properties\r\n                                                if (!_customHttpInterface && !payload._thePayload) {\r\n                                                    payload._thePayload = payload._thePayload || orgPayloadData._thePayload;\r\n                                                    payload._sendReason = payload._sendReason || orgPayloadData._sendReason;\r\n                                                }\r\n                                                sender(payload);\r\n                                            }, thePayload.isSync || thePayload.isTeardown);\r\n                                        }\r\n                                        catch (ex) {\r\n                                            if (!senderCalled_1) {\r\n                                                // The hook never called the sender -- assume that it never will\r\n                                                sender(orgPayloadData);\r\n                                            }\r\n                                        }\r\n                                    });\r\n                                }\r\n                                else {\r\n                                    sender(orgPayloadData);\r\n                                }\r\n                            }\r\n                        });\r\n                    }, function () { return ({ thePayload: thePayload, serializationStart: serializationStart, serializationCompleted: serializationCompleted, sendReason: sendReason }); }, thePayload.isSync);\r\n                }\r\n                if (thePayload.sizeExceed && thePayload.sizeExceed.length > 0) {\r\n                    // Ensure that we send any discard events for oversize events even when there was no payload to send\r\n                    _sendBatchesNotification(thePayload.sizeExceed, 8003 /* EventBatchNotificationReason.SizeLimitExceeded */, thePayload.sendType);\r\n                }\r\n                if (thePayload.failedEvts && thePayload.failedEvts.length > 0) {\r\n                    // Ensure that we send any discard events for events that could not be serialized even when there was no payload to send\r\n                    _sendBatchesNotification(thePayload.failedEvts, 8002 /* EventBatchNotificationReason.InvalidEvent */, thePayload.sendType);\r\n                }\r\n            }\r\n            function _addEventCompletedTimings(theEvents, sendEventCompleted) {\r\n                if (_enableEventTimings) {\r\n                    arrForEach(theEvents, function (theEvent) {\r\n                        var timings = theEvent.timings = theEvent.timings || {};\r\n                        _setTimingValue(timings, \"sendEventCompleted\", sendEventCompleted);\r\n                    });\r\n                }\r\n            }\r\n            function _retryRequestIfNeeded(status, headers, thePayload, sendReason) {\r\n                var reason = 9000 /* EventBatchNotificationReason.ResponseFailure */;\r\n                var droppedBatches = null;\r\n                var isRetrying = false;\r\n                var backOffTrans = false;\r\n                try {\r\n                    var shouldRetry = true;\r\n                    if (typeof status !== strUndefined) {\r\n                        if (headers) {\r\n                            _clockSkewManager.setClockSkew(headers[STR_TIME_DELTA_HEADER]);\r\n                            var killDuration = headers[STR_KILL_DURATION_HEADER] || headers[\"kill-duration-seconds\"];\r\n                            arrForEach(_killSwitch.setKillSwitchTenants(headers[STR_KILL_TOKENS_HEADER], killDuration), function (killToken) {\r\n                                arrForEach(thePayload.batches, function (theBatch) {\r\n                                    if (theBatch.iKey() === killToken) {\r\n                                        // Make sure we have initialized the array\r\n                                        droppedBatches = droppedBatches || [];\r\n                                        // Create a copy of the batch with all of the events (and more importantly the action functions)\r\n                                        var removedEvents = theBatch.split(0);\r\n                                        // And then remove the events for the payload batch and reduce the actual number of processed\r\n                                        thePayload.numEvents -= removedEvents.count();\r\n                                        droppedBatches.push(removedEvents);\r\n                                    }\r\n                                });\r\n                            });\r\n                        }\r\n                        // Disabling triple-equals rule to avoid httpOverrides from failing because they are returning a string value\r\n                        // tslint:disable-next-line:triple-equals\r\n                        if (status == 200 || status == 204) {\r\n                            // Response was successfully sent\r\n                            reason = 200 /* EventBatchNotificationReason.Complete */;\r\n                            return;\r\n                        }\r\n                        if (!retryPolicyShouldRetryForStatus(status) || thePayload.numEvents <= 0) {\r\n                            // Only retry for specific response codes and if there is still events after kill switch processing\r\n                            shouldRetry = false;\r\n                        }\r\n                        // Derive the notification response from the HttpStatus Code\r\n                        reason = 9000 /* EventBatchNotificationReason.ResponseFailure */ + (status % 1000);\r\n                    }\r\n                    if (shouldRetry) {\r\n                        // The events should be retried -- so change notification to requeue them\r\n                        reason = 100 /* EventBatchNotificationReason.RequeueEvents */;\r\n                        var retryCount_1 = thePayload.retryCnt;\r\n                        if (thePayload.sendType === 0 /* EventSendType.Batched */) {\r\n                            // attempt to resend the entire batch\r\n                            if (retryCount_1 < maxRequestRetriesBeforeBackoff) {\r\n                                isRetrying = true;\r\n                                _doAction(function () {\r\n                                    // try to resend the same batches\r\n                                    if (thePayload.sendType === 0 /* EventSendType.Batched */) {\r\n                                        // Reduce the outstanding request count (if this was an async request) as we didn't reduce the count\r\n                                        // previously and we are about to reschedule our retry attempt and we want an attempt to send\r\n                                        // to occur, it's also required to ensure that a follow up handleRequestFinished() call occurs\r\n                                        _outstandingRequests--;\r\n                                    }\r\n                                    _sendBatches(thePayload.batches, retryCount_1 + 1, thePayload.isTeardown, _isUnloading ? 2 /* EventSendType.SendBeacon */ : thePayload.sendType, 5 /* SendRequestReason.Retry */);\r\n                                }, _isUnloading, retryPolicyGetMillisToBackoffForRetry(retryCount_1));\r\n                            }\r\n                            else {\r\n                                backOffTrans = true;\r\n                                if (_isUnloading) {\r\n                                    // we are unloading so don't try and requeue the events otherwise let the events get requeued and resent during the backoff sending\r\n                                    // This will also cause the events to be purged based on the priority (if necessary)\r\n                                    reason = 8001 /* EventBatchNotificationReason.NonRetryableStatus */;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                finally {\r\n                    if (!isRetrying) {\r\n                        // Make sure the clockSkewManager doesn't blocking further sending of requests once we have a proper response\r\n                        // This won't override any previously sent clock Skew value\r\n                        _clockSkewManager.setClockSkew();\r\n                        _handleRequestFinished(thePayload, reason, sendReason, backOffTrans);\r\n                    }\r\n                    _sendBatchesNotification(droppedBatches, 8004 /* EventBatchNotificationReason.KillSwitch */, thePayload.sendType);\r\n                }\r\n            }\r\n            function _handleRequestFinished(thePayload, batchReason, sendReason, backOffTrans) {\r\n                try {\r\n                    if (backOffTrans) {\r\n                        // Slow down the transmission requests\r\n                        _postManager._backOffTransmission();\r\n                    }\r\n                    if (batchReason === 200 /* EventBatchNotificationReason.Complete */) {\r\n                        if (!backOffTrans && !thePayload.isSync) {\r\n                            // We have a successful async response, so the lets open the floodgates\r\n                            // The reason for checking isSync is to avoid unblocking if beacon send occurred as it\r\n                            // doesn't wait for a response.\r\n                            _postManager._clearBackOff();\r\n                        }\r\n                        _addCompleteTimings(thePayload.batches);\r\n                    }\r\n                    // Send the notifications synchronously\r\n                    _sendBatchesNotification(thePayload.batches, batchReason, thePayload.sendType, true);\r\n                }\r\n                finally {\r\n                    if (thePayload.sendType === 0 /* EventSendType.Batched */) {\r\n                        // we always need to decrement this value otherwise the httpmanager locks up and won't send any more events\r\n                        _outstandingRequests--;\r\n                        // Don't try to send additional queued events if this is a retry operation as the retried\r\n                        // response will eventually call _handleRequestFinished for the retried event\r\n                        if (sendReason !== 5 /* SendRequestReason.Retry */) {\r\n                            // Try and send any other queued batched events\r\n                            _self.sendQueuedRequests(thePayload.sendType, sendReason);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            function _addCompleteTimings(theBatches) {\r\n                if (_enableEventTimings) {\r\n                    var sendEventCompleted_1 = getTime();\r\n                    arrForEach(theBatches, function (theBatch) {\r\n                        if (theBatch && theBatch.count() > 0) {\r\n                            _addEventCompletedTimings(theBatch.events(), sendEventCompleted_1);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            function _doAction(cb, isSync, interval) {\r\n                if (isSync) {\r\n                    cb();\r\n                }\r\n                else {\r\n                    timeoutOverride.set(cb, interval);\r\n                }\r\n            }\r\n            /**\r\n            * Converts the XHR getAllResponseHeaders to a map containing the header key and value.\r\n            */\r\n            // tslint:disable-next-line: align\r\n            function _convertAllHeadersToMap(headersString) {\r\n                var headers = {};\r\n                if (isString(headersString)) {\r\n                    var headersArray = strTrim(headersString).split(/[\\r\\n]+/);\r\n                    arrForEach(headersArray, function (headerEntry) {\r\n                        if (headerEntry) {\r\n                            var idx = headerEntry.indexOf(\": \");\r\n                            if (idx !== -1) {\r\n                                // The new spec has the headers returning all as lowercase -- but not all browsers do this yet\r\n                                var header = strTrim(headerEntry.substring(0, idx)).toLowerCase();\r\n                                var value = strTrim(headerEntry.substring(idx + 1));\r\n                                headers[header] = value;\r\n                            }\r\n                            else {\r\n                                headers[strTrim(headerEntry)] = 1;\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                return headers;\r\n            }\r\n            function _getMsfpc(thePayload) {\r\n                for (var lp = 0; lp < thePayload.batches.length; lp++) {\r\n                    var msfpc = thePayload.batches[lp].Msfpc();\r\n                    if (msfpc) {\r\n                        return encodeURIComponent(msfpc);\r\n                    }\r\n                }\r\n                return STR_EMPTY;\r\n            }\r\n            function _handleCollectorResponse(responseText) {\r\n                var responseHandlers = _self._responseHandlers;\r\n                try {\r\n                    for (var i = 0; i < responseHandlers.length; i++) {\r\n                        try {\r\n                            responseHandlers[i](responseText);\r\n                        }\r\n                        catch (e) {\r\n                            _throwInternal(_logger, 1 /* eLoggingSeverity.CRITICAL */, 519 /* _eExtendedInternalMessageId.PostResponseHandler */, \"Response handler failed: \" + e);\r\n                        }\r\n                    }\r\n                    if (responseText) {\r\n                        var response = JSON.parse(responseText);\r\n                        if (isValueAssigned(response.webResult) && isValueAssigned(response.webResult[STR_MSFPC])) {\r\n                            // Set cookie\r\n                            _cookieMgr.set(\"MSFPC\", response.webResult[STR_MSFPC], 365 * 86400);\r\n                        }\r\n                    }\r\n                }\r\n                catch (ex) {\r\n                    // Doing nothing\r\n                }\r\n            }\r\n            function _sendBatchesNotification(theBatches, batchReason, sendType, sendSync) {\r\n                if (theBatches && theBatches.length > 0 && actions) {\r\n                    var theAction_1 = actions[_getNotificationAction(batchReason)];\r\n                    if (theAction_1) {\r\n                        var isSyncRequest_1 = sendType !== 0 /* EventSendType.Batched */;\r\n                        doPerf(_core, function () { return \"HttpManager:_sendBatchesNotification\"; }, function () {\r\n                            _doAction(function () {\r\n                                try {\r\n                                    theAction_1.call(actions, theBatches, batchReason, isSyncRequest_1, sendType);\r\n                                }\r\n                                catch (e) {\r\n                                    _throwInternal(_logger, 1 /* eLoggingSeverity.CRITICAL */, 74 /* _eInternalMessageId.NotificationException */, \"send request notification failed: \" + e);\r\n                                }\r\n                            }, sendSync || isSyncRequest_1, 0);\r\n                        }, function () { return ({ batches: _createDebugBatches(theBatches), reason: batchReason, isSync: isSyncRequest_1, sendSync: sendSync, sendType: sendType }); }, !isSyncRequest_1);\r\n                    }\r\n                }\r\n            }\r\n            function _getNotificationAction(reason) {\r\n                var action = _eventActionMap[reason];\r\n                if (!isValueAssigned(action)) {\r\n                    action = STR_OTHER;\r\n                    if (reason >= 9000 /* EventBatchNotificationReason.ResponseFailure */ && reason <= 9999 /* EventBatchNotificationReason.ResponseFailureMax */) {\r\n                        action = STR_RESPONSE_FAIL;\r\n                    }\r\n                    else if (reason >= 8000 /* EventBatchNotificationReason.EventsDropped */ && reason <= 8999 /* EventBatchNotificationReason.EventsDroppedMax */) {\r\n                        action = STR_DROPPED;\r\n                    }\r\n                    else if (reason >= 1000 /* EventBatchNotificationReason.SendingUndefined */ && reason <= 1999 /* EventBatchNotificationReason.SendingEventMax */) {\r\n                        action = STR_SENDING;\r\n                    }\r\n                }\r\n                return action;\r\n            }\r\n        });\r\n    }\r\n// Removed Stub for HttpManager.prototype.initialize.\r\n// Removed Stub for HttpManager.prototype.addQueryStringParameter.\r\n// Removed Stub for HttpManager.prototype.addHeader.\r\n// Removed Stub for HttpManager.prototype.addBatch.\r\n// Removed Stub for HttpManager.prototype.canSendRequest.\r\n// Removed Stub for HttpManager.prototype.sendQueuedRequests.\r\n// Removed Stub for HttpManager.prototype.isCompletelyIdle.\r\n// Removed Stub for HttpManager.prototype.setUnloading.\r\n// Removed Stub for HttpManager.prototype.teardown.\r\n// Removed Stub for HttpManager.prototype.pause.\r\n// Removed Stub for HttpManager.prototype.resume.\r\n// Removed Stub for HttpManager.prototype.sendSynchronousBatch.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    HttpManager.__ieDyn=1;\n\n    return HttpManager;\r\n}());\r\nexport { HttpManager };\r\n//# sourceMappingURL=HttpManager.js.map", "/*\n * 1DS JS SDK POST plugin, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* TimeoutOverrideWrapper.ts\r\n* @author  Nev Wylie (newylie)\r\n* @copyright Microsoft 2022\r\n* Simple internal timeout wrapper\r\n*/\r\nexport function defaultSetTimeout(callback, ms) {\r\n    var args = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        args[_i - 2] = arguments[_i];\r\n    }\r\n    return setTimeout(callback, ms, args);\r\n}\r\nexport function defaultClearTimeout(timeoutId) {\r\n    clearTimeout(timeoutId);\r\n}\r\nexport function createTimeoutWrapper(argSetTimeout, argClearTimeout) {\r\n    return {\r\n        set: argSetTimeout || defaultSetTimeout,\r\n        clear: argClearTimeout || defaultClearTimeout\r\n    };\r\n}\r\n//# sourceMappingURL=TimeoutOverrideWrapper.js.map", "/*\n * 1DS JS SDK POST plugin, 3.2.12\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nimport { __extendsFn as __extends } from \"@microsoft/applicationinsights-shims\";\r\n/**\r\n* PostManager.ts\r\n* @author Abhilash Panwar (abpanwar); Hector Hernandez (hectorh); Nev Wylie (newylie)\r\n* @copyright Microsoft 2018-2020\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { BaseTelemetryPlugin, EventsDiscardedReason, _throwInternal, addPageHideEventListener, addPageShowEventListener, addPageUnloadEventListener, arrForEach, createUniqueNamespace, doPerf, getWindow, isChromium, isNumber, isValueAssigned, mergeEvtNamespace, objDefineAccessors, objForEachKey, optimizeObject, removePageHideEventListener, removePageShowEventListener, removePageUnloadEventListener, setProcessTelemetryTimings } from \"@microsoft/1ds-core-js\";\r\nimport { BE_PROFILE, NRT_PROFILE, RT_PROFILE } from \"./DataModels\";\r\nimport { EventBatch } from \"./EventBatch\";\r\nimport { HttpManager } from \"./HttpManager\";\r\nimport { STR_MSA_DEVICE_TICKET, STR_TRACE, STR_USER } from \"./InternalConstants\";\r\nimport { retryPolicyGetMillisToBackoffForRetry } from \"./RetryPolicy\";\r\nimport { createTimeoutWrapper } from \"./TimeoutOverrideWrapper\";\r\nvar FlushCheckTimer = 0.250; // This needs to be in seconds, so this is 250ms\r\nvar MaxNumberEventPerBatch = 500;\r\nvar EventsDroppedAtOneTime = 20;\r\nvar MaxSendAttempts = 6;\r\nvar MaxSyncUnloadSendAttempts = 2; // Assuming 2 based on beforeunload and unload\r\nvar MaxBackoffCount = 4;\r\nvar MaxConnections = 2;\r\nvar MaxRequestRetriesBeforeBackoff = 1;\r\nvar strEventsDiscarded = \"eventsDiscarded\";\r\nvar strOverrideInstrumentationKey = \"overrideInstrumentationKey\";\r\nvar strMaxEventRetryAttempts = \"maxEventRetryAttempts\";\r\nvar strMaxUnloadEventRetryAttempts = \"maxUnloadEventRetryAttempts\";\r\nvar strAddUnloadCb = \"addUnloadCb\";\r\n/**\r\n * Class that manages adding events to inbound queues and batching of events\r\n * into requests.\r\n */\r\nvar PostChannel = /** @class */ (function (_super) {\r\n    __extends(PostChannel, _super);\r\n    function PostChannel() {\r\n        var _this = _super.call(this) || this;\r\n        _this.identifier = \"PostChannel\";\r\n        _this.priority = 1011;\r\n        _this.version = '3.2.12';\r\n        var _config;\r\n        var _isTeardownCalled = false;\r\n        var _flushCallbackQueue = [];\r\n        var _flushCallbackTimerId = null;\r\n        var _paused = false;\r\n        var _immediateQueueSize = 0;\r\n        var _immediateQueueSizeLimit = 500;\r\n        var _queueSize = 0;\r\n        var _queueSizeLimit = 10000;\r\n        var _profiles = {};\r\n        var _currentProfile = RT_PROFILE;\r\n        var _scheduledTimerId = null;\r\n        var _immediateTimerId = null;\r\n        var _currentBackoffCount = 0;\r\n        var _timerCount = 0;\r\n        var _xhrOverride;\r\n        var _httpManager;\r\n        var _batchQueues = {};\r\n        var _autoFlushEventsLimit;\r\n        // either MaxBatchSize * (1+ Max Connections) or _queueLimit / 6 (where 3 latency Queues [normal, realtime, cost deferred] * 2 [allow half full -- allow for retry])\r\n        var _autoFlushBatchLimit;\r\n        var _delayedBatchSendLatency = -1;\r\n        var _delayedBatchReason;\r\n        var _optimizeObject = true;\r\n        var _isPageUnloadTriggered = false;\r\n        var _maxEventSendAttempts = MaxSendAttempts;\r\n        var _maxUnloadEventSendAttempts = MaxSyncUnloadSendAttempts;\r\n        var _evtNamespace;\r\n        var _timeoutWrapper;\r\n        dynamicProto(PostChannel, _this, function (_self, _base) {\r\n            _initDefaults();\r\n            // Special internal method to allow the DebugPlugin to hook embedded objects\r\n            _self[\"_getDbgPlgTargets\"] = function () {\r\n                return [_httpManager];\r\n            };\r\n            _self.initialize = function (coreConfig, core, extensions) {\r\n                doPerf(core, function () { return \"PostChannel:initialize\"; }, function () {\r\n                    var extendedCore = core;\r\n                    _base.initialize(coreConfig, core, extensions);\r\n                    try {\r\n                        var hasAddUnloadCb = !!core[strAddUnloadCb];\r\n                        _evtNamespace = mergeEvtNamespace(createUniqueNamespace(_self.identifier), core.evtNamespace && core.evtNamespace());\r\n                        var ctx = _self._getTelCtx();\r\n                        coreConfig.extensionConfig[_self.identifier] = coreConfig.extensionConfig[_self.identifier] || {};\r\n                        _config = ctx.getExtCfg(_self.identifier);\r\n                        _timeoutWrapper = createTimeoutWrapper(_config.setTimeoutOverride, _config.clearTimeoutOverride);\r\n                        // Only try and use the optimizeObject() if this appears to be a chromium based browser and it has not been explicitly disabled\r\n                        _optimizeObject = !_config.disableOptimizeObj && isChromium();\r\n                        _hookWParam(extendedCore);\r\n                        if (_config.eventsLimitInMem > 0) {\r\n                            _queueSizeLimit = _config.eventsLimitInMem;\r\n                        }\r\n                        if (_config.immediateEventLimit > 0) {\r\n                            _immediateQueueSizeLimit = _config.immediateEventLimit;\r\n                        }\r\n                        if (_config.autoFlushEventsLimit > 0) {\r\n                            _autoFlushEventsLimit = _config.autoFlushEventsLimit;\r\n                        }\r\n                        if (isNumber(_config[strMaxEventRetryAttempts])) {\r\n                            _maxEventSendAttempts = _config[strMaxEventRetryAttempts];\r\n                        }\r\n                        if (isNumber(_config[strMaxUnloadEventRetryAttempts])) {\r\n                            _maxUnloadEventSendAttempts = _config[strMaxUnloadEventRetryAttempts];\r\n                        }\r\n                        _setAutoLimits();\r\n                        if (_config.httpXHROverride && _config.httpXHROverride.sendPOST) {\r\n                            _xhrOverride = _config.httpXHROverride;\r\n                        }\r\n                        if (isValueAssigned(coreConfig.anonCookieName)) {\r\n                            _httpManager.addQueryStringParameter(\"anoncknm\", coreConfig.anonCookieName);\r\n                        }\r\n                        _httpManager.sendHook = _config.payloadPreprocessor;\r\n                        _httpManager.sendListener = _config.payloadListener;\r\n                        // Override endpointUrl if provided in Post config\r\n                        var endpointUrl = _config.overrideEndpointUrl ? _config.overrideEndpointUrl : coreConfig.endpointUrl;\r\n                        _self._notificationManager = core.getNotifyMgr();\r\n                        _httpManager.initialize(endpointUrl, _self.core, _self, _xhrOverride, _config);\r\n                        var excludePageUnloadEvents = coreConfig.disablePageUnloadEvents || [];\r\n                        // When running in Web browsers try to send all telemetry if page is unloaded\r\n                        addPageUnloadEventListener(_handleUnloadEvents, excludePageUnloadEvents, _evtNamespace);\r\n                        addPageHideEventListener(_handleUnloadEvents, excludePageUnloadEvents, _evtNamespace);\r\n                        addPageShowEventListener(_handleShowEvents, coreConfig.disablePageShowEvents, _evtNamespace);\r\n                    }\r\n                    catch (e) {\r\n                        // resetting the initialized state because of failure\r\n                        _self.setInitialized(false);\r\n                        throw e;\r\n                    }\r\n                }, function () { return ({ coreConfig: coreConfig, core: core, extensions: extensions }); });\r\n            };\r\n            _self.processTelemetry = function (ev, itemCtx) {\r\n                setProcessTelemetryTimings(ev, _self.identifier);\r\n                itemCtx = _self._getTelCtx(itemCtx);\r\n                // Get the channel instance from the current request/instance\r\n                var channelConfig = itemCtx.getExtCfg(_self.identifier);\r\n                // DisableTelemetry was defined in the config provided during initialization\r\n                var disableTelemetry = !!_config.disableTelemetry;\r\n                if (channelConfig) {\r\n                    // DisableTelemetry is defined in the config for this request/instance\r\n                    disableTelemetry = disableTelemetry || !!channelConfig.disableTelemetry;\r\n                }\r\n                var event = ev;\r\n                if (!disableTelemetry && !_isTeardownCalled) {\r\n                    // Override iKey if provided in Post config if provided for during initialization\r\n                    if (_config[strOverrideInstrumentationKey]) {\r\n                        event.iKey = _config[strOverrideInstrumentationKey];\r\n                    }\r\n                    // Override iKey if provided in Post config if provided for this instance\r\n                    if (channelConfig && channelConfig[strOverrideInstrumentationKey]) {\r\n                        event.iKey = channelConfig[strOverrideInstrumentationKey];\r\n                    }\r\n                    _addEventToQueues(event, true);\r\n                    if (_isPageUnloadTriggered) {\r\n                        // Unload event has been received so we need to try and flush new events\r\n                        _releaseAllQueues(2 /* EventSendType.SendBeacon */, 2 /* SendRequestReason.Unload */);\r\n                    }\r\n                    else {\r\n                        _scheduleTimer();\r\n                    }\r\n                }\r\n                _self.processNext(event, itemCtx);\r\n            };\r\n            _self._doTeardown = function (unloadCtx, unloadState) {\r\n                _releaseAllQueues(2 /* EventSendType.SendBeacon */, 2 /* SendRequestReason.Unload */);\r\n                _isTeardownCalled = true;\r\n                _httpManager.teardown();\r\n                removePageUnloadEventListener(null, _evtNamespace);\r\n                removePageHideEventListener(null, _evtNamespace);\r\n                removePageShowEventListener(null, _evtNamespace);\r\n                // Just register to remove all events associated with this namespace\r\n                _initDefaults();\r\n            };\r\n            function _hookWParam(extendedCore) {\r\n                var existingGetWParamMethod = extendedCore.getWParam;\r\n                extendedCore.getWParam = function () {\r\n                    var wparam = 0;\r\n                    if (_config.ignoreMc1Ms0CookieProcessing) {\r\n                        wparam = wparam | 2;\r\n                    }\r\n                    return wparam | existingGetWParamMethod();\r\n                };\r\n            }\r\n            // Moving event handlers out from the initialize closure so that any local variables can be garbage collected\r\n            function _handleUnloadEvents(evt) {\r\n                var theEvt = evt || getWindow().event; // IE 8 does not pass the event\r\n                if (theEvt.type !== \"beforeunload\") {\r\n                    // Only set the unload trigger if not beforeunload event as beforeunload can be cancelled while the other events can't\r\n                    _isPageUnloadTriggered = true;\r\n                    _httpManager.setUnloading(_isPageUnloadTriggered);\r\n                }\r\n                _releaseAllQueues(2 /* EventSendType.SendBeacon */, 2 /* SendRequestReason.Unload */);\r\n            }\r\n            function _handleShowEvents(evt) {\r\n                // Handle the page becoming visible again\r\n                _isPageUnloadTriggered = false;\r\n                _httpManager.setUnloading(_isPageUnloadTriggered);\r\n            }\r\n            function _addEventToQueues(event, append) {\r\n                // If send attempt field is undefined we should set it to 0.\r\n                if (!event.sendAttempt) {\r\n                    event.sendAttempt = 0;\r\n                }\r\n                // Add default latency\r\n                if (!event.latency) {\r\n                    event.latency = 1 /* EventLatencyValue.Normal */;\r\n                }\r\n                // Remove extra AI properties if present\r\n                if (event.ext && event.ext[STR_TRACE]) {\r\n                    delete (event.ext[STR_TRACE]);\r\n                }\r\n                if (event.ext && event.ext[STR_USER] && event.ext[STR_USER][\"id\"]) {\r\n                    delete (event.ext[STR_USER][\"id\"]);\r\n                }\r\n                // v8 performance optimization for iterating over the keys\r\n                if (_optimizeObject) {\r\n                    setProcessTelemetryTimings;\r\n                    event.ext = optimizeObject(event.ext);\r\n                    if (event.baseData) {\r\n                        event.baseData = optimizeObject(event.baseData);\r\n                    }\r\n                    if (event.data) {\r\n                        event.data = optimizeObject(event.data);\r\n                    }\r\n                }\r\n                if (event.sync) {\r\n                    // If the transmission is backed off then do not send synchronous events.\r\n                    // We will convert these events to Real time latency instead.\r\n                    if (_currentBackoffCount || _paused) {\r\n                        event.latency = 3 /* EventLatencyValue.RealTime */;\r\n                        event.sync = false;\r\n                    }\r\n                    else {\r\n                        // Log the event synchronously\r\n                        if (_httpManager) {\r\n                            // v8 performance optimization for iterating over the keys\r\n                            if (_optimizeObject) {\r\n                                event = optimizeObject(event);\r\n                            }\r\n                            _httpManager.sendSynchronousBatch(EventBatch.create(event.iKey, [event]), event.sync === true ? 1 /* EventSendType.Synchronous */ : event.sync, 3 /* SendRequestReason.SyncEvent */);\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n                var evtLatency = event.latency;\r\n                var queueSize = _queueSize;\r\n                var queueLimit = _queueSizeLimit;\r\n                if (evtLatency === 4 /* EventLatencyValue.Immediate */) {\r\n                    queueSize = _immediateQueueSize;\r\n                    queueLimit = _immediateQueueSizeLimit;\r\n                }\r\n                var eventDropped = false;\r\n                // Only add the event if the queue isn't full or it's a direct event (which don't add to the queue sizes)\r\n                if (queueSize < queueLimit) {\r\n                    eventDropped = !_addEventToProperQueue(event, append);\r\n                }\r\n                else {\r\n                    var dropLatency = 1 /* EventLatencyValue.Normal */;\r\n                    var dropNumber = EventsDroppedAtOneTime;\r\n                    if (evtLatency === 4 /* EventLatencyValue.Immediate */) {\r\n                        // Only drop other immediate events as they are not technically sharing the general queue\r\n                        dropLatency = 4 /* EventLatencyValue.Immediate */;\r\n                        dropNumber = 1;\r\n                    }\r\n                    // Drop old event from lower or equal latency\r\n                    eventDropped = true;\r\n                    if (_dropEventWithLatencyOrLess(event.iKey, event.latency, dropLatency, dropNumber)) {\r\n                        eventDropped = !_addEventToProperQueue(event, append);\r\n                    }\r\n                }\r\n                if (eventDropped) {\r\n                    // Can't drop events from current queues because the all the slots are taken by queues that are being flushed.\r\n                    _notifyEvents(strEventsDiscarded, [event], EventsDiscardedReason.QueueFull);\r\n                }\r\n            }\r\n            _self.setEventQueueLimits = function (eventLimit, autoFlushLimit) {\r\n                _queueSizeLimit = eventLimit > 0 ? eventLimit : 10000;\r\n                _autoFlushEventsLimit = autoFlushLimit > 0 ? autoFlushLimit : 0;\r\n                _setAutoLimits();\r\n                // We only do this check here as during normal event addition if the queue is > then events start getting dropped\r\n                var doFlush = _queueSize > eventLimit;\r\n                if (!doFlush && _autoFlushBatchLimit > 0) {\r\n                    // Check the auto flush max batch size\r\n                    for (var latency = 1 /* EventLatencyValue.Normal */; !doFlush && latency <= 3 /* EventLatencyValue.RealTime */; latency++) {\r\n                        var batchQueue = _batchQueues[latency];\r\n                        if (batchQueue && batchQueue.batches) {\r\n                            arrForEach(batchQueue.batches, function (theBatch) {\r\n                                if (theBatch && theBatch.count() >= _autoFlushBatchLimit) {\r\n                                    // If any 1 batch is > than the limit then trigger an auto flush\r\n                                    doFlush = true;\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                _performAutoFlush(true, doFlush);\r\n            };\r\n            _self.pause = function () {\r\n                _clearScheduledTimer();\r\n                _paused = true;\r\n                _httpManager.pause();\r\n            };\r\n            _self.resume = function () {\r\n                _paused = false;\r\n                _httpManager.resume();\r\n                _scheduleTimer();\r\n            };\r\n            _self.addResponseHandler = function (responseHandler) {\r\n                _httpManager._responseHandlers.push(responseHandler);\r\n            };\r\n            _self._loadTransmitProfiles = function (profiles) {\r\n                _resetTransmitProfiles();\r\n                objForEachKey(profiles, function (profileName, profileValue) {\r\n                    var profLen = profileValue.length;\r\n                    if (profLen >= 2) {\r\n                        var directValue = (profLen > 2 ? profileValue[2] : 0);\r\n                        profileValue.splice(0, profLen - 2);\r\n                        // Make sure if a higher latency is set to not send then don't send lower latency\r\n                        if (profileValue[1] < 0) {\r\n                            profileValue[0] = -1;\r\n                        }\r\n                        // Make sure each latency is multiple of the latency higher then it. If not a multiple\r\n                        // we round up so that it becomes a multiple.\r\n                        if (profileValue[1] > 0 && profileValue[0] > 0) {\r\n                            var timerMultiplier = profileValue[0] / profileValue[1];\r\n                            profileValue[0] = Math.ceil(timerMultiplier) * profileValue[1];\r\n                        }\r\n                        // Add back the direct profile timeout\r\n                        if (directValue >= 0 && profileValue[1] >= 0 && directValue > profileValue[1]) {\r\n                            // Make sure if it's not disabled (< 0) then make sure it's not larger than RealTime\r\n                            directValue = profileValue[1];\r\n                        }\r\n                        profileValue.push(directValue);\r\n                        _profiles[profileName] = profileValue;\r\n                    }\r\n                });\r\n            };\r\n            _self.flush = function (async, callback, sendReason) {\r\n                if (async === void 0) { async = true; }\r\n                if (!_paused) {\r\n                    sendReason = sendReason || 1 /* SendRequestReason.ManualFlush */;\r\n                    if (async) {\r\n                        if (_flushCallbackTimerId == null) {\r\n                            // Clear the normal schedule timer as we are going to try and flush ASAP\r\n                            _clearScheduledTimer();\r\n                            // Move all queued events to the HttpManager so that we don't discard new events (Auto flush scenario)\r\n                            _queueBatches(1 /* EventLatencyValue.Normal */, 0 /* EventSendType.Batched */, sendReason);\r\n                            _flushCallbackTimerId = _createTimer(function () {\r\n                                _flushCallbackTimerId = null;\r\n                                _flushImpl(callback, sendReason);\r\n                            }, 0);\r\n                        }\r\n                        else {\r\n                            // Even if null (no callback) this will ensure after the flushImpl finishes waiting\r\n                            // for a completely idle connection it will attempt to re-flush any queued events on the next cycle\r\n                            _flushCallbackQueue.push(callback);\r\n                        }\r\n                    }\r\n                    else {\r\n                        // Clear the normal schedule timer as we are going to try and flush ASAP\r\n                        var cleared = _clearScheduledTimer();\r\n                        // Now cause all queued events to be sent synchronously\r\n                        _sendEventsForLatencyAndAbove(1 /* EventLatencyValue.Normal */, 1 /* EventSendType.Synchronous */, sendReason);\r\n                        if (callback !== null && callback !== undefined) {\r\n                            callback();\r\n                        }\r\n                        if (cleared) {\r\n                            // restart the normal event timer if it was cleared\r\n                            _scheduleTimer();\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            _self.setMsaAuthTicket = function (ticket) {\r\n                _httpManager.addHeader(STR_MSA_DEVICE_TICKET, ticket);\r\n            };\r\n            _self.hasEvents = _hasEvents;\r\n            _self._setTransmitProfile = function (profileName) {\r\n                if (_currentProfile !== profileName && _profiles[profileName] !== undefined) {\r\n                    _clearScheduledTimer();\r\n                    _currentProfile = profileName;\r\n                    _scheduleTimer();\r\n                }\r\n            };\r\n            /**\r\n             * Batch and send events currently in the queue for the given latency.\r\n             * @param latency - Latency for which to send events.\r\n             */\r\n            function _sendEventsForLatencyAndAbove(latency, sendType, sendReason) {\r\n                var queued = _queueBatches(latency, sendType, sendReason);\r\n                // Always trigger the request as while the post channel may not have queued additional events, the httpManager may already have waiting events\r\n                _httpManager.sendQueuedRequests(sendType, sendReason);\r\n                return queued;\r\n            }\r\n            function _hasEvents() {\r\n                return _queueSize > 0;\r\n            }\r\n            /**\r\n             * Try to schedule the timer after which events will be sent. If there are\r\n             * no events to be sent, or there is already a timer scheduled, or the\r\n             * http manager doesn't have any idle connections this method is no-op.\r\n             */\r\n            function _scheduleTimer() {\r\n                // If we had previously attempted to send requests, but the http manager didn't have any idle connections then the requests where delayed\r\n                // so try and requeue then again now\r\n                if (_delayedBatchSendLatency >= 0 && _queueBatches(_delayedBatchSendLatency, 0 /* EventSendType.Batched */, _delayedBatchReason)) {\r\n                    _httpManager.sendQueuedRequests(0 /* EventSendType.Batched */, _delayedBatchReason);\r\n                }\r\n                if (_immediateQueueSize > 0 && !_immediateTimerId && !_paused) {\r\n                    // During initialization _profiles enforce that the direct [2] is less than real time [1] timer value\r\n                    // If the immediateTimeout is disabled the immediate events will be sent with Real Time events\r\n                    var immediateTimeOut = _profiles[_currentProfile][2];\r\n                    if (immediateTimeOut >= 0) {\r\n                        _immediateTimerId = _createTimer(function () {\r\n                            _immediateTimerId = null;\r\n                            // Only try to send direct events\r\n                            _sendEventsForLatencyAndAbove(4 /* EventLatencyValue.Immediate */, 0 /* EventSendType.Batched */, 1 /* SendRequestReason.NormalSchedule */);\r\n                            _scheduleTimer();\r\n                        }, immediateTimeOut);\r\n                    }\r\n                }\r\n                // During initialization the _profiles enforce that the normal [0] is a multiple of the real time [1] timer value\r\n                var timeOut = _profiles[_currentProfile][1];\r\n                if (!_scheduledTimerId && !_flushCallbackTimerId && timeOut >= 0 && !_paused) {\r\n                    if (_hasEvents()) {\r\n                        _scheduledTimerId = _createTimer(function () {\r\n                            _scheduledTimerId = null;\r\n                            _sendEventsForLatencyAndAbove(_timerCount === 0 ? 3 /* EventLatencyValue.RealTime */ : 1 /* EventLatencyValue.Normal */, 0 /* EventSendType.Batched */, 1 /* SendRequestReason.NormalSchedule */);\r\n                            // Increment the count for next cycle\r\n                            _timerCount++;\r\n                            _timerCount %= 2;\r\n                            _scheduleTimer();\r\n                        }, timeOut);\r\n                    }\r\n                    else {\r\n                        _timerCount = 0;\r\n                    }\r\n                }\r\n            }\r\n            _self._backOffTransmission = function () {\r\n                if (_currentBackoffCount < MaxBackoffCount) {\r\n                    _currentBackoffCount++;\r\n                    _clearScheduledTimer();\r\n                    _scheduleTimer();\r\n                }\r\n            };\r\n            _self._clearBackOff = function () {\r\n                if (_currentBackoffCount) {\r\n                    _currentBackoffCount = 0;\r\n                    _clearScheduledTimer();\r\n                    _scheduleTimer();\r\n                }\r\n            };\r\n            function _initDefaults() {\r\n                _config = null;\r\n                _isTeardownCalled = false;\r\n                _flushCallbackQueue = [];\r\n                _flushCallbackTimerId = null;\r\n                _paused = false;\r\n                _immediateQueueSize = 0;\r\n                _immediateQueueSizeLimit = 500;\r\n                _queueSize = 0;\r\n                _queueSizeLimit = 10000;\r\n                _profiles = {};\r\n                _currentProfile = RT_PROFILE;\r\n                _scheduledTimerId = null;\r\n                _immediateTimerId = null;\r\n                _currentBackoffCount = 0;\r\n                _timerCount = 0;\r\n                _xhrOverride = null;\r\n                _batchQueues = {};\r\n                _autoFlushEventsLimit = undefined;\r\n                // either MaxBatchSize * (1+ Max Connections) or _queueLimit / 6 (where 3 latency Queues [normal, realtime, cost deferred] * 2 [allow half full -- allow for retry])\r\n                _autoFlushBatchLimit = 0;\r\n                _delayedBatchSendLatency = -1;\r\n                _delayedBatchReason = null;\r\n                _optimizeObject = true;\r\n                _isPageUnloadTriggered = false;\r\n                _maxEventSendAttempts = MaxSendAttempts;\r\n                _maxUnloadEventSendAttempts = MaxSyncUnloadSendAttempts;\r\n                _evtNamespace = null;\r\n                _timeoutWrapper = createTimeoutWrapper();\r\n                _httpManager = new HttpManager(MaxNumberEventPerBatch, MaxConnections, MaxRequestRetriesBeforeBackoff, {\r\n                    requeue: _requeueEvents,\r\n                    send: _sendingEvent,\r\n                    sent: _eventsSentEvent,\r\n                    drop: _eventsDropped,\r\n                    rspFail: _eventsResponseFail,\r\n                    oth: _otherEvent\r\n                }, _timeoutWrapper);\r\n                _initializeProfiles();\r\n                _clearQueues();\r\n                _setAutoLimits();\r\n            }\r\n            function _createTimer(theTimerFunc, timeOut) {\r\n                // If the transmission is backed off make the timer at least 1 sec to allow for back off.\r\n                if (timeOut === 0 && _currentBackoffCount) {\r\n                    timeOut = 1;\r\n                }\r\n                var timerMultiplier = 1000;\r\n                if (_currentBackoffCount) {\r\n                    timerMultiplier = retryPolicyGetMillisToBackoffForRetry(_currentBackoffCount - 1);\r\n                }\r\n                return _timeoutWrapper.set(theTimerFunc, timeOut * timerMultiplier);\r\n            }\r\n            function _clearScheduledTimer() {\r\n                if (_scheduledTimerId !== null) {\r\n                    _timeoutWrapper.clear(_scheduledTimerId);\r\n                    _scheduledTimerId = null;\r\n                    _timerCount = 0;\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            // Try to send all queued events using beacons if available\r\n            function _releaseAllQueues(sendType, sendReason) {\r\n                _clearScheduledTimer();\r\n                // Cancel all flush callbacks\r\n                if (_flushCallbackTimerId) {\r\n                    _timeoutWrapper.clear(_flushCallbackTimerId);\r\n                    _flushCallbackTimerId = null;\r\n                }\r\n                if (!_paused) {\r\n                    // Queue all the remaining requests to be sent. The requests will be sent using HTML5 Beacons if they are available.\r\n                    _sendEventsForLatencyAndAbove(1 /* EventLatencyValue.Normal */, sendType, sendReason);\r\n                }\r\n            }\r\n            /**\r\n             * Add empty queues for all latencies in the inbound queues map. This is called\r\n             * when Transmission Manager is being flushed. This ensures that new events added\r\n             * after flush are stored separately till we flush the current events.\r\n             */\r\n            function _clearQueues() {\r\n                _batchQueues[4 /* EventLatencyValue.Immediate */] = {\r\n                    batches: [],\r\n                    iKeyMap: {}\r\n                };\r\n                _batchQueues[3 /* EventLatencyValue.RealTime */] = {\r\n                    batches: [],\r\n                    iKeyMap: {}\r\n                };\r\n                _batchQueues[2 /* EventLatencyValue.CostDeferred */] = {\r\n                    batches: [],\r\n                    iKeyMap: {}\r\n                };\r\n                _batchQueues[1 /* EventLatencyValue.Normal */] = {\r\n                    batches: [],\r\n                    iKeyMap: {}\r\n                };\r\n            }\r\n            function _getEventBatch(iKey, latency, create) {\r\n                var batchQueue = _batchQueues[latency];\r\n                if (!batchQueue) {\r\n                    latency = 1 /* EventLatencyValue.Normal */;\r\n                    batchQueue = _batchQueues[latency];\r\n                }\r\n                var eventBatch = batchQueue.iKeyMap[iKey];\r\n                if (!eventBatch && create) {\r\n                    eventBatch = EventBatch.create(iKey);\r\n                    batchQueue.batches.push(eventBatch);\r\n                    batchQueue.iKeyMap[iKey] = eventBatch;\r\n                }\r\n                return eventBatch;\r\n            }\r\n            function _performAutoFlush(isAsync, doFlush) {\r\n                // Only perform the auto flush check if the httpManager has an idle connection and we are not in a backoff situation\r\n                if (_httpManager.canSendRequest() && !_currentBackoffCount) {\r\n                    if (_autoFlushEventsLimit > 0 && _queueSize > _autoFlushEventsLimit) {\r\n                        // Force flushing\r\n                        doFlush = true;\r\n                    }\r\n                    if (doFlush && _flushCallbackTimerId == null) {\r\n                        // Auto flush the queue\r\n                        _self.flush(isAsync, null, 20 /* SendRequestReason.MaxQueuedEvents */);\r\n                    }\r\n                }\r\n            }\r\n            function _addEventToProperQueue(event, append) {\r\n                // v8 performance optimization for iterating over the keys\r\n                if (_optimizeObject) {\r\n                    event = optimizeObject(event);\r\n                }\r\n                var latency = event.latency;\r\n                var eventBatch = _getEventBatch(event.iKey, latency, true);\r\n                if (eventBatch.addEvent(event)) {\r\n                    if (latency !== 4 /* EventLatencyValue.Immediate */) {\r\n                        _queueSize++;\r\n                        // Check for auto flushing based on total events in the queue, but not for requeued or retry events\r\n                        if (append && event.sendAttempt === 0) {\r\n                            // Force the flushing of the batch if the batch (specific iKey / latency combination) reaches it's auto flush limit\r\n                            _performAutoFlush(!event.sync, _autoFlushBatchLimit > 0 && eventBatch.count() >= _autoFlushBatchLimit);\r\n                        }\r\n                    }\r\n                    else {\r\n                        // Direct events don't need auto flushing as they are scheduled (by default) for immediate delivery\r\n                        _immediateQueueSize++;\r\n                    }\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            function _dropEventWithLatencyOrLess(iKey, latency, currentLatency, dropNumber) {\r\n                while (currentLatency <= latency) {\r\n                    var eventBatch = _getEventBatch(iKey, latency, true);\r\n                    if (eventBatch && eventBatch.count() > 0) {\r\n                        // Dropped oldest events from lowest possible latency\r\n                        var droppedEvents = eventBatch.split(0, dropNumber);\r\n                        var droppedCount = droppedEvents.count();\r\n                        if (droppedCount > 0) {\r\n                            if (currentLatency === 4 /* EventLatencyValue.Immediate */) {\r\n                                _immediateQueueSize -= droppedCount;\r\n                            }\r\n                            else {\r\n                                _queueSize -= droppedCount;\r\n                            }\r\n                            _notifyBatchEvents(strEventsDiscarded, [droppedEvents], EventsDiscardedReason.QueueFull);\r\n                            return true;\r\n                        }\r\n                    }\r\n                    currentLatency++;\r\n                }\r\n                // Unable to drop any events -- lets just make sure the queue counts are correct to avoid exhaustion\r\n                _resetQueueCounts();\r\n                return false;\r\n            }\r\n            /**\r\n             * Internal helper to reset the queue counts, used as a backstop to avoid future queue exhaustion errors\r\n             * that might occur because of counting issues.\r\n             */\r\n            function _resetQueueCounts() {\r\n                var immediateQueue = 0;\r\n                var normalQueue = 0;\r\n                var _loop_1 = function (latency) {\r\n                    var batchQueue = _batchQueues[latency];\r\n                    if (batchQueue && batchQueue.batches) {\r\n                        arrForEach(batchQueue.batches, function (theBatch) {\r\n                            if (latency === 4 /* EventLatencyValue.Immediate */) {\r\n                                immediateQueue += theBatch.count();\r\n                            }\r\n                            else {\r\n                                normalQueue += theBatch.count();\r\n                            }\r\n                        });\r\n                    }\r\n                };\r\n                for (var latency = 1 /* EventLatencyValue.Normal */; latency <= 4 /* EventLatencyValue.Immediate */; latency++) {\r\n                    _loop_1(latency);\r\n                }\r\n                _queueSize = normalQueue;\r\n                _immediateQueueSize = immediateQueue;\r\n            }\r\n            function _queueBatches(latency, sendType, sendReason) {\r\n                var eventsQueued = false;\r\n                var isAsync = sendType === 0 /* EventSendType.Batched */;\r\n                // Only queue batches (to the HttpManager) if this is a sync request or the httpManager has an idle connection\r\n                // Thus keeping the events within the PostChannel until the HttpManager has a connection available\r\n                // This is so we can drop \"old\" events if the queue is getting full because we can't successfully send events\r\n                if (!isAsync || _httpManager.canSendRequest()) {\r\n                    doPerf(_self.core, function () { return \"PostChannel._queueBatches\"; }, function () {\r\n                        var droppedEvents = [];\r\n                        var latencyToProcess = 4 /* EventLatencyValue.Immediate */;\r\n                        while (latencyToProcess >= latency) {\r\n                            var batchQueue = _batchQueues[latencyToProcess];\r\n                            if (batchQueue && batchQueue.batches && batchQueue.batches.length > 0) {\r\n                                arrForEach(batchQueue.batches, function (theBatch) {\r\n                                    // Add the batch to the http manager to send the requests\r\n                                    if (!_httpManager.addBatch(theBatch)) {\r\n                                        // The events from this iKey are being dropped (killed)\r\n                                        droppedEvents = droppedEvents.concat(theBatch.events());\r\n                                    }\r\n                                    else {\r\n                                        eventsQueued = eventsQueued || (theBatch && theBatch.count() > 0);\r\n                                    }\r\n                                    if (latencyToProcess === 4 /* EventLatencyValue.Immediate */) {\r\n                                        _immediateQueueSize -= theBatch.count();\r\n                                    }\r\n                                    else {\r\n                                        _queueSize -= theBatch.count();\r\n                                    }\r\n                                });\r\n                                // Remove all batches from this Queue\r\n                                batchQueue.batches = [];\r\n                                batchQueue.iKeyMap = {};\r\n                            }\r\n                            latencyToProcess--;\r\n                        }\r\n                        if (droppedEvents.length > 0) {\r\n                            _notifyEvents(strEventsDiscarded, droppedEvents, EventsDiscardedReason.KillSwitch);\r\n                        }\r\n                        if (eventsQueued && _delayedBatchSendLatency >= latency) {\r\n                            // We have queued events at the same level as the delayed values so clear the setting\r\n                            _delayedBatchSendLatency = -1;\r\n                            _delayedBatchReason = 0 /* SendRequestReason.Undefined */;\r\n                        }\r\n                    }, function () { return ({ latency: latency, sendType: sendType, sendReason: sendReason }); }, !isAsync);\r\n                }\r\n                else {\r\n                    // remember the min latency so that we can re-trigger later\r\n                    _delayedBatchSendLatency = _delayedBatchSendLatency >= 0 ? Math.min(_delayedBatchSendLatency, latency) : latency;\r\n                    _delayedBatchReason = Math.max(_delayedBatchReason, sendReason);\r\n                }\r\n                return eventsQueued;\r\n            }\r\n            /**\r\n             * This is the callback method is called as part of the manual flushing process.\r\n             * @param callback\r\n             * @param sendReason\r\n             */\r\n            function _flushImpl(callback, sendReason) {\r\n                // Add any additional queued events and cause all queued events to be sent asynchronously\r\n                _sendEventsForLatencyAndAbove(1 /* EventLatencyValue.Normal */, 0 /* EventSendType.Batched */, sendReason);\r\n                // All events (should) have been queue -- lets just make sure the queue counts are correct to avoid queue exhaustion (previous bug #9685112)\r\n                _resetQueueCounts();\r\n                _waitForIdleManager(function () {\r\n                    // Only called AFTER the httpManager does not have any outstanding requests\r\n                    if (callback) {\r\n                        callback();\r\n                    }\r\n                    if (_flushCallbackQueue.length > 0) {\r\n                        _flushCallbackTimerId = _createTimer(function () {\r\n                            _flushCallbackTimerId = null;\r\n                            _flushImpl(_flushCallbackQueue.shift(), sendReason);\r\n                        }, 0);\r\n                    }\r\n                    else {\r\n                        // No more flush requests\r\n                        _flushCallbackTimerId = null;\r\n                        // Restart the normal timer schedule\r\n                        _scheduleTimer();\r\n                    }\r\n                });\r\n            }\r\n            function _waitForIdleManager(callback) {\r\n                if (_httpManager.isCompletelyIdle()) {\r\n                    callback();\r\n                }\r\n                else {\r\n                    _flushCallbackTimerId = _createTimer(function () {\r\n                        _flushCallbackTimerId = null;\r\n                        _waitForIdleManager(callback);\r\n                    }, FlushCheckTimer);\r\n                }\r\n            }\r\n            /**\r\n             * Resets the transmit profiles to the default profiles of Real Time, Near Real Time\r\n             * and Best Effort. This removes all the custom profiles that were loaded.\r\n             */\r\n            function _resetTransmitProfiles() {\r\n                _clearScheduledTimer();\r\n                _initializeProfiles();\r\n                _currentProfile = RT_PROFILE;\r\n                _scheduleTimer();\r\n            }\r\n            function _initializeProfiles() {\r\n                _profiles = {};\r\n                _profiles[RT_PROFILE] = [2, 1, 0];\r\n                _profiles[NRT_PROFILE] = [6, 3, 0];\r\n                _profiles[BE_PROFILE] = [18, 9, 0];\r\n            }\r\n            /**\r\n             * The notification handler for requeue events\r\n             * @ignore\r\n             */\r\n            function _requeueEvents(batches, reason) {\r\n                var droppedEvents = [];\r\n                var maxSendAttempts = _maxEventSendAttempts;\r\n                if (_isPageUnloadTriggered) {\r\n                    // If a page unlaod has been triggered reduce the number of times we try to \"retry\"\r\n                    maxSendAttempts = _maxUnloadEventSendAttempts;\r\n                }\r\n                arrForEach(batches, function (theBatch) {\r\n                    if (theBatch && theBatch.count() > 0) {\r\n                        arrForEach(theBatch.events(), function (theEvent) {\r\n                            if (theEvent) {\r\n                                // Check if the request being added back is for a sync event in which case mark it no longer a sync event\r\n                                if (theEvent.sync) {\r\n                                    theEvent.latency = 4 /* EventLatencyValue.Immediate */;\r\n                                    theEvent.sync = false;\r\n                                }\r\n                                if (theEvent.sendAttempt < maxSendAttempts) {\r\n                                    // Reset the event timings\r\n                                    setProcessTelemetryTimings(theEvent, _self.identifier);\r\n                                    _addEventToQueues(theEvent, false);\r\n                                }\r\n                                else {\r\n                                    droppedEvents.push(theEvent);\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n                if (droppedEvents.length > 0) {\r\n                    _notifyEvents(strEventsDiscarded, droppedEvents, EventsDiscardedReason.NonRetryableStatus);\r\n                }\r\n                if (_isPageUnloadTriggered) {\r\n                    // Unload event has been received so we need to try and flush new events\r\n                    _releaseAllQueues(2 /* EventSendType.SendBeacon */, 2 /* SendRequestReason.Unload */);\r\n                }\r\n            }\r\n            function _callNotification(evtName, theArgs) {\r\n                var manager = (_self._notificationManager || {});\r\n                var notifyFunc = manager[evtName];\r\n                if (notifyFunc) {\r\n                    try {\r\n                        notifyFunc.apply(manager, theArgs);\r\n                    }\r\n                    catch (e) {\r\n                        _throwInternal(_self.diagLog(), 1 /* eLoggingSeverity.CRITICAL */, 74 /* _eInternalMessageId.NotificationException */, evtName + \" notification failed: \" + e);\r\n                    }\r\n                }\r\n            }\r\n            function _notifyEvents(evtName, theEvents) {\r\n                var extraArgs = [];\r\n                for (var _i = 2; _i < arguments.length; _i++) {\r\n                    extraArgs[_i - 2] = arguments[_i];\r\n                }\r\n                if (theEvents && theEvents.length > 0) {\r\n                    _callNotification(evtName, [theEvents].concat(extraArgs));\r\n                }\r\n            }\r\n            function _notifyBatchEvents(evtName, batches) {\r\n                var extraArgs = [];\r\n                for (var _i = 2; _i < arguments.length; _i++) {\r\n                    extraArgs[_i - 2] = arguments[_i];\r\n                }\r\n                if (batches && batches.length > 0) {\r\n                    arrForEach(batches, function (theBatch) {\r\n                        if (theBatch && theBatch.count() > 0) {\r\n                            _callNotification(evtName, [theBatch.events()].concat(extraArgs));\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            /**\r\n             * The notification handler for when batches are about to be sent\r\n             * @ignore\r\n             */\r\n            function _sendingEvent(batches, reason, isSyncRequest) {\r\n                if (batches && batches.length > 0) {\r\n                    _callNotification(\"eventsSendRequest\", [(reason >= 1000 /* EventBatchNotificationReason.SendingUndefined */ && reason <= 1999 /* EventBatchNotificationReason.SendingEventMax */ ?\r\n                            reason - 1000 /* EventBatchNotificationReason.SendingUndefined */ :\r\n                            0 /* SendRequestReason.Undefined */), isSyncRequest !== true]);\r\n                }\r\n            }\r\n            /**\r\n             * This event represents that a batch of events have been successfully sent and a response received\r\n             * @param batches The notification handler for when the batches have been successfully sent\r\n             * @param reason For this event the reason will always be EventBatchNotificationReason.Complete\r\n             */\r\n            function _eventsSentEvent(batches, reason) {\r\n                _notifyBatchEvents(\"eventsSent\", batches, reason);\r\n                // Try and schedule the processing timer if we have events\r\n                _scheduleTimer();\r\n            }\r\n            function _eventsDropped(batches, reason) {\r\n                _notifyBatchEvents(strEventsDiscarded, batches, (reason >= 8000 /* EventBatchNotificationReason.EventsDropped */ && reason <= 8999 /* EventBatchNotificationReason.EventsDroppedMax */ ?\r\n                    reason - 8000 /* EventBatchNotificationReason.EventsDropped */ :\r\n                    EventsDiscardedReason.Unknown));\r\n            }\r\n            function _eventsResponseFail(batches) {\r\n                _notifyBatchEvents(strEventsDiscarded, batches, EventsDiscardedReason.NonRetryableStatus);\r\n                // Try and schedule the processing timer if we have events\r\n                _scheduleTimer();\r\n            }\r\n            function _otherEvent(batches, reason) {\r\n                _notifyBatchEvents(strEventsDiscarded, batches, EventsDiscardedReason.Unknown);\r\n                // Try and schedule the processing timer if we have events\r\n                _scheduleTimer();\r\n            }\r\n            function _setAutoLimits() {\r\n                if (!_config || !_config.disableAutoBatchFlushLimit) {\r\n                    _autoFlushBatchLimit = Math.max(MaxNumberEventPerBatch * (MaxConnections + 1), _queueSizeLimit / 6);\r\n                }\r\n                else {\r\n                    _autoFlushBatchLimit = 0;\r\n                }\r\n            }\r\n            // Provided for backward compatibility they are not \"expected\" to be in current use but they are public\r\n            objDefineAccessors(_self, \"_setTimeoutOverride\", function () { return _timeoutWrapper.set; }, function (value) {\r\n                // Recreate the timeout wrapper\r\n                _timeoutWrapper = createTimeoutWrapper(value, _timeoutWrapper.clear);\r\n            });\r\n            objDefineAccessors(_self, \"_clearTimeoutOverride\", function () { return _timeoutWrapper.clear; }, function (value) {\r\n                // Recreate the timeout wrapper\r\n                _timeoutWrapper = createTimeoutWrapper(_timeoutWrapper.set, value);\r\n            });\r\n        });\r\n        return _this;\r\n    }\r\n// Removed Stub for PostChannel.prototype.initialize.\r\n// Removed Stub for PostChannel.prototype.processTelemetry.\r\n// Removed Stub for PostChannel.prototype.setEventQueueLimits.\r\n// Removed Stub for PostChannel.prototype.pause.\r\n// Removed Stub for PostChannel.prototype.resume.\r\n// Removed Stub for PostChannel.prototype.addResponseHandler.\r\n// Removed Stub for PostChannel.prototype.flush.\r\n// Removed Stub for PostChannel.prototype.setMsaAuthTicket.\r\n// Removed Stub for PostChannel.prototype.hasEvents.\r\n// Removed Stub for PostChannel.prototype._loadTransmitProfiles.\r\n// Removed Stub for PostChannel.prototype._setTransmitProfile.\r\n// Removed Stub for PostChannel.prototype._backOffTransmission.\r\n// Removed Stub for PostChannel.prototype._clearBackOff.\r\n    // This is a workaround for an IE8 bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    // this will be removed when ES3 support is dropped.\n    PostChannel.__ieDyn=1;\n\n    return PostChannel;\r\n}(BaseTelemetryPlugin));\r\nexport default PostChannel;\r\n//# sourceMappingURL=PostChannel.js.map", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.oneDataSystemClientFactory = void 0;\n/**\n * Configures 1DS properly and returns the core client object\n * @param key The ingestion key\n * @param xhrOverride An optional override to use for requests instead of the XHTMLRequest object. Useful for node environments\n * @returns The AI core object\n */\nconst getAICore = async (key, vscodeAPI, xhrOverride) => {\n    const oneDs = await Promise.resolve().then(() => __importStar(require(/* webpackMode: \"eager\" */ \"@microsoft/1ds-core-js\")));\n    const postPlugin = await Promise.resolve().then(() => __importStar(require(/* webpackMode: \"eager\" */ \"@microsoft/1ds-post-js\")));\n    const appInsightsCore = new oneDs.AppInsightsCore();\n    const collectorChannelPlugin = new postPlugin.PostChannel();\n    // Configure the app insights core to send to collector++ and disable logging of debug info\n    const coreConfig = {\n        instrumentationKey: key,\n        endpointUrl: \"https://mobile.events.data.microsoft.com/OneCollector/1.0\",\n        loggingLevelTelemetry: 0,\n        loggingLevelConsole: 0,\n        disableCookiesUsage: true,\n        disableDbgExt: true,\n        disableInstrumentationKeyValidation: true,\n        channels: [[\n                collectorChannelPlugin\n            ]]\n    };\n    if (xhrOverride) {\n        coreConfig.extensionConfig = {};\n        // Configure the channel to use a XHR Request override since it's not available in node\n        const channelConfig = {\n            alwaysUseXhrOverride: true,\n            httpXHROverride: xhrOverride\n        };\n        coreConfig.extensionConfig[collectorChannelPlugin.identifier] = channelConfig;\n    }\n    const config = vscodeAPI.workspace.getConfiguration(\"telemetry\");\n    const internalTesting = config.get(\"internalTesting\");\n    appInsightsCore.initialize(coreConfig, []);\n    appInsightsCore.addTelemetryInitializer((envelope) => {\n        // Only add this flag when `telemetry.internalTesting` is enabled\n        if (!internalTesting) {\n            return;\n        }\n        envelope[\"ext\"] = envelope[\"ext\"] ?? {};\n        envelope[\"ext\"][\"utc\"] = envelope[\"ext\"][\"utc\"] ?? {};\n        // Sets it to be internal only based on Windows UTC flagging\n        envelope[\"ext\"][\"utc\"][\"flags\"] = 0x0000811ECD;\n    });\n    return appInsightsCore;\n};\n/**\n * Configures and creates a telemetry client using the 1DS sdk\n * @param key The ingestion key\n * @param xhrOverride An optional override to use for requests instead of the XHTMLRequest object. Useful for node environments\n */\nconst oneDataSystemClientFactory = async (key, vscodeAPI, xhrOverride) => {\n    const appInsightsCore = await getAICore(key, vscodeAPI, xhrOverride);\n    // Shape the app insights core from 1DS into a standard format\n    const telemetryClient = {\n        logEvent: (eventName, data) => {\n            try {\n                appInsightsCore?.track({\n                    name: eventName,\n                    baseData: { name: eventName, properties: data?.properties, measurements: data?.measurements }\n                });\n            }\n            catch (e) {\n                throw new Error(\"Failed to log event to app insights!\\n\" + e.message);\n            }\n        },\n        flush: async () => {\n            try {\n                const flushPromise = new Promise((resolve, reject) => {\n                    if (!appInsightsCore) {\n                        resolve();\n                        return;\n                    }\n                    appInsightsCore.flush(true, (completedFlush) => {\n                        if (!completedFlush) {\n                            reject(\"Failed to flush app 1DS!\");\n                            return;\n                        }\n                        appInsightsCore.unload(true, () => {\n                            resolve();\n                            return;\n                        });\n                    });\n                });\n                return flushPromise;\n            }\n            catch (e) {\n                throw new Error(\"Failed to flush 1DS!\\n\" + e.message);\n            }\n        }\n    };\n    return telemetryClient;\n};\nexports.oneDataSystemClientFactory = oneDataSystemClientFactory;\n//# sourceMappingURL=1dsClientFactory.js.map", "import * as fs from \"fs\";\r\nimport path = require(\"path\");\r\nimport { promisify } from \"util\";\r\n\r\nexport const statAsync = promisify(fs.stat);\r\nexport const lstatAsync = promisify(fs.lstat);\r\nexport const mkdirAsync = promisify(fs.mkdir);\r\nexport const accessAsync = promisify(fs.access);\r\nexport const appendFileAsync = promisify(fs.appendFile);\r\nexport const writeFileAsync = promisify(fs.writeFile);\r\nexport const readFileAsync = promisify(fs.readFile);\r\nexport const readdirAsync = promisify(fs.readdir);\r\nexport const unlinkAsync = promisify(fs.unlink);\r\n\r\n/**\r\n * Validate directory exists.\r\n */\r\nexport const confirmDirExists = async (directory: string): Promise<void> => {\r\n    try {\r\n        const stats = await lstatAsync(directory);\r\n        if (!stats.isDirectory()) {\r\n            throw new Error(\"Path existed but was not a directory\");\r\n        }\r\n    } catch (err) {\r\n        if (err && err.code === \"ENOENT\") {\r\n            try {\r\n                await mkdirAsync(directory);\r\n            } catch (mkdirErr) {\r\n                if (mkdirErr && mkdirErr.code !== \"EEXIST\") {\r\n                    // Handle race condition by ignoring EEXIST\r\n                    throw mkdirErr;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Computes the size (in bytes) of all files in a directory at the root level. Asynchronously.\r\n */\r\nexport const getShallowDirectorySize = async (directory: string): Promise<number> => {\r\n    // Get the directory listing\r\n    const files = await readdirAsync(directory);\r\n    let totalSize = 0;\r\n    // Query all file sizes\r\n    for (const file of files) {\r\n        const fileStats = await statAsync(path.join(directory, file));\r\n        if (fileStats.isFile()) {\r\n            totalSize += fileStats.size;\r\n        }\r\n    }\r\n    return totalSize;\r\n};\r\n\r\n/**\r\n* Computes the size (in bytes) of all files in a directory at the root level. Synchronously.\r\n*/\r\nexport const getShallowDirectorySizeSync = (directory: string): number => {\r\n    let files = fs.readdirSync(directory);\r\n    let totalSize = 0;\r\n    for (let i = 0; i < files.length; i++) {\r\n        totalSize += fs.statSync(path.join(directory, files[i])).size;\r\n    }\r\n    return totalSize;\r\n}\r\n\r\n/**\r\n* Computes the size (in bytes) of a file asynchronously.\r\n*/\r\nexport const getShallowFileSize = async (filePath: string): Promise<number> => {\r\n    const fileStats = await statAsync(filePath);\r\n    if (fileStats.isFile()) {\r\n        return fileStats.size;\r\n    }\r\n}\r\n\r\n", "import fs = require(\"fs\");\r\nimport os = require(\"os\");\r\nimport path = require(\"path\");\r\nimport FileSystemHelper = require(\"./FileSystemHelper\");\r\n\r\n\r\nclass InternalAzureLogger {\r\n\r\n    private static _instance: InternalAzureLogger;\r\n    public maxHistory: number;\r\n    public maxSizeBytes: number;\r\n\r\n    private TAG = \"Logger\";\r\n    private _cleanupTimeOut = 60 * 30 * 1000; // 30 minutes;\r\n    private static _fileCleanupTimer: NodeJS.Timer = null;\r\n    private _tempDir: string = \"\";\r\n    public _logFileName: string = \"\";\r\n    private _fileFullPath: string = \"\";\r\n    private _backUpNameFormat: string = \"\";\r\n    private _logToFile = false;\r\n    private _logToConsole = true;\r\n\r\n\r\n    constructor() {\r\n        let logDestination = process.env.APPLICATIONINSIGHTS_LOG_DESTINATION; // destination can be one of file, console or file+console\r\n        if (logDestination == \"file+console\") {\r\n            this._logToFile = true;\r\n        }\r\n        if (logDestination == \"file\") {\r\n            this._logToFile = true;\r\n            this._logToConsole = false;\r\n        }\r\n\r\n        this.maxSizeBytes = 50000;\r\n        this.maxHistory = 1;\r\n        this._logFileName = \"applicationinsights.log\";\r\n\r\n        // If custom path not provided use temp folder, /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\r\n        let logFilePath = process.env.APPLICATIONINSIGHTS_LOGDIR;\r\n        if (!logFilePath) {\r\n            this._tempDir = path.join(os.tmpdir(), \"appInsights-node\");\r\n        }\r\n        else {\r\n            if (path.isAbsolute(logFilePath)) {\r\n                this._tempDir = logFilePath;\r\n            }\r\n            else {\r\n                this._tempDir = path.join(process.cwd(), logFilePath);\r\n            }\r\n        }\r\n        this._fileFullPath = path.join(this._tempDir, this._logFileName);\r\n        this._backUpNameFormat = \".\" + this._logFileName; // {currentime}.applicationinsights.log\r\n        if (this._logToFile) {\r\n            if (!InternalAzureLogger._fileCleanupTimer) {\r\n                InternalAzureLogger._fileCleanupTimer = setInterval(() => { this._fileCleanupTask(); }, this._cleanupTimeOut);\r\n                InternalAzureLogger._fileCleanupTimer.unref();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public info(message?: any, ...optionalParams: any[]) {\r\n        let args = message ? [message, ...optionalParams] : optionalParams;\r\n        if (this._logToFile) {\r\n            this._storeToDisk(args);\r\n        }\r\n        if (this._logToConsole) {\r\n            console.info(...args);\r\n        }\r\n    }\r\n\r\n    public warning(message?: any, ...optionalParams: any[]) {\r\n        let args = message ? [message, ...optionalParams] : optionalParams;\r\n        if (this._logToFile) {\r\n            this._storeToDisk(args);\r\n        }\r\n        if (this._logToConsole) {\r\n            console.warn(...args);\r\n        }\r\n    }\r\n\r\n    static getInstance() {\r\n        if (!InternalAzureLogger._instance) {\r\n            InternalAzureLogger._instance = new InternalAzureLogger();\r\n        }\r\n        return InternalAzureLogger._instance;\r\n    }\r\n\r\n    private async _storeToDisk(args: any): Promise<void> {\r\n        let data = args + \"\\r\\n\";\r\n\r\n        try {\r\n            await FileSystemHelper.confirmDirExists(this._tempDir);\r\n        }\r\n        catch (err) {\r\n            console.log(this.TAG, \"Failed to create directory for log file: \" + (err && err.message));\r\n            return;\r\n        }\r\n        try {\r\n            await FileSystemHelper.accessAsync(this._fileFullPath, fs.constants.F_OK);\r\n        }\r\n        catch (appendError) {\r\n            // No file create one\r\n            try {\r\n                await FileSystemHelper.appendFileAsync(this._fileFullPath, data);\r\n                return;\r\n            }\r\n            catch (err) {\r\n                console.log(this.TAG, \"Failed to put log into file: \" + (appendError && appendError.message));\r\n                return;\r\n            }\r\n        }\r\n        try {\r\n            // Check size\r\n            let size = await FileSystemHelper.getShallowFileSize(this._fileFullPath);\r\n            if (size > this.maxSizeBytes) {\r\n                await this._createBackupFile(data);\r\n            }\r\n            else {\r\n                await FileSystemHelper.appendFileAsync(this._fileFullPath, data);\r\n            }\r\n        }\r\n        catch (err) {\r\n            console.log(this.TAG, \"Failed to create backup file: \" + (err && err.message));\r\n        }\r\n    }\r\n\r\n    private async _createBackupFile(data: string): Promise<void> {\r\n        try {\r\n            let buffer = await FileSystemHelper.readFileAsync(this._fileFullPath);\r\n            let backupPath = path.join(this._tempDir, new Date().getTime() + \".\" + this._logFileName);\r\n            await FileSystemHelper.writeFileAsync(backupPath, buffer);\r\n        }\r\n        catch (err) {\r\n            console.log(\"Failed to generate backup log file\", err);\r\n        }\r\n        finally {\r\n            // Store logs\r\n            FileSystemHelper.writeFileAsync(this._fileFullPath, data);\r\n        }\r\n    }\r\n\r\n    private async _fileCleanupTask(): Promise<void> {\r\n        try {\r\n            let files = await FileSystemHelper.readdirAsync(this._tempDir);\r\n            // Filter only backup files\r\n            files = files.filter(f => path.basename(f).indexOf(this._backUpNameFormat) > -1);\r\n            // Sort by creation date\r\n            files.sort((a: string, b: String) => {\r\n                // Check expiration\r\n                let aCreationDate: Date = new Date(parseInt(a.split(this._backUpNameFormat)[0]));\r\n                let bCreationDate: Date = new Date(parseInt(b.split(this._backUpNameFormat)[0]));\r\n                if (aCreationDate < bCreationDate) {\r\n                    return -1;\r\n                }\r\n                if (aCreationDate >= bCreationDate) {\r\n                    return 1;\r\n                }\r\n            });\r\n            let totalFiles = files.length;\r\n            for (let i = 0; i < totalFiles - this.maxHistory; i++) {\r\n                let pathToDelete = path.join(this._tempDir, files[i]);\r\n                await FileSystemHelper.unlinkAsync(pathToDelete);\r\n            }\r\n        }\r\n        catch (err) {\r\n            console.log(this.TAG, \"Failed to cleanup log files: \" + (err && err.message));\r\n        }\r\n    }\r\n}\r\n\r\nexport = InternalAzureLogger;", "import InternalAzureLogger = require(\"./InternalAzureLogger\");\r\n\r\nclass Logging {\r\n    public static enableDebug = false;\r\n    public static disableWarnings = false;\r\n\r\n    private static TAG = \"ApplicationInsights:\";\r\n\r\n    public static info(message?: any, ...optionalParams: any[]) {\r\n        if (this.enableDebug) {\r\n            InternalAzureLogger.getInstance().info(this.TAG + message, optionalParams);\r\n        }\r\n    }\r\n\r\n    public static warn(message?: any, ...optionalParams: any[]) {\r\n        if (!this.disableWarnings) {\r\n            InternalAzureLogger.getInstance().warning(this.TAG + message, optionalParams);\r\n        }\r\n    }\r\n}\r\n\r\nexport = Logging;\r\n", "import fs = require(\"fs\");\r\nimport path = require(\"path\");\r\n\r\nimport Logging = require(\"./Logging\");\r\nimport { IJsonConfig } from \"../Declarations/Interfaces\";\r\nimport { DistributedTracingModes } from \"../applicationinsights\";\r\nimport { IDisabledExtendedMetrics } from \"../AutoCollection/NativePerformance\";\r\n\r\nconst ENV_CONFIGURATION_FILE = \"APPLICATIONINSIGHTS_CONFIGURATION_FILE\";\r\n// Azure Connection String\r\nconst ENV_connectionString = \"APPLICATIONINSIGHTS_CONNECTION_STRING\";\r\n// Instrumentation Key\r\nconst ENV_azurePrefix = \"APPSETTING_\"; // Azure adds this prefix to all environment variables\r\nconst ENV_instrumentationKey = \"APPINSIGHTS_INSTRUMENTATIONKEY\";\r\nconst ENV_legacyInstrumentationKey = \"APPINSIGHTS_INSTRUMENTATION_KEY\"\r\n// Native Metrics Opt Outs\r\nconst ENV_nativeMetricsDisablers = \"APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC\";\r\nconst ENV_nativeMetricsDisableAll = \"APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS\"\r\nconst ENV_http_proxy = \"http_proxy\";\r\nconst ENV_https_proxy = \"https_proxy\";\r\nconst ENV_noDiagnosticChannel = \"APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL\"\r\nconst ENV_noStatsbeat = \"APPLICATION_INSIGHTS_NO_STATSBEAT\";\r\nconst ENV_noHttpAgentKeepAlive = \"APPLICATION_INSIGHTS_NO_HTTP_AGENT_KEEP_ALIVE\";\r\nconst ENV_noPatchModules = \"APPLICATION_INSIGHTS_NO_PATCH_MODULES\";\r\nconst ENV_webInstrumentationEnable = \"APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_ENABLED\";\r\nconst ENV_webInstrumentation_connectionString = \"APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_CONNECTION_STRING\";\r\nconst ENV_webInstrumentation_source = \"APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_SOURCE\";\r\n\r\n// Old web instrumentation env variables are to be deprecated\r\n// Those env variables will NOT be exposed in doc after version 2.3.5\r\nconst ENV_webSnippetEnable = \"APPLICATIONINSIGHTS_WEB_SNIPPET_ENABLED\";\r\nconst ENV_webSnippet_connectionString = \"APPLICATIONINSIGHTS_WEB_SNIPPET_CONNECTION_STRING\";\r\n\r\nexport class JsonConfig implements IJsonConfig {\r\n    private static _instance: JsonConfig;\r\n\r\n    public connectionString: string;\r\n    public instrumentationKey: string;\r\n    public endpointUrl: string;\r\n    public maxBatchSize: number;\r\n    public maxBatchIntervalMs: number;\r\n    public disableAppInsights: boolean;\r\n    public samplingPercentage: number;\r\n    public correlationIdRetryIntervalMs: number;\r\n    public correlationHeaderExcludedDomains: string[];\r\n    public proxyHttpUrl: string;\r\n    public proxyHttpsUrl: string;\r\n    public ignoreLegacyHeaders: boolean;\r\n    public distributedTracingMode: DistributedTracingModes;\r\n    public enableAutoCollectExternalLoggers: boolean;\r\n    public enableAutoCollectConsole: boolean;\r\n    public enableLoggerErrorToTrace: boolean;\r\n    public enableAutoCollectExceptions: boolean;\r\n    public enableAutoCollectPerformance: boolean;\r\n    public enableAutoCollectExtendedMetrics: boolean | IDisabledExtendedMetrics;\r\n    public enableAutoCollectPreAggregatedMetrics: boolean;\r\n    public enableAutoCollectHeartbeat: boolean;\r\n    public enableAutoCollectRequests: boolean;\r\n    public enableAutoCollectDependencies: boolean;\r\n    public enableAutoDependencyCorrelation: boolean;\r\n    public enableAutoCollectIncomingRequestAzureFunctions: boolean;\r\n    public enableUseAsyncHooks: boolean;\r\n    public enableUseDiskRetryCaching: boolean;\r\n    public enableResendInterval: number;\r\n    public enableMaxBytesOnDisk: number;\r\n    public enableInternalDebugLogging: boolean;\r\n    public enableInternalWarningLogging: boolean;\r\n    public enableSendLiveMetrics: boolean;\r\n    public disableAllExtendedMetrics: boolean;\r\n    public extendedMetricDisablers: string;\r\n    public disableStatsbeat: boolean;\r\n    public noDiagnosticChannel: boolean;\r\n    public noPatchModules: string;\r\n    public noHttpAgentKeepAlive: boolean;\r\n    public quickPulseHost: string;\r\n    public enableWebInstrumentation: boolean;\r\n    public webInstrumentationConnectionString: string;\r\n    public webInstrumentationConfig: any;\r\n    public webInstrumentationSrc: string;\r\n\r\n    // the following features are to be deprecated\r\n    // Those env variables will NOT be exposed in doc after version 2.3.5\r\n    public enableAutoWebSnippetInjection: boolean;\r\n    public webSnippetConnectionString: string;\r\n\r\n    static getInstance() {\r\n        if (!JsonConfig._instance) {\r\n            JsonConfig._instance = new JsonConfig();\r\n        }\r\n        return JsonConfig._instance;\r\n    }\r\n\r\n    constructor() {\r\n        // Load env variables first\r\n        this.connectionString = process.env[ENV_connectionString];\r\n        this.instrumentationKey = process.env[ENV_instrumentationKey]\r\n            || process.env[ENV_azurePrefix + ENV_instrumentationKey]\r\n            || process.env[ENV_legacyInstrumentationKey]\r\n            || process.env[ENV_azurePrefix + ENV_legacyInstrumentationKey];\r\n\r\n        if (!this.connectionString && this.instrumentationKey) {\r\n            Logging.warn(\"APPINSIGHTS_INSTRUMENTATIONKEY is in path of deprecation, please use APPLICATIONINSIGHTS_CONNECTION_STRING env variable to setup the SDK.\");\r\n        }\r\n        this.disableAllExtendedMetrics = !!process.env[ENV_nativeMetricsDisableAll];\r\n        this.extendedMetricDisablers = process.env[ENV_nativeMetricsDisablers];\r\n        this.proxyHttpUrl = process.env[ENV_http_proxy];\r\n        this.proxyHttpsUrl = process.env[ENV_https_proxy];\r\n        this.noDiagnosticChannel = !!process.env[ENV_noDiagnosticChannel];\r\n        this.disableStatsbeat = !!process.env[ENV_noStatsbeat];\r\n        this.noHttpAgentKeepAlive = !!process.env[ENV_noHttpAgentKeepAlive];\r\n        this.noPatchModules = process.env[ENV_noPatchModules] || \"\";\r\n        this.enableWebInstrumentation = !!process.env[ENV_webInstrumentationEnable] || !!process.env[ENV_webSnippetEnable];\r\n        this.webInstrumentationSrc = process.env[ENV_webInstrumentation_source] || \"\";\r\n        this.webInstrumentationConnectionString = process.env[ENV_webInstrumentation_connectionString] || process.env[ENV_webSnippet_connectionString] || \"\";\r\n        this.enableAutoWebSnippetInjection = this.enableWebInstrumentation;\r\n        this.webSnippetConnectionString = this.webInstrumentationConnectionString;\r\n        this._loadJsonFile();\r\n    }\r\n\r\n    private _loadJsonFile() {\r\n        let jsonString = \"\";\r\n        const contentJsonConfig = process.env[\"APPLICATIONINSIGHTS_CONFIGURATION_CONTENT\"];\r\n        // JSON string added directly in env variable\r\n        if (contentJsonConfig) {\r\n            jsonString = contentJsonConfig;\r\n        }\r\n        // JSON file\r\n        else {\r\n            let configFileName = \"applicationinsights.json\";\r\n            let rootPath = path.join(__dirname, \"../../\"); // Root of applicationinsights folder (__dirname = ../out/Library)\r\n            let tempDir = path.join(rootPath, configFileName); // default\r\n            let configFile = process.env[ENV_CONFIGURATION_FILE];\r\n            if (configFile) {\r\n                if (path.isAbsolute(configFile)) {\r\n                    tempDir = configFile;\r\n                }\r\n                else {\r\n                    tempDir = path.join(rootPath, configFile);// Relative path to applicationinsights folder\r\n                }\r\n            }\r\n            try {\r\n                jsonString = fs.readFileSync(tempDir, \"utf8\");\r\n            }\r\n            catch (err) {\r\n                Logging.info(\"Failed to read JSON config file: \", err);\r\n            }\r\n        }\r\n\r\n        try {\r\n            const jsonConfig: IJsonConfig = JSON.parse(jsonString);\r\n            if (jsonConfig.disableStatsbeat != undefined) {\r\n                this.disableStatsbeat = jsonConfig.disableStatsbeat;\r\n            }\r\n            if (jsonConfig.disableAllExtendedMetrics != undefined) {\r\n                this.disableAllExtendedMetrics = jsonConfig.disableStatsbeat;\r\n            }\r\n            if (jsonConfig.noDiagnosticChannel != undefined) {\r\n                this.noDiagnosticChannel = jsonConfig.noDiagnosticChannel;\r\n            }\r\n            if (jsonConfig.noHttpAgentKeepAlive != undefined) {\r\n                this.noHttpAgentKeepAlive = jsonConfig.noHttpAgentKeepAlive;\r\n            }\r\n            if (jsonConfig.connectionString != undefined) {\r\n                this.connectionString = jsonConfig.connectionString;\r\n            }\r\n            if (jsonConfig.extendedMetricDisablers != undefined) {\r\n                this.extendedMetricDisablers = jsonConfig.extendedMetricDisablers;\r\n            }\r\n            if (jsonConfig.noDiagnosticChannel != undefined) {\r\n                this.noDiagnosticChannel = jsonConfig.noDiagnosticChannel;\r\n            }\r\n            if (jsonConfig.proxyHttpUrl != undefined) {\r\n                this.proxyHttpUrl = jsonConfig.proxyHttpUrl;\r\n            }\r\n            if (jsonConfig.proxyHttpsUrl != undefined) {\r\n                this.proxyHttpsUrl = jsonConfig.proxyHttpsUrl;\r\n            }\r\n            if (jsonConfig.proxyHttpsUrl != undefined) {\r\n                this.proxyHttpsUrl = jsonConfig.proxyHttpsUrl;\r\n            }\r\n            if (jsonConfig.noPatchModules != undefined) {\r\n                this.noPatchModules = jsonConfig.noPatchModules;\r\n            }\r\n            if (jsonConfig.enableAutoWebSnippetInjection != undefined) {\r\n                this.enableWebInstrumentation = jsonConfig.enableAutoWebSnippetInjection;\r\n                this.enableAutoWebSnippetInjection = this.enableWebInstrumentation;\r\n            }\r\n            if (jsonConfig.enableWebInstrumentation != undefined) {\r\n                this.enableWebInstrumentation = jsonConfig.enableWebInstrumentation;\r\n                this.enableAutoWebSnippetInjection = this.enableWebInstrumentation;\r\n            }\r\n            if (jsonConfig.webSnippetConnectionString != undefined) {\r\n                this.webInstrumentationConnectionString = jsonConfig.webSnippetConnectionString;\r\n                this.webSnippetConnectionString = this.webInstrumentationConnectionString;\r\n            }\r\n            if (jsonConfig.webInstrumentationConnectionString != undefined) {\r\n                this.webInstrumentationConnectionString = jsonConfig.webInstrumentationConnectionString;\r\n                this.webSnippetConnectionString = this.webInstrumentationConnectionString;\r\n            }\r\n            if (jsonConfig.webInstrumentationConfig != undefined) {\r\n                this.webInstrumentationConfig = jsonConfig.webInstrumentationConfig;\r\n            }\r\n            if (jsonConfig.webInstrumentationSrc != undefined) {\r\n                this.webInstrumentationSrc = jsonConfig.webInstrumentationSrc;\r\n            }\r\n            if (jsonConfig.enableLoggerErrorToTrace != undefined) {\r\n                this.enableLoggerErrorToTrace = jsonConfig.enableLoggerErrorToTrace;\r\n            }\r\n\r\n            this.endpointUrl = jsonConfig.endpointUrl;\r\n            this.maxBatchSize = jsonConfig.maxBatchSize;\r\n            this.maxBatchIntervalMs = jsonConfig.maxBatchIntervalMs;\r\n            this.disableAppInsights = jsonConfig.disableAppInsights;\r\n            this.samplingPercentage = jsonConfig.samplingPercentage;\r\n            this.correlationIdRetryIntervalMs = jsonConfig.correlationIdRetryIntervalMs;\r\n            this.correlationHeaderExcludedDomains = jsonConfig.correlationHeaderExcludedDomains;\r\n            this.ignoreLegacyHeaders = jsonConfig.ignoreLegacyHeaders;\r\n            this.distributedTracingMode = jsonConfig.distributedTracingMode;\r\n            this.enableAutoCollectExternalLoggers = jsonConfig.enableAutoCollectExternalLoggers;\r\n            this.enableAutoCollectConsole = jsonConfig.enableAutoCollectConsole;\r\n            this.enableLoggerErrorToTrace = jsonConfig.enableLoggerErrorToTrace;\r\n            this.enableAutoCollectExceptions = jsonConfig.enableAutoCollectExceptions;\r\n            this.enableAutoCollectPerformance = jsonConfig.enableAutoCollectPerformance;\r\n            this.enableAutoCollectExtendedMetrics = jsonConfig.enableAutoCollectExtendedMetrics;\r\n            this.enableAutoCollectPreAggregatedMetrics = jsonConfig.enableAutoCollectPreAggregatedMetrics;\r\n            this.enableAutoCollectHeartbeat = jsonConfig.enableAutoCollectHeartbeat;\r\n            this.enableAutoCollectRequests = jsonConfig.enableAutoCollectRequests;\r\n            this.enableAutoCollectDependencies = jsonConfig.enableAutoCollectDependencies;\r\n            this.enableAutoDependencyCorrelation = jsonConfig.enableAutoDependencyCorrelation;\r\n            this.enableAutoCollectIncomingRequestAzureFunctions = jsonConfig.enableAutoCollectIncomingRequestAzureFunctions;\r\n            this.enableUseAsyncHooks = jsonConfig.enableUseAsyncHooks;\r\n            this.enableUseDiskRetryCaching = jsonConfig.enableUseDiskRetryCaching;\r\n            this.enableResendInterval = jsonConfig.enableResendInterval;\r\n            this.enableMaxBytesOnDisk = jsonConfig.enableMaxBytesOnDisk;\r\n            this.enableInternalDebugLogging = jsonConfig.enableInternalDebugLogging;\r\n            this.enableInternalWarningLogging = jsonConfig.enableInternalWarningLogging;\r\n            this.enableSendLiveMetrics = jsonConfig.enableSendLiveMetrics;\r\n            this.quickPulseHost = jsonConfig.quickPulseHost;\r\n        }\r\n        catch (err) {\r\n            Logging.info(\"Invalid JSON config file: \", err);\r\n        }\r\n    }\r\n}\r\n", "exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\nvar MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar safeRe = exports.safeRe = []\nvar src = exports.src = []\nvar R = 0\n\nvar LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nvar safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nfunction makeSafeRe (value) {\n  for (var i = 0; i < safeRegexReplacements.length; i++) {\n    var token = safeRegexReplacements[i][0]\n    var max = safeRegexReplacements[i][1]\n    value = value\n      .split(token + '*').join(token + '{0,' + max + '}')\n      .split(token + '+').join(token + '{1,' + max + '}')\n  }\n  return value\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '\\\\d+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-]' + LETTERDASHNUMBER + '*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = LETTERDASHNUMBER + '+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nsafeRe[TILDETRIM] = new RegExp(makeSafeRe(src[TILDETRIM]), 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nsafeRe[CARETTRIM] = new RegExp(makeSafeRe(src[CARETTRIM]), 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nsafeRe[COMPARATORTRIM] = new RegExp(makeSafeRe(src[COMPARATORTRIM]), 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n\n    // Replace all greedy whitespace to prevent regex dos issues. These regex are\n    // used internally via the safeRe object since all inputs in this library get\n    // normalized first to trim and collapse all extra whitespace. The original\n    // regexes are exported for userland consumption and lower level usage. A\n    // future breaking change could export the safer regex only with a note that\n    // all input should have extra whitespace removed.\n    safeRe[i] = new RegExp(makeSafeRe(src[i]))\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? safeRe[LOOSE] : safeRe[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? safeRe[LOOSE] : safeRe[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  comp = comp.trim().split(/\\s+/).join(' ')\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? safeRe[COMPARATORLOOSE] : safeRe[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First reduce all whitespace as much as possible so we do not have to rely\n  // on potentially slow regexes like \\s*. This is then stored and used for\n  // future error messages as well.\n  this.raw = range\n    .trim()\n    .split(/\\s+/)\n    .join(' ')\n\n  // First, split based on boolean or ||\n  this.set = this.raw.split('||').map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + this.raw)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? safeRe[HYPHENRANGELOOSE] : safeRe[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(safeRe[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, safeRe[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(safeRe[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(safeRe[CARETTRIM], caretTrimReplace)\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n  var compRe = loose ? safeRe[COMPARATORLOOSE] : safeRe[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? safeRe[TILDELOOSE] : safeRe[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? safeRe[CARETLOOSE] : safeRe[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? safeRe[XRANGELOOSE] : safeRe[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(safeRe[STAR], '')\n}\n\n// This function is passed to string.replace(safeRe[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(safeRe[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n", "\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.makePatchingRequire = void 0;\r\nvar path = require(\"path\");\r\nvar semver = require(\"semver\");\r\nvar channel_1 = require(\"./channel\");\r\n/* tslint:disable-next-line:no-var-requires */\r\nvar moduleModule = require(\"module\");\r\nvar nativeModules = Object.keys(process.binding(\"natives\"));\r\nvar originalRequire = moduleModule.prototype.require;\r\nfunction makePatchingRequire(knownPatches) {\r\n    var patchedModules = {};\r\n    return function patchedRequire(moduleId) {\r\n        var originalModule = originalRequire.apply(this, arguments);\r\n        if (knownPatches[moduleId]) {\r\n            // Fetch the specific path of the module\r\n            var modulePath = moduleModule._resolveFilename(moduleId, this);\r\n            if (patchedModules.hasOwnProperty(modulePath)) {\r\n                // This module has already been patched, no need to reapply\r\n                return patchedModules[modulePath];\r\n            }\r\n            var moduleVersion = void 0;\r\n            if (nativeModules.indexOf(moduleId) < 0) {\r\n                try {\r\n                    moduleVersion = originalRequire.call(this, path.join(moduleId, \"package.json\")).version;\r\n                }\r\n                catch (e) {\r\n                    // This should only happen if moduleId is actually a path rather than a module\r\n                    // This is not a supported scenario\r\n                    return originalModule;\r\n                }\r\n            }\r\n            else {\r\n                // This module is implemented natively so we cannot find a package.json\r\n                // Instead, take the version of node itself\r\n                moduleVersion = process.version.substring(1);\r\n            }\r\n            var prereleaseTagIndex = moduleVersion.indexOf(\"-\");\r\n            if (prereleaseTagIndex >= 0) {\r\n                // We ignore prerelease tags to avoid impossible to fix gaps in support\r\n                // e.g. supporting console in >= 4.0.0 would otherwise not include\r\n                // 8.0.0-pre\r\n                moduleVersion = moduleVersion.substring(0, prereleaseTagIndex);\r\n            }\r\n            var modifiedModule = originalModule;\r\n            for (var _i = 0, _a = knownPatches[moduleId]; _i < _a.length; _i++) {\r\n                var modulePatcher = _a[_i];\r\n                if (semver.satisfies(moduleVersion, modulePatcher.versionSpecifier)) {\r\n                    modifiedModule = modulePatcher.patch(modifiedModule, modulePath);\r\n                    if (channel_1.channel) {\r\n                        var name_1 = modulePatcher.publisherName || moduleId;\r\n                        channel_1.channel.addPatchedModule(name_1, moduleVersion);\r\n                    }\r\n                }\r\n            }\r\n            return patchedModules[modulePath] = modifiedModule;\r\n        }\r\n        return originalModule;\r\n    };\r\n}\r\nexports.makePatchingRequire = makePatchingRequire;\r\n//# sourceMappingURL=patchRequire.js.map", "{\r\n  \"name\": \"diagnostic-channel\",\r\n  \"version\": \"1.1.0\",\r\n  \"main\": \"./dist/src/channel.js\",\r\n  \"types\": \"./dist/src/channel.d.ts\",\r\n  \"scripts\": {\r\n    \"build\": \"tsc\",\r\n    \"lint\": \"tslint -c tslint.json -p tsconfig.json\",\r\n    \"clean\": \"rimraf ./dist\",\r\n    \"test\": \"mocha ./dist/tests/**/*.js\",\r\n    \"debug\": \"mocha --inspect-brk ./dist/tests/**/*.js\"\r\n  },\r\n  \"homepage\": \"https://github.com/Microsoft/node-diagnostic-channel\",\r\n  \"bugs\": {\r\n    \"url\": \"https://github.com/Microsoft/node-diagnostic-channel/issues\"\r\n  },\r\n  \"repository\": {\r\n    \"type\": \"git\",\r\n    \"url\": \"https://github.com/Microsoft/node-diagnostic-channel.git\"\r\n  },\r\n  \"description\": \"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers\",\r\n  \"dependencies\": {\r\n    \"semver\": \"^5.3.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@types/mocha\": \"^2.2.40\",\r\n    \"@types/node\": \"~8.0.0\",\r\n    \"mocha\": \"^3.2.0\",\r\n    \"rimraf\": \"^2.6.1\",\r\n    \"sinon\": \"1.17.6\",\r\n    \"tslint\": \"^5.0.0\",\r\n    \"typescript\": \"4.1.2\"\r\n  },\r\n  \"files\": [\r\n    \"dist/src/**/*.d.ts\",\r\n    \"dist/src/**/*.js\",\r\n    \"LICENSE\",\r\n    \"README.md\",\r\n    \"package.json\"\r\n  ],\r\n  \"license\": \"MIT\"\r\n}\r\n", "\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.channel = exports.ContextPreservingEventEmitter = exports.trueFilter = exports.makePatchingRequire = void 0;\r\nvar patchRequire_1 = require(\"./patchRequire\");\r\nvar patchRequire_2 = require(\"./patchRequire\");\r\nObject.defineProperty(exports, \"makePatchingRequire\", { enumerable: true, get: function () { return patchRequire_2.makePatchingRequire; } });\r\nvar trueFilter = function (publishing) { return true; };\r\nexports.trueFilter = trueFilter;\r\nvar ContextPreservingEventEmitter = /** @class */ (function () {\r\n    function ContextPreservingEventEmitter() {\r\n        this.version = require(\"./../../package.json\").version; // Allow for future versions to replace things?\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        this.knownPatches = {};\r\n        this.modulesPatched = [];\r\n        this.currentlyPublishing = false;\r\n    }\r\n    ContextPreservingEventEmitter.prototype.shouldPublish = function (name) {\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            return listeners.some(function (_a) {\r\n                var filter = _a.filter;\r\n                return !filter || filter(false);\r\n            });\r\n        }\r\n        return false;\r\n    };\r\n    ContextPreservingEventEmitter.prototype.publish = function (name, event) {\r\n        if (this.currentlyPublishing) {\r\n            return; // Avoid reentrancy\r\n        }\r\n        var listeners = this.subscribers[name];\r\n        // Note: Listeners called synchronously to preserve context\r\n        if (listeners) {\r\n            var standardEvent_1 = {\r\n                timestamp: Date.now(),\r\n                data: event,\r\n            };\r\n            this.currentlyPublishing = true;\r\n            listeners.forEach(function (_a) {\r\n                var listener = _a.listener, filter = _a.filter;\r\n                try {\r\n                    if (filter && filter(true)) {\r\n                        listener(standardEvent_1);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // Subscriber threw an error\r\n                }\r\n            });\r\n            this.currentlyPublishing = false;\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.subscribe = function (name, listener, filter, patchCallback) {\r\n        if (filter === void 0) { filter = exports.trueFilter; }\r\n        if (!this.subscribers[name]) {\r\n            this.subscribers[name] = [];\r\n        }\r\n        this.subscribers[name].push({ listener: listener, filter: filter, patchCallback: patchCallback });\r\n        var patched = this.checkIfModuleIsAlreadyPatched(name);\r\n        if (patched && patchCallback) {\r\n            patchCallback(patched.name, patched.version);\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.unsubscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = exports.trueFilter; }\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            for (var index = 0; index < listeners.length; ++index) {\r\n                if (listeners[index].listener === listener && listeners[index].filter === filter) {\r\n                    listeners.splice(index, 1);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    // Used for tests\r\n    ContextPreservingEventEmitter.prototype.reset = function () {\r\n        var _this = this;\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        // Modify the knownPatches object rather than replace, since a reference will be used in the require patcher\r\n        Object.getOwnPropertyNames(this.knownPatches).forEach(function (prop) { return delete _this.knownPatches[prop]; });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.bindToContext = function (cb) {\r\n        return this.contextPreservationFunction(cb);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.addContextPreservation = function (preserver) {\r\n        var previousPreservationStack = this.contextPreservationFunction;\r\n        this.contextPreservationFunction = (function (cb) { return preserver(previousPreservationStack(cb)); });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.registerMonkeyPatch = function (packageName, patcher) {\r\n        if (!this.knownPatches[packageName]) {\r\n            this.knownPatches[packageName] = [];\r\n        }\r\n        this.knownPatches[packageName].push(patcher);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.getPatchesObject = function () {\r\n        return this.knownPatches;\r\n    };\r\n    ContextPreservingEventEmitter.prototype.addPatchedModule = function (name, version) {\r\n        for (var _i = 0, _a = this.modulesPatched; _i < _a.length; _i++) {\r\n            var module_1 = _a[_i];\r\n            if (module_1.name === name) {\r\n                return;\r\n            }\r\n        }\r\n        // If new patch notify listeners\r\n        this.modulesPatched.push({ name: name, version: version });\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            listeners.forEach(function (listener) {\r\n                if (listener.patchCallback) {\r\n                    listener.patchCallback(name, version);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.checkIfModuleIsAlreadyPatched = function (name) {\r\n        for (var _i = 0, _a = this.modulesPatched; _i < _a.length; _i++) {\r\n            var module_2 = _a[_i];\r\n            if (module_2.name === name) {\r\n                return module_2;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return ContextPreservingEventEmitter;\r\n}());\r\nexports.ContextPreservingEventEmitter = ContextPreservingEventEmitter;\r\nif (!global.diagnosticsSource) {\r\n    global.diagnosticsSource = new ContextPreservingEventEmitter();\r\n    // TODO: should this only patch require after at least one monkey patch is registered?\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    var moduleModule = require(\"module\");\r\n    // Note: We pass in the object now before any patches are registered, but the object is passed by reference\r\n    // so any updates made to the object will be visible in the patcher.\r\n    moduleModule.prototype.require = patchRequire_1.makePatchingRequire(global.diagnosticsSource.getPatchesObject());\r\n}\r\nexports.channel = global.diagnosticsSource;\r\n//# sourceMappingURL=channel.js.map", "/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** only globals that common to node and browsers are allowed */\n// eslint-disable-next-line node/no-unsupported-features/es-builtins\nexport const _globalThis = typeof globalThis === 'object' ? globalThis : global;\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './globalThis';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './node';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const VERSION = '1.4.1';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { VERSION } from '../version';\n\nconst re = /^(\\d+)\\.(\\d+)\\.(\\d+)(-(.+))?$/;\n\n/**\n * Create a function to test an API version to see if it is compatible with the provided ownVersion.\n *\n * The returned function has the following semantics:\n * - Exact match is always compatible\n * - Major versions must match exactly\n *    - 1.x package cannot use global 2.x package\n *    - 2.x package cannot use global 1.x package\n * - The minor version of the API module requesting access to the global API must be less than or equal to the minor version of this API\n *    - 1.3 package may use 1.4 global because the later global contains all functions 1.3 expects\n *    - 1.4 package may NOT use 1.3 global because it may try to call functions which don't exist on 1.3\n * - If the major version is 0, the minor version is treated as the major and the patch is treated as the minor\n * - Patch and build tag differences are not considered at this time\n *\n * @param ownVersion version which should be checked against\n */\nexport function _makeCompatibilityCheck(\n  ownVersion: string\n): (globalVersion: string) => boolean {\n  const acceptedVersions = new Set<string>([ownVersion]);\n  const rejectedVersions = new Set<string>();\n\n  const myVersionMatch = ownVersion.match(re);\n  if (!myVersionMatch) {\n    // we cannot guarantee compatibility so we always return noop\n    return () => false;\n  }\n\n  const ownVersionParsed = {\n    major: +myVersionMatch[1],\n    minor: +myVersionMatch[2],\n    patch: +myVersionMatch[3],\n    prerelease: myVersionMatch[4],\n  };\n\n  // if ownVersion has a prerelease tag, versions must match exactly\n  if (ownVersionParsed.prerelease != null) {\n    return function isExactmatch(globalVersion: string): boolean {\n      return globalVersion === ownVersion;\n    };\n  }\n\n  function _reject(v: string) {\n    rejectedVersions.add(v);\n    return false;\n  }\n\n  function _accept(v: string) {\n    acceptedVersions.add(v);\n    return true;\n  }\n\n  return function isCompatible(globalVersion: string): boolean {\n    if (acceptedVersions.has(globalVersion)) {\n      return true;\n    }\n\n    if (rejectedVersions.has(globalVersion)) {\n      return false;\n    }\n\n    const globalVersionMatch = globalVersion.match(re);\n    if (!globalVersionMatch) {\n      // cannot parse other version\n      // we cannot guarantee compatibility so we always noop\n      return _reject(globalVersion);\n    }\n\n    const globalVersionParsed = {\n      major: +globalVersionMatch[1],\n      minor: +globalVersionMatch[2],\n      patch: +globalVersionMatch[3],\n      prerelease: globalVersionMatch[4],\n    };\n\n    // if globalVersion has a prerelease tag, versions must match exactly\n    if (globalVersionParsed.prerelease != null) {\n      return _reject(globalVersion);\n    }\n\n    // major versions must match\n    if (ownVersionParsed.major !== globalVersionParsed.major) {\n      return _reject(globalVersion);\n    }\n\n    if (ownVersionParsed.major === 0) {\n      if (\n        ownVersionParsed.minor === globalVersionParsed.minor &&\n        ownVersionParsed.patch <= globalVersionParsed.patch\n      ) {\n        return _accept(globalVersion);\n      }\n\n      return _reject(globalVersion);\n    }\n\n    if (ownVersionParsed.minor <= globalVersionParsed.minor) {\n      return _accept(globalVersion);\n    }\n\n    return _reject(globalVersion);\n  };\n}\n\n/**\n * Test an API version to see if it is compatible with this API.\n *\n * - Exact match is always compatible\n * - Major versions must match exactly\n *    - 1.x package cannot use global 2.x package\n *    - 2.x package cannot use global 1.x package\n * - The minor version of the API module requesting access to the global API must be less than or equal to the minor version of this API\n *    - 1.3 package may use 1.4 global because the later global contains all functions 1.3 expects\n *    - 1.4 package may NOT use 1.3 global because it may try to call functions which don't exist on 1.3\n * - If the major version is 0, the minor version is treated as the major and the patch is treated as the minor\n * - Patch and build tag differences are not considered at this time\n *\n * @param version version of the API requesting an instance of the global API\n */\nexport const isCompatible = _makeCompatibilityCheck(VERSION);\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MeterProvider } from '../metrics/MeterProvider';\nimport { ContextManager } from '../context/types';\nimport { DiagLogger } from '../diag/types';\nimport { _globalThis } from '../platform';\nimport { TextMapPropagator } from '../propagation/TextMapPropagator';\nimport type { TracerProvider } from '../trace/tracer_provider';\nimport { VERSION } from '../version';\nimport { isCompatible } from './semver';\n\nconst major = VERSION.split('.')[0];\nconst GLOBAL_OPENTELEMETRY_API_KEY = Symbol.for(\n  `opentelemetry.js.api.${major}`\n);\n\nconst _global = _globalThis as OTelGlobal;\n\nexport function registerGlobal<Type extends keyof OTelGlobalAPI>(\n  type: Type,\n  instance: OTelGlobalAPI[Type],\n  diag: DiagLogger,\n  allowOverride = false\n): boolean {\n  const api = (_global[GLOBAL_OPENTELEMETRY_API_KEY] = _global[\n    GLOBAL_OPENTELEMETRY_API_KEY\n  ] ?? {\n    version: VERSION,\n  });\n\n  if (!allowOverride && api[type]) {\n    // already registered an API of this type\n    const err = new Error(\n      `@opentelemetry/api: Attempted duplicate registration of API: ${type}`\n    );\n    diag.error(err.stack || err.message);\n    return false;\n  }\n\n  if (api.version !== VERSION) {\n    // All registered APIs must be of the same version exactly\n    const err = new Error(\n      `@opentelemetry/api: Registration of version v${api.version} for ${type} does not match previously registered API v${VERSION}`\n    );\n    diag.error(err.stack || err.message);\n    return false;\n  }\n\n  api[type] = instance;\n  diag.debug(\n    `@opentelemetry/api: Registered a global for ${type} v${VERSION}.`\n  );\n\n  return true;\n}\n\nexport function getGlobal<Type extends keyof OTelGlobalAPI>(\n  type: Type\n): OTelGlobalAPI[Type] | undefined {\n  const globalVersion = _global[GLOBAL_OPENTELEMETRY_API_KEY]?.version;\n  if (!globalVersion || !isCompatible(globalVersion)) {\n    return;\n  }\n  return _global[GLOBAL_OPENTELEMETRY_API_KEY]?.[type];\n}\n\nexport function unregisterGlobal(type: keyof OTelGlobalAPI, diag: DiagLogger) {\n  diag.debug(\n    `@opentelemetry/api: Unregistering a global for ${type} v${VERSION}.`\n  );\n  const api = _global[GLOBAL_OPENTELEMETRY_API_KEY];\n\n  if (api) {\n    delete api[type];\n  }\n}\n\ntype OTelGlobal = {\n  [GLOBAL_OPENTELEMETRY_API_KEY]?: OTelGlobalAPI;\n};\n\ntype OTelGlobalAPI = {\n  version: string;\n\n  diag?: DiagLogger;\n  trace?: TracerProvider;\n  context?: ContextManager;\n  metrics?: MeterProvider;\n  propagation?: TextMapPropagator;\n};\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getGlobal } from '../internal/global-utils';\nimport { ComponentLoggerOptions, DiagLogger, DiagLogFunction } from './types';\n\n/**\n * Component Logger which is meant to be used as part of any component which\n * will add automatically additional namespace in front of the log message.\n * It will then forward all message to global diag logger\n * @example\n * const cLogger = diag.createComponentLogger({ namespace: '@opentelemetry/instrumentation-http' });\n * cLogger.debug('test');\n * // @opentelemetry/instrumentation-http test\n */\nexport class DiagComponentLogger implements DiagLogger {\n  private _namespace: string;\n\n  constructor(props: ComponentLoggerOptions) {\n    this._namespace = props.namespace || 'DiagComponentLogger';\n  }\n\n  public debug(...args: any[]): void {\n    return logProxy('debug', this._namespace, args);\n  }\n\n  public error(...args: any[]): void {\n    return logProxy('error', this._namespace, args);\n  }\n\n  public info(...args: any[]): void {\n    return logProxy('info', this._namespace, args);\n  }\n\n  public warn(...args: any[]): void {\n    return logProxy('warn', this._namespace, args);\n  }\n\n  public verbose(...args: any[]): void {\n    return logProxy('verbose', this._namespace, args);\n  }\n}\n\nfunction logProxy(\n  funcName: keyof DiagLogger,\n  namespace: string,\n  args: any\n): void {\n  const logger = getGlobal('diag');\n  // shortcut if logger not set\n  if (!logger) {\n    return;\n  }\n\n  args.unshift(namespace);\n  return logger[funcName](...(args as Parameters<DiagLogFunction>));\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport type DiagLogFunction = (message: string, ...args: unknown[]) => void;\n\n/**\n * Defines an internal diagnostic logger interface which is used to log internal diagnostic\n * messages, you can set the default diagnostic logger via the {@link DiagAPI} setLogger function.\n * API provided implementations include :-\n * - a No-Op {@link createNoopDiagLogger}\n * - a {@link DiagLogLevel} filtering wrapper {@link createLogLevelDiagLogger}\n * - a general Console {@link DiagConsoleLogger} version.\n */\nexport interface DiagLogger {\n  /** Log an error scenario that was not expected and caused the requested operation to fail. */\n  error: DiagLogFunction;\n\n  /**\n   * Log a warning scenario to inform the developer of an issues that should be investigated.\n   * The requested operation may or may not have succeeded or completed.\n   */\n  warn: DiagLogFunction;\n\n  /**\n   * Log a general informational message, this should not affect functionality.\n   * This is also the default logging level so this should NOT be used for logging\n   * debugging level information.\n   */\n  info: DiagLogFunction;\n\n  /**\n   * Log a general debug message that can be useful for identifying a failure.\n   * Information logged at this level may include diagnostic details that would\n   * help identify a failure scenario.\n   * For example: Logging the order of execution of async operations.\n   */\n  debug: DiagLogFunction;\n\n  /**\n   * Log a detailed (verbose) trace level logging that can be used to identify failures\n   * where debug level logging would be insufficient, this level of tracing can include\n   * input and output parameters and as such may include PII information passing through\n   * the API. As such it is recommended that this level of tracing should not be enabled\n   * in a production environment.\n   */\n  verbose: DiagLogFunction;\n}\n\n/**\n * Defines the available internal logging levels for the diagnostic logger, the numeric values\n * of the levels are defined to match the original values from the initial LogLevel to avoid\n * compatibility/migration issues for any implementation that assume the numeric ordering.\n */\nexport enum DiagLogLevel {\n  /** Diagnostic Logging level setting to disable all logging (except and forced logs) */\n  NONE = 0,\n\n  /** Identifies an error scenario */\n  ERROR = 30,\n\n  /** Identifies a warning scenario */\n  WARN = 50,\n\n  /** General informational log message */\n  INFO = 60,\n\n  /** General debug log message */\n  DEBUG = 70,\n\n  /**\n   * Detailed trace level logging should only be used for development, should only be set\n   * in a development environment.\n   */\n  VERBOSE = 80,\n\n  /** Used to set the logging level to include all logging */\n  ALL = 9999,\n}\n\n/**\n * Defines options for ComponentLogger\n */\nexport interface ComponentLoggerOptions {\n  namespace: string;\n}\n\nexport interface DiagLoggerOptions {\n  /**\n   * The {@link DiagLogLevel} used to filter logs sent to the logger.\n   *\n   * @defaultValue DiagLogLevel.INFO\n   */\n  logLevel?: DiagLogLevel;\n\n  /**\n   * Setting this value to `true` will suppress the warning message normally emitted when registering a logger when another logger is already registered.\n   */\n  suppressOverrideMessage?: boolean;\n}\n\nexport interface DiagLoggerApi {\n  /**\n   * Set the global DiagLogger and DiagLogLevel.\n   * If a global diag logger is already set, this will override it.\n   *\n   * @param logger - The {@link DiagLogger} instance to set as the default logger.\n   * @param options - A {@link DiagLoggerOptions} object. If not provided, default values will be set.\n   * @returns `true` if the logger was successfully registered, else `false`\n   */\n  setLogger(logger: DiagLogger, options?: DiagLoggerOptions): boolean;\n\n  /**\n   *\n   * @param logger - The {@link DiagLogger} instance to set as the default logger.\n   * @param logLevel - The {@link DiagLogLevel} used to filter logs sent to the logger. If not provided it will default to {@link DiagLogLevel.INFO}.\n   * @returns `true` if the logger was successfully registered, else `false`\n   */\n  setLogger(logger: DiagLogger, logLevel?: DiagLogLevel): boolean;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DiagLogFunction, DiagLogger, DiagLogLevel } from '../types';\n\nexport function createLogLevelDiagLogger(\n  maxLevel: DiagLogLevel,\n  logger: DiagLogger\n): DiagLogger {\n  if (maxLevel < DiagLogLevel.NONE) {\n    maxLevel = DiagLogLevel.NONE;\n  } else if (maxLevel > DiagLogLevel.ALL) {\n    maxLevel = DiagLogLevel.ALL;\n  }\n\n  // In case the logger is null or undefined\n  logger = logger || {};\n\n  function _filterFunc(\n    funcName: keyof DiagLogger,\n    theLevel: DiagLogLevel\n  ): DiagLogFunction {\n    const theFunc = logger[funcName];\n\n    if (typeof theFunc === 'function' && maxLevel >= theLevel) {\n      return theFunc.bind(logger);\n    }\n    return function () {};\n  }\n\n  return {\n    error: _filterFunc('error', DiagLogLevel.ERROR),\n    warn: _filterFunc('warn', DiagLogLevel.WARN),\n    info: _filterFunc('info', DiagLogLevel.INFO),\n    debug: _filterFunc('debug', DiagLogLevel.DEBUG),\n    verbose: _filterFunc('verbose', DiagLogLevel.VERBOSE),\n  };\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DiagComponentLogger } from '../diag/ComponentLogger';\nimport { createLogLevelDiagLogger } from '../diag/internal/logLevelLogger';\nimport {\n  ComponentLoggerOptions,\n  DiagLogFunction,\n  DiagLogger,\n  DiagLoggerApi,\n  DiagLogLevel,\n} from '../diag/types';\nimport {\n  getGlobal,\n  registerGlobal,\n  unregisterGlobal,\n} from '../internal/global-utils';\n\nconst API_NAME = 'diag';\n\n/**\n * Singleton object which represents the entry point to the OpenTelemetry internal\n * diagnostic API\n */\nexport class DiagAPI implements DiagLogger, DiagLoggerApi {\n  private static _instance?: DiagAPI;\n\n  /** Get the singleton instance of the DiagAPI API */\n  public static instance(): DiagAPI {\n    if (!this._instance) {\n      this._instance = new DiagAPI();\n    }\n\n    return this._instance;\n  }\n\n  /**\n   * Private internal constructor\n   * @private\n   */\n  private constructor() {\n    function _logProxy(funcName: keyof DiagLogger): DiagLogFunction {\n      return function (...args) {\n        const logger = getGlobal('diag');\n        // shortcut if logger not set\n        if (!logger) return;\n        return logger[funcName](...args);\n      };\n    }\n\n    // Using self local variable for minification purposes as 'this' cannot be minified\n    const self = this;\n\n    // DiagAPI specific functions\n\n    const setLogger: DiagLoggerApi['setLogger'] = (\n      logger,\n      optionsOrLogLevel = { logLevel: DiagLogLevel.INFO }\n    ) => {\n      if (logger === self) {\n        // There isn't much we can do here.\n        // Logging to the console might break the user application.\n        // Try to log to self. If a logger was previously registered it will receive the log.\n        const err = new Error(\n          'Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation'\n        );\n        self.error(err.stack ?? err.message);\n        return false;\n      }\n\n      if (typeof optionsOrLogLevel === 'number') {\n        optionsOrLogLevel = {\n          logLevel: optionsOrLogLevel,\n        };\n      }\n\n      const oldLogger = getGlobal('diag');\n      const newLogger = createLogLevelDiagLogger(\n        optionsOrLogLevel.logLevel ?? DiagLogLevel.INFO,\n        logger\n      );\n      // There already is an logger registered. We'll let it know before overwriting it.\n      if (oldLogger && !optionsOrLogLevel.suppressOverrideMessage) {\n        const stack = new Error().stack ?? '<failed to generate stacktrace>';\n        oldLogger.warn(`Current logger will be overwritten from ${stack}`);\n        newLogger.warn(\n          `Current logger will overwrite one already registered from ${stack}`\n        );\n      }\n\n      return registerGlobal('diag', newLogger, self, true);\n    };\n\n    self.setLogger = setLogger;\n\n    self.disable = () => {\n      unregisterGlobal(API_NAME, self);\n    };\n\n    self.createComponentLogger = (options: ComponentLoggerOptions) => {\n      return new DiagComponentLogger(options);\n    };\n\n    self.verbose = _logProxy('verbose');\n    self.debug = _logProxy('debug');\n    self.info = _logProxy('info');\n    self.warn = _logProxy('warn');\n    self.error = _logProxy('error');\n  }\n\n  public setLogger!: DiagLoggerApi['setLogger'];\n  /**\n   *\n   */\n  public createComponentLogger!: (\n    options: ComponentLoggerOptions\n  ) => DiagLogger;\n\n  // DiagLogger implementation\n  public verbose!: DiagLogFunction;\n  public debug!: DiagLogFunction;\n  public info!: DiagLogFunction;\n  public warn!: DiagLogFunction;\n  public error!: DiagLogFunction;\n\n  /**\n   * Unregister the global logger and return to Noop\n   */\n  public disable!: () => void;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Baggage, BaggageEntry } from '../types';\n\nexport class BaggageImpl implements Baggage {\n  private _entries: Map<string, BaggageEntry>;\n\n  constructor(entries?: Map<string, BaggageEntry>) {\n    this._entries = entries ? new Map(entries) : new Map();\n  }\n\n  getEntry(key: string): BaggageEntry | undefined {\n    const entry = this._entries.get(key);\n    if (!entry) {\n      return undefined;\n    }\n\n    return Object.assign({}, entry);\n  }\n\n  getAllEntries(): [string, BaggageEntry][] {\n    return Array.from(this._entries.entries()).map(([k, v]) => [k, v]);\n  }\n\n  setEntry(key: string, entry: BaggageEntry): BaggageImpl {\n    const newBaggage = new BaggageImpl(this._entries);\n    newBaggage._entries.set(key, entry);\n    return newBaggage;\n  }\n\n  removeEntry(key: string): BaggageImpl {\n    const newBaggage = new BaggageImpl(this._entries);\n    newBaggage._entries.delete(key);\n    return newBaggage;\n  }\n\n  removeEntries(...keys: string[]): BaggageImpl {\n    const newBaggage = new BaggageImpl(this._entries);\n    for (const key of keys) {\n      newBaggage._entries.delete(key);\n    }\n    return newBaggage;\n  }\n\n  clear(): BaggageImpl {\n    return new BaggageImpl();\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Symbol used to make BaggageEntryMetadata an opaque type\n */\nexport const baggageEntryMetadataSymbol = Symbol('BaggageEntryMetadata');\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DiagAPI } from '../api/diag';\nimport { BaggageImpl } from './internal/baggage-impl';\nimport { baggageEntryMetadataSymbol } from './internal/symbol';\nimport { Baggage, BaggageEntry, BaggageEntryMetadata } from './types';\n\nconst diag = DiagAPI.instance();\n\n/**\n * Create a new Baggage with optional entries\n *\n * @param entries An array of baggage entries the new baggage should contain\n */\nexport function createBaggage(\n  entries: Record<string, BaggageEntry> = {}\n): Baggage {\n  return new BaggageImpl(new Map(Object.entries(entries)));\n}\n\n/**\n * Create a serializable BaggageEntryMetadata object from a string.\n *\n * @param str string metadata. Format is currently not defined by the spec and has no special meaning.\n *\n */\nexport function baggageEntryMetadataFromString(\n  str: string\n): BaggageEntryMetadata {\n  if (typeof str !== 'string') {\n    diag.error(\n      `Cannot create baggage metadata from unknown type: ${typeof str}`\n    );\n    str = '';\n  }\n\n  return {\n    __TYPE__: baggageEntryMetadataSymbol,\n    toString() {\n      return str;\n    },\n  };\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context } from './types';\n\n/** Get a key to uniquely identify a context value */\nexport function createContextKey(description: string) {\n  // The specification states that for the same input, multiple calls should\n  // return different keys. Due to the nature of the JS dependency management\n  // system, this creates problems where multiple versions of some package\n  // could hold different keys for the same property.\n  //\n  // Therefore, we use Symbol.for which returns the same key for the same input.\n  return Symbol.for(description);\n}\n\nclass BaseContext implements Context {\n  private _currentContext!: Map<symbol, unknown>;\n\n  /**\n   * Construct a new context which inherits values from an optional parent context.\n   *\n   * @param parentContext a context from which to inherit values\n   */\n  constructor(parentContext?: Map<symbol, unknown>) {\n    // for minification\n    const self = this;\n\n    self._currentContext = parentContext ? new Map(parentContext) : new Map();\n\n    self.getValue = (key: symbol) => self._currentContext.get(key);\n\n    self.setValue = (key: symbol, value: unknown): Context => {\n      const context = new BaseContext(self._currentContext);\n      context._currentContext.set(key, value);\n      return context;\n    };\n\n    self.deleteValue = (key: symbol): Context => {\n      const context = new BaseContext(self._currentContext);\n      context._currentContext.delete(key);\n      return context;\n    };\n  }\n\n  /**\n   * Get a value from the context.\n   *\n   * @param key key which identifies a context value\n   */\n  public getValue!: (key: symbol) => unknown;\n\n  /**\n   * Create a new context which inherits from this context and has\n   * the given key set to the given value.\n   *\n   * @param key context key for which to set the value\n   * @param value value to set for the given key\n   */\n  public setValue!: (key: symbol, value: unknown) => Context;\n\n  /**\n   * Return a new context which inherits from this context but does\n   * not contain a value for the given key.\n   *\n   * @param key context key for which to clear a value\n   */\n  public deleteValue!: (key: symbol) => Context;\n}\n\n/** The root context is used as the default parent context when there is no active context */\nexport const ROOT_CONTEXT: Context = new BaseContext();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DiagLogger, DiagLogFunction } from './types';\n\ntype ConsoleMapKeys = 'error' | 'warn' | 'info' | 'debug' | 'trace';\nconst consoleMap: { n: keyof DiagLogger; c: ConsoleMapKeys }[] = [\n  { n: 'error', c: 'error' },\n  { n: 'warn', c: 'warn' },\n  { n: 'info', c: 'info' },\n  { n: 'debug', c: 'debug' },\n  { n: 'verbose', c: 'trace' },\n];\n\n/**\n * A simple Immutable Console based diagnostic logger which will output any messages to the Console.\n * If you want to limit the amount of logging to a specific level or lower use the\n * {@link createLogLevelDiagLogger}\n */\nexport class DiagConsoleLogger implements DiagLogger {\n  constructor() {\n    function _consoleFunc(funcName: ConsoleMapKeys): DiagLogFunction {\n      return function (...args) {\n        if (console) {\n          // Some environments only expose the console when the F12 developer console is open\n          // eslint-disable-next-line no-console\n          let theFunc = console[funcName];\n          if (typeof theFunc !== 'function') {\n            // Not all environments support all functions\n            // eslint-disable-next-line no-console\n            theFunc = console.log;\n          }\n\n          // One last final check\n          if (typeof theFunc === 'function') {\n            return theFunc.apply(console, args);\n          }\n        }\n      };\n    }\n\n    for (let i = 0; i < consoleMap.length; i++) {\n      this[consoleMap[i].n] = _consoleFunc(consoleMap[i].c);\n    }\n  }\n\n  /** Log an error scenario that was not expected and caused the requested operation to fail. */\n  public error!: DiagLogFunction;\n\n  /**\n   * Log a warning scenario to inform the developer of an issues that should be investigated.\n   * The requested operation may or may not have succeeded or completed.\n   */\n  public warn!: DiagLogFunction;\n\n  /**\n   * Log a general informational message, this should not affect functionality.\n   * This is also the default logging level so this should NOT be used for logging\n   * debugging level information.\n   */\n  public info!: DiagLogFunction;\n\n  /**\n   * Log a general debug message that can be useful for identifying a failure.\n   * Information logged at this level may include diagnostic details that would\n   * help identify a failure scenario. Useful scenarios would be to log the execution\n   * order of async operations\n   */\n  public debug!: DiagLogFunction;\n\n  /**\n   * Log a detailed (verbose) trace level logging that can be used to identify failures\n   * where debug level logging would be insufficient, this level of tracing can include\n   * input and output parameters and as such may include PII information passing through\n   * the API. As such it is recommended that this level of tracing should not be enabled\n   * in a production environment.\n   */\n  public verbose!: DiagLogFunction;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Meter } from './Meter';\nimport {\n  BatchObservableCallback,\n  Counter,\n  Histogram,\n  MetricOptions,\n  ObservableCallback,\n  ObservableCounter,\n  ObservableGauge,\n  ObservableUpDownCounter,\n  UpDownCounter,\n  MetricAttributes,\n  Observable,\n} from './Metric';\n\n/**\n * NoopMeter is a noop implementation of the {@link Meter} interface. It reuses\n * constant NoopMetrics for all of its methods.\n */\nexport class NoopMeter implements Meter {\n  constructor() {}\n\n  /**\n   * @see {@link Meter.createHistogram}\n   */\n  createHistogram(_name: string, _options?: MetricOptions): Histogram {\n    return NOOP_HISTOGRAM_METRIC;\n  }\n\n  /**\n   * @see {@link Meter.createCounter}\n   */\n  createCounter(_name: string, _options?: MetricOptions): Counter {\n    return NOOP_COUNTER_METRIC;\n  }\n\n  /**\n   * @see {@link Meter.createUpDownCounter}\n   */\n  createUpDownCounter(_name: string, _options?: MetricOptions): UpDownCounter {\n    return NOOP_UP_DOWN_COUNTER_METRIC;\n  }\n\n  /**\n   * @see {@link Meter.createObservableGauge}\n   */\n  createObservableGauge(\n    _name: string,\n    _options?: MetricOptions\n  ): ObservableGauge {\n    return NOOP_OBSERVABLE_GAUGE_METRIC;\n  }\n\n  /**\n   * @see {@link Meter.createObservableCounter}\n   */\n  createObservableCounter(\n    _name: string,\n    _options?: MetricOptions\n  ): ObservableCounter {\n    return NOOP_OBSERVABLE_COUNTER_METRIC;\n  }\n\n  /**\n   * @see {@link Meter.createObservableUpDownCounter}\n   */\n  createObservableUpDownCounter(\n    _name: string,\n    _options?: MetricOptions\n  ): ObservableUpDownCounter {\n    return NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC;\n  }\n\n  /**\n   * @see {@link Meter.addBatchObservableCallback}\n   */\n  addBatchObservableCallback(\n    _callback: BatchObservableCallback,\n    _observables: Observable[]\n  ): void {}\n\n  /**\n   * @see {@link Meter.removeBatchObservableCallback}\n   */\n  removeBatchObservableCallback(_callback: BatchObservableCallback): void {}\n}\n\nexport class NoopMetric {}\n\nexport class NoopCounterMetric extends NoopMetric implements Counter {\n  add(_value: number, _attributes: MetricAttributes): void {}\n}\n\nexport class NoopUpDownCounterMetric\n  extends NoopMetric\n  implements UpDownCounter\n{\n  add(_value: number, _attributes: MetricAttributes): void {}\n}\n\nexport class NoopHistogramMetric extends NoopMetric implements Histogram {\n  record(_value: number, _attributes: MetricAttributes): void {}\n}\n\nexport class NoopObservableMetric {\n  addCallback(_callback: ObservableCallback) {}\n\n  removeCallback(_callback: ObservableCallback) {}\n}\n\nexport class NoopObservableCounterMetric\n  extends NoopObservableMetric\n  implements ObservableCounter {}\n\nexport class NoopObservableGaugeMetric\n  extends NoopObservableMetric\n  implements ObservableGauge {}\n\nexport class NoopObservableUpDownCounterMetric\n  extends NoopObservableMetric\n  implements ObservableUpDownCounter {}\n\nexport const NOOP_METER = new NoopMeter();\n\n// Synchronous instruments\nexport const NOOP_COUNTER_METRIC = new NoopCounterMetric();\nexport const NOOP_HISTOGRAM_METRIC = new NoopHistogramMetric();\nexport const NOOP_UP_DOWN_COUNTER_METRIC = new NoopUpDownCounterMetric();\n\n// Asynchronous instruments\nexport const NOOP_OBSERVABLE_COUNTER_METRIC = new NoopObservableCounterMetric();\nexport const NOOP_OBSERVABLE_GAUGE_METRIC = new NoopObservableGaugeMetric();\nexport const NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC =\n  new NoopObservableUpDownCounterMetric();\n\n/**\n * Create a no-op Meter\n */\nexport function createNoopMeter(): Meter {\n  return NOOP_METER;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Attributes, AttributeValue } from '../common/Attributes';\nimport { Context } from '../context/types';\nimport { BatchObservableResult, ObservableResult } from './ObservableResult';\n\n/**\n * Options needed for metric creation\n */\nexport interface MetricOptions {\n  /**\n   * The description of the Metric.\n   * @default ''\n   */\n  description?: string;\n\n  /**\n   * The unit of the Metric values.\n   * @default ''\n   */\n  unit?: string;\n\n  /**\n   * Indicates the type of the recorded value.\n   * @default {@link ValueType.DOUBLE}\n   */\n  valueType?: ValueType;\n}\n\n/** The Type of value. It describes how the data is reported. */\nexport enum ValueType {\n  INT,\n  DOUBLE,\n}\n\n/**\n * Counter is the most common synchronous instrument. This instrument supports\n * an `Add(increment)` function for reporting a sum, and is restricted to\n * non-negative increments. The default aggregation is Sum, as for any additive\n * instrument.\n *\n * Example uses for Counter:\n * <ol>\n *   <li> count the number of bytes received. </li>\n *   <li> count the number of requests completed. </li>\n *   <li> count the number of accounts created. </li>\n *   <li> count the number of checkpoints run. </li>\n *   <li> count the number of 5xx errors. </li>\n * <ol>\n */\nexport interface Counter<\n  AttributesTypes extends MetricAttributes = MetricAttributes\n> {\n  /**\n   * Increment value of counter by the input. Inputs must not be negative.\n   */\n  add(value: number, attributes?: AttributesTypes, context?: Context): void;\n}\n\nexport interface UpDownCounter<\n  AttributesTypes extends MetricAttributes = MetricAttributes\n> {\n  /**\n   * Increment value of counter by the input. Inputs may be negative.\n   */\n  add(value: number, attributes?: AttributesTypes, context?: Context): void;\n}\n\nexport interface Histogram<\n  AttributesTypes extends MetricAttributes = MetricAttributes\n> {\n  /**\n   * Records a measurement. Value of the measurement must not be negative.\n   */\n  record(value: number, attributes?: AttributesTypes, context?: Context): void;\n}\n\n/**\n * @deprecated please use {@link Attributes}\n */\nexport type MetricAttributes = Attributes;\n\n/**\n * @deprecated please use {@link AttributeValue}\n */\nexport type MetricAttributeValue = AttributeValue;\n\n/**\n * The observable callback for Observable instruments.\n */\nexport type ObservableCallback<\n  AttributesTypes extends MetricAttributes = MetricAttributes\n> = (\n  observableResult: ObservableResult<AttributesTypes>\n) => void | Promise<void>;\n\n/**\n * The observable callback for a batch of Observable instruments.\n */\nexport type BatchObservableCallback<\n  AttributesTypes extends MetricAttributes = MetricAttributes\n> = (\n  observableResult: BatchObservableResult<AttributesTypes>\n) => void | Promise<void>;\n\nexport interface Observable<\n  AttributesTypes extends MetricAttributes = MetricAttributes\n> {\n  /**\n   * Sets up a function that will be called whenever a metric collection is initiated.\n   *\n   * If the function is already in the list of callbacks for this Observable, the function is not added a second time.\n   */\n  addCallback(callback: ObservableCallback<AttributesTypes>): void;\n\n  /**\n   * Removes a callback previously registered with {@link Observable.addCallback}.\n   */\n  removeCallback(callback: ObservableCallback<AttributesTypes>): void;\n}\n\nexport type ObservableCounter<\n  AttributesTypes extends MetricAttributes = MetricAttributes\n> = Observable<AttributesTypes>;\nexport type ObservableUpDownCounter<\n  AttributesTypes extends MetricAttributes = MetricAttributes\n> = Observable<AttributesTypes>;\nexport type ObservableGauge<\n  AttributesTypes extends MetricAttributes = MetricAttributes\n> = Observable<AttributesTypes>;\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context } from '../context/types';\n\n/**\n * Injects `Context` into and extracts it from carriers that travel\n * in-band across process boundaries. Encoding is expected to conform to the\n * HTTP Header Field semantics. Values are often encoded as RPC/HTTP request\n * headers.\n *\n * The carrier of propagated data on both the client (injector) and server\n * (extractor) side is usually an object such as http headers. Propagation is\n * usually implemented via library-specific request interceptors, where the\n * client-side injects values and the server-side extracts them.\n */\nexport interface TextMapPropagator<Carrier = any> {\n  /**\n   * Injects values from a given `Context` into a carrier.\n   *\n   * OpenTelemetry defines a common set of format values (TextMapPropagator),\n   * and each has an expected `carrier` type.\n   *\n   * @param context the Context from which to extract values to transmit over\n   *     the wire.\n   * @param carrier the carrier of propagation fields, such as http request\n   *     headers.\n   * @param setter an optional {@link TextMapSetter}. If undefined, values will be\n   *     set by direct object assignment.\n   */\n  inject(\n    context: Context,\n    carrier: Carrier,\n    setter: TextMapSetter<Carrier>\n  ): void;\n\n  /**\n   * Given a `Context` and a carrier, extract context values from a\n   * carrier and return a new context, created from the old context, with the\n   * extracted values.\n   *\n   * @param context the Context from which to extract values to transmit over\n   *     the wire.\n   * @param carrier the carrier of propagation fields, such as http request\n   *     headers.\n   * @param getter an optional {@link TextMapGetter}. If undefined, keys will be all\n   *     own properties, and keys will be accessed by direct object access.\n   */\n  extract(\n    context: Context,\n    carrier: Carrier,\n    getter: TextMapGetter<Carrier>\n  ): Context;\n\n  /**\n   * Return a list of all fields which may be used by the propagator.\n   */\n  fields(): string[];\n}\n\n/**\n * A setter is specified by the caller to define a specific method\n * to set key/value pairs on the carrier within a propagator.\n */\nexport interface TextMapSetter<Carrier = any> {\n  /**\n   * Callback used to set a key/value pair on an object.\n   *\n   * Should be called by the propagator each time a key/value pair\n   * should be set, and should set that key/value pair on the propagator.\n   *\n   * @param carrier object or class which carries key/value pairs\n   * @param key string key to modify\n   * @param value value to be set to the key on the carrier\n   */\n  set(carrier: Carrier, key: string, value: string): void;\n}\n\n/**\n * A getter is specified by the caller to define a specific method\n * to get the value of a key from a carrier.\n */\nexport interface TextMapGetter<Carrier = any> {\n  /**\n   * Get a list of all keys available on the carrier.\n   *\n   * @param carrier\n   */\n  keys(carrier: Carrier): string[];\n\n  /**\n   * Get the value of a specific key from the carrier.\n   *\n   * @param carrier\n   * @param key\n   */\n  get(carrier: Carrier, key: string): undefined | string | string[];\n}\n\nexport const defaultTextMapGetter: TextMapGetter = {\n  get(carrier, key) {\n    if (carrier == null) {\n      return undefined;\n    }\n    return carrier[key];\n  },\n\n  keys(carrier) {\n    if (carrier == null) {\n      return [];\n    }\n    return Object.keys(carrier);\n  },\n};\n\nexport const defaultTextMapSetter: TextMapSetter = {\n  set(carrier, key, value) {\n    if (carrier == null) {\n      return;\n    }\n\n    carrier[key] = value;\n  },\n};\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ROOT_CONTEXT } from './context';\nimport * as types from './types';\n\nexport class NoopContextManager implements types.ContextManager {\n  active(): types.Context {\n    return ROOT_CONTEXT;\n  }\n\n  with<A extends unknown[], F extends (...args: A) => ReturnType<F>>(\n    _context: types.Context,\n    fn: F,\n    thisArg?: ThisParameterType<F>,\n    ...args: A\n  ): ReturnType<F> {\n    return fn.call(thisArg, ...args);\n  }\n\n  bind<T>(_context: types.Context, target: T): T {\n    return target;\n  }\n\n  enable(): this {\n    return this;\n  }\n\n  disable(): this {\n    return this;\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { NoopContextManager } from '../context/NoopContextManager';\nimport { Context, ContextManager } from '../context/types';\nimport {\n  getGlobal,\n  registerGlobal,\n  unregisterGlobal,\n} from '../internal/global-utils';\nimport { DiagAPI } from './diag';\n\nconst API_NAME = 'context';\nconst NOOP_CONTEXT_MANAGER = new NoopContextManager();\n\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Context API\n */\nexport class ContextAPI {\n  private static _instance?: ContextAPI;\n\n  /** Empty private constructor prevents end users from constructing a new instance of the API */\n  private constructor() {}\n\n  /** Get the singleton instance of the Context API */\n  public static getInstance(): ContextAPI {\n    if (!this._instance) {\n      this._instance = new ContextAPI();\n    }\n\n    return this._instance;\n  }\n\n  /**\n   * Set the current context manager.\n   *\n   * @returns true if the context manager was successfully registered, else false\n   */\n  public setGlobalContextManager(contextManager: ContextManager): boolean {\n    return registerGlobal(API_NAME, contextManager, DiagAPI.instance());\n  }\n\n  /**\n   * Get the currently active context\n   */\n  public active(): Context {\n    return this._getContextManager().active();\n  }\n\n  /**\n   * Execute a function with an active context\n   *\n   * @param context context to be active during function execution\n   * @param fn function to execute in a context\n   * @param thisArg optional receiver to be used for calling fn\n   * @param args optional arguments forwarded to fn\n   */\n  public with<A extends unknown[], F extends (...args: A) => ReturnType<F>>(\n    context: Context,\n    fn: F,\n    thisArg?: ThisParameterType<F>,\n    ...args: A\n  ): ReturnType<F> {\n    return this._getContextManager().with(context, fn, thisArg, ...args);\n  }\n\n  /**\n   * Bind a context to a target function or event emitter\n   *\n   * @param context context to bind to the event emitter or function. Defaults to the currently active context\n   * @param target function or event emitter to bind\n   */\n  public bind<T>(context: Context, target: T): T {\n    return this._getContextManager().bind(context, target);\n  }\n\n  private _getContextManager(): ContextManager {\n    return getGlobal(API_NAME) || NOOP_CONTEXT_MANAGER;\n  }\n\n  /** Disable and remove the global context manager */\n  public disable() {\n    this._getContextManager().disable();\n    unregisterGlobal(API_NAME, DiagAPI.instance());\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport enum TraceFlags {\n  /** Represents no flag set. */\n  NONE = 0x0,\n  /** Bit to represent whether trace is sampled in trace flags. */\n  SAMPLED = 0x1 << 0,\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SpanContext } from './span_context';\nimport { TraceFlags } from './trace_flags';\n\nexport const INVALID_SPANID = '0000000000000000';\nexport const INVALID_TRACEID = '00000000000000000000000000000000';\nexport const INVALID_SPAN_CONTEXT: SpanContext = {\n  traceId: INVALID_TRACEID,\n  spanId: INVALID_SPANID,\n  traceFlags: TraceFlags.NONE,\n};\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Exception } from '../common/Exception';\nimport { TimeInput } from '../common/Time';\nimport { SpanAttributes } from './attributes';\nimport { INVALID_SPAN_CONTEXT } from './invalid-span-constants';\nimport { Span } from './span';\nimport { SpanContext } from './span_context';\nimport { SpanStatus } from './status';\n\n/**\n * The NonRecordingSpan is the default {@link Span} that is used when no Span\n * implementation is available. All operations are no-op including context\n * propagation.\n */\nexport class NonRecordingSpan implements Span {\n  constructor(\n    private readonly _spanContext: SpanContext = INVALID_SPAN_CONTEXT\n  ) {}\n\n  // Returns a SpanContext.\n  spanContext(): SpanContext {\n    return this._spanContext;\n  }\n\n  // By default does nothing\n  setAttribute(_key: string, _value: unknown): this {\n    return this;\n  }\n\n  // By default does nothing\n  setAttributes(_attributes: SpanAttributes): this {\n    return this;\n  }\n\n  // By default does nothing\n  addEvent(_name: string, _attributes?: SpanAttributes): this {\n    return this;\n  }\n\n  // By default does nothing\n  setStatus(_status: SpanStatus): this {\n    return this;\n  }\n\n  // By default does nothing\n  updateName(_name: string): this {\n    return this;\n  }\n\n  // By default does nothing\n  end(_endTime?: TimeInput): void {}\n\n  // isRecording always returns false for NonRecordingSpan.\n  isRecording(): boolean {\n    return false;\n  }\n\n  // By default does nothing\n  recordException(_exception: Exception, _time?: TimeInput): void {}\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createContextKey } from '../context/context';\nimport { Context } from '../context/types';\nimport { Span } from './span';\nimport { SpanContext } from './span_context';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { ContextAPI } from '../api/context';\n\n/**\n * span key\n */\nconst SPAN_KEY = createContextKey('OpenTelemetry Context Key SPAN');\n\n/**\n * Return the span if one exists\n *\n * @param context context to get span from\n */\nexport function getSpan(context: Context): Span | undefined {\n  return (context.getValue(SPAN_KEY) as Span) || undefined;\n}\n\n/**\n * Gets the span from the current context, if one exists.\n */\nexport function getActiveSpan(): Span | undefined {\n  return getSpan(ContextAPI.getInstance().active());\n}\n\n/**\n * Set the span on a context\n *\n * @param context context to use as parent\n * @param span span to set active\n */\nexport function setSpan(context: Context, span: Span): Context {\n  return context.setValue(SPAN_KEY, span);\n}\n\n/**\n * Remove current span stored in the context\n *\n * @param context context to delete span from\n */\nexport function deleteSpan(context: Context): Context {\n  return context.deleteValue(SPAN_KEY);\n}\n\n/**\n * Wrap span context in a NoopSpan and set as span in a new\n * context\n *\n * @param context context to set active span on\n * @param spanContext span context to be wrapped\n */\nexport function setSpanContext(\n  context: Context,\n  spanContext: SpanContext\n): Context {\n  return setSpan(context, new NonRecordingSpan(spanContext));\n}\n\n/**\n * Get the span context of the span if it exists.\n *\n * @param context context to get values from\n */\nexport function getSpanContext(context: Context): SpanContext | undefined {\n  return getSpan(context)?.spanContext();\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { INVALID_SPANID, INVALID_TRACEID } from './invalid-span-constants';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { Span } from './span';\nimport { SpanContext } from './span_context';\n\nconst VALID_TRACEID_REGEX = /^([0-9a-f]{32})$/i;\nconst VALID_SPANID_REGEX = /^[0-9a-f]{16}$/i;\n\nexport function isValidTraceId(traceId: string): boolean {\n  return VALID_TRACEID_REGEX.test(traceId) && traceId !== INVALID_TRACEID;\n}\n\nexport function isValidSpanId(spanId: string): boolean {\n  return VALID_SPANID_REGEX.test(spanId) && spanId !== INVALID_SPANID;\n}\n\n/**\n * Returns true if this {@link SpanContext} is valid.\n * @return true if this {@link SpanContext} is valid.\n */\nexport function isSpanContextValid(spanContext: SpanContext): boolean {\n  return (\n    isValidTraceId(spanContext.traceId) && isValidSpanId(spanContext.spanId)\n  );\n}\n\n/**\n * Wrap the given {@link SpanContext} in a new non-recording {@link Span}\n *\n * @param spanContext span context to be wrapped\n * @returns a new non-recording {@link Span} with the provided context\n */\nexport function wrapSpanContext(spanContext: SpanContext): Span {\n  return new NonRecordingSpan(spanContext);\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ContextAPI } from '../api/context';\nimport { Context } from '../context/types';\nimport { getSpanContext, setSpan } from '../trace/context-utils';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { Span } from './span';\nimport { isSpanContextValid } from './spancontext-utils';\nimport { SpanOptions } from './SpanOptions';\nimport { SpanContext } from './span_context';\nimport { Tracer } from './tracer';\n\nconst contextApi = ContextAPI.getInstance();\n\n/**\n * No-op implementations of {@link Tracer}.\n */\nexport class NoopTracer implements Tracer {\n  // startSpan starts a noop span.\n  startSpan(\n    name: string,\n    options?: SpanOptions,\n    context = contextApi.active()\n  ): Span {\n    const root = Boolean(options?.root);\n    if (root) {\n      return new NonRecordingSpan();\n    }\n\n    const parentFromContext = context && getSpanContext(context);\n\n    if (\n      isSpanContext(parentFromContext) &&\n      isSpanContextValid(parentFromContext)\n    ) {\n      return new NonRecordingSpan(parentFromContext);\n    } else {\n      return new NonRecordingSpan();\n    }\n  }\n\n  startActiveSpan<F extends (span: Span) => ReturnType<F>>(\n    name: string,\n    fn: F\n  ): ReturnType<F>;\n  startActiveSpan<F extends (span: Span) => ReturnType<F>>(\n    name: string,\n    opts: SpanOptions | undefined,\n    fn: F\n  ): ReturnType<F>;\n  startActiveSpan<F extends (span: Span) => ReturnType<F>>(\n    name: string,\n    opts: SpanOptions | undefined,\n    ctx: Context | undefined,\n    fn: F\n  ): ReturnType<F>;\n  startActiveSpan<F extends (span: Span) => ReturnType<F>>(\n    name: string,\n    arg2?: F | SpanOptions,\n    arg3?: F | Context,\n    arg4?: F\n  ): ReturnType<F> | undefined {\n    let opts: SpanOptions | undefined;\n    let ctx: Context | undefined;\n    let fn: F;\n\n    if (arguments.length < 2) {\n      return;\n    } else if (arguments.length === 2) {\n      fn = arg2 as F;\n    } else if (arguments.length === 3) {\n      opts = arg2 as SpanOptions | undefined;\n      fn = arg3 as F;\n    } else {\n      opts = arg2 as SpanOptions | undefined;\n      ctx = arg3 as Context | undefined;\n      fn = arg4 as F;\n    }\n\n    const parentContext = ctx ?? contextApi.active();\n    const span = this.startSpan(name, opts, parentContext);\n    const contextWithSpanSet = setSpan(parentContext, span);\n\n    return contextApi.with(contextWithSpanSet, fn, undefined, span);\n  }\n}\n\nfunction isSpanContext(spanContext: any): spanContext is SpanContext {\n  return (\n    typeof spanContext === 'object' &&\n    typeof spanContext['spanId'] === 'string' &&\n    typeof spanContext['traceId'] === 'string' &&\n    typeof spanContext['traceFlags'] === 'number'\n  );\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context } from '../context/types';\nimport { NoopTracer } from './NoopTracer';\nimport { Span } from './span';\nimport { SpanOptions } from './SpanOptions';\nimport { Tracer } from './tracer';\nimport { TracerOptions } from './tracer_options';\n\nconst NOOP_TRACER = new NoopTracer();\n\n/**\n * Proxy tracer provided by the proxy tracer provider\n */\nexport class ProxyTracer implements Tracer {\n  // When a real implementation is provided, this will be it\n  private _delegate?: Tracer;\n\n  constructor(\n    private _provider: TracerDelegator,\n    public readonly name: string,\n    public readonly version?: string,\n    public readonly options?: TracerOptions\n  ) {}\n\n  startSpan(name: string, options?: SpanOptions, context?: Context): Span {\n    return this._getTracer().startSpan(name, options, context);\n  }\n\n  startActiveSpan<F extends (span: Span) => unknown>(\n    _name: string,\n    _options: F | SpanOptions,\n    _context?: F | Context,\n    _fn?: F\n  ): ReturnType<F> {\n    const tracer = this._getTracer();\n    return Reflect.apply(tracer.startActiveSpan, tracer, arguments);\n  }\n\n  /**\n   * Try to get a tracer from the proxy tracer provider.\n   * If the proxy tracer provider has no delegate, return a noop tracer.\n   */\n  private _getTracer() {\n    if (this._delegate) {\n      return this._delegate;\n    }\n\n    const tracer = this._provider.getDelegateTracer(\n      this.name,\n      this.version,\n      this.options\n    );\n\n    if (!tracer) {\n      return NOOP_TRACER;\n    }\n\n    this._delegate = tracer;\n    return this._delegate;\n  }\n}\n\nexport interface TracerDelegator {\n  getDelegateTracer(\n    name: string,\n    version?: string,\n    options?: TracerOptions\n  ): Tracer | undefined;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { NoopTracer } from './NoopTracer';\nimport { Tracer } from './tracer';\nimport { TracerOptions } from './tracer_options';\nimport { TracerProvider } from './tracer_provider';\n\n/**\n * An implementation of the {@link TracerProvider} which returns an impotent\n * Tracer for all calls to `getTracer`.\n *\n * All operations are no-op.\n */\nexport class NoopTracerProvider implements TracerProvider {\n  getTracer(\n    _name?: string,\n    _version?: string,\n    _options?: TracerOptions\n  ): Tracer {\n    return new NoopTracer();\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Tracer } from './tracer';\nimport { TracerProvider } from './tracer_provider';\nimport { ProxyTracer } from './ProxyTracer';\nimport { NoopTracerProvider } from './NoopTracerProvider';\nimport { TracerOptions } from './tracer_options';\n\nconst NOOP_TRACER_PROVIDER = new NoopTracerProvider();\n\n/**\n * Tracer provider which provides {@link ProxyTracer}s.\n *\n * Before a delegate is set, tracers provided are NoOp.\n *   When a delegate is set, traces are provided from the delegate.\n *   When a delegate is set after tracers have already been provided,\n *   all tracers already provided will use the provided delegate implementation.\n */\nexport class ProxyTracerProvider implements TracerProvider {\n  private _delegate?: TracerProvider;\n\n  /**\n   * Get a {@link ProxyTracer}\n   */\n  getTracer(name: string, version?: string, options?: TracerOptions): Tracer {\n    return (\n      this.getDelegateTracer(name, version, options) ??\n      new ProxyTracer(this, name, version, options)\n    );\n  }\n\n  getDelegate(): TracerProvider {\n    return this._delegate ?? NOOP_TRACER_PROVIDER;\n  }\n\n  /**\n   * Set the delegate tracer provider\n   */\n  setDelegate(delegate: TracerProvider) {\n    this._delegate = delegate;\n  }\n\n  getDelegateTracer(\n    name: string,\n    version?: string,\n    options?: TracerOptions\n  ): Tracer | undefined {\n    return this._delegate?.getTracer(name, version, options);\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SpanAttributes } from './attributes';\nimport { TraceState } from './trace_state';\n\n/**\n * @deprecated use the one declared in @opentelemetry/sdk-trace-base instead.\n * A sampling decision that determines how a {@link Span} will be recorded\n * and collected.\n */\nexport enum SamplingDecision {\n  /**\n   * `Span.isRecording() === false`, span will not be recorded and all events\n   * and attributes will be dropped.\n   */\n  NOT_RECORD,\n  /**\n   * `Span.isRecording() === true`, but `Sampled` flag in {@link TraceFlags}\n   * MUST NOT be set.\n   */\n  RECORD,\n  /**\n   * `Span.isRecording() === true` AND `Sampled` flag in {@link TraceFlags}\n   * MUST be set.\n   */\n  RECORD_AND_SAMPLED,\n}\n\n/**\n * @deprecated use the one declared in @opentelemetry/sdk-trace-base instead.\n * A sampling result contains a decision for a {@link Span} and additional\n * attributes the sampler would like to added to the Span.\n */\nexport interface SamplingResult {\n  /**\n   * A sampling decision, refer to {@link SamplingDecision} for details.\n   */\n  decision: SamplingDecision;\n  /**\n   * The list of attributes returned by SamplingResult MUST be immutable.\n   * Caller may call {@link Sampler}.shouldSample any number of times and\n   * can safely cache the returned value.\n   */\n  attributes?: Readonly<SpanAttributes>;\n  /**\n   * A {@link TraceState} that will be associated with the {@link Span} through\n   * the new {@link SpanContext}. Samplers SHOULD return the TraceState from\n   * the passed-in {@link Context} if they do not intend to change it. Leaving\n   * the value undefined will also leave the TraceState unchanged.\n   */\n  traceState?: TraceState;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport enum SpanKind {\n  /** Default value. Indicates that the span is used internally. */\n  INTERNAL = 0,\n\n  /**\n   * Indicates that the span covers server-side handling of an RPC or other\n   * remote request.\n   */\n  SERVER = 1,\n\n  /**\n   * Indicates that the span covers the client-side wrapper around an RPC or\n   * other remote request.\n   */\n  CLIENT = 2,\n\n  /**\n   * Indicates that the span describes producer sending a message to a\n   * broker. Unlike client and server, there is no direct critical path latency\n   * relationship between producer and consumer spans.\n   */\n  PRODUCER = 3,\n\n  /**\n   * Indicates that the span describes consumer receiving a message from a\n   * broker. Unlike client and server, there is no direct critical path latency\n   * relationship between producer and consumer spans.\n   */\n  CONSUMER = 4,\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport interface SpanStatus {\n  /** The status code of this message. */\n  code: SpanStatusCode;\n  /** A developer-facing error message. */\n  message?: string;\n}\n\n/**\n * An enumeration of status codes.\n */\nexport enum SpanStatusCode {\n  /**\n   * The default status.\n   */\n  UNSET = 0,\n  /**\n   * The operation has been validated by an Application developer or\n   * Operator to have completed successfully.\n   */\n  OK = 1,\n  /**\n   * The operation contains an error.\n   */\n  ERROR = 2,\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst VALID_KEY_CHAR_RANGE = '[_0-9a-z-*/]';\nconst VALID_KEY = `[a-z]${VALID_KEY_CHAR_RANGE}{0,255}`;\nconst VALID_VENDOR_KEY = `[a-z0-9]${VALID_KEY_CHAR_RANGE}{0,240}@[a-z]${VALID_KEY_CHAR_RANGE}{0,13}`;\nconst VALID_KEY_REGEX = new RegExp(`^(?:${VALID_KEY}|${VALID_VENDOR_KEY})$`);\nconst VALID_VALUE_BASE_REGEX = /^[ -~]{0,255}[!-~]$/;\nconst INVALID_VALUE_COMMA_EQUAL_REGEX = /,|=/;\n\n/**\n * Key is opaque string up to 256 characters printable. It MUST begin with a\n * lowercase letter, and can only contain lowercase letters a-z, digits 0-9,\n * underscores _, dashes -, asterisks *, and forward slashes /.\n * For multi-tenant vendor scenarios, an at sign (@) can be used to prefix the\n * vendor name. Vendors SHOULD set the tenant ID at the beginning of the key.\n * see https://www.w3.org/TR/trace-context/#key\n */\nexport function validateKey(key: string): boolean {\n  return VALID_KEY_REGEX.test(key);\n}\n\n/**\n * Value is opaque string up to 256 characters printable ASCII RFC0020\n * characters (i.e., the range 0x20 to 0x7E) except comma , and =.\n */\nexport function validateValue(value: string): boolean {\n  return (\n    VALID_VALUE_BASE_REGEX.test(value) &&\n    !INVALID_VALUE_COMMA_EQUAL_REGEX.test(value)\n  );\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { TraceState } from '../trace_state';\nimport { validateKey, validateValue } from './tracestate-validators';\n\nconst MAX_TRACE_STATE_ITEMS = 32;\nconst MAX_TRACE_STATE_LEN = 512;\nconst LIST_MEMBERS_SEPARATOR = ',';\nconst LIST_MEMBER_KEY_VALUE_SPLITTER = '=';\n\n/**\n * TraceState must be a class and not a simple object type because of the spec\n * requirement (https://www.w3.org/TR/trace-context/#tracestate-field).\n *\n * Here is the list of allowed mutations:\n * - New key-value pair should be added into the beginning of the list\n * - The value of any key can be updated. Modified keys MUST be moved to the\n * beginning of the list.\n */\nexport class TraceStateImpl implements TraceState {\n  private _internalState: Map<string, string> = new Map();\n\n  constructor(rawTraceState?: string) {\n    if (rawTraceState) this._parse(rawTraceState);\n  }\n\n  set(key: string, value: string): TraceStateImpl {\n    // TODO: Benchmark the different approaches(map vs list) and\n    // use the faster one.\n    const traceState = this._clone();\n    if (traceState._internalState.has(key)) {\n      traceState._internalState.delete(key);\n    }\n    traceState._internalState.set(key, value);\n    return traceState;\n  }\n\n  unset(key: string): TraceStateImpl {\n    const traceState = this._clone();\n    traceState._internalState.delete(key);\n    return traceState;\n  }\n\n  get(key: string): string | undefined {\n    return this._internalState.get(key);\n  }\n\n  serialize(): string {\n    return this._keys()\n      .reduce((agg: string[], key) => {\n        agg.push(key + LIST_MEMBER_KEY_VALUE_SPLITTER + this.get(key));\n        return agg;\n      }, [])\n      .join(LIST_MEMBERS_SEPARATOR);\n  }\n\n  private _parse(rawTraceState: string) {\n    if (rawTraceState.length > MAX_TRACE_STATE_LEN) return;\n    this._internalState = rawTraceState\n      .split(LIST_MEMBERS_SEPARATOR)\n      .reverse() // Store in reverse so new keys (.set(...)) will be placed at the beginning\n      .reduce((agg: Map<string, string>, part: string) => {\n        const listMember = part.trim(); // Optional Whitespace (OWS) handling\n        const i = listMember.indexOf(LIST_MEMBER_KEY_VALUE_SPLITTER);\n        if (i !== -1) {\n          const key = listMember.slice(0, i);\n          const value = listMember.slice(i + 1, part.length);\n          if (validateKey(key) && validateValue(value)) {\n            agg.set(key, value);\n          } else {\n            // TODO: Consider to add warning log\n          }\n        }\n        return agg;\n      }, new Map());\n\n    // Because of the reverse() requirement, trunc must be done after map is created\n    if (this._internalState.size > MAX_TRACE_STATE_ITEMS) {\n      this._internalState = new Map(\n        Array.from(this._internalState.entries())\n          .reverse() // Use reverse same as original tracestate parse chain\n          .slice(0, MAX_TRACE_STATE_ITEMS)\n      );\n    }\n  }\n\n  private _keys(): string[] {\n    return Array.from(this._internalState.keys()).reverse();\n  }\n\n  private _clone(): TraceStateImpl {\n    const traceState = new TraceStateImpl();\n    traceState._internalState = new Map(this._internalState);\n    return traceState;\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { TraceState } from '../trace_state';\nimport { TraceStateImpl } from './tracestate-impl';\n\nexport function createTraceState(rawTraceState?: string): TraceState {\n  return new TraceStateImpl(rawTraceState);\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { ContextAPI } from './api/context';\n/** Entrypoint for context API */\nexport const context = ContextAPI.getInstance();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { DiagAPI } from './api/diag';\n/**\n * Entrypoint for Diag API.\n * Defines Diagnostic handler used for internal diagnostic logging operations.\n * The default provides a Noop DiagLogger implementation which may be changed via the\n * diag.setLogger(logger: DiagLogger) function.\n */\nexport const diag = DiagAPI.instance();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Meter, MeterOptions } from './Meter';\nimport { MeterProvider } from './MeterProvider';\nimport { NOOP_METER } from './NoopMeter';\n\n/**\n * An implementation of the {@link MeterProvider} which returns an impotent Meter\n * for all calls to `getMeter`\n */\nexport class NoopMeterProvider implements MeterProvider {\n  getMeter(_name: string, _version?: string, _options?: MeterOptions): Meter {\n    return NOOP_METER;\n  }\n}\n\nexport const NOOP_METER_PROVIDER = new NoopMeterProvider();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Meter, MeterOptions } from '../metrics/Meter';\nimport { MeterProvider } from '../metrics/MeterProvider';\nimport { NOOP_METER_PROVIDER } from '../metrics/NoopMeterProvider';\nimport {\n  getGlobal,\n  registerGlobal,\n  unregisterGlobal,\n} from '../internal/global-utils';\nimport { DiagAPI } from './diag';\n\nconst API_NAME = 'metrics';\n\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Metrics API\n */\nexport class MetricsAPI {\n  private static _instance?: MetricsAPI;\n\n  /** Empty private constructor prevents end users from constructing a new instance of the API */\n  private constructor() {}\n\n  /** Get the singleton instance of the Metrics API */\n  public static getInstance(): MetricsAPI {\n    if (!this._instance) {\n      this._instance = new MetricsAPI();\n    }\n\n    return this._instance;\n  }\n\n  /**\n   * Set the current global meter provider.\n   * Returns true if the meter provider was successfully registered, else false.\n   */\n  public setGlobalMeterProvider(provider: MeterProvider): boolean {\n    return registerGlobal(API_NAME, provider, DiagAPI.instance());\n  }\n\n  /**\n   * Returns the global meter provider.\n   */\n  public getMeterProvider(): MeterProvider {\n    return getGlobal(API_NAME) || NOOP_METER_PROVIDER;\n  }\n\n  /**\n   * Returns a meter from the global meter provider.\n   */\n  public getMeter(\n    name: string,\n    version?: string,\n    options?: MeterOptions\n  ): Meter {\n    return this.getMeterProvider().getMeter(name, version, options);\n  }\n\n  /** Remove the global meter provider */\n  public disable(): void {\n    unregisterGlobal(API_NAME, DiagAPI.instance());\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { MetricsAPI } from './api/metrics';\n/** Entrypoint for metrics API */\nexport const metrics = MetricsAPI.getInstance();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context } from '../context/types';\nimport { TextMapPropagator } from './TextMapPropagator';\n\n/**\n * No-op implementations of {@link TextMapPropagator}.\n */\nexport class NoopTextMapPropagator implements TextMapPropagator {\n  /** Noop inject function does nothing */\n  inject(_context: Context, _carrier: unknown): void {}\n  /** Noop extract function does nothing and returns the input context */\n  extract(context: Context, _carrier: unknown): Context {\n    return context;\n  }\n  fields(): string[] {\n    return [];\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ContextAPI } from '../api/context';\nimport { createContextKey } from '../context/context';\nimport { Context } from '../context/types';\nimport { Baggage } from './types';\n\n/**\n * Baggage key\n */\nconst BAGGAGE_KEY = createContextKey('OpenTelemetry Baggage Key');\n\n/**\n * Retrieve the current baggage from the given context\n *\n * @param {Context} Context that manage all context values\n * @returns {Baggage} Extracted baggage from the context\n */\nexport function getBaggage(context: Context): Baggage | undefined {\n  return (context.getValue(BAGGAGE_KEY) as Baggage) || undefined;\n}\n\n/**\n * Retrieve the current baggage from the active/current context\n *\n * @returns {Baggage} Extracted baggage from the context\n */\nexport function getActiveBaggage(): Baggage | undefined {\n  return getBaggage(ContextAPI.getInstance().active());\n}\n\n/**\n * Store a baggage in the given context\n *\n * @param {Context} Context that manage all context values\n * @param {Baggage} baggage that will be set in the actual context\n */\nexport function setBaggage(context: Context, baggage: Baggage): Context {\n  return context.setValue(BAGGAGE_KEY, baggage);\n}\n\n/**\n * Delete the baggage stored in the given context\n *\n * @param {Context} Context that manage all context values\n */\nexport function deleteBaggage(context: Context): Context {\n  return context.deleteValue(BAGGAGE_KEY);\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context } from '../context/types';\nimport {\n  getGlobal,\n  registerGlobal,\n  unregisterGlobal,\n} from '../internal/global-utils';\nimport { NoopTextMapPropagator } from '../propagation/NoopTextMapPropagator';\nimport {\n  defaultTextMapGetter,\n  defaultTextMapSetter,\n  TextMapGetter,\n  TextMapPropagator,\n  TextMapSetter,\n} from '../propagation/TextMapPropagator';\nimport {\n  getBaggage,\n  getActiveBaggage,\n  setBaggage,\n  deleteBaggage,\n} from '../baggage/context-helpers';\nimport { createBaggage } from '../baggage/utils';\nimport { DiagAPI } from './diag';\n\nconst API_NAME = 'propagation';\nconst NOOP_TEXT_MAP_PROPAGATOR = new NoopTextMapPropagator();\n\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Propagation API\n */\nexport class PropagationAPI {\n  private static _instance?: PropagationAPI;\n\n  /** Empty private constructor prevents end users from constructing a new instance of the API */\n  private constructor() {}\n\n  /** Get the singleton instance of the Propagator API */\n  public static getInstance(): PropagationAPI {\n    if (!this._instance) {\n      this._instance = new PropagationAPI();\n    }\n\n    return this._instance;\n  }\n\n  /**\n   * Set the current propagator.\n   *\n   * @returns true if the propagator was successfully registered, else false\n   */\n  public setGlobalPropagator(propagator: TextMapPropagator): boolean {\n    return registerGlobal(API_NAME, propagator, DiagAPI.instance());\n  }\n\n  /**\n   * Inject context into a carrier to be propagated inter-process\n   *\n   * @param context Context carrying tracing data to inject\n   * @param carrier carrier to inject context into\n   * @param setter Function used to set values on the carrier\n   */\n  public inject<Carrier>(\n    context: Context,\n    carrier: Carrier,\n    setter: TextMapSetter<Carrier> = defaultTextMapSetter\n  ): void {\n    return this._getGlobalPropagator().inject(context, carrier, setter);\n  }\n\n  /**\n   * Extract context from a carrier\n   *\n   * @param context Context which the newly created context will inherit from\n   * @param carrier Carrier to extract context from\n   * @param getter Function used to extract keys from a carrier\n   */\n  public extract<Carrier>(\n    context: Context,\n    carrier: Carrier,\n    getter: TextMapGetter<Carrier> = defaultTextMapGetter\n  ): Context {\n    return this._getGlobalPropagator().extract(context, carrier, getter);\n  }\n\n  /**\n   * Return a list of all fields which may be used by the propagator.\n   */\n  public fields(): string[] {\n    return this._getGlobalPropagator().fields();\n  }\n\n  /** Remove the global propagator */\n  public disable() {\n    unregisterGlobal(API_NAME, DiagAPI.instance());\n  }\n\n  public createBaggage = createBaggage;\n\n  public getBaggage = getBaggage;\n\n  public getActiveBaggage = getActiveBaggage;\n\n  public setBaggage = setBaggage;\n\n  public deleteBaggage = deleteBaggage;\n\n  private _getGlobalPropagator(): TextMapPropagator {\n    return getGlobal(API_NAME) || NOOP_TEXT_MAP_PROPAGATOR;\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { PropagationAPI } from './api/propagation';\n/** Entrypoint for propagation API */\nexport const propagation = PropagationAPI.getInstance();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  getGlobal,\n  registerGlobal,\n  unregisterGlobal,\n} from '../internal/global-utils';\nimport { ProxyTracerProvider } from '../trace/ProxyTracerProvider';\nimport {\n  isSpanContextValid,\n  wrapSpanContext,\n} from '../trace/spancontext-utils';\nimport { Tracer } from '../trace/tracer';\nimport { TracerProvider } from '../trace/tracer_provider';\nimport {\n  deleteSpan,\n  getActiveSpan,\n  getSpan,\n  getSpanContext,\n  setSpan,\n  setSpanContext,\n} from '../trace/context-utils';\nimport { DiagAPI } from './diag';\n\nconst API_NAME = 'trace';\n\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Tracing API\n */\nexport class TraceAPI {\n  private static _instance?: TraceAPI;\n\n  private _proxyTracerProvider = new ProxyTracerProvider();\n\n  /** Empty private constructor prevents end users from constructing a new instance of the API */\n  private constructor() {}\n\n  /** Get the singleton instance of the Trace API */\n  public static getInstance(): TraceAPI {\n    if (!this._instance) {\n      this._instance = new TraceAPI();\n    }\n\n    return this._instance;\n  }\n\n  /**\n   * Set the current global tracer.\n   *\n   * @returns true if the tracer provider was successfully registered, else false\n   */\n  public setGlobalTracerProvider(provider: TracerProvider): boolean {\n    const success = registerGlobal(\n      API_NAME,\n      this._proxyTracerProvider,\n      DiagAPI.instance()\n    );\n    if (success) {\n      this._proxyTracerProvider.setDelegate(provider);\n    }\n    return success;\n  }\n\n  /**\n   * Returns the global tracer provider.\n   */\n  public getTracerProvider(): TracerProvider {\n    return getGlobal(API_NAME) || this._proxyTracerProvider;\n  }\n\n  /**\n   * Returns a tracer from the global tracer provider.\n   */\n  public getTracer(name: string, version?: string): Tracer {\n    return this.getTracerProvider().getTracer(name, version);\n  }\n\n  /** Remove the global tracer provider */\n  public disable() {\n    unregisterGlobal(API_NAME, DiagAPI.instance());\n    this._proxyTracerProvider = new ProxyTracerProvider();\n  }\n\n  public wrapSpanContext = wrapSpanContext;\n\n  public isSpanContextValid = isSpanContextValid;\n\n  public deleteSpan = deleteSpan;\n\n  public getSpan = getSpan;\n\n  public getActiveSpan = getActiveSpan;\n\n  public getSpanContext = getSpanContext;\n\n  public setSpan = setSpan;\n\n  public setSpanContext = setSpanContext;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { TraceAPI } from './api/trace';\n/** Entrypoint for trace API */\nexport const trace = TraceAPI.getInstance();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { BaggageEntry, BaggageEntryMetadata, Baggage } from './baggage/types';\nexport { baggageEntryMetadataFromString } from './baggage/utils';\nexport { Exception } from './common/Exception';\nexport { HrTime, TimeInput } from './common/Time';\nexport { Attributes, AttributeValue } from './common/Attributes';\n\n// Context APIs\nexport { createContextKey, ROOT_CONTEXT } from './context/context';\nexport { Context, ContextManager } from './context/types';\nexport type { ContextAPI } from './api/context';\n\n// Diag APIs\nexport { DiagConsoleLogger } from './diag/consoleLogger';\nexport {\n  DiagLogFunction,\n  DiagLogger,\n  DiagLogLevel,\n  ComponentLoggerOptions,\n  DiagLoggerOptions,\n} from './diag/types';\nexport type { DiagAPI } from './api/diag';\n\n// Metrics APIs\nexport { createNoopMeter } from './metrics/NoopMeter';\nexport { MeterOptions, Meter } from './metrics/Meter';\nexport { MeterProvider } from './metrics/MeterProvider';\nexport {\n  ValueType,\n  Counter,\n  Histogram,\n  MetricOptions,\n  Observable,\n  ObservableCounter,\n  ObservableGauge,\n  ObservableUpDownCounter,\n  UpDownCounter,\n  BatchObservableCallback,\n  MetricAttributes,\n  MetricAttributeValue,\n  ObservableCallback,\n} from './metrics/Metric';\nexport {\n  BatchObservableResult,\n  ObservableResult,\n} from './metrics/ObservableResult';\nexport type { MetricsAPI } from './api/metrics';\n\n// Propagation APIs\nexport {\n  TextMapPropagator,\n  TextMapSetter,\n  TextMapGetter,\n  defaultTextMapGetter,\n  defaultTextMapSetter,\n} from './propagation/TextMapPropagator';\nexport type { PropagationAPI } from './api/propagation';\n\n// Trace APIs\nexport { SpanAttributes, SpanAttributeValue } from './trace/attributes';\nexport { Link } from './trace/link';\nexport { ProxyTracer, TracerDelegator } from './trace/ProxyTracer';\nexport { ProxyTracerProvider } from './trace/ProxyTracerProvider';\nexport { Sampler } from './trace/Sampler';\nexport { SamplingDecision, SamplingResult } from './trace/SamplingResult';\nexport { SpanContext } from './trace/span_context';\nexport { SpanKind } from './trace/span_kind';\nexport { Span } from './trace/span';\nexport { SpanOptions } from './trace/SpanOptions';\nexport { SpanStatus, SpanStatusCode } from './trace/status';\nexport { TraceFlags } from './trace/trace_flags';\nexport { TraceState } from './trace/trace_state';\nexport { createTraceState } from './trace/internal/utils';\nexport { TracerProvider } from './trace/tracer_provider';\nexport { Tracer } from './trace/tracer';\nexport { TracerOptions } from './trace/tracer_options';\nexport {\n  isSpanContextValid,\n  isValidTraceId,\n  isValidSpanId,\n} from './trace/spancontext-utils';\nexport {\n  INVALID_SPANID,\n  INVALID_TRACEID,\n  INVALID_SPAN_CONTEXT,\n} from './trace/invalid-span-constants';\nexport type { TraceAPI } from './api/trace';\n\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { context } from './context-api';\nimport { diag } from './diag-api';\nimport { metrics } from './metrics-api';\nimport { propagation } from './propagation-api';\nimport { trace } from './trace-api';\n\n// Named export.\nexport { context, diag, metrics, propagation, trace };\n// Default export.\nexport default {\n  context,\n  diag,\n  metrics,\n  propagation,\n  trace,\n};\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context, createContextKey } from '@opentelemetry/api';\n\nconst SUPPRESS_TRACING_KEY = createContextKey(\n  'OpenTelemetry SDK Context Key SUPPRESS_TRACING'\n);\n\nexport function suppressTracing(context: Context): Context {\n  return context.setValue(SUPPRESS_TRACING_KEY, true);\n}\n\nexport function unsuppressTracing(context: Context): Context {\n  return context.deleteValue(SUPPRESS_TRACING_KEY);\n}\n\nexport function isTracingSuppressed(context: Context): boolean {\n  return context.getValue(SUPPRESS_TRACING_KEY) === true;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const BAGGAGE_KEY_PAIR_SEPARATOR = '=';\nexport const BAGGAGE_PROPERTIES_SEPARATOR = ';';\nexport const BAGGAGE_ITEMS_SEPARATOR = ',';\n\n// Name of the http header used to propagate the baggage\nexport const BAGGAGE_HEADER = 'baggage';\n// Maximum number of name-value pairs allowed by w3c spec\nexport const BAGGAGE_MAX_NAME_VALUE_PAIRS = 180;\n// Maximum number of bytes per a single name-value pair allowed by w3c spec\nexport const BAGGAGE_MAX_PER_NAME_VALUE_PAIRS = 4096;\n// Maximum total length of all name-value pairs allowed by w3c spec\nexport const BAGGAGE_MAX_TOTAL_LENGTH = 8192;\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  Baggage,\n  BaggageEntryMetadata,\n  baggageEntryMetadataFromString,\n} from '@opentelemetry/api';\nimport {\n  BAGGAGE_ITEMS_SEPARATOR,\n  BAGGAGE_PROPERTIES_SEPARATOR,\n  BAGGAGE_KEY_PAIR_SEPARATOR,\n  BAGGAGE_MAX_TOTAL_LENGTH,\n} from './constants';\n\ntype ParsedBaggageKeyValue = {\n  key: string;\n  value: string;\n  metadata: BaggageEntryMetadata | undefined;\n};\n\nexport function serializeKeyPairs(keyPairs: string[]): string {\n  return keyPairs.reduce((hValue: string, current: string) => {\n    const value = `${hValue}${\n      hValue !== '' ? BAGGAGE_ITEMS_SEPARATOR : ''\n    }${current}`;\n    return value.length > BAGGAGE_MAX_TOTAL_LENGTH ? hValue : value;\n  }, '');\n}\n\nexport function getKeyPairs(baggage: Baggage): string[] {\n  return baggage.getAllEntries().map(([key, value]) => {\n    let entry = `${encodeURIComponent(key)}=${encodeURIComponent(value.value)}`;\n\n    // include opaque metadata if provided\n    // NOTE: we intentionally don't URI-encode the metadata - that responsibility falls on the metadata implementation\n    if (value.metadata !== undefined) {\n      entry += BAGGAGE_PROPERTIES_SEPARATOR + value.metadata.toString();\n    }\n\n    return entry;\n  });\n}\n\nexport function parsePairKeyValue(\n  entry: string\n): ParsedBaggageKeyValue | undefined {\n  const valueProps = entry.split(BAGGAGE_PROPERTIES_SEPARATOR);\n  if (valueProps.length <= 0) return;\n  const keyPairPart = valueProps.shift();\n  if (!keyPairPart) return;\n  const keyPair = keyPairPart.split(BAGGAGE_KEY_PAIR_SEPARATOR);\n  if (keyPair.length !== 2) return;\n  const key = decodeURIComponent(keyPair[0].trim());\n  const value = decodeURIComponent(keyPair[1].trim());\n  let metadata;\n  if (valueProps.length > 0) {\n    metadata = baggageEntryMetadataFromString(\n      valueProps.join(BAGGAGE_PROPERTIES_SEPARATOR)\n    );\n  }\n  return { key, value, metadata };\n}\n\n/**\n * Parse a string serialized in the baggage HTTP Format (without metadata):\n * https://github.com/w3c/baggage/blob/master/baggage/HTTP_HEADER_FORMAT.md\n */\nexport function parseKeyPairsIntoRecord(\n  value?: string\n): Record<string, string> {\n  if (typeof value !== 'string' || value.length === 0) return {};\n  return value\n    .split(BAGGAGE_ITEMS_SEPARATOR)\n    .map(entry => {\n      return parsePairKeyValue(entry);\n    })\n    .filter(keyPair => keyPair !== undefined && keyPair.value.length > 0)\n    .reduce<Record<string, string>>((headers, keyPair) => {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      headers[keyPair!.key] = keyPair!.value;\n      return headers;\n    }, {});\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  BaggageEntry,\n  Context,\n  propagation,\n  TextMapGetter,\n  TextMapPropagator,\n  TextMapSetter,\n} from '@opentelemetry/api';\n\nimport { isTracingSuppressed } from '../../trace/suppress-tracing';\nimport {\n  BAGGAGE_HEADER,\n  BAGGAGE_ITEMS_SEPARATOR,\n  BAGGAGE_MAX_NAME_VALUE_PAIRS,\n  BAGGAGE_MAX_PER_NAME_VALUE_PAIRS,\n} from '../constants';\nimport { getKeyPairs, parsePairKeyValue, serializeKeyPairs } from '../utils';\n\n/**\n * Propagates {@link Baggage} through Context format propagation.\n *\n * Based on the Baggage specification:\n * https://w3c.github.io/baggage/\n */\nexport class W3CBaggagePropagator implements TextMapPropagator {\n  inject(context: Context, carrier: unknown, setter: TextMapSetter): void {\n    const baggage = propagation.getBaggage(context);\n    if (!baggage || isTracingSuppressed(context)) return;\n    const keyPairs = getKeyPairs(baggage)\n      .filter((pair: string) => {\n        return pair.length <= BAGGAGE_MAX_PER_NAME_VALUE_PAIRS;\n      })\n      .slice(0, BAGGAGE_MAX_NAME_VALUE_PAIRS);\n    const headerValue = serializeKeyPairs(keyPairs);\n    if (headerValue.length > 0) {\n      setter.set(carrier, BAGGAGE_HEADER, headerValue);\n    }\n  }\n\n  extract(context: Context, carrier: unknown, getter: TextMapGetter): Context {\n    const headerValue = getter.get(carrier, BAGGAGE_HEADER);\n    const baggageString = Array.isArray(headerValue)\n      ? headerValue.join(BAGGAGE_ITEMS_SEPARATOR)\n      : headerValue;\n    if (!baggageString) return context;\n    const baggage: Record<string, BaggageEntry> = {};\n    if (baggageString.length === 0) {\n      return context;\n    }\n    const pairs = baggageString.split(BAGGAGE_ITEMS_SEPARATOR);\n    pairs.forEach(entry => {\n      const keyPair = parsePairKeyValue(entry);\n      if (keyPair) {\n        const baggageEntry: BaggageEntry = { value: keyPair.value };\n        if (keyPair.metadata) {\n          baggageEntry.metadata = keyPair.metadata;\n        }\n        baggage[keyPair.key] = baggageEntry;\n      }\n    });\n    if (Object.entries(baggage).length === 0) {\n      return context;\n    }\n    return propagation.setBaggage(context, propagation.createBaggage(baggage));\n  }\n\n  fields(): string[] {\n    return [BAGGAGE_HEADER];\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport interface Clock {\n  /**\n   * Return the current time in milliseconds from some epoch such as the Unix epoch or process start\n   */\n  now(): number;\n}\n\n/**\n * A utility for returning wall times anchored to a given point in time. Wall time measurements will\n * not be taken from the system, but instead are computed by adding a monotonic clock time\n * to the anchor point.\n *\n * This is needed because the system time can change and result in unexpected situations like\n * spans ending before they are started. Creating an anchored clock for each local root span\n * ensures that span timings and durations are accurate while preventing span times from drifting\n * too far from the system clock.\n *\n * Only creating an anchored clock once per local trace ensures span times are correct relative\n * to each other. For example, a child span will never have a start time before its parent even\n * if the system clock is corrected during the local trace.\n *\n * Heavily inspired by the OTel Java anchored clock\n * https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk/trace/src/main/java/io/opentelemetry/sdk/trace/AnchoredClock.java\n */\nexport class AnchoredClock implements Clock {\n  private _monotonicClock: Clock;\n  private _epochMillis: number;\n  private _performanceMillis: number;\n\n  /**\n   * Create a new AnchoredClock anchored to the current time returned by systemClock.\n   *\n   * @param systemClock should be a clock that returns the number of milliseconds since January 1 1970 such as Date\n   * @param monotonicClock should be a clock that counts milliseconds monotonically such as window.performance or perf_hooks.performance\n   */\n  public constructor(systemClock: Clock, monotonicClock: Clock) {\n    this._monotonicClock = monotonicClock;\n    this._epochMillis = systemClock.now();\n    this._performanceMillis = monotonicClock.now();\n  }\n\n  /**\n   * Returns the current time by adding the number of milliseconds since the\n   * AnchoredClock was created to the creation epoch time\n   */\n  public now(): number {\n    const delta = this._monotonicClock.now() - this._performanceMillis;\n    return this._epochMillis + delta;\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { diag, SpanAttributeValue, SpanAttributes } from '@opentelemetry/api';\n\nexport function sanitizeAttributes(attributes: unknown): SpanAttributes {\n  const out: SpanAttributes = {};\n\n  if (typeof attributes !== 'object' || attributes == null) {\n    return out;\n  }\n\n  for (const [key, val] of Object.entries(attributes)) {\n    if (!isAttributeKey(key)) {\n      diag.warn(`Invalid attribute key: ${key}`);\n      continue;\n    }\n    if (!isAttributeValue(val)) {\n      diag.warn(`Invalid attribute value set for key: ${key}`);\n      continue;\n    }\n    if (Array.isArray(val)) {\n      out[key] = val.slice();\n    } else {\n      out[key] = val;\n    }\n  }\n\n  return out;\n}\n\nexport function isAttributeKey(key: unknown): key is string {\n  return typeof key === 'string' && key.length > 0;\n}\n\nexport function isAttributeValue(val: unknown): val is SpanAttributeValue {\n  if (val == null) {\n    return true;\n  }\n\n  if (Array.isArray(val)) {\n    return isHomogeneousAttributeValueArray(val);\n  }\n\n  return isValidPrimitiveAttributeValue(val);\n}\n\nfunction isHomogeneousAttributeValueArray(arr: unknown[]): boolean {\n  let type: string | undefined;\n\n  for (const element of arr) {\n    // null/undefined elements are allowed\n    if (element == null) continue;\n\n    if (!type) {\n      if (isValidPrimitiveAttributeValue(element)) {\n        type = typeof element;\n        continue;\n      }\n      // encountered an invalid primitive\n      return false;\n    }\n\n    if (typeof element === type) {\n      continue;\n    }\n\n    return false;\n  }\n\n  return true;\n}\n\nfunction isValidPrimitiveAttributeValue(val: unknown): boolean {\n  switch (typeof val) {\n    case 'number':\n    case 'boolean':\n    case 'string':\n      return true;\n  }\n\n  return false;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { diag, Exception } from '@opentelemetry/api';\nimport { ErrorHandler } from './types';\n\n/**\n * Returns a function that logs an error using the provided logger, or a\n * console logger if one was not provided.\n */\nexport function loggingErrorHandler(): ErrorHandler {\n  return (ex: Exception) => {\n    diag.error(stringifyException(ex));\n  };\n}\n\n/**\n * Converts an exception into a string representation\n * @param {Exception} ex\n */\nfunction stringifyException(ex: Exception | string): string {\n  if (typeof ex === 'string') {\n    return ex;\n  } else {\n    return JSON.stringify(flattenException(ex));\n  }\n}\n\n/**\n * Flattens an exception into key-value pairs by traversing the prototype chain\n * and coercing values to strings. Duplicate properties will not be overwritten;\n * the first insert wins.\n */\nfunction flattenException(ex: Exception): Record<string, string> {\n  const result = {} as Record<string, string>;\n  let current = ex;\n\n  while (current !== null) {\n    Object.getOwnPropertyNames(current).forEach(propertyName => {\n      if (result[propertyName]) return;\n      const value = current[propertyName as keyof typeof current];\n      if (value) {\n        result[propertyName] = String(value);\n      }\n    });\n    current = Object.getPrototypeOf(current);\n  }\n\n  return result;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Exception } from '@opentelemetry/api';\nimport { loggingErrorHandler } from './logging-error-handler';\nimport { ErrorHandler } from './types';\n\n/** The global error handler delegate */\nlet delegateHandler = loggingErrorHandler();\n\n/**\n * Set the global error handler\n * @param {ErrorHandler} handler\n */\nexport function setGlobalErrorHandler(handler: ErrorHandler): void {\n  delegateHandler = handler;\n}\n\n/**\n * Return the global error handler\n * @param {Exception} ex\n */\nexport function globalErrorHandler(ex: Exception): void {\n  try {\n    delegateHandler(ex);\n  } catch {} // eslint-disable-line no-empty\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport enum TracesSamplerValues {\n  AlwaysOff = 'always_off',\n  AlwaysOn = 'always_on',\n  ParentBasedAlwaysOff = 'parentbased_always_off',\n  ParentBasedAlwaysOn = 'parentbased_always_on',\n  ParentBasedTraceIdRatio = 'parentbased_traceidratio',\n  TraceIdRatio = 'traceidratio',\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Updates to this file should also be replicated to @opentelemetry/api too.\n\n/**\n * - globalThis (New standard)\n * - self (Will return the current window instance for supported browsers)\n * - window (fallback for older browser implementations)\n * - global (NodeJS implementation)\n * - <object> (When all else fails)\n */\n\n/** only globals that common to node and browsers are allowed */\n// eslint-disable-next-line node/no-unsupported-features/es-builtins, no-undef\nexport const _globalThis: typeof globalThis =\n  typeof globalThis === 'object'\n    ? globalThis\n    : typeof self === 'object'\n    ? self\n    : typeof window === 'object'\n    ? window\n    : typeof global === 'object'\n    ? global\n    : ({} as typeof globalThis);\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DiagLogLevel } from '@opentelemetry/api';\nimport { TracesSamplerValues } from './sampling';\nimport { _globalThis } from '../platform/browser/globalThis';\n\nconst DEFAULT_LIST_SEPARATOR = ',';\n\n/**\n * Environment interface to define all names\n */\n\nconst ENVIRONMENT_BOOLEAN_KEYS = ['OTEL_SDK_DISABLED'] as const;\n\ntype ENVIRONMENT_BOOLEANS = {\n  [K in (typeof ENVIRONMENT_BOOLEAN_KEYS)[number]]?: boolean;\n};\n\nfunction isEnvVarABoolean(key: unknown): key is keyof ENVIRONMENT_BOOLEANS {\n  return (\n    ENVIRONMENT_BOOLEAN_KEYS.indexOf(key as keyof ENVIRONMENT_BOOLEANS) > -1\n  );\n}\n\nconst ENVIRONMENT_NUMBERS_KEYS = [\n  'OTEL_BSP_EXPORT_TIMEOUT',\n  'OTEL_BSP_MAX_EXPORT_BATCH_SIZE',\n  'OTEL_BSP_MAX_QUEUE_SIZE',\n  'OTEL_BSP_SCHEDULE_DELAY',\n  'OTEL_BLRP_EXPORT_TIMEOUT',\n  'OTEL_BLRP_MAX_EXPORT_BATCH_SIZE',\n  'OTEL_BLRP_MAX_QUEUE_SIZE',\n  'OTEL_BLRP_SCHEDULE_DELAY',\n  'OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT',\n  'OTEL_ATTRIBUTE_COUNT_LIMIT',\n  'OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT',\n  'OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT',\n  'OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT',\n  'OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT',\n  'OTEL_SPAN_EVENT_COUNT_LIMIT',\n  'OTEL_SPAN_LINK_COUNT_LIMIT',\n  'OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT',\n  'OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT',\n  'OTEL_EXPORTER_OTLP_TIMEOUT',\n  'OTEL_EXPORTER_OTLP_TRACES_TIMEOUT',\n  'OTEL_EXPORTER_OTLP_METRICS_TIMEOUT',\n  'OTEL_EXPORTER_OTLP_LOGS_TIMEOUT',\n  'OTEL_EXPORTER_JAEGER_AGENT_PORT',\n] as const;\n\ntype ENVIRONMENT_NUMBERS = {\n  [K in (typeof ENVIRONMENT_NUMBERS_KEYS)[number]]?: number;\n};\n\nfunction isEnvVarANumber(key: unknown): key is keyof ENVIRONMENT_NUMBERS {\n  return (\n    ENVIRONMENT_NUMBERS_KEYS.indexOf(key as keyof ENVIRONMENT_NUMBERS) > -1\n  );\n}\n\nconst ENVIRONMENT_LISTS_KEYS = [\n  'OTEL_NO_PATCH_MODULES',\n  'OTEL_PROPAGATORS',\n] as const;\n\ntype ENVIRONMENT_LISTS = {\n  [K in (typeof ENVIRONMENT_LISTS_KEYS)[number]]?: string[];\n};\n\nfunction isEnvVarAList(key: unknown): key is keyof ENVIRONMENT_LISTS {\n  return ENVIRONMENT_LISTS_KEYS.indexOf(key as keyof ENVIRONMENT_LISTS) > -1;\n}\n\nexport type ENVIRONMENT = {\n  CONTAINER_NAME?: string;\n  ECS_CONTAINER_METADATA_URI_V4?: string;\n  ECS_CONTAINER_METADATA_URI?: string;\n  HOSTNAME?: string;\n  KUBERNETES_SERVICE_HOST?: string;\n  NAMESPACE?: string;\n  OTEL_EXPORTER_JAEGER_AGENT_HOST?: string;\n  OTEL_EXPORTER_JAEGER_ENDPOINT?: string;\n  OTEL_EXPORTER_JAEGER_PASSWORD?: string;\n  OTEL_EXPORTER_JAEGER_USER?: string;\n  OTEL_EXPORTER_OTLP_ENDPOINT?: string;\n  OTEL_EXPORTER_OTLP_TRACES_ENDPOINT?: string;\n  OTEL_EXPORTER_OTLP_METRICS_ENDPOINT?: string;\n  OTEL_EXPORTER_OTLP_LOGS_ENDPOINT?: string;\n  OTEL_EXPORTER_OTLP_HEADERS?: string;\n  OTEL_EXPORTER_OTLP_TRACES_HEADERS?: string;\n  OTEL_EXPORTER_OTLP_METRICS_HEADERS?: string;\n  OTEL_EXPORTER_OTLP_LOGS_HEADERS?: string;\n  OTEL_EXPORTER_ZIPKIN_ENDPOINT?: string;\n  OTEL_LOG_LEVEL?: DiagLogLevel;\n  OTEL_RESOURCE_ATTRIBUTES?: string;\n  OTEL_SERVICE_NAME?: string;\n  OTEL_TRACES_EXPORTER?: string;\n  OTEL_TRACES_SAMPLER_ARG?: string;\n  OTEL_TRACES_SAMPLER?: string;\n  OTEL_LOGS_EXPORTER?: string;\n  OTEL_EXPORTER_OTLP_INSECURE?: string;\n  OTEL_EXPORTER_OTLP_TRACES_INSECURE?: string;\n  OTEL_EXPORTER_OTLP_METRICS_INSECURE?: string;\n  OTEL_EXPORTER_OTLP_LOGS_INSECURE?: string;\n  OTEL_EXPORTER_OTLP_CERTIFICATE?: string;\n  OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE?: string;\n  OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE?: string;\n  OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE?: string;\n  OTEL_EXPORTER_OTLP_COMPRESSION?: string;\n  OTEL_EXPORTER_OTLP_TRACES_COMPRESSION?: string;\n  OTEL_EXPORTER_OTLP_METRICS_COMPRESSION?: string;\n  OTEL_EXPORTER_OTLP_LOGS_COMPRESSION?: string;\n  OTEL_EXPORTER_OTLP_CLIENT_KEY?: string;\n  OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY?: string;\n  OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY?: string;\n  OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY?: string;\n  OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE?: string;\n  OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE?: string;\n  OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE?: string;\n  OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE?: string;\n  OTEL_EXPORTER_OTLP_PROTOCOL?: string;\n  OTEL_EXPORTER_OTLP_TRACES_PROTOCOL?: string;\n  OTEL_EXPORTER_OTLP_METRICS_PROTOCOL?: string;\n  OTEL_EXPORTER_OTLP_LOGS_PROTOCOL?: string;\n  OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE?: string;\n} & ENVIRONMENT_BOOLEANS &\n  ENVIRONMENT_NUMBERS &\n  ENVIRONMENT_LISTS;\n\nexport type RAW_ENVIRONMENT = {\n  [key: string]: string | number | undefined | string[];\n};\n\nexport const DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT = Infinity;\n\nexport const DEFAULT_ATTRIBUTE_COUNT_LIMIT = 128;\n\nexport const DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT = 128;\nexport const DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT = 128;\n\n/**\n * Default environment variables\n */\nexport const DEFAULT_ENVIRONMENT: Required<ENVIRONMENT> = {\n  OTEL_SDK_DISABLED: false,\n  CONTAINER_NAME: '',\n  ECS_CONTAINER_METADATA_URI_V4: '',\n  ECS_CONTAINER_METADATA_URI: '',\n  HOSTNAME: '',\n  KUBERNETES_SERVICE_HOST: '',\n  NAMESPACE: '',\n  OTEL_BSP_EXPORT_TIMEOUT: 30000,\n  OTEL_BSP_MAX_EXPORT_BATCH_SIZE: 512,\n  OTEL_BSP_MAX_QUEUE_SIZE: 2048,\n  OTEL_BSP_SCHEDULE_DELAY: 5000,\n  OTEL_BLRP_EXPORT_TIMEOUT: 30000,\n  OTEL_BLRP_MAX_EXPORT_BATCH_SIZE: 512,\n  OTEL_BLRP_MAX_QUEUE_SIZE: 2048,\n  OTEL_BLRP_SCHEDULE_DELAY: 5000,\n  OTEL_EXPORTER_JAEGER_AGENT_HOST: '',\n  OTEL_EXPORTER_JAEGER_AGENT_PORT: 6832,\n  OTEL_EXPORTER_JAEGER_ENDPOINT: '',\n  OTEL_EXPORTER_JAEGER_PASSWORD: '',\n  OTEL_EXPORTER_JAEGER_USER: '',\n  OTEL_EXPORTER_OTLP_ENDPOINT: '',\n  OTEL_EXPORTER_OTLP_TRACES_ENDPOINT: '',\n  OTEL_EXPORTER_OTLP_METRICS_ENDPOINT: '',\n  OTEL_EXPORTER_OTLP_LOGS_ENDPOINT: '',\n  OTEL_EXPORTER_OTLP_HEADERS: '',\n  OTEL_EXPORTER_OTLP_TRACES_HEADERS: '',\n  OTEL_EXPORTER_OTLP_METRICS_HEADERS: '',\n  OTEL_EXPORTER_OTLP_LOGS_HEADERS: '',\n  OTEL_EXPORTER_OTLP_TIMEOUT: 10000,\n  OTEL_EXPORTER_OTLP_TRACES_TIMEOUT: 10000,\n  OTEL_EXPORTER_OTLP_METRICS_TIMEOUT: 10000,\n  OTEL_EXPORTER_OTLP_LOGS_TIMEOUT: 10000,\n  OTEL_EXPORTER_ZIPKIN_ENDPOINT: 'http://localhost:9411/api/v2/spans',\n  OTEL_LOG_LEVEL: DiagLogLevel.INFO,\n  OTEL_NO_PATCH_MODULES: [],\n  OTEL_PROPAGATORS: ['tracecontext', 'baggage'],\n  OTEL_RESOURCE_ATTRIBUTES: '',\n  OTEL_SERVICE_NAME: '',\n  OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT: DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,\n  OTEL_ATTRIBUTE_COUNT_LIMIT: DEFAULT_ATTRIBUTE_COUNT_LIMIT,\n  OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT: DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,\n  OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT: DEFAULT_ATTRIBUTE_COUNT_LIMIT,\n  OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:\n    DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,\n  OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT: DEFAULT_ATTRIBUTE_COUNT_LIMIT,\n  OTEL_SPAN_EVENT_COUNT_LIMIT: 128,\n  OTEL_SPAN_LINK_COUNT_LIMIT: 128,\n  OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:\n    DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,\n  OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:\n    DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,\n  OTEL_TRACES_EXPORTER: '',\n  OTEL_TRACES_SAMPLER: TracesSamplerValues.ParentBasedAlwaysOn,\n  OTEL_TRACES_SAMPLER_ARG: '',\n  OTEL_LOGS_EXPORTER: '',\n  OTEL_EXPORTER_OTLP_INSECURE: '',\n  OTEL_EXPORTER_OTLP_TRACES_INSECURE: '',\n  OTEL_EXPORTER_OTLP_METRICS_INSECURE: '',\n  OTEL_EXPORTER_OTLP_LOGS_INSECURE: '',\n  OTEL_EXPORTER_OTLP_CERTIFICATE: '',\n  OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE: '',\n  OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE: '',\n  OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE: '',\n  OTEL_EXPORTER_OTLP_COMPRESSION: '',\n  OTEL_EXPORTER_OTLP_TRACES_COMPRESSION: '',\n  OTEL_EXPORTER_OTLP_METRICS_COMPRESSION: '',\n  OTEL_EXPORTER_OTLP_LOGS_COMPRESSION: '',\n  OTEL_EXPORTER_OTLP_CLIENT_KEY: '',\n  OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY: '',\n  OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY: '',\n  OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY: '',\n  OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE: '',\n  OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE: '',\n  OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE: '',\n  OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE: '',\n  OTEL_EXPORTER_OTLP_PROTOCOL: 'http/protobuf',\n  OTEL_EXPORTER_OTLP_TRACES_PROTOCOL: 'http/protobuf',\n  OTEL_EXPORTER_OTLP_METRICS_PROTOCOL: 'http/protobuf',\n  OTEL_EXPORTER_OTLP_LOGS_PROTOCOL: 'http/protobuf',\n  OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE: 'cumulative',\n};\n\n/**\n * @param key\n * @param environment\n * @param values\n */\nfunction parseBoolean(\n  key: keyof ENVIRONMENT_BOOLEANS,\n  environment: ENVIRONMENT,\n  values: RAW_ENVIRONMENT\n) {\n  if (typeof values[key] === 'undefined') {\n    return;\n  }\n\n  const value = String(values[key]);\n  // support case-insensitive \"true\"\n  environment[key] = value.toLowerCase() === 'true';\n}\n\n/**\n * Parses a variable as number with number validation\n * @param name\n * @param environment\n * @param values\n * @param min\n * @param max\n */\nfunction parseNumber(\n  name: keyof ENVIRONMENT_NUMBERS,\n  environment: ENVIRONMENT,\n  values: RAW_ENVIRONMENT,\n  min = -Infinity,\n  max = Infinity\n) {\n  if (typeof values[name] !== 'undefined') {\n    const value = Number(values[name] as string);\n    if (!isNaN(value)) {\n      if (value < min) {\n        environment[name] = min;\n      } else if (value > max) {\n        environment[name] = max;\n      } else {\n        environment[name] = value;\n      }\n    }\n  }\n}\n\n/**\n * Parses list-like strings from input into output.\n * @param name\n * @param environment\n * @param values\n * @param separator\n */\nfunction parseStringList(\n  name: keyof ENVIRONMENT_LISTS,\n  output: ENVIRONMENT,\n  input: RAW_ENVIRONMENT,\n  separator = DEFAULT_LIST_SEPARATOR\n) {\n  const givenValue = input[name];\n  if (typeof givenValue === 'string') {\n    output[name] = givenValue.split(separator).map(v => v.trim());\n  }\n}\n\n// The support string -> DiagLogLevel mappings\nconst logLevelMap: { [key: string]: DiagLogLevel } = {\n  ALL: DiagLogLevel.ALL,\n  VERBOSE: DiagLogLevel.VERBOSE,\n  DEBUG: DiagLogLevel.DEBUG,\n  INFO: DiagLogLevel.INFO,\n  WARN: DiagLogLevel.WARN,\n  ERROR: DiagLogLevel.ERROR,\n  NONE: DiagLogLevel.NONE,\n};\n\n/**\n * Environmentally sets log level if valid log level string is provided\n * @param key\n * @param environment\n * @param values\n */\nfunction setLogLevelFromEnv(\n  key: keyof ENVIRONMENT,\n  environment: RAW_ENVIRONMENT | ENVIRONMENT,\n  values: RAW_ENVIRONMENT\n) {\n  const value = values[key];\n  if (typeof value === 'string') {\n    const theLevel = logLevelMap[value.toUpperCase()];\n    if (theLevel != null) {\n      environment[key] = theLevel;\n    }\n  }\n}\n\n/**\n * Parses environment values\n * @param values\n */\nexport function parseEnvironment(values: RAW_ENVIRONMENT): ENVIRONMENT {\n  const environment: ENVIRONMENT = {};\n\n  for (const env in DEFAULT_ENVIRONMENT) {\n    const key = env as keyof ENVIRONMENT;\n\n    switch (key) {\n      case 'OTEL_LOG_LEVEL':\n        setLogLevelFromEnv(key, environment, values);\n        break;\n\n      default:\n        if (isEnvVarABoolean(key)) {\n          parseBoolean(key, environment, values);\n        } else if (isEnvVarANumber(key)) {\n          parseNumber(key, environment, values);\n        } else if (isEnvVarAList(key)) {\n          parseStringList(key, environment, values);\n        } else {\n          const value = values[key];\n          if (typeof value !== 'undefined' && value !== null) {\n            environment[key] = String(value);\n          }\n        }\n    }\n  }\n\n  return environment;\n}\n\n/**\n * Get environment in node or browser without\n * populating default values.\n */\nexport function getEnvWithoutDefaults(): ENVIRONMENT {\n  return typeof process !== 'undefined' && process && process.env\n    ? parseEnvironment(process.env as RAW_ENVIRONMENT)\n    : parseEnvironment(_globalThis as typeof globalThis & RAW_ENVIRONMENT);\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as os from 'os';\nimport {\n  DEFAULT_ENVIRONMENT,\n  ENVIRONMENT,\n  RAW_ENVIRONMENT,\n  parseEnvironment,\n} from '../../utils/environment';\n\n/**\n * Gets the environment variables\n */\nexport function getEnv(): Required<ENVIRONMENT> {\n  const processEnv = parseEnvironment(process.env as RAW_ENVIRONMENT);\n  return Object.assign(\n    {\n      HOSTNAME: os.hostname(),\n    },\n    DEFAULT_ENVIRONMENT,\n    processEnv\n  );\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** only globals that common to node and browsers are allowed */\n// eslint-disable-next-line node/no-unsupported-features/es-builtins\nexport const _globalThis = typeof globalThis === 'object' ? globalThis : global;\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction intValue(charCode: number): number {\n  // 0-9\n  if (charCode >= 48 && charCode <= 57) {\n    return charCode - 48;\n  }\n\n  // a-f\n  if (charCode >= 97 && charCode <= 102) {\n    return charCode - 87;\n  }\n\n  // A-F\n  return charCode - 55;\n}\n\nconst buf8 = Buffer.alloc(8);\nconst buf16 = Buffer.alloc(16);\n\nexport function hexToBase64(hexStr: string): string {\n  let buf;\n  if (hexStr.length === 16) {\n    buf = buf8;\n  } else if (hexStr.length === 32) {\n    buf = buf16;\n  } else {\n    buf = Buffer.alloc(hexStr.length / 2);\n  }\n  let offset = 0;\n\n  for (let i = 0; i < hexStr.length; i += 2) {\n    const hi = intValue(hexStr.charCodeAt(i));\n    const lo = intValue(hexStr.charCodeAt(i + 1));\n    buf.writeUInt8((hi << 4) | lo, offset++);\n  }\n\n  return buf.toString('base64');\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { IdGenerator } from '../../trace/IdGenerator';\nconst SPAN_ID_BYTES = 8;\nconst TRACE_ID_BYTES = 16;\n\n/**\n * @deprecated Use the one defined in @opentelemetry/sdk-trace-base instead.\n */\nexport class RandomIdGenerator implements IdGenerator {\n  /**\n   * Returns a random 16-byte trace ID formatted/encoded as a 32 lowercase hex\n   * characters corresponding to 128 bits.\n   */\n  generateTraceId = getIdGenerator(TRACE_ID_BYTES);\n\n  /**\n   * Returns a random 8-byte span ID formatted/encoded as a 16 lowercase hex\n   * characters corresponding to 64 bits.\n   */\n  generateSpanId = getIdGenerator(SPAN_ID_BYTES);\n}\n\nconst SHARED_BUFFER = Buffer.allocUnsafe(TRACE_ID_BYTES);\nfunction getIdGenerator(bytes: number): () => string {\n  return function generateId() {\n    for (let i = 0; i < bytes / 4; i++) {\n      // unsigned right shift drops decimal part of the number\n      // it is required because if a number between 2**32 and 2**32 - 1 is generated, an out of range error is thrown by writeUInt32BE\n      SHARED_BUFFER.writeUInt32BE((Math.random() * 2 ** 32) >>> 0, i * 4);\n    }\n\n    // If buffer is all 0, set the last byte to 1 to guarantee a valid w3c id is generated\n    for (let i = 0; i < bytes; i++) {\n      if (SHARED_BUFFER[i] > 0) {\n        break;\n      } else if (i === bytes - 1) {\n        SHARED_BUFFER[bytes - 1] = 1;\n      }\n    }\n\n    return SHARED_BUFFER.toString('hex', 0, bytes);\n  };\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { performance } from 'perf_hooks';\n\nexport const otperformance = performance;\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// this is autogenerated file, see scripts/version-update.js\nexport const VERSION = '1.15.0';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// DO NOT EDIT, this is an Auto-generated file from scripts/semconv/templates//templates/SemanticAttributes.ts.j2\nexport const SemanticAttributes = {\n  /**\n   * The full invoked ARN as provided on the `Context` passed to the function (`Lambda-Runtime-Invoked-Function-Arn` header on the `/runtime/invocation/next` applicable).\n   *\n   * Note: This may be different from `faas.id` if an alias is involved.\n   */\n  AWS_LAMBDA_INVOKED_ARN: 'aws.lambda.invoked_arn',\n\n  /**\n   * An identifier for the database management system (DBMS) product being used. See below for a list of well-known identifiers.\n   */\n  DB_SYSTEM: 'db.system',\n\n  /**\n   * The connection string used to connect to the database. It is recommended to remove embedded credentials.\n   */\n  DB_CONNECTION_STRING: 'db.connection_string',\n\n  /**\n   * Username for accessing the database.\n   */\n  DB_USER: 'db.user',\n\n  /**\n   * The fully-qualified class name of the [Java Database Connectivity (JDBC)](https://docs.oracle.com/javase/8/docs/technotes/guides/jdbc/) driver used to connect.\n   */\n  DB_JDBC_DRIVER_CLASSNAME: 'db.jdbc.driver_classname',\n\n  /**\n   * If no [tech-specific attribute](#call-level-attributes-for-specific-technologies) is defined, this attribute is used to report the name of the database being accessed. For commands that switch the database, this should be set to the target database (even if the command fails).\n   *\n   * Note: In some SQL databases, the database name to be used is called &#34;schema name&#34;.\n   */\n  DB_NAME: 'db.name',\n\n  /**\n   * The database statement being executed.\n   *\n   * Note: The value may be sanitized to exclude sensitive information.\n   */\n  DB_STATEMENT: 'db.statement',\n\n  /**\n   * The name of the operation being executed, e.g. the [MongoDB command name](https://docs.mongodb.com/manual/reference/command/#database-operations) such as `findAndModify`, or the SQL keyword.\n   *\n   * Note: When setting this to an SQL keyword, it is not recommended to attempt any client-side parsing of `db.statement` just to get this property, but it should be set if the operation name is provided by the library being instrumented. If the SQL statement has an ambiguous operation, or performs more than one operation, this value may be omitted.\n   */\n  DB_OPERATION: 'db.operation',\n\n  /**\n   * The Microsoft SQL Server [instance name](https://docs.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url?view=sql-server-ver15) connecting to. This name is used to determine the port of a named instance.\n   *\n   * Note: If setting a `db.mssql.instance_name`, `net.peer.port` is no longer required (but still recommended if non-standard).\n   */\n  DB_MSSQL_INSTANCE_NAME: 'db.mssql.instance_name',\n\n  /**\n   * The name of the keyspace being accessed. To be used instead of the generic `db.name` attribute.\n   */\n  DB_CASSANDRA_KEYSPACE: 'db.cassandra.keyspace',\n\n  /**\n   * The fetch size used for paging, i.e. how many rows will be returned at once.\n   */\n  DB_CASSANDRA_PAGE_SIZE: 'db.cassandra.page_size',\n\n  /**\n   * The consistency level of the query. Based on consistency values from [CQL](https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html).\n   */\n  DB_CASSANDRA_CONSISTENCY_LEVEL: 'db.cassandra.consistency_level',\n\n  /**\n   * The name of the primary table that the operation is acting upon, including the schema name (if applicable).\n   *\n   * Note: This mirrors the db.sql.table attribute but references cassandra rather than sql. It is not recommended to attempt any client-side parsing of `db.statement` just to get this property, but it should be set if it is provided by the library being instrumented. If the operation is acting upon an anonymous table, or more than one table, this value MUST NOT be set.\n   */\n  DB_CASSANDRA_TABLE: 'db.cassandra.table',\n\n  /**\n   * Whether or not the query is idempotent.\n   */\n  DB_CASSANDRA_IDEMPOTENCE: 'db.cassandra.idempotence',\n\n  /**\n   * The number of times a query was speculatively executed. Not set or `0` if the query was not executed speculatively.\n   */\n  DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:\n    'db.cassandra.speculative_execution_count',\n\n  /**\n   * The ID of the coordinating node for a query.\n   */\n  DB_CASSANDRA_COORDINATOR_ID: 'db.cassandra.coordinator.id',\n\n  /**\n   * The data center of the coordinating node for a query.\n   */\n  DB_CASSANDRA_COORDINATOR_DC: 'db.cassandra.coordinator.dc',\n\n  /**\n   * The [HBase namespace](https://hbase.apache.org/book.html#_namespace) being accessed. To be used instead of the generic `db.name` attribute.\n   */\n  DB_HBASE_NAMESPACE: 'db.hbase.namespace',\n\n  /**\n   * The index of the database being accessed as used in the [`SELECT` command](https://redis.io/commands/select), provided as an integer. To be used instead of the generic `db.name` attribute.\n   */\n  DB_REDIS_DATABASE_INDEX: 'db.redis.database_index',\n\n  /**\n   * The collection being accessed within the database stated in `db.name`.\n   */\n  DB_MONGODB_COLLECTION: 'db.mongodb.collection',\n\n  /**\n   * The name of the primary table that the operation is acting upon, including the schema name (if applicable).\n   *\n   * Note: It is not recommended to attempt any client-side parsing of `db.statement` just to get this property, but it should be set if it is provided by the library being instrumented. If the operation is acting upon an anonymous table, or more than one table, this value MUST NOT be set.\n   */\n  DB_SQL_TABLE: 'db.sql.table',\n\n  /**\n   * The type of the exception (its fully-qualified class name, if applicable). The dynamic type of the exception should be preferred over the static type in languages that support it.\n   */\n  EXCEPTION_TYPE: 'exception.type',\n\n  /**\n   * The exception message.\n   */\n  EXCEPTION_MESSAGE: 'exception.message',\n\n  /**\n   * A stacktrace as a string in the natural representation for the language runtime. The representation is to be determined and documented by each language SIG.\n   */\n  EXCEPTION_STACKTRACE: 'exception.stacktrace',\n\n  /**\n  * SHOULD be set to true if the exception event is recorded at a point where it is known that the exception is escaping the scope of the span.\n  *\n  * Note: An exception is considered to have escaped (or left) the scope of a span,\nif that span is ended while the exception is still logically &#34;in flight&#34;.\nThis may be actually &#34;in flight&#34; in some languages (e.g. if the exception\nis passed to a Context manager&#39;s `__exit__` method in Python) but will\nusually be caught at the point of recording the exception in most languages.\n\nIt is usually not possible to determine at the point where an exception is thrown\nwhether it will escape the scope of a span.\nHowever, it is trivial to know that an exception\nwill escape, if one checks for an active exception just before ending the span,\nas done in the [example above](#exception-end-example).\n\nIt follows that an exception may still escape the scope of the span\neven if the `exception.escaped` attribute was not set or set to false,\nsince the event might have been recorded at a time where it was not\nclear whether the exception will escape.\n  */\n  EXCEPTION_ESCAPED: 'exception.escaped',\n\n  /**\n   * Type of the trigger on which the function is executed.\n   */\n  FAAS_TRIGGER: 'faas.trigger',\n\n  /**\n   * The execution ID of the current function execution.\n   */\n  FAAS_EXECUTION: 'faas.execution',\n\n  /**\n   * The name of the source on which the triggering operation was performed. For example, in Cloud Storage or S3 corresponds to the bucket name, and in Cosmos DB to the database name.\n   */\n  FAAS_DOCUMENT_COLLECTION: 'faas.document.collection',\n\n  /**\n   * Describes the type of the operation that was performed on the data.\n   */\n  FAAS_DOCUMENT_OPERATION: 'faas.document.operation',\n\n  /**\n   * A string containing the time when the data was accessed in the [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) format expressed in [UTC](https://www.w3.org/TR/NOTE-datetime).\n   */\n  FAAS_DOCUMENT_TIME: 'faas.document.time',\n\n  /**\n   * The document name/table subjected to the operation. For example, in Cloud Storage or S3 is the name of the file, and in Cosmos DB the table name.\n   */\n  FAAS_DOCUMENT_NAME: 'faas.document.name',\n\n  /**\n   * A string containing the function invocation time in the [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) format expressed in [UTC](https://www.w3.org/TR/NOTE-datetime).\n   */\n  FAAS_TIME: 'faas.time',\n\n  /**\n   * A string containing the schedule period as [Cron Expression](https://docs.oracle.com/cd/E12058_01/doc/doc.1014/e12030/cron_expressions.htm).\n   */\n  FAAS_CRON: 'faas.cron',\n\n  /**\n   * A boolean that is true if the serverless function is executed for the first time (aka cold-start).\n   */\n  FAAS_COLDSTART: 'faas.coldstart',\n\n  /**\n   * The name of the invoked function.\n   *\n   * Note: SHOULD be equal to the `faas.name` resource attribute of the invoked function.\n   */\n  FAAS_INVOKED_NAME: 'faas.invoked_name',\n\n  /**\n   * The cloud provider of the invoked function.\n   *\n   * Note: SHOULD be equal to the `cloud.provider` resource attribute of the invoked function.\n   */\n  FAAS_INVOKED_PROVIDER: 'faas.invoked_provider',\n\n  /**\n   * The cloud region of the invoked function.\n   *\n   * Note: SHOULD be equal to the `cloud.region` resource attribute of the invoked function.\n   */\n  FAAS_INVOKED_REGION: 'faas.invoked_region',\n\n  /**\n   * Transport protocol used. See note below.\n   */\n  NET_TRANSPORT: 'net.transport',\n\n  /**\n   * Remote address of the peer (dotted decimal for IPv4 or [RFC5952](https://tools.ietf.org/html/rfc5952) for IPv6).\n   */\n  NET_PEER_IP: 'net.peer.ip',\n\n  /**\n   * Remote port number.\n   */\n  NET_PEER_PORT: 'net.peer.port',\n\n  /**\n   * Remote hostname or similar, see note below.\n   */\n  NET_PEER_NAME: 'net.peer.name',\n\n  /**\n   * Like `net.peer.ip` but for the host IP. Useful in case of a multi-IP host.\n   */\n  NET_HOST_IP: 'net.host.ip',\n\n  /**\n   * Like `net.peer.port` but for the host port.\n   */\n  NET_HOST_PORT: 'net.host.port',\n\n  /**\n   * Local hostname or similar, see note below.\n   */\n  NET_HOST_NAME: 'net.host.name',\n\n  /**\n   * The internet connection type currently being used by the host.\n   */\n  NET_HOST_CONNECTION_TYPE: 'net.host.connection.type',\n\n  /**\n   * This describes more details regarding the connection.type. It may be the type of cell technology connection, but it could be used for describing details about a wifi connection.\n   */\n  NET_HOST_CONNECTION_SUBTYPE: 'net.host.connection.subtype',\n\n  /**\n   * The name of the mobile carrier.\n   */\n  NET_HOST_CARRIER_NAME: 'net.host.carrier.name',\n\n  /**\n   * The mobile carrier country code.\n   */\n  NET_HOST_CARRIER_MCC: 'net.host.carrier.mcc',\n\n  /**\n   * The mobile carrier network code.\n   */\n  NET_HOST_CARRIER_MNC: 'net.host.carrier.mnc',\n\n  /**\n   * The ISO 3166-1 alpha-2 2-character country code associated with the mobile carrier network.\n   */\n  NET_HOST_CARRIER_ICC: 'net.host.carrier.icc',\n\n  /**\n   * The [`service.name`](../../resource/semantic_conventions/README.md#service) of the remote service. SHOULD be equal to the actual `service.name` resource attribute of the remote service if any.\n   */\n  PEER_SERVICE: 'peer.service',\n\n  /**\n   * Username or client_id extracted from the access token or [Authorization](https://tools.ietf.org/html/rfc7235#section-4.2) header in the inbound request from outside the system.\n   */\n  ENDUSER_ID: 'enduser.id',\n\n  /**\n   * Actual/assumed role the client is making the request under extracted from token or application security context.\n   */\n  ENDUSER_ROLE: 'enduser.role',\n\n  /**\n   * Scopes or granted authorities the client currently possesses extracted from token or application security context. The value would come from the scope associated with an [OAuth 2.0 Access Token](https://tools.ietf.org/html/rfc6749#section-3.3) or an attribute value in a [SAML 2.0 Assertion](http://docs.oasis-open.org/security/saml/Post2.0/sstc-saml-tech-overview-2.0.html).\n   */\n  ENDUSER_SCOPE: 'enduser.scope',\n\n  /**\n   * Current &#34;managed&#34; thread ID (as opposed to OS thread ID).\n   */\n  THREAD_ID: 'thread.id',\n\n  /**\n   * Current thread name.\n   */\n  THREAD_NAME: 'thread.name',\n\n  /**\n   * The method or function name, or equivalent (usually rightmost part of the code unit&#39;s name).\n   */\n  CODE_FUNCTION: 'code.function',\n\n  /**\n   * The &#34;namespace&#34; within which `code.function` is defined. Usually the qualified class or module name, such that `code.namespace` + some separator + `code.function` form a unique identifier for the code unit.\n   */\n  CODE_NAMESPACE: 'code.namespace',\n\n  /**\n   * The source code file name that identifies the code unit as uniquely as possible (preferably an absolute file path).\n   */\n  CODE_FILEPATH: 'code.filepath',\n\n  /**\n   * The line number in `code.filepath` best representing the operation. It SHOULD point within the code unit named in `code.function`.\n   */\n  CODE_LINENO: 'code.lineno',\n\n  /**\n   * HTTP request method.\n   */\n  HTTP_METHOD: 'http.method',\n\n  /**\n   * Full HTTP request URL in the form `scheme://host[:port]/path?query[#fragment]`. Usually the fragment is not transmitted over HTTP, but if it is known, it should be included nevertheless.\n   *\n   * Note: `http.url` MUST NOT contain credentials passed via URL in form of `https://username:password@www.example.com/`. In such case the attribute&#39;s value should be `https://www.example.com/`.\n   */\n  HTTP_URL: 'http.url',\n\n  /**\n   * The full request target as passed in a HTTP request line or equivalent.\n   */\n  HTTP_TARGET: 'http.target',\n\n  /**\n   * The value of the [HTTP host header](https://tools.ietf.org/html/rfc7230#section-5.4). An empty Host header should also be reported, see note.\n   *\n   * Note: When the header is present but empty the attribute SHOULD be set to the empty string. Note that this is a valid situation that is expected in certain cases, according the aforementioned [section of RFC 7230](https://tools.ietf.org/html/rfc7230#section-5.4). When the header is not set the attribute MUST NOT be set.\n   */\n  HTTP_HOST: 'http.host',\n\n  /**\n   * The URI scheme identifying the used protocol.\n   */\n  HTTP_SCHEME: 'http.scheme',\n\n  /**\n   * [HTTP response status code](https://tools.ietf.org/html/rfc7231#section-6).\n   */\n  HTTP_STATUS_CODE: 'http.status_code',\n\n  /**\n   * Kind of HTTP protocol used.\n   *\n   * Note: If `net.transport` is not specified, it can be assumed to be `IP.TCP` except if `http.flavor` is `QUIC`, in which case `IP.UDP` is assumed.\n   */\n  HTTP_FLAVOR: 'http.flavor',\n\n  /**\n   * Value of the [HTTP User-Agent](https://tools.ietf.org/html/rfc7231#section-5.5.3) header sent by the client.\n   */\n  HTTP_USER_AGENT: 'http.user_agent',\n\n  /**\n   * The size of the request payload body in bytes. This is the number of bytes transferred excluding headers and is often, but not always, present as the [Content-Length](https://tools.ietf.org/html/rfc7230#section-3.3.2) header. For requests using transport encoding, this should be the compressed size.\n   */\n  HTTP_REQUEST_CONTENT_LENGTH: 'http.request_content_length',\n\n  /**\n   * The size of the uncompressed request payload body after transport decoding. Not set if transport encoding not used.\n   */\n  HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:\n    'http.request_content_length_uncompressed',\n\n  /**\n   * The size of the response payload body in bytes. This is the number of bytes transferred excluding headers and is often, but not always, present as the [Content-Length](https://tools.ietf.org/html/rfc7230#section-3.3.2) header. For requests using transport encoding, this should be the compressed size.\n   */\n  HTTP_RESPONSE_CONTENT_LENGTH: 'http.response_content_length',\n\n  /**\n   * The size of the uncompressed response payload body after transport decoding. Not set if transport encoding not used.\n   */\n  HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:\n    'http.response_content_length_uncompressed',\n\n  /**\n   * The primary server name of the matched virtual host. This should be obtained via configuration. If no such configuration can be obtained, this attribute MUST NOT be set ( `net.host.name` should be used instead).\n   *\n   * Note: `http.url` is usually not readily available on the server side but would have to be assembled in a cumbersome and sometimes lossy process from other information (see e.g. open-telemetry/opentelemetry-python/pull/148). It is thus preferred to supply the raw data that is available.\n   */\n  HTTP_SERVER_NAME: 'http.server_name',\n\n  /**\n   * The matched route (path template).\n   */\n  HTTP_ROUTE: 'http.route',\n\n  /**\n  * The IP address of the original client behind all proxies, if known (e.g. from [X-Forwarded-For](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For)).\n  *\n  * Note: This is not necessarily the same as `net.peer.ip`, which would\nidentify the network-level peer, which may be a proxy.\n\nThis attribute should be set when a source of information different\nfrom the one used for `net.peer.ip`, is available even if that other\nsource just confirms the same value as `net.peer.ip`.\nRationale: For `net.peer.ip`, one typically does not know if it\ncomes from a proxy, reverse proxy, or the actual client. Setting\n`http.client_ip` when it&#39;s the same as `net.peer.ip` means that\none is at least somewhat confident that the address is not that of\nthe closest proxy.\n  */\n  HTTP_CLIENT_IP: 'http.client_ip',\n\n  /**\n   * The keys in the `RequestItems` object field.\n   */\n  AWS_DYNAMODB_TABLE_NAMES: 'aws.dynamodb.table_names',\n\n  /**\n   * The JSON-serialized value of each item in the `ConsumedCapacity` response field.\n   */\n  AWS_DYNAMODB_CONSUMED_CAPACITY: 'aws.dynamodb.consumed_capacity',\n\n  /**\n   * The JSON-serialized value of the `ItemCollectionMetrics` response field.\n   */\n  AWS_DYNAMODB_ITEM_COLLECTION_METRICS: 'aws.dynamodb.item_collection_metrics',\n\n  /**\n   * The value of the `ProvisionedThroughput.ReadCapacityUnits` request parameter.\n   */\n  AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:\n    'aws.dynamodb.provisioned_read_capacity',\n\n  /**\n   * The value of the `ProvisionedThroughput.WriteCapacityUnits` request parameter.\n   */\n  AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:\n    'aws.dynamodb.provisioned_write_capacity',\n\n  /**\n   * The value of the `ConsistentRead` request parameter.\n   */\n  AWS_DYNAMODB_CONSISTENT_READ: 'aws.dynamodb.consistent_read',\n\n  /**\n   * The value of the `ProjectionExpression` request parameter.\n   */\n  AWS_DYNAMODB_PROJECTION: 'aws.dynamodb.projection',\n\n  /**\n   * The value of the `Limit` request parameter.\n   */\n  AWS_DYNAMODB_LIMIT: 'aws.dynamodb.limit',\n\n  /**\n   * The value of the `AttributesToGet` request parameter.\n   */\n  AWS_DYNAMODB_ATTRIBUTES_TO_GET: 'aws.dynamodb.attributes_to_get',\n\n  /**\n   * The value of the `IndexName` request parameter.\n   */\n  AWS_DYNAMODB_INDEX_NAME: 'aws.dynamodb.index_name',\n\n  /**\n   * The value of the `Select` request parameter.\n   */\n  AWS_DYNAMODB_SELECT: 'aws.dynamodb.select',\n\n  /**\n   * The JSON-serialized value of each item of the `GlobalSecondaryIndexes` request field.\n   */\n  AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:\n    'aws.dynamodb.global_secondary_indexes',\n\n  /**\n   * The JSON-serialized value of each item of the `LocalSecondaryIndexes` request field.\n   */\n  AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES: 'aws.dynamodb.local_secondary_indexes',\n\n  /**\n   * The value of the `ExclusiveStartTableName` request parameter.\n   */\n  AWS_DYNAMODB_EXCLUSIVE_START_TABLE: 'aws.dynamodb.exclusive_start_table',\n\n  /**\n   * The the number of items in the `TableNames` response parameter.\n   */\n  AWS_DYNAMODB_TABLE_COUNT: 'aws.dynamodb.table_count',\n\n  /**\n   * The value of the `ScanIndexForward` request parameter.\n   */\n  AWS_DYNAMODB_SCAN_FORWARD: 'aws.dynamodb.scan_forward',\n\n  /**\n   * The value of the `Segment` request parameter.\n   */\n  AWS_DYNAMODB_SEGMENT: 'aws.dynamodb.segment',\n\n  /**\n   * The value of the `TotalSegments` request parameter.\n   */\n  AWS_DYNAMODB_TOTAL_SEGMENTS: 'aws.dynamodb.total_segments',\n\n  /**\n   * The value of the `Count` response parameter.\n   */\n  AWS_DYNAMODB_COUNT: 'aws.dynamodb.count',\n\n  /**\n   * The value of the `ScannedCount` response parameter.\n   */\n  AWS_DYNAMODB_SCANNED_COUNT: 'aws.dynamodb.scanned_count',\n\n  /**\n   * The JSON-serialized value of each item in the `AttributeDefinitions` request field.\n   */\n  AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS: 'aws.dynamodb.attribute_definitions',\n\n  /**\n   * The JSON-serialized value of each item in the the `GlobalSecondaryIndexUpdates` request field.\n   */\n  AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:\n    'aws.dynamodb.global_secondary_index_updates',\n\n  /**\n   * A string identifying the messaging system.\n   */\n  MESSAGING_SYSTEM: 'messaging.system',\n\n  /**\n   * The message destination name. This might be equal to the span name but is required nevertheless.\n   */\n  MESSAGING_DESTINATION: 'messaging.destination',\n\n  /**\n   * The kind of message destination.\n   */\n  MESSAGING_DESTINATION_KIND: 'messaging.destination_kind',\n\n  /**\n   * A boolean that is true if the message destination is temporary.\n   */\n  MESSAGING_TEMP_DESTINATION: 'messaging.temp_destination',\n\n  /**\n   * The name of the transport protocol.\n   */\n  MESSAGING_PROTOCOL: 'messaging.protocol',\n\n  /**\n   * The version of the transport protocol.\n   */\n  MESSAGING_PROTOCOL_VERSION: 'messaging.protocol_version',\n\n  /**\n   * Connection string.\n   */\n  MESSAGING_URL: 'messaging.url',\n\n  /**\n   * A value used by the messaging system as an identifier for the message, represented as a string.\n   */\n  MESSAGING_MESSAGE_ID: 'messaging.message_id',\n\n  /**\n   * The [conversation ID](#conversations) identifying the conversation to which the message belongs, represented as a string. Sometimes called &#34;Correlation ID&#34;.\n   */\n  MESSAGING_CONVERSATION_ID: 'messaging.conversation_id',\n\n  /**\n   * The (uncompressed) size of the message payload in bytes. Also use this attribute if it is unknown whether the compressed or uncompressed payload size is reported.\n   */\n  MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES: 'messaging.message_payload_size_bytes',\n\n  /**\n   * The compressed size of the message payload in bytes.\n   */\n  MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:\n    'messaging.message_payload_compressed_size_bytes',\n\n  /**\n   * A string identifying the kind of message consumption as defined in the [Operation names](#operation-names) section above. If the operation is &#34;send&#34;, this attribute MUST NOT be set, since the operation can be inferred from the span kind in that case.\n   */\n  MESSAGING_OPERATION: 'messaging.operation',\n\n  /**\n   * The identifier for the consumer receiving a message. For Kafka, set it to `{messaging.kafka.consumer_group} - {messaging.kafka.client_id}`, if both are present, or only `messaging.kafka.consumer_group`. For brokers, such as RabbitMQ and Artemis, set it to the `client_id` of the client consuming the message.\n   */\n  MESSAGING_CONSUMER_ID: 'messaging.consumer_id',\n\n  /**\n   * RabbitMQ message routing key.\n   */\n  MESSAGING_RABBITMQ_ROUTING_KEY: 'messaging.rabbitmq.routing_key',\n\n  /**\n   * Message keys in Kafka are used for grouping alike messages to ensure they&#39;re processed on the same partition. They differ from `messaging.message_id` in that they&#39;re not unique. If the key is `null`, the attribute MUST NOT be set.\n   *\n   * Note: If the key type is not string, it&#39;s string representation has to be supplied for the attribute. If the key has no unambiguous, canonical string form, don&#39;t include its value.\n   */\n  MESSAGING_KAFKA_MESSAGE_KEY: 'messaging.kafka.message_key',\n\n  /**\n   * Name of the Kafka Consumer Group that is handling the message. Only applies to consumers, not producers.\n   */\n  MESSAGING_KAFKA_CONSUMER_GROUP: 'messaging.kafka.consumer_group',\n\n  /**\n   * Client Id for the Consumer or Producer that is handling the message.\n   */\n  MESSAGING_KAFKA_CLIENT_ID: 'messaging.kafka.client_id',\n\n  /**\n   * Partition the message is sent to.\n   */\n  MESSAGING_KAFKA_PARTITION: 'messaging.kafka.partition',\n\n  /**\n   * A boolean that is true if the message is a tombstone.\n   */\n  MESSAGING_KAFKA_TOMBSTONE: 'messaging.kafka.tombstone',\n\n  /**\n   * A string identifying the remoting system.\n   */\n  RPC_SYSTEM: 'rpc.system',\n\n  /**\n   * The full (logical) name of the service being called, including its package name, if applicable.\n   *\n   * Note: This is the logical name of the service from the RPC interface perspective, which can be different from the name of any implementing class. The `code.namespace` attribute may be used to store the latter (despite the attribute name, it may include a class name; e.g., class with method actually executing the call on the server side, RPC client stub class on the client side).\n   */\n  RPC_SERVICE: 'rpc.service',\n\n  /**\n   * The name of the (logical) method being called, must be equal to the $method part in the span name.\n   *\n   * Note: This is the logical name of the method from the RPC interface perspective, which can be different from the name of any implementing method/function. The `code.function` attribute may be used to store the latter (e.g., method actually executing the call on the server side, RPC client stub method on the client side).\n   */\n  RPC_METHOD: 'rpc.method',\n\n  /**\n   * The [numeric status code](https://github.com/grpc/grpc/blob/v1.33.2/doc/statuscodes.md) of the gRPC request.\n   */\n  RPC_GRPC_STATUS_CODE: 'rpc.grpc.status_code',\n\n  /**\n   * Protocol version as in `jsonrpc` property of request/response. Since JSON-RPC 1.0 does not specify this, the value can be omitted.\n   */\n  RPC_JSONRPC_VERSION: 'rpc.jsonrpc.version',\n\n  /**\n   * `id` property of request or response. Since protocol allows id to be int, string, `null` or missing (for notifications), value is expected to be cast to string for simplicity. Use empty string in case of `null` value. Omit entirely if this is a notification.\n   */\n  RPC_JSONRPC_REQUEST_ID: 'rpc.jsonrpc.request_id',\n\n  /**\n   * `error.code` property of response if it is an error response.\n   */\n  RPC_JSONRPC_ERROR_CODE: 'rpc.jsonrpc.error_code',\n\n  /**\n   * `error.message` property of response if it is an error response.\n   */\n  RPC_JSONRPC_ERROR_MESSAGE: 'rpc.jsonrpc.error_message',\n\n  /**\n   * Whether this is a received or sent message.\n   */\n  MESSAGE_TYPE: 'message.type',\n\n  /**\n   * MUST be calculated as two different counters starting from `1` one for sent messages and one for received message.\n   *\n   * Note: This way we guarantee that the values will be consistent between different implementations.\n   */\n  MESSAGE_ID: 'message.id',\n\n  /**\n   * Compressed size of the message in bytes.\n   */\n  MESSAGE_COMPRESSED_SIZE: 'message.compressed_size',\n\n  /**\n   * Uncompressed size of the message in bytes.\n   */\n  MESSAGE_UNCOMPRESSED_SIZE: 'message.uncompressed_size',\n};\n\nexport const DbSystemValues = {\n  /** Some other SQL database. Fallback only. See notes. */\n  OTHER_SQL: 'other_sql',\n  /** Microsoft SQL Server. */\n  MSSQL: 'mssql',\n  /** MySQL. */\n  MYSQL: 'mysql',\n  /** Oracle Database. */\n  ORACLE: 'oracle',\n  /** IBM Db2. */\n  DB2: 'db2',\n  /** PostgreSQL. */\n  POSTGRESQL: 'postgresql',\n  /** Amazon Redshift. */\n  REDSHIFT: 'redshift',\n  /** Apache Hive. */\n  HIVE: 'hive',\n  /** Cloudscape. */\n  CLOUDSCAPE: 'cloudscape',\n  /** HyperSQL DataBase. */\n  HSQLDB: 'hsqldb',\n  /** Progress Database. */\n  PROGRESS: 'progress',\n  /** SAP MaxDB. */\n  MAXDB: 'maxdb',\n  /** SAP HANA. */\n  HANADB: 'hanadb',\n  /** Ingres. */\n  INGRES: 'ingres',\n  /** FirstSQL. */\n  FIRSTSQL: 'firstsql',\n  /** EnterpriseDB. */\n  EDB: 'edb',\n  /** InterSystems Caché. */\n  CACHE: 'cache',\n  /** Adabas (Adaptable Database System). */\n  ADABAS: 'adabas',\n  /** Firebird. */\n  FIREBIRD: 'firebird',\n  /** Apache Derby. */\n  DERBY: 'derby',\n  /** FileMaker. */\n  FILEMAKER: 'filemaker',\n  /** Informix. */\n  INFORMIX: 'informix',\n  /** InstantDB. */\n  INSTANTDB: 'instantdb',\n  /** InterBase. */\n  INTERBASE: 'interbase',\n  /** MariaDB. */\n  MARIADB: 'mariadb',\n  /** Netezza. */\n  NETEZZA: 'netezza',\n  /** Pervasive PSQL. */\n  PERVASIVE: 'pervasive',\n  /** PointBase. */\n  POINTBASE: 'pointbase',\n  /** SQLite. */\n  SQLITE: 'sqlite',\n  /** Sybase. */\n  SYBASE: 'sybase',\n  /** Teradata. */\n  TERADATA: 'teradata',\n  /** Vertica. */\n  VERTICA: 'vertica',\n  /** H2. */\n  H2: 'h2',\n  /** ColdFusion IMQ. */\n  COLDFUSION: 'coldfusion',\n  /** Apache Cassandra. */\n  CASSANDRA: 'cassandra',\n  /** Apache HBase. */\n  HBASE: 'hbase',\n  /** MongoDB. */\n  MONGODB: 'mongodb',\n  /** Redis. */\n  REDIS: 'redis',\n  /** Couchbase. */\n  COUCHBASE: 'couchbase',\n  /** CouchDB. */\n  COUCHDB: 'couchdb',\n  /** Microsoft Azure Cosmos DB. */\n  COSMOSDB: 'cosmosdb',\n  /** Amazon DynamoDB. */\n  DYNAMODB: 'dynamodb',\n  /** Neo4j. */\n  NEO4J: 'neo4j',\n  /** Apache Geode. */\n  GEODE: 'geode',\n  /** Elasticsearch. */\n  ELASTICSEARCH: 'elasticsearch',\n  /** Memcached. */\n  MEMCACHED: 'memcached',\n  /** CockroachDB. */\n  COCKROACHDB: 'cockroachdb',\n} as const;\nexport type DbSystemValues =\n  (typeof DbSystemValues)[keyof typeof DbSystemValues];\n\nexport const DbCassandraConsistencyLevelValues = {\n  /** all. */\n  ALL: 'all',\n  /** each_quorum. */\n  EACH_QUORUM: 'each_quorum',\n  /** quorum. */\n  QUORUM: 'quorum',\n  /** local_quorum. */\n  LOCAL_QUORUM: 'local_quorum',\n  /** one. */\n  ONE: 'one',\n  /** two. */\n  TWO: 'two',\n  /** three. */\n  THREE: 'three',\n  /** local_one. */\n  LOCAL_ONE: 'local_one',\n  /** any. */\n  ANY: 'any',\n  /** serial. */\n  SERIAL: 'serial',\n  /** local_serial. */\n  LOCAL_SERIAL: 'local_serial',\n} as const;\nexport type DbCassandraConsistencyLevelValues =\n  (typeof DbCassandraConsistencyLevelValues)[keyof typeof DbCassandraConsistencyLevelValues];\n\nexport const FaasTriggerValues = {\n  /** A response to some data source operation such as a database or filesystem read/write. */\n  DATASOURCE: 'datasource',\n  /** To provide an answer to an inbound HTTP request. */\n  HTTP: 'http',\n  /** A function is set to be executed when messages are sent to a messaging system. */\n  PUBSUB: 'pubsub',\n  /** A function is scheduled to be executed regularly. */\n  TIMER: 'timer',\n  /** If none of the others apply. */\n  OTHER: 'other',\n} as const;\nexport type FaasTriggerValues =\n  (typeof FaasTriggerValues)[keyof typeof FaasTriggerValues];\n\nexport const FaasDocumentOperationValues = {\n  /** When a new object is created. */\n  INSERT: 'insert',\n  /** When an object is modified. */\n  EDIT: 'edit',\n  /** When an object is deleted. */\n  DELETE: 'delete',\n} as const;\nexport type FaasDocumentOperationValues =\n  (typeof FaasDocumentOperationValues)[keyof typeof FaasDocumentOperationValues];\n\nexport const FaasInvokedProviderValues = {\n  /** Alibaba Cloud. */\n  ALIBABA_CLOUD: 'alibaba_cloud',\n  /** Amazon Web Services. */\n  AWS: 'aws',\n  /** Microsoft Azure. */\n  AZURE: 'azure',\n  /** Google Cloud Platform. */\n  GCP: 'gcp',\n} as const;\nexport type FaasInvokedProviderValues =\n  (typeof FaasInvokedProviderValues)[keyof typeof FaasInvokedProviderValues];\n\nexport const NetTransportValues = {\n  /** ip_tcp. */\n  IP_TCP: 'ip_tcp',\n  /** ip_udp. */\n  IP_UDP: 'ip_udp',\n  /** Another IP-based protocol. */\n  IP: 'ip',\n  /** Unix Domain socket. See below. */\n  UNIX: 'unix',\n  /** Named or anonymous pipe. See note below. */\n  PIPE: 'pipe',\n  /** In-process communication. */\n  INPROC: 'inproc',\n  /** Something else (non IP-based). */\n  OTHER: 'other',\n} as const;\nexport type NetTransportValues =\n  (typeof NetTransportValues)[keyof typeof NetTransportValues];\n\nexport const NetHostConnectionTypeValues = {\n  /** wifi. */\n  WIFI: 'wifi',\n  /** wired. */\n  WIRED: 'wired',\n  /** cell. */\n  CELL: 'cell',\n  /** unavailable. */\n  UNAVAILABLE: 'unavailable',\n  /** unknown. */\n  UNKNOWN: 'unknown',\n} as const;\nexport type NetHostConnectionTypeValues =\n  (typeof NetHostConnectionTypeValues)[keyof typeof NetHostConnectionTypeValues];\n\nexport const NetHostConnectionSubtypeValues = {\n  /** GPRS. */\n  GPRS: 'gprs',\n  /** EDGE. */\n  EDGE: 'edge',\n  /** UMTS. */\n  UMTS: 'umts',\n  /** CDMA. */\n  CDMA: 'cdma',\n  /** EVDO Rel. 0. */\n  EVDO_0: 'evdo_0',\n  /** EVDO Rev. A. */\n  EVDO_A: 'evdo_a',\n  /** CDMA2000 1XRTT. */\n  CDMA2000_1XRTT: 'cdma2000_1xrtt',\n  /** HSDPA. */\n  HSDPA: 'hsdpa',\n  /** HSUPA. */\n  HSUPA: 'hsupa',\n  /** HSPA. */\n  HSPA: 'hspa',\n  /** IDEN. */\n  IDEN: 'iden',\n  /** EVDO Rev. B. */\n  EVDO_B: 'evdo_b',\n  /** LTE. */\n  LTE: 'lte',\n  /** EHRPD. */\n  EHRPD: 'ehrpd',\n  /** HSPAP. */\n  HSPAP: 'hspap',\n  /** GSM. */\n  GSM: 'gsm',\n  /** TD-SCDMA. */\n  TD_SCDMA: 'td_scdma',\n  /** IWLAN. */\n  IWLAN: 'iwlan',\n  /** 5G NR (New Radio). */\n  NR: 'nr',\n  /** 5G NRNSA (New Radio Non-Standalone). */\n  NRNSA: 'nrnsa',\n  /** LTE CA. */\n  LTE_CA: 'lte_ca',\n} as const;\nexport type NetHostConnectionSubtypeValues =\n  (typeof NetHostConnectionSubtypeValues)[keyof typeof NetHostConnectionSubtypeValues];\n\nexport const HttpFlavorValues = {\n  /** HTTP 1.0. */\n  HTTP_1_0: '1.0',\n  /** HTTP 1.1. */\n  HTTP_1_1: '1.1',\n  /** HTTP 2. */\n  HTTP_2_0: '2.0',\n  /** SPDY protocol. */\n  SPDY: 'SPDY',\n  /** QUIC protocol. */\n  QUIC: 'QUIC',\n} as const;\nexport type HttpFlavorValues =\n  (typeof HttpFlavorValues)[keyof typeof HttpFlavorValues];\n\nexport const MessagingDestinationKindValues = {\n  /** A message sent to a queue. */\n  QUEUE: 'queue',\n  /** A message sent to a topic. */\n  TOPIC: 'topic',\n} as const;\nexport type MessagingDestinationKindValues =\n  (typeof MessagingDestinationKindValues)[keyof typeof MessagingDestinationKindValues];\n\nexport const MessagingOperationValues = {\n  /** receive. */\n  RECEIVE: 'receive',\n  /** process. */\n  PROCESS: 'process',\n} as const;\nexport type MessagingOperationValues =\n  (typeof MessagingOperationValues)[keyof typeof MessagingOperationValues];\n\nexport const RpcGrpcStatusCodeValues = {\n  /** OK. */\n  OK: 0,\n  /** CANCELLED. */\n  CANCELLED: 1,\n  /** UNKNOWN. */\n  UNKNOWN: 2,\n  /** INVALID_ARGUMENT. */\n  INVALID_ARGUMENT: 3,\n  /** DEADLINE_EXCEEDED. */\n  DEADLINE_EXCEEDED: 4,\n  /** NOT_FOUND. */\n  NOT_FOUND: 5,\n  /** ALREADY_EXISTS. */\n  ALREADY_EXISTS: 6,\n  /** PERMISSION_DENIED. */\n  PERMISSION_DENIED: 7,\n  /** RESOURCE_EXHAUSTED. */\n  RESOURCE_EXHAUSTED: 8,\n  /** FAILED_PRECONDITION. */\n  FAILED_PRECONDITION: 9,\n  /** ABORTED. */\n  ABORTED: 10,\n  /** OUT_OF_RANGE. */\n  OUT_OF_RANGE: 11,\n  /** UNIMPLEMENTED. */\n  UNIMPLEMENTED: 12,\n  /** INTERNAL. */\n  INTERNAL: 13,\n  /** UNAVAILABLE. */\n  UNAVAILABLE: 14,\n  /** DATA_LOSS. */\n  DATA_LOSS: 15,\n  /** UNAUTHENTICATED. */\n  UNAUTHENTICATED: 16,\n} as const;\nexport type RpcGrpcStatusCodeValues =\n  (typeof RpcGrpcStatusCodeValues)[keyof typeof RpcGrpcStatusCodeValues];\n\nexport const MessageTypeValues = {\n  /** sent. */\n  SENT: 'SENT',\n  /** received. */\n  RECEIVED: 'RECEIVED',\n} as const;\nexport type MessageTypeValues =\n  (typeof MessageTypeValues)[keyof typeof MessageTypeValues];\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport * from './SemanticAttributes';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// DO NOT EDIT, this is an Auto-generated file from scripts/semconv/templates//templates/SemanticAttributes.ts.j2\nexport const SemanticResourceAttributes = {\n  /**\n   * Name of the cloud provider.\n   */\n  CLOUD_PROVIDER: 'cloud.provider',\n\n  /**\n   * The cloud account ID the resource is assigned to.\n   */\n  CLOUD_ACCOUNT_ID: 'cloud.account.id',\n\n  /**\n   * The geographical region the resource is running. Refer to your provider&#39;s docs to see the available regions, for example [Alibaba Cloud regions](https://www.alibabacloud.com/help/doc-detail/40654.htm), [AWS regions](https://aws.amazon.com/about-aws/global-infrastructure/regions_az/), [Azure regions](https://azure.microsoft.com/en-us/global-infrastructure/geographies/), or [Google Cloud regions](https://cloud.google.com/about/locations).\n   */\n  CLOUD_REGION: 'cloud.region',\n\n  /**\n   * Cloud regions often have multiple, isolated locations known as zones to increase availability. Availability zone represents the zone where the resource is running.\n   *\n   * Note: Availability zones are called &#34;zones&#34; on Alibaba Cloud and Google Cloud.\n   */\n  CLOUD_AVAILABILITY_ZONE: 'cloud.availability_zone',\n\n  /**\n   * The cloud platform in use.\n   *\n   * Note: The prefix of the service SHOULD match the one specified in `cloud.provider`.\n   */\n  CLOUD_PLATFORM: 'cloud.platform',\n\n  /**\n   * The Amazon Resource Name (ARN) of an [ECS container instance](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ECS_instances.html).\n   */\n  AWS_ECS_CONTAINER_ARN: 'aws.ecs.container.arn',\n\n  /**\n   * The ARN of an [ECS cluster](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/clusters.html).\n   */\n  AWS_ECS_CLUSTER_ARN: 'aws.ecs.cluster.arn',\n\n  /**\n   * The [launch type](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/launch_types.html) for an ECS task.\n   */\n  AWS_ECS_LAUNCHTYPE: 'aws.ecs.launchtype',\n\n  /**\n   * The ARN of an [ECS task definition](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task_definitions.html).\n   */\n  AWS_ECS_TASK_ARN: 'aws.ecs.task.arn',\n\n  /**\n   * The task definition family this task definition is a member of.\n   */\n  AWS_ECS_TASK_FAMILY: 'aws.ecs.task.family',\n\n  /**\n   * The revision for this task definition.\n   */\n  AWS_ECS_TASK_REVISION: 'aws.ecs.task.revision',\n\n  /**\n   * The ARN of an EKS cluster.\n   */\n  AWS_EKS_CLUSTER_ARN: 'aws.eks.cluster.arn',\n\n  /**\n   * The name(s) of the AWS log group(s) an application is writing to.\n   *\n   * Note: Multiple log groups must be supported for cases like multi-container applications, where a single application has sidecar containers, and each write to their own log group.\n   */\n  AWS_LOG_GROUP_NAMES: 'aws.log.group.names',\n\n  /**\n   * The Amazon Resource Name(s) (ARN) of the AWS log group(s).\n   *\n   * Note: See the [log group ARN format documentation](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/iam-access-control-overview-cwl.html#CWL_ARN_Format).\n   */\n  AWS_LOG_GROUP_ARNS: 'aws.log.group.arns',\n\n  /**\n   * The name(s) of the AWS log stream(s) an application is writing to.\n   */\n  AWS_LOG_STREAM_NAMES: 'aws.log.stream.names',\n\n  /**\n   * The ARN(s) of the AWS log stream(s).\n   *\n   * Note: See the [log stream ARN format documentation](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/iam-access-control-overview-cwl.html#CWL_ARN_Format). One log group can contain several log streams, so these ARNs necessarily identify both a log group and a log stream.\n   */\n  AWS_LOG_STREAM_ARNS: 'aws.log.stream.arns',\n\n  /**\n   * Container name.\n   */\n  CONTAINER_NAME: 'container.name',\n\n  /**\n   * Container ID. Usually a UUID, as for example used to [identify Docker containers](https://docs.docker.com/engine/reference/run/#container-identification). The UUID might be abbreviated.\n   */\n  CONTAINER_ID: 'container.id',\n\n  /**\n   * The container runtime managing this container.\n   */\n  CONTAINER_RUNTIME: 'container.runtime',\n\n  /**\n   * Name of the image the container was built on.\n   */\n  CONTAINER_IMAGE_NAME: 'container.image.name',\n\n  /**\n   * Container image tag.\n   */\n  CONTAINER_IMAGE_TAG: 'container.image.tag',\n\n  /**\n   * Name of the [deployment environment](https://en.wikipedia.org/wiki/Deployment_environment) (aka deployment tier).\n   */\n  DEPLOYMENT_ENVIRONMENT: 'deployment.environment',\n\n  /**\n   * A unique identifier representing the device.\n   *\n   * Note: The device identifier MUST only be defined using the values outlined below. This value is not an advertising identifier and MUST NOT be used as such. On iOS (Swift or Objective-C), this value MUST be equal to the [vendor identifier](https://developer.apple.com/documentation/uikit/uidevice/1620059-identifierforvendor). On Android (Java or Kotlin), this value MUST be equal to the Firebase Installation ID or a globally unique UUID which is persisted across sessions in your application. More information can be found [here](https://developer.android.com/training/articles/user-data-ids) on best practices and exact implementation details. Caution should be taken when storing personal data or anything which can identify a user. GDPR and data protection laws may apply, ensure you do your own due diligence.\n   */\n  DEVICE_ID: 'device.id',\n\n  /**\n   * The model identifier for the device.\n   *\n   * Note: It&#39;s recommended this value represents a machine readable version of the model identifier rather than the market or consumer-friendly name of the device.\n   */\n  DEVICE_MODEL_IDENTIFIER: 'device.model.identifier',\n\n  /**\n   * The marketing name for the device model.\n   *\n   * Note: It&#39;s recommended this value represents a human readable version of the device model rather than a machine readable alternative.\n   */\n  DEVICE_MODEL_NAME: 'device.model.name',\n\n  /**\n   * The name of the single function that this runtime instance executes.\n   *\n   * Note: This is the name of the function as configured/deployed on the FaaS platform and is usually different from the name of the callback function (which may be stored in the [`code.namespace`/`code.function`](../../trace/semantic_conventions/span-general.md#source-code-attributes) span attributes).\n   */\n  FAAS_NAME: 'faas.name',\n\n  /**\n  * The unique ID of the single function that this runtime instance executes.\n  *\n  * Note: Depending on the cloud provider, use:\n\n* **AWS Lambda:** The function [ARN](https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html).\nTake care not to use the &#34;invoked ARN&#34; directly but replace any\n[alias suffix](https://docs.aws.amazon.com/lambda/latest/dg/configuration-aliases.html) with the resolved function version, as the same runtime instance may be invokable with multiple\ndifferent aliases.\n* **GCP:** The [URI of the resource](https://cloud.google.com/iam/docs/full-resource-names)\n* **Azure:** The [Fully Qualified Resource ID](https://docs.microsoft.com/en-us/rest/api/resources/resources/get-by-id).\n\nOn some providers, it may not be possible to determine the full ID at startup,\nwhich is why this field cannot be made required. For example, on AWS the account ID\npart of the ARN is not available without calling another AWS API\nwhich may be deemed too slow for a short-running lambda function.\nAs an alternative, consider setting `faas.id` as a span attribute instead.\n  */\n  FAAS_ID: 'faas.id',\n\n  /**\n  * The immutable version of the function being executed.\n  *\n  * Note: Depending on the cloud provider and platform, use:\n\n* **AWS Lambda:** The [function version](https://docs.aws.amazon.com/lambda/latest/dg/configuration-versions.html)\n  (an integer represented as a decimal string).\n* **Google Cloud Run:** The [revision](https://cloud.google.com/run/docs/managing/revisions)\n  (i.e., the function name plus the revision suffix).\n* **Google Cloud Functions:** The value of the\n  [`K_REVISION` environment variable](https://cloud.google.com/functions/docs/env-var#runtime_environment_variables_set_automatically).\n* **Azure Functions:** Not applicable. Do not set this attribute.\n  */\n  FAAS_VERSION: 'faas.version',\n\n  /**\n   * The execution environment ID as a string, that will be potentially reused for other invocations to the same function/function version.\n   *\n   * Note: * **AWS Lambda:** Use the (full) log stream name.\n   */\n  FAAS_INSTANCE: 'faas.instance',\n\n  /**\n   * The amount of memory available to the serverless function in MiB.\n   *\n   * Note: It&#39;s recommended to set this attribute since e.g. too little memory can easily stop a Java AWS Lambda function from working correctly. On AWS Lambda, the environment variable `AWS_LAMBDA_FUNCTION_MEMORY_SIZE` provides this information.\n   */\n  FAAS_MAX_MEMORY: 'faas.max_memory',\n\n  /**\n   * Unique host ID. For Cloud, this must be the instance_id assigned by the cloud provider.\n   */\n  HOST_ID: 'host.id',\n\n  /**\n   * Name of the host. On Unix systems, it may contain what the hostname command returns, or the fully qualified hostname, or another name specified by the user.\n   */\n  HOST_NAME: 'host.name',\n\n  /**\n   * Type of host. For Cloud, this must be the machine type.\n   */\n  HOST_TYPE: 'host.type',\n\n  /**\n   * The CPU architecture the host system is running on.\n   */\n  HOST_ARCH: 'host.arch',\n\n  /**\n   * Name of the VM image or OS install the host was instantiated from.\n   */\n  HOST_IMAGE_NAME: 'host.image.name',\n\n  /**\n   * VM image ID. For Cloud, this value is from the provider.\n   */\n  HOST_IMAGE_ID: 'host.image.id',\n\n  /**\n   * The version string of the VM image as defined in [Version SpanAttributes](README.md#version-attributes).\n   */\n  HOST_IMAGE_VERSION: 'host.image.version',\n\n  /**\n   * The name of the cluster.\n   */\n  K8S_CLUSTER_NAME: 'k8s.cluster.name',\n\n  /**\n   * The name of the Node.\n   */\n  K8S_NODE_NAME: 'k8s.node.name',\n\n  /**\n   * The UID of the Node.\n   */\n  K8S_NODE_UID: 'k8s.node.uid',\n\n  /**\n   * The name of the namespace that the pod is running in.\n   */\n  K8S_NAMESPACE_NAME: 'k8s.namespace.name',\n\n  /**\n   * The UID of the Pod.\n   */\n  K8S_POD_UID: 'k8s.pod.uid',\n\n  /**\n   * The name of the Pod.\n   */\n  K8S_POD_NAME: 'k8s.pod.name',\n\n  /**\n   * The name of the Container in a Pod template.\n   */\n  K8S_CONTAINER_NAME: 'k8s.container.name',\n\n  /**\n   * The UID of the ReplicaSet.\n   */\n  K8S_REPLICASET_UID: 'k8s.replicaset.uid',\n\n  /**\n   * The name of the ReplicaSet.\n   */\n  K8S_REPLICASET_NAME: 'k8s.replicaset.name',\n\n  /**\n   * The UID of the Deployment.\n   */\n  K8S_DEPLOYMENT_UID: 'k8s.deployment.uid',\n\n  /**\n   * The name of the Deployment.\n   */\n  K8S_DEPLOYMENT_NAME: 'k8s.deployment.name',\n\n  /**\n   * The UID of the StatefulSet.\n   */\n  K8S_STATEFULSET_UID: 'k8s.statefulset.uid',\n\n  /**\n   * The name of the StatefulSet.\n   */\n  K8S_STATEFULSET_NAME: 'k8s.statefulset.name',\n\n  /**\n   * The UID of the DaemonSet.\n   */\n  K8S_DAEMONSET_UID: 'k8s.daemonset.uid',\n\n  /**\n   * The name of the DaemonSet.\n   */\n  K8S_DAEMONSET_NAME: 'k8s.daemonset.name',\n\n  /**\n   * The UID of the Job.\n   */\n  K8S_JOB_UID: 'k8s.job.uid',\n\n  /**\n   * The name of the Job.\n   */\n  K8S_JOB_NAME: 'k8s.job.name',\n\n  /**\n   * The UID of the CronJob.\n   */\n  K8S_CRONJOB_UID: 'k8s.cronjob.uid',\n\n  /**\n   * The name of the CronJob.\n   */\n  K8S_CRONJOB_NAME: 'k8s.cronjob.name',\n\n  /**\n   * The operating system type.\n   */\n  OS_TYPE: 'os.type',\n\n  /**\n   * Human readable (not intended to be parsed) OS version information, like e.g. reported by `ver` or `lsb_release -a` commands.\n   */\n  OS_DESCRIPTION: 'os.description',\n\n  /**\n   * Human readable operating system name.\n   */\n  OS_NAME: 'os.name',\n\n  /**\n   * The version string of the operating system as defined in [Version SpanAttributes](../../resource/semantic_conventions/README.md#version-attributes).\n   */\n  OS_VERSION: 'os.version',\n\n  /**\n   * Process identifier (PID).\n   */\n  PROCESS_PID: 'process.pid',\n\n  /**\n   * The name of the process executable. On Linux based systems, can be set to the `Name` in `proc/[pid]/status`. On Windows, can be set to the base name of `GetProcessImageFileNameW`.\n   */\n  PROCESS_EXECUTABLE_NAME: 'process.executable.name',\n\n  /**\n   * The full path to the process executable. On Linux based systems, can be set to the target of `proc/[pid]/exe`. On Windows, can be set to the result of `GetProcessImageFileNameW`.\n   */\n  PROCESS_EXECUTABLE_PATH: 'process.executable.path',\n\n  /**\n   * The command used to launch the process (i.e. the command name). On Linux based systems, can be set to the zeroth string in `proc/[pid]/cmdline`. On Windows, can be set to the first parameter extracted from `GetCommandLineW`.\n   */\n  PROCESS_COMMAND: 'process.command',\n\n  /**\n   * The full command used to launch the process as a single string representing the full command. On Windows, can be set to the result of `GetCommandLineW`. Do not set this if you have to assemble it just for monitoring; use `process.command_args` instead.\n   */\n  PROCESS_COMMAND_LINE: 'process.command_line',\n\n  /**\n   * All the command arguments (including the command/executable itself) as received by the process. On Linux-based systems (and some other Unixoid systems supporting procfs), can be set according to the list of null-delimited strings extracted from `proc/[pid]/cmdline`. For libc-based executables, this would be the full argv vector passed to `main`.\n   */\n  PROCESS_COMMAND_ARGS: 'process.command_args',\n\n  /**\n   * The username of the user that owns the process.\n   */\n  PROCESS_OWNER: 'process.owner',\n\n  /**\n   * The name of the runtime of this process. For compiled native binaries, this SHOULD be the name of the compiler.\n   */\n  PROCESS_RUNTIME_NAME: 'process.runtime.name',\n\n  /**\n   * The version of the runtime of this process, as returned by the runtime without modification.\n   */\n  PROCESS_RUNTIME_VERSION: 'process.runtime.version',\n\n  /**\n   * An additional description about the runtime of the process, for example a specific vendor customization of the runtime environment.\n   */\n  PROCESS_RUNTIME_DESCRIPTION: 'process.runtime.description',\n\n  /**\n   * Logical name of the service.\n   *\n   * Note: MUST be the same for all instances of horizontally scaled services. If the value was not specified, SDKs MUST fallback to `unknown_service:` concatenated with [`process.executable.name`](process.md#process), e.g. `unknown_service:bash`. If `process.executable.name` is not available, the value MUST be set to `unknown_service`.\n   */\n  SERVICE_NAME: 'service.name',\n\n  /**\n   * A namespace for `service.name`.\n   *\n   * Note: A string value having a meaning that helps to distinguish a group of services, for example the team name that owns a group of services. `service.name` is expected to be unique within the same namespace. If `service.namespace` is not specified in the Resource then `service.name` is expected to be unique for all services that have no explicit namespace defined (so the empty/unspecified namespace is simply one more valid namespace). Zero-length namespace string is assumed equal to unspecified namespace.\n   */\n  SERVICE_NAMESPACE: 'service.namespace',\n\n  /**\n   * The string ID of the service instance.\n   *\n   * Note: MUST be unique for each instance of the same `service.namespace,service.name` pair (in other words `service.namespace,service.name,service.instance.id` triplet MUST be globally unique). The ID helps to distinguish instances of the same service that exist at the same time (e.g. instances of a horizontally scaled service). It is preferable for the ID to be persistent and stay the same for the lifetime of the service instance, however it is acceptable that the ID is ephemeral and changes during important lifetime events for the service (e.g. service restarts). If the service has no inherent unique ID that can be used as the value of this attribute it is recommended to generate a random Version 1 or Version 4 RFC 4122 UUID (services aiming for reproducible UUIDs may also use Version 5, see RFC 4122 for more recommendations).\n   */\n  SERVICE_INSTANCE_ID: 'service.instance.id',\n\n  /**\n   * The version string of the service API or implementation.\n   */\n  SERVICE_VERSION: 'service.version',\n\n  /**\n   * The name of the telemetry SDK as defined above.\n   */\n  TELEMETRY_SDK_NAME: 'telemetry.sdk.name',\n\n  /**\n   * The language of the telemetry SDK.\n   */\n  TELEMETRY_SDK_LANGUAGE: 'telemetry.sdk.language',\n\n  /**\n   * The version string of the telemetry SDK.\n   */\n  TELEMETRY_SDK_VERSION: 'telemetry.sdk.version',\n\n  /**\n   * The version string of the auto instrumentation agent, if used.\n   */\n  TELEMETRY_AUTO_VERSION: 'telemetry.auto.version',\n\n  /**\n   * The name of the web engine.\n   */\n  WEBENGINE_NAME: 'webengine.name',\n\n  /**\n   * The version of the web engine.\n   */\n  WEBENGINE_VERSION: 'webengine.version',\n\n  /**\n   * Additional description of the web engine (e.g. detailed version and edition information).\n   */\n  WEBENGINE_DESCRIPTION: 'webengine.description',\n};\n\nexport const CloudProviderValues = {\n  /** Alibaba Cloud. */\n  ALIBABA_CLOUD: 'alibaba_cloud',\n  /** Amazon Web Services. */\n  AWS: 'aws',\n  /** Microsoft Azure. */\n  AZURE: 'azure',\n  /** Google Cloud Platform. */\n  GCP: 'gcp',\n} as const;\nexport type CloudProviderValues =\n  (typeof CloudProviderValues)[keyof typeof CloudProviderValues];\n\nexport const CloudPlatformValues = {\n  /** Alibaba Cloud Elastic Compute Service. */\n  ALIBABA_CLOUD_ECS: 'alibaba_cloud_ecs',\n  /** Alibaba Cloud Function Compute. */\n  ALIBABA_CLOUD_FC: 'alibaba_cloud_fc',\n  /** AWS Elastic Compute Cloud. */\n  AWS_EC2: 'aws_ec2',\n  /** AWS Elastic Container Service. */\n  AWS_ECS: 'aws_ecs',\n  /** AWS Elastic Kubernetes Service. */\n  AWS_EKS: 'aws_eks',\n  /** AWS Lambda. */\n  AWS_LAMBDA: 'aws_lambda',\n  /** AWS Elastic Beanstalk. */\n  AWS_ELASTIC_BEANSTALK: 'aws_elastic_beanstalk',\n  /** Azure Virtual Machines. */\n  AZURE_VM: 'azure_vm',\n  /** Azure Container Instances. */\n  AZURE_CONTAINER_INSTANCES: 'azure_container_instances',\n  /** Azure Kubernetes Service. */\n  AZURE_AKS: 'azure_aks',\n  /** Azure Functions. */\n  AZURE_FUNCTIONS: 'azure_functions',\n  /** Azure App Service. */\n  AZURE_APP_SERVICE: 'azure_app_service',\n  /** Google Cloud Compute Engine (GCE). */\n  GCP_COMPUTE_ENGINE: 'gcp_compute_engine',\n  /** Google Cloud Run. */\n  GCP_CLOUD_RUN: 'gcp_cloud_run',\n  /** Google Cloud Kubernetes Engine (GKE). */\n  GCP_KUBERNETES_ENGINE: 'gcp_kubernetes_engine',\n  /** Google Cloud Functions (GCF). */\n  GCP_CLOUD_FUNCTIONS: 'gcp_cloud_functions',\n  /** Google Cloud App Engine (GAE). */\n  GCP_APP_ENGINE: 'gcp_app_engine',\n} as const;\nexport type CloudPlatformValues =\n  (typeof CloudPlatformValues)[keyof typeof CloudPlatformValues];\n\nexport const AwsEcsLaunchtypeValues = {\n  /** ec2. */\n  EC2: 'ec2',\n  /** fargate. */\n  FARGATE: 'fargate',\n} as const;\nexport type AwsEcsLaunchtypeValues =\n  (typeof AwsEcsLaunchtypeValues)[keyof typeof AwsEcsLaunchtypeValues];\n\nexport const HostArchValues = {\n  /** AMD64. */\n  AMD64: 'amd64',\n  /** ARM32. */\n  ARM32: 'arm32',\n  /** ARM64. */\n  ARM64: 'arm64',\n  /** Itanium. */\n  IA64: 'ia64',\n  /** 32-bit PowerPC. */\n  PPC32: 'ppc32',\n  /** 64-bit PowerPC. */\n  PPC64: 'ppc64',\n  /** 32-bit x86. */\n  X86: 'x86',\n} as const;\nexport type HostArchValues =\n  (typeof HostArchValues)[keyof typeof HostArchValues];\n\nexport const OsTypeValues = {\n  /** Microsoft Windows. */\n  WINDOWS: 'windows',\n  /** Linux. */\n  LINUX: 'linux',\n  /** Apple Darwin. */\n  DARWIN: 'darwin',\n  /** FreeBSD. */\n  FREEBSD: 'freebsd',\n  /** NetBSD. */\n  NETBSD: 'netbsd',\n  /** OpenBSD. */\n  OPENBSD: 'openbsd',\n  /** DragonFly BSD. */\n  DRAGONFLYBSD: 'dragonflybsd',\n  /** HP-UX (Hewlett Packard Unix). */\n  HPUX: 'hpux',\n  /** AIX (Advanced Interactive eXecutive). */\n  AIX: 'aix',\n  /** Oracle Solaris. */\n  SOLARIS: 'solaris',\n  /** IBM z/OS. */\n  Z_OS: 'z_os',\n} as const;\nexport type OsTypeValues = (typeof OsTypeValues)[keyof typeof OsTypeValues];\n\nexport const TelemetrySdkLanguageValues = {\n  /** cpp. */\n  CPP: 'cpp',\n  /** dotnet. */\n  DOTNET: 'dotnet',\n  /** erlang. */\n  ERLANG: 'erlang',\n  /** go. */\n  GO: 'go',\n  /** java. */\n  JAVA: 'java',\n  /** nodejs. */\n  NODEJS: 'nodejs',\n  /** php. */\n  PHP: 'php',\n  /** python. */\n  PYTHON: 'python',\n  /** ruby. */\n  RUBY: 'ruby',\n  /** webjs. */\n  WEBJS: 'webjs',\n} as const;\nexport type TelemetrySdkLanguageValues =\n  (typeof TelemetrySdkLanguageValues)[keyof typeof TelemetrySdkLanguageValues];\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport * from './SemanticResourceAttributes';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './trace';\nexport * from './resource';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { VERSION } from '../../version';\nimport {\n  TelemetrySdkLanguageValues,\n  SemanticResourceAttributes,\n} from '@opentelemetry/semantic-conventions';\n\n/** Constants describing the SDK in use */\nexport const SDK_INFO = {\n  [SemanticResourceAttributes.TELEMETRY_SDK_NAME]: 'opentelemetry',\n  [SemanticResourceAttributes.PROCESS_RUNTIME_NAME]: 'node',\n  [SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:\n    TelemetrySdkLanguageValues.NODEJS,\n  [SemanticResourceAttributes.TELEMETRY_SDK_VERSION]: VERSION,\n};\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport function unrefTimer(timer: NodeJS.Timer): void {\n  timer.unref();\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './environment';\nexport * from './globalThis';\nexport * from './hex-to-base64';\nexport * from './RandomIdGenerator';\nexport * from './performance';\nexport * from './sdk-info';\nexport * from './timer-util';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport * from './node';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as api from '@opentelemetry/api';\nimport { otperformance as performance } from '../platform';\nimport { TimeOriginLegacy } from './types';\n\nconst NANOSECOND_DIGITS = 9;\nconst NANOSECOND_DIGITS_IN_MILLIS = 6;\nconst MILLISECONDS_TO_NANOSECONDS = Math.pow(10, NANOSECOND_DIGITS_IN_MILLIS);\nconst SECOND_TO_NANOSECONDS = Math.pow(10, NANOSECOND_DIGITS);\n\n/**\n * Converts a number of milliseconds from epoch to HrTime([seconds, remainder in nanoseconds]).\n * @param epochMillis\n */\nexport function millisToHrTime(epochMillis: number): api.HrTime {\n  const epochSeconds = epochMillis / 1000;\n  // Decimals only.\n  const seconds = Math.trunc(epochSeconds);\n  // Round sub-nanosecond accuracy to nanosecond.\n  const nanos = Math.round((epochMillis % 1000) * MILLISECONDS_TO_NANOSECONDS);\n  return [seconds, nanos];\n}\n\nexport function getTimeOrigin(): number {\n  let timeOrigin = performance.timeOrigin;\n  if (typeof timeOrigin !== 'number') {\n    const perf: TimeOriginLegacy = performance as unknown as TimeOriginLegacy;\n    timeOrigin = perf.timing && perf.timing.fetchStart;\n  }\n  return timeOrigin;\n}\n\n/**\n * Returns an hrtime calculated via performance component.\n * @param performanceNow\n */\nexport function hrTime(performanceNow?: number): api.HrTime {\n  const timeOrigin = millisToHrTime(getTimeOrigin());\n  const now = millisToHrTime(\n    typeof performanceNow === 'number' ? performanceNow : performance.now()\n  );\n\n  return addHrTimes(timeOrigin, now);\n}\n\n/**\n *\n * Converts a TimeInput to an HrTime, defaults to _hrtime().\n * @param time\n */\nexport function timeInputToHrTime(time: api.TimeInput): api.HrTime {\n  // process.hrtime\n  if (isTimeInputHrTime(time)) {\n    return time as api.HrTime;\n  } else if (typeof time === 'number') {\n    // Must be a performance.now() if it's smaller than process start time.\n    if (time < getTimeOrigin()) {\n      return hrTime(time);\n    } else {\n      // epoch milliseconds or performance.timeOrigin\n      return millisToHrTime(time);\n    }\n  } else if (time instanceof Date) {\n    return millisToHrTime(time.getTime());\n  } else {\n    throw TypeError('Invalid input type');\n  }\n}\n\n/**\n * Returns a duration of two hrTime.\n * @param startTime\n * @param endTime\n */\nexport function hrTimeDuration(\n  startTime: api.HrTime,\n  endTime: api.HrTime\n): api.HrTime {\n  let seconds = endTime[0] - startTime[0];\n  let nanos = endTime[1] - startTime[1];\n\n  // overflow\n  if (nanos < 0) {\n    seconds -= 1;\n    // negate\n    nanos += SECOND_TO_NANOSECONDS;\n  }\n\n  return [seconds, nanos];\n}\n\n/**\n * Convert hrTime to timestamp, for example \"2019-05-14T17:00:00.000123456Z\"\n * @param time\n */\nexport function hrTimeToTimeStamp(time: api.HrTime): string {\n  const precision = NANOSECOND_DIGITS;\n  const tmp = `${'0'.repeat(precision)}${time[1]}Z`;\n  const nanoString = tmp.substr(tmp.length - precision - 1);\n  const date = new Date(time[0] * 1000).toISOString();\n  return date.replace('000Z', nanoString);\n}\n\n/**\n * Convert hrTime to nanoseconds.\n * @param time\n */\nexport function hrTimeToNanoseconds(time: api.HrTime): number {\n  return time[0] * SECOND_TO_NANOSECONDS + time[1];\n}\n\n/**\n * Convert hrTime to milliseconds.\n * @param time\n */\nexport function hrTimeToMilliseconds(time: api.HrTime): number {\n  return Math.round(time[0] * 1e3 + time[1] / 1e6);\n}\n\n/**\n * Convert hrTime to microseconds.\n * @param time\n */\nexport function hrTimeToMicroseconds(time: api.HrTime): number {\n  return Math.round(time[0] * 1e6 + time[1] / 1e3);\n}\n\n/**\n * check if time is HrTime\n * @param value\n */\nexport function isTimeInputHrTime(value: unknown): value is api.HrTime {\n  return (\n    Array.isArray(value) &&\n    value.length === 2 &&\n    typeof value[0] === 'number' &&\n    typeof value[1] === 'number'\n  );\n}\n\n/**\n * check if input value is a correct types.TimeInput\n * @param value\n */\nexport function isTimeInput(\n  value: unknown\n): value is api.HrTime | number | Date {\n  return (\n    isTimeInputHrTime(value) ||\n    typeof value === 'number' ||\n    value instanceof Date\n  );\n}\n\n/**\n * Given 2 HrTime formatted times, return their sum as an HrTime.\n */\nexport function addHrTimes(time1: api.HrTime, time2: api.HrTime): api.HrTime {\n  const out = [time1[0] + time2[0], time1[1] + time2[1]] as api.HrTime;\n\n  // Nanoseconds\n  if (out[1] >= SECOND_TO_NANOSECONDS) {\n    out[1] -= SECOND_TO_NANOSECONDS;\n    out[0] += 1;\n  }\n\n  return out;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport interface ExportResult {\n  code: ExportResultCode;\n  error?: Error;\n}\n\nexport enum ExportResultCode {\n  SUCCESS,\n  FAILED,\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Context,\n  TextMapGetter,\n  TextMapPropagator,\n  diag,\n  TextMapSetter,\n} from '@opentelemetry/api';\n\n/** Configuration object for composite propagator */\nexport interface CompositePropagatorConfig {\n  /**\n   * List of propagators to run. Propagators run in the\n   * list order. If a propagator later in the list writes the same context\n   * key as a propagator earlier in the list, the later on will \"win\".\n   */\n  propagators?: TextMapPropagator[];\n}\n\n/** Combines multiple propagators into a single propagator. */\nexport class CompositePropagator implements TextMapPropagator {\n  private readonly _propagators: TextMapPropagator[];\n  private readonly _fields: string[];\n\n  /**\n   * Construct a composite propagator from a list of propagators.\n   *\n   * @param [config] Configuration object for composite propagator\n   */\n  constructor(config: CompositePropagatorConfig = {}) {\n    this._propagators = config.propagators ?? [];\n\n    this._fields = Array.from(\n      new Set(\n        this._propagators\n          // older propagators may not have fields function, null check to be sure\n          .map(p => (typeof p.fields === 'function' ? p.fields() : []))\n          .reduce((x, y) => x.concat(y), [])\n      )\n    );\n  }\n\n  /**\n   * Run each of the configured propagators with the given context and carrier.\n   * Propagators are run in the order they are configured, so if multiple\n   * propagators write the same carrier key, the propagator later in the list\n   * will \"win\".\n   *\n   * @param context Context to inject\n   * @param carrier Carrier into which context will be injected\n   */\n  inject(context: Context, carrier: unknown, setter: TextMapSetter): void {\n    for (const propagator of this._propagators) {\n      try {\n        propagator.inject(context, carrier, setter);\n      } catch (err) {\n        diag.warn(\n          `Failed to inject with ${propagator.constructor.name}. Err: ${err.message}`\n        );\n      }\n    }\n  }\n\n  /**\n   * Run each of the configured propagators with the given context and carrier.\n   * Propagators are run in the order they are configured, so if multiple\n   * propagators write the same context key, the propagator later in the list\n   * will \"win\".\n   *\n   * @param context Context to add values to\n   * @param carrier Carrier from which to extract context\n   */\n  extract(context: Context, carrier: unknown, getter: TextMapGetter): Context {\n    return this._propagators.reduce((ctx, propagator) => {\n      try {\n        return propagator.extract(ctx, carrier, getter);\n      } catch (err) {\n        diag.warn(\n          `Failed to inject with ${propagator.constructor.name}. Err: ${err.message}`\n        );\n      }\n      return ctx;\n    }, context);\n  }\n\n  fields(): string[] {\n    // return a new array so our fields cannot be modified\n    return this._fields.slice();\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst VALID_KEY_CHAR_RANGE = '[_0-9a-z-*/]';\nconst VALID_KEY = `[a-z]${VALID_KEY_CHAR_RANGE}{0,255}`;\nconst VALID_VENDOR_KEY = `[a-z0-9]${VALID_KEY_CHAR_RANGE}{0,240}@[a-z]${VALID_KEY_CHAR_RANGE}{0,13}`;\nconst VALID_KEY_REGEX = new RegExp(`^(?:${VALID_KEY}|${VALID_VENDOR_KEY})$`);\nconst VALID_VALUE_BASE_REGEX = /^[ -~]{0,255}[!-~]$/;\nconst INVALID_VALUE_COMMA_EQUAL_REGEX = /,|=/;\n\n/**\n * Key is opaque string up to 256 characters printable. It MUST begin with a\n * lowercase letter, and can only contain lowercase letters a-z, digits 0-9,\n * underscores _, dashes -, asterisks *, and forward slashes /.\n * For multi-tenant vendor scenarios, an at sign (@) can be used to prefix the\n * vendor name. Vendors SHOULD set the tenant ID at the beginning of the key.\n * see https://www.w3.org/TR/trace-context/#key\n */\nexport function validateKey(key: string): boolean {\n  return VALID_KEY_REGEX.test(key);\n}\n\n/**\n * Value is opaque string up to 256 characters printable ASCII RFC0020\n * characters (i.e., the range 0x20 to 0x7E) except comma , and =.\n */\nexport function validateValue(value: string): boolean {\n  return (\n    VALID_VALUE_BASE_REGEX.test(value) &&\n    !INVALID_VALUE_COMMA_EQUAL_REGEX.test(value)\n  );\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as api from '@opentelemetry/api';\nimport { validateKey, validateValue } from '../internal/validators';\n\nconst MAX_TRACE_STATE_ITEMS = 32;\nconst MAX_TRACE_STATE_LEN = 512;\nconst LIST_MEMBERS_SEPARATOR = ',';\nconst LIST_MEMBER_KEY_VALUE_SPLITTER = '=';\n\n/**\n * TraceState must be a class and not a simple object type because of the spec\n * requirement (https://www.w3.org/TR/trace-context/#tracestate-field).\n *\n * Here is the list of allowed mutations:\n * - New key-value pair should be added into the beginning of the list\n * - The value of any key can be updated. Modified keys MUST be moved to the\n * beginning of the list.\n */\nexport class TraceState implements api.TraceState {\n  private _internalState: Map<string, string> = new Map();\n\n  constructor(rawTraceState?: string) {\n    if (rawTraceState) this._parse(rawTraceState);\n  }\n\n  set(key: string, value: string): TraceState {\n    // TODO: Benchmark the different approaches(map vs list) and\n    // use the faster one.\n    const traceState = this._clone();\n    if (traceState._internalState.has(key)) {\n      traceState._internalState.delete(key);\n    }\n    traceState._internalState.set(key, value);\n    return traceState;\n  }\n\n  unset(key: string): TraceState {\n    const traceState = this._clone();\n    traceState._internalState.delete(key);\n    return traceState;\n  }\n\n  get(key: string): string | undefined {\n    return this._internalState.get(key);\n  }\n\n  serialize(): string {\n    return this._keys()\n      .reduce((agg: string[], key) => {\n        agg.push(key + LIST_MEMBER_KEY_VALUE_SPLITTER + this.get(key));\n        return agg;\n      }, [])\n      .join(LIST_MEMBERS_SEPARATOR);\n  }\n\n  private _parse(rawTraceState: string) {\n    if (rawTraceState.length > MAX_TRACE_STATE_LEN) return;\n    this._internalState = rawTraceState\n      .split(LIST_MEMBERS_SEPARATOR)\n      .reverse() // Store in reverse so new keys (.set(...)) will be placed at the beginning\n      .reduce((agg: Map<string, string>, part: string) => {\n        const listMember = part.trim(); // Optional Whitespace (OWS) handling\n        const i = listMember.indexOf(LIST_MEMBER_KEY_VALUE_SPLITTER);\n        if (i !== -1) {\n          const key = listMember.slice(0, i);\n          const value = listMember.slice(i + 1, part.length);\n          if (validateKey(key) && validateValue(value)) {\n            agg.set(key, value);\n          } else {\n            // TODO: Consider to add warning log\n          }\n        }\n        return agg;\n      }, new Map());\n\n    // Because of the reverse() requirement, trunc must be done after map is created\n    if (this._internalState.size > MAX_TRACE_STATE_ITEMS) {\n      this._internalState = new Map(\n        Array.from(this._internalState.entries())\n          .reverse() // Use reverse same as original tracestate parse chain\n          .slice(0, MAX_TRACE_STATE_ITEMS)\n      );\n    }\n  }\n\n  private _keys(): string[] {\n    return Array.from(this._internalState.keys()).reverse();\n  }\n\n  private _clone(): TraceState {\n    const traceState = new TraceState();\n    traceState._internalState = new Map(this._internalState);\n    return traceState;\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Context,\n  isSpanContextValid,\n  SpanContext,\n  TextMapGetter,\n  TextMapPropagator,\n  TextMapSetter,\n  trace,\n  TraceFlags,\n} from '@opentelemetry/api';\nimport { isTracingSuppressed } from './suppress-tracing';\nimport { TraceState } from './TraceState';\n\nexport const TRACE_PARENT_HEADER = 'traceparent';\nexport const TRACE_STATE_HEADER = 'tracestate';\n\nconst VERSION = '00';\nconst VERSION_PART = '(?!ff)[\\\\da-f]{2}';\nconst TRACE_ID_PART = '(?![0]{32})[\\\\da-f]{32}';\nconst PARENT_ID_PART = '(?![0]{16})[\\\\da-f]{16}';\nconst FLAGS_PART = '[\\\\da-f]{2}';\nconst TRACE_PARENT_REGEX = new RegExp(\n  `^\\\\s?(${VERSION_PART})-(${TRACE_ID_PART})-(${PARENT_ID_PART})-(${FLAGS_PART})(-.*)?\\\\s?$`\n);\n\n/**\n * Parses information from the [traceparent] span tag and converts it into {@link SpanContext}\n * @param traceParent - A meta property that comes from server.\n *     It should be dynamically generated server side to have the server's request trace Id,\n *     a parent span Id that was set on the server's request span,\n *     and the trace flags to indicate the server's sampling decision\n *     (01 = sampled, 00 = not sampled).\n *     for example: '{version}-{traceId}-{spanId}-{sampleDecision}'\n *     For more information see {@link https://www.w3.org/TR/trace-context/}\n */\nexport function parseTraceParent(traceParent: string): SpanContext | null {\n  const match = TRACE_PARENT_REGEX.exec(traceParent);\n  if (!match) return null;\n\n  // According to the specification the implementation should be compatible\n  // with future versions. If there are more parts, we only reject it if it's using version 00\n  // See https://www.w3.org/TR/trace-context/#versioning-of-traceparent\n  if (match[1] === '00' && match[5]) return null;\n\n  return {\n    traceId: match[2],\n    spanId: match[3],\n    traceFlags: parseInt(match[4], 16),\n  };\n}\n\n/**\n * Propagates {@link SpanContext} through Trace Context format propagation.\n *\n * Based on the Trace Context specification:\n * https://www.w3.org/TR/trace-context/\n */\nexport class W3CTraceContextPropagator implements TextMapPropagator {\n  inject(context: Context, carrier: unknown, setter: TextMapSetter): void {\n    const spanContext = trace.getSpanContext(context);\n    if (\n      !spanContext ||\n      isTracingSuppressed(context) ||\n      !isSpanContextValid(spanContext)\n    )\n      return;\n\n    const traceParent = `${VERSION}-${spanContext.traceId}-${\n      spanContext.spanId\n    }-0${Number(spanContext.traceFlags || TraceFlags.NONE).toString(16)}`;\n\n    setter.set(carrier, TRACE_PARENT_HEADER, traceParent);\n    if (spanContext.traceState) {\n      setter.set(\n        carrier,\n        TRACE_STATE_HEADER,\n        spanContext.traceState.serialize()\n      );\n    }\n  }\n\n  extract(context: Context, carrier: unknown, getter: TextMapGetter): Context {\n    const traceParentHeader = getter.get(carrier, TRACE_PARENT_HEADER);\n    if (!traceParentHeader) return context;\n    const traceParent = Array.isArray(traceParentHeader)\n      ? traceParentHeader[0]\n      : traceParentHeader;\n    if (typeof traceParent !== 'string') return context;\n    const spanContext = parseTraceParent(traceParent);\n    if (!spanContext) return context;\n\n    spanContext.isRemote = true;\n\n    const traceStateHeader = getter.get(carrier, TRACE_STATE_HEADER);\n    if (traceStateHeader) {\n      // If more than one `tracestate` header is found, we merge them into a\n      // single header.\n      const state = Array.isArray(traceStateHeader)\n        ? traceStateHeader.join(',')\n        : traceStateHeader;\n      spanContext.traceState = new TraceState(\n        typeof state === 'string' ? state : undefined\n      );\n    }\n    return trace.setSpanContext(context, spanContext);\n  }\n\n  fields(): string[] {\n    return [TRACE_PARENT_HEADER, TRACE_STATE_HEADER];\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context, createContextKey, Span } from '@opentelemetry/api';\n\nconst RPC_METADATA_KEY = createContextKey(\n  'OpenTelemetry SDK Context Key RPC_METADATA'\n);\n\nexport enum RPCType {\n  HTTP = 'http',\n}\n\ntype HTTPMetadata = {\n  type: RPCType.HTTP;\n  route?: string;\n  span: Span;\n};\n\n/**\n * Allows for future rpc metadata to be used with this mechanism\n */\nexport type RPCMetadata = HTTPMetadata;\n\nexport function setRPCMetadata(context: Context, meta: RPCMetadata): Context {\n  return context.setValue(RPC_METADATA_KEY, meta);\n}\n\nexport function deleteRPCMetadata(context: Context): Context {\n  return context.deleteValue(RPC_METADATA_KEY);\n}\n\nexport function getRPCMetadata(context: Context): RPCMetadata | undefined {\n  return context.getValue(RPC_METADATA_KEY) as RPCMetadata | undefined;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Sampler, SamplingDecision, SamplingResult } from '@opentelemetry/api';\n\n/**\n * @deprecated Use the one defined in @opentelemetry/sdk-trace-base instead.\n * Sampler that samples no traces.\n */\nexport class AlwaysOffSampler implements Sampler {\n  shouldSample(): SamplingResult {\n    return {\n      decision: SamplingDecision.NOT_RECORD,\n    };\n  }\n\n  toString(): string {\n    return 'AlwaysOffSampler';\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Sampler, SamplingDecision, SamplingResult } from '@opentelemetry/api';\n\n/**\n * @deprecated Use the one defined in @opentelemetry/sdk-trace-base instead.\n * Sampler that samples all traces.\n */\nexport class AlwaysOnSampler implements Sampler {\n  shouldSample(): SamplingResult {\n    return {\n      decision: SamplingDecision.RECORD_AND_SAMPLED,\n    };\n  }\n\n  toString(): string {\n    return 'AlwaysOnSampler';\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Context,\n  isSpanContextValid,\n  Link,\n  Sampler,\n  SamplingResult,\n  SpanAttributes,\n  SpanKind,\n  TraceFlags,\n  trace,\n} from '@opentelemetry/api';\nimport { globalErrorHandler } from '../../common/global-error-handler';\nimport { AlwaysOffSampler } from './AlwaysOffSampler';\nimport { AlwaysOnSampler } from './AlwaysOnSampler';\n\n/**\n * @deprecated Use the one defined in @opentelemetry/sdk-trace-base instead.\n * A composite sampler that either respects the parent span's sampling decision\n * or delegates to `delegateSampler` for root spans.\n */\nexport class ParentBasedSampler implements Sampler {\n  private _root: Sampler;\n  private _remoteParentSampled: Sampler;\n  private _remoteParentNotSampled: Sampler;\n  private _localParentSampled: Sampler;\n  private _localParentNotSampled: Sampler;\n\n  constructor(config: ParentBasedSamplerConfig) {\n    this._root = config.root;\n\n    if (!this._root) {\n      globalErrorHandler(\n        new Error('ParentBasedSampler must have a root sampler configured')\n      );\n      this._root = new AlwaysOnSampler();\n    }\n\n    this._remoteParentSampled =\n      config.remoteParentSampled ?? new AlwaysOnSampler();\n    this._remoteParentNotSampled =\n      config.remoteParentNotSampled ?? new AlwaysOffSampler();\n    this._localParentSampled =\n      config.localParentSampled ?? new AlwaysOnSampler();\n    this._localParentNotSampled =\n      config.localParentNotSampled ?? new AlwaysOffSampler();\n  }\n\n  shouldSample(\n    context: Context,\n    traceId: string,\n    spanName: string,\n    spanKind: SpanKind,\n    attributes: SpanAttributes,\n    links: Link[]\n  ): SamplingResult {\n    const parentContext = trace.getSpanContext(context);\n\n    if (!parentContext || !isSpanContextValid(parentContext)) {\n      return this._root.shouldSample(\n        context,\n        traceId,\n        spanName,\n        spanKind,\n        attributes,\n        links\n      );\n    }\n\n    if (parentContext.isRemote) {\n      if (parentContext.traceFlags & TraceFlags.SAMPLED) {\n        return this._remoteParentSampled.shouldSample(\n          context,\n          traceId,\n          spanName,\n          spanKind,\n          attributes,\n          links\n        );\n      }\n      return this._remoteParentNotSampled.shouldSample(\n        context,\n        traceId,\n        spanName,\n        spanKind,\n        attributes,\n        links\n      );\n    }\n\n    if (parentContext.traceFlags & TraceFlags.SAMPLED) {\n      return this._localParentSampled.shouldSample(\n        context,\n        traceId,\n        spanName,\n        spanKind,\n        attributes,\n        links\n      );\n    }\n\n    return this._localParentNotSampled.shouldSample(\n      context,\n      traceId,\n      spanName,\n      spanKind,\n      attributes,\n      links\n    );\n  }\n\n  toString(): string {\n    return `ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`;\n  }\n}\n\ninterface ParentBasedSamplerConfig {\n  /** Sampler called for spans with no parent */\n  root: Sampler;\n  /** Sampler called for spans with a remote parent which was sampled. Default AlwaysOn */\n  remoteParentSampled?: Sampler;\n  /** Sampler called for spans with a remote parent which was not sampled. Default AlwaysOff */\n  remoteParentNotSampled?: Sampler;\n  /** Sampler called for spans with a local parent which was sampled. Default AlwaysOn */\n  localParentSampled?: Sampler;\n  /** Sampler called for spans with a local parent which was not sampled. Default AlwaysOff */\n  localParentNotSampled?: Sampler;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Sampler,\n  SamplingDecision,\n  SamplingResult,\n  isValidTraceId,\n} from '@opentelemetry/api';\n\n/**\n * @deprecated Use the one defined in @opentelemetry/sdk-trace-base instead.\n * Sampler that samples a given fraction of traces based of trace id deterministically.\n */\nexport class TraceIdRatioBasedSampler implements Sampler {\n  private _upperBound: number;\n\n  constructor(private readonly _ratio: number = 0) {\n    this._ratio = this._normalize(_ratio);\n    this._upperBound = Math.floor(this._ratio * 0xffffffff);\n  }\n\n  shouldSample(context: unknown, traceId: string): SamplingResult {\n    return {\n      decision:\n        isValidTraceId(traceId) && this._accumulate(traceId) < this._upperBound\n          ? SamplingDecision.RECORD_AND_SAMPLED\n          : SamplingDecision.NOT_RECORD,\n    };\n  }\n\n  toString(): string {\n    return `TraceIdRatioBased{${this._ratio}}`;\n  }\n\n  private _normalize(ratio: number): number {\n    if (typeof ratio !== 'number' || isNaN(ratio)) return 0;\n    return ratio >= 1 ? 1 : ratio <= 0 ? 0 : ratio;\n  }\n\n  private _accumulate(traceId: string): number {\n    let accumulation = 0;\n    for (let i = 0; i < traceId.length / 8; i++) {\n      const pos = i * 8;\n      const part = parseInt(traceId.slice(pos, pos + 8), 16);\n      accumulation = (accumulation ^ part) >>> 0;\n    }\n    return accumulation;\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n/**\n * based on lodash in order to support esm builds without esModuleInterop.\n * lodash is using MIT License.\n **/\n\nconst objectTag = '[object Object]';\nconst nullTag = '[object Null]';\nconst undefinedTag = '[object Undefined]';\nconst funcProto = Function.prototype;\nconst funcToString = funcProto.toString;\nconst objectCtorString = funcToString.call(Object);\nconst getPrototype = overArg(Object.getPrototypeOf, Object);\nconst objectProto = Object.prototype;\nconst hasOwnProperty = objectProto.hasOwnProperty;\nconst symToStringTag = Symbol ? Symbol.toStringTag : undefined;\nconst nativeObjectToString = objectProto.toString;\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func: Function, transform: any): any {\n  return function (arg: any) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nexport function isPlainObject(value: any) {\n  if (!isObjectLike(value) || baseGetTag(value) !== objectTag) {\n    return false;\n  }\n  const proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  const Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return (\n    typeof Ctor == 'function' &&\n    Ctor instanceof Ctor &&\n    funcToString.call(Ctor) === objectCtorString\n  );\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value: any) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value: any) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return symToStringTag && symToStringTag in Object(value)\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value: any) {\n  const isOwn = hasOwnProperty.call(value, symToStringTag as any),\n    tag = value[symToStringTag as any];\n  let unmasked = false;\n\n  try {\n    value[symToStringTag as any] = undefined;\n    unmasked = true;\n  } catch (e) {\n    // silence\n  }\n\n  const result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag as any] = tag;\n    } else {\n      delete value[symToStringTag as any];\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value: any) {\n  return nativeObjectToString.call(value);\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { isPlainObject } from './lodash.merge';\n\nconst MAX_LEVEL = 20;\n\ninterface ObjectInto {\n  obj: any;\n  key: string;\n}\n\n/**\n * Merges objects together\n * @param args - objects / values to be merged\n */\nexport function merge(...args: any[]): any {\n  let result: any = args.shift();\n  const objects: WeakMap<any, ObjectInto[]> | undefined = new WeakMap<\n    any,\n    ObjectInto[]\n  >();\n  while (args.length > 0) {\n    result = mergeTwoObjects(result, args.shift(), 0, objects);\n  }\n\n  return result;\n}\n\nfunction takeValue(value: any): any {\n  if (isArray(value)) {\n    return value.slice();\n  }\n  return value;\n}\n\n/**\n * Merges two objects\n * @param one - first object\n * @param two - second object\n * @param level - current deep level\n * @param objects - objects holder that has been already referenced - to prevent\n * cyclic dependency\n */\nfunction mergeTwoObjects(\n  one: any,\n  two: any,\n  level = 0,\n  objects: WeakMap<any, ObjectInto[]>\n): any {\n  let result: any;\n  if (level > MAX_LEVEL) {\n    return undefined;\n  }\n  level++;\n  if (isPrimitive(one) || isPrimitive(two) || isFunction(two)) {\n    result = takeValue(two);\n  } else if (isArray(one)) {\n    result = one.slice();\n    if (isArray(two)) {\n      for (let i = 0, j = two.length; i < j; i++) {\n        result.push(takeValue(two[i]));\n      }\n    } else if (isObject(two)) {\n      const keys = Object.keys(two);\n      for (let i = 0, j = keys.length; i < j; i++) {\n        const key = keys[i];\n        result[key] = takeValue(two[key]);\n      }\n    }\n  } else if (isObject(one)) {\n    if (isObject(two)) {\n      if (!shouldMerge(one, two)) {\n        return two;\n      }\n      result = Object.assign({}, one);\n      const keys = Object.keys(two);\n\n      for (let i = 0, j = keys.length; i < j; i++) {\n        const key = keys[i];\n        const twoValue = two[key];\n\n        if (isPrimitive(twoValue)) {\n          if (typeof twoValue === 'undefined') {\n            delete result[key];\n          } else {\n            // result[key] = takeValue(twoValue);\n            result[key] = twoValue;\n          }\n        } else {\n          const obj1 = result[key];\n          const obj2 = twoValue;\n\n          if (\n            wasObjectReferenced(one, key, objects) ||\n            wasObjectReferenced(two, key, objects)\n          ) {\n            delete result[key];\n          } else {\n            if (isObject(obj1) && isObject(obj2)) {\n              const arr1 = objects.get(obj1) || [];\n              const arr2 = objects.get(obj2) || [];\n              arr1.push({ obj: one, key });\n              arr2.push({ obj: two, key });\n              objects.set(obj1, arr1);\n              objects.set(obj2, arr2);\n            }\n\n            result[key] = mergeTwoObjects(\n              result[key],\n              twoValue,\n              level,\n              objects\n            );\n          }\n        }\n      }\n    } else {\n      result = two;\n    }\n  }\n\n  return result;\n}\n\n/**\n * Function to check if object has been already reference\n * @param obj\n * @param key\n * @param objects\n */\nfunction wasObjectReferenced(\n  obj: any,\n  key: string,\n  objects: WeakMap<any, ObjectInto[]>\n): boolean {\n  const arr = objects.get(obj[key]) || [];\n  for (let i = 0, j = arr.length; i < j; i++) {\n    const info = arr[i];\n    if (info.key === key && info.obj === obj) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction isArray(value: any): boolean {\n  return Array.isArray(value);\n}\n\nfunction isFunction(value: any): boolean {\n  return typeof value === 'function';\n}\n\nfunction isObject(value: any): boolean {\n  return (\n    !isPrimitive(value) &&\n    !isArray(value) &&\n    !isFunction(value) &&\n    typeof value === 'object'\n  );\n}\n\nfunction isPrimitive(value: any): boolean {\n  return (\n    typeof value === 'string' ||\n    typeof value === 'number' ||\n    typeof value === 'boolean' ||\n    typeof value === 'undefined' ||\n    value instanceof Date ||\n    value instanceof RegExp ||\n    value === null\n  );\n}\n\nfunction shouldMerge(one: any, two: any): boolean {\n  if (!isPlainObject(one) || !isPlainObject(two)) {\n    return false;\n  }\n\n  return true;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Error that is thrown on timeouts.\n */\nexport class TimeoutError extends Error {\n  constructor(message?: string) {\n    super(message);\n\n    // manually adjust prototype to retain `instanceof` functionality when targeting ES5, see:\n    // https://github.com/Microsoft/TypeScript-wiki/blob/main/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    Object.setPrototypeOf(this, TimeoutError.prototype);\n  }\n}\n\n/**\n * Adds a timeout to a promise and rejects if the specified timeout has elapsed. Also rejects if the specified promise\n * rejects, and resolves if the specified promise resolves.\n *\n * <p> NOTE: this operation will continue even after it throws a {@link TimeoutError}.\n *\n * @param promise promise to use with timeout.\n * @param timeout the timeout in milliseconds until the returned promise is rejected.\n */\nexport function callWithTimeout<T>(\n  promise: Promise<T>,\n  timeout: number\n): Promise<T> {\n  let timeoutHandle: ReturnType<typeof setTimeout>;\n\n  const timeoutPromise = new Promise<never>(function timeoutFunction(\n    _resolve,\n    reject\n  ) {\n    timeoutHandle = setTimeout(function timeoutHandler() {\n      reject(new TimeoutError('Operation timed out.'));\n    }, timeout);\n  });\n\n  return Promise.race([promise, timeoutPromise]).then(\n    result => {\n      clearTimeout(timeoutHandle);\n      return result;\n    },\n    reason => {\n      clearTimeout(timeoutHandle);\n      throw reason;\n    }\n  );\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport function urlMatches(url: string, urlToMatch: string | RegExp): boolean {\n  if (typeof urlToMatch === 'string') {\n    return url === urlToMatch;\n  } else {\n    return !!url.match(urlToMatch);\n  }\n}\n/**\n * Check if {@param url} should be ignored when comparing against {@param ignoredUrls}\n * @param url\n * @param ignoredUrls\n */\nexport function isUrlIgnored(\n  url: string,\n  ignoredUrls?: Array<string | RegExp>\n): boolean {\n  if (!ignoredUrls) {\n    return false;\n  }\n\n  for (const ignoreUrl of ignoredUrls) {\n    if (urlMatches(url, ignoreUrl)) {\n      return true;\n    }\n  }\n  return false;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ShimWrapped } from '../common/types';\n\n/**\n * Checks if certain function has been already wrapped\n * @param func\n */\nexport function isWrapped(func: unknown): func is ShimWrapped {\n  return (\n    typeof func === 'function' &&\n    typeof (func as ShimWrapped).__original === 'function' &&\n    typeof (func as ShimWrapped).__unwrap === 'function' &&\n    (func as ShimWrapped).__wrapped === true\n  );\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport class Deferred<T> {\n  private _promise: Promise<T>;\n  private _resolve!: (val: T) => void;\n  private _reject!: (error: unknown) => void;\n  constructor() {\n    this._promise = new Promise((resolve, reject) => {\n      this._resolve = resolve;\n      this._reject = reject;\n    });\n  }\n\n  get promise() {\n    return this._promise;\n  }\n\n  resolve(val: T) {\n    this._resolve(val);\n  }\n\n  reject(err: unknown) {\n    this._reject(err);\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Deferred } from './promise';\n\n/**\n * Bind the callback and only invoke the callback once regardless how many times `BindOnceFuture.call` is invoked.\n */\nexport class BindOnceFuture<\n  R,\n  This = unknown,\n  T extends (this: This, ...args: unknown[]) => R = () => R\n> {\n  private _isCalled = false;\n  private _deferred = new Deferred<R>();\n  constructor(private _callback: T, private _that: This) {}\n\n  get isCalled() {\n    return this._isCalled;\n  }\n\n  get promise() {\n    return this._deferred.promise;\n  }\n\n  call(...args: Parameters<T>): Promise<R> {\n    if (!this._isCalled) {\n      this._isCalled = true;\n      try {\n        Promise.resolve(this._callback.call(this._that, ...args)).then(\n          val => this._deferred.resolve(val),\n          err => this._deferred.reject(err)\n        );\n      } catch (err) {\n        this._deferred.reject(err);\n      }\n    }\n    return this._deferred.promise;\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { context } from '@opentelemetry/api';\nimport { ExportResult } from '../ExportResult';\nimport { suppressTracing } from '../trace/suppress-tracing';\n\nexport interface Exporter<T> {\n  export(arg: T, resultCallback: (result: ExportResult) => void): void;\n}\n\n/**\n * @internal\n * Shared functionality used by Exporters while exporting data, including suppresion of Traces.\n */\nexport function _export<T>(\n  exporter: Exporter<T>,\n  arg: T\n): Promise<ExportResult> {\n  return new Promise(resolve => {\n    // prevent downstream exporter calls from generating spans\n    context.with(suppressTracing(context.active()), () => {\n      exporter.export(arg, (result: ExportResult) => {\n        resolve(result);\n      });\n    });\n  });\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './baggage/propagation/W3CBaggagePropagator';\nexport * from './common/anchored-clock';\nexport * from './common/attributes';\nexport * from './common/global-error-handler';\nexport * from './common/logging-error-handler';\nexport * from './common/time';\nexport * from './common/types';\nexport * from './ExportResult';\nexport * from './version';\nexport * as baggageUtils from './baggage/utils';\nexport * from './platform';\nexport * from './propagation/composite';\nexport * from './trace/W3CTraceContextPropagator';\nexport * from './trace/IdGenerator';\nexport * from './trace/rpc-metadata';\nexport * from './trace/sampler/AlwaysOffSampler';\nexport * from './trace/sampler/AlwaysOnSampler';\nexport * from './trace/sampler/ParentBasedSampler';\nexport * from './trace/sampler/TraceIdRatioBasedSampler';\nexport * from './trace/suppress-tracing';\nexport * from './trace/TraceState';\nexport * from './utils/environment';\nexport * from './utils/merge';\nexport * from './utils/sampling';\nexport * from './utils/timeout';\nexport * from './utils/url';\nexport * from './utils/wrap';\nexport * from './utils/callback';\nexport * from './version';\nimport { _export } from './internal/exporter';\nexport const internal = {\n  _export,\n};\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Event name definitions\nexport const ExceptionEventName = 'exception';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Context,\n  diag,\n  Exception,\n  HrTime,\n  Link,\n  Span as APISpan,\n  SpanAttributes,\n  SpanAttributeValue,\n  SpanContext,\n  SpanKind,\n  SpanStatus,\n  SpanStatusCode,\n  TimeInput,\n} from '@opentelemetry/api';\nimport {\n  addHrTimes,\n  millisToHrTime,\n  getTimeOrigin,\n  hrTime,\n  hrTimeDuration,\n  InstrumentationLibrary,\n  isAttributeValue,\n  isTimeInput,\n  isTimeInputHrTime,\n  otperformance,\n  sanitizeAttributes,\n} from '@opentelemetry/core';\nimport { IResource } from '@opentelemetry/resources';\nimport { SemanticAttributes } from '@opentelemetry/semantic-conventions';\nimport { ExceptionEventName } from './enums';\nimport { ReadableSpan } from './export/ReadableSpan';\nimport { SpanProcessor } from './SpanProcessor';\nimport { TimedEvent } from './TimedEvent';\nimport { Tracer } from './Tracer';\nimport { SpanLimits } from './types';\n\n/**\n * This class represents a span.\n */\nexport class Span implements APISpan, ReadableSpan {\n  // Below properties are included to implement ReadableSpan for export\n  // purposes but are not intended to be written-to directly.\n  private readonly _spanContext: SpanContext;\n  readonly kind: SpanKind;\n  readonly parentSpanId?: string;\n  readonly attributes: SpanAttributes = {};\n  readonly links: Link[] = [];\n  readonly events: TimedEvent[] = [];\n  readonly startTime: HrTime;\n  readonly resource: IResource;\n  readonly instrumentationLibrary: InstrumentationLibrary;\n\n  private _droppedAttributesCount = 0;\n  private _droppedEventsCount: number = 0;\n  private _droppedLinksCount: number = 0;\n\n  name: string;\n  status: SpanStatus = {\n    code: SpanStatusCode.UNSET,\n  };\n  endTime: HrTime = [0, 0];\n  private _ended = false;\n  private _duration: HrTime = [-1, -1];\n  private readonly _spanProcessor: SpanProcessor;\n  private readonly _spanLimits: SpanLimits;\n  private readonly _attributeValueLengthLimit: number;\n\n  private readonly _performanceStartTime: number;\n  private readonly _performanceOffset: number;\n  private readonly _startTimeProvided: boolean;\n\n  /**\n   * Constructs a new Span instance.\n   *\n   * @deprecated calling Span constructor directly is not supported. Please use tracer.startSpan.\n   * */\n  constructor(\n    parentTracer: Tracer,\n    context: Context,\n    spanName: string,\n    spanContext: SpanContext,\n    kind: SpanKind,\n    parentSpanId?: string,\n    links: Link[] = [],\n    startTime?: TimeInput,\n    _deprecatedClock?: unknown // keeping this argument even though it is unused to ensure backwards compatibility\n  ) {\n    this.name = spanName;\n    this._spanContext = spanContext;\n    this.parentSpanId = parentSpanId;\n    this.kind = kind;\n    this.links = links;\n\n    const now = Date.now();\n    this._performanceStartTime = otperformance.now();\n    this._performanceOffset =\n      now - (this._performanceStartTime + getTimeOrigin());\n    this._startTimeProvided = startTime != null;\n\n    this.startTime = this._getTime(startTime ?? now);\n\n    this.resource = parentTracer.resource;\n    this.instrumentationLibrary = parentTracer.instrumentationLibrary;\n    this._spanLimits = parentTracer.getSpanLimits();\n    this._spanProcessor = parentTracer.getActiveSpanProcessor();\n    this._spanProcessor.onStart(this, context);\n    this._attributeValueLengthLimit =\n      this._spanLimits.attributeValueLengthLimit || 0;\n  }\n\n  spanContext(): SpanContext {\n    return this._spanContext;\n  }\n\n  setAttribute(key: string, value?: SpanAttributeValue): this;\n  setAttribute(key: string, value: unknown): this {\n    if (value == null || this._isSpanEnded()) return this;\n    if (key.length === 0) {\n      diag.warn(`Invalid attribute key: ${key}`);\n      return this;\n    }\n    if (!isAttributeValue(value)) {\n      diag.warn(`Invalid attribute value set for key: ${key}`);\n      return this;\n    }\n\n    if (\n      Object.keys(this.attributes).length >=\n        this._spanLimits.attributeCountLimit! &&\n      !Object.prototype.hasOwnProperty.call(this.attributes, key)\n    ) {\n      this._droppedAttributesCount++;\n      return this;\n    }\n    this.attributes[key] = this._truncateToSize(value);\n    return this;\n  }\n\n  setAttributes(attributes: SpanAttributes): this {\n    for (const [k, v] of Object.entries(attributes)) {\n      this.setAttribute(k, v);\n    }\n    return this;\n  }\n\n  /**\n   *\n   * @param name Span Name\n   * @param [attributesOrStartTime] Span attributes or start time\n   *     if type is {@type TimeInput} and 3rd param is undefined\n   * @param [timeStamp] Specified time stamp for the event\n   */\n  addEvent(\n    name: string,\n    attributesOrStartTime?: SpanAttributes | TimeInput,\n    timeStamp?: TimeInput\n  ): this {\n    if (this._isSpanEnded()) return this;\n    if (this._spanLimits.eventCountLimit === 0) {\n      diag.warn('No events allowed.');\n      this._droppedEventsCount++;\n      return this;\n    }\n    if (this.events.length >= this._spanLimits.eventCountLimit!) {\n      diag.warn('Dropping extra events.');\n      this.events.shift();\n      this._droppedEventsCount++;\n    }\n\n    if (isTimeInput(attributesOrStartTime)) {\n      if (!isTimeInput(timeStamp)) {\n        timeStamp = attributesOrStartTime;\n      }\n      attributesOrStartTime = undefined;\n    }\n\n    const attributes = sanitizeAttributes(attributesOrStartTime);\n\n    this.events.push({\n      name,\n      attributes,\n      time: this._getTime(timeStamp),\n      droppedAttributesCount: 0,\n    });\n    return this;\n  }\n\n  setStatus(status: SpanStatus): this {\n    if (this._isSpanEnded()) return this;\n    this.status = status;\n    return this;\n  }\n\n  updateName(name: string): this {\n    if (this._isSpanEnded()) return this;\n    this.name = name;\n    return this;\n  }\n\n  end(endTime?: TimeInput): void {\n    if (this._isSpanEnded()) {\n      diag.error(\n        `${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`\n      );\n      return;\n    }\n    this._ended = true;\n\n    this.endTime = this._getTime(endTime);\n    this._duration = hrTimeDuration(this.startTime, this.endTime);\n\n    if (this._duration[0] < 0) {\n      diag.warn(\n        'Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.',\n        this.startTime,\n        this.endTime\n      );\n      this.endTime = this.startTime.slice() as HrTime;\n      this._duration = [0, 0];\n    }\n\n    this._spanProcessor.onEnd(this);\n  }\n\n  private _getTime(inp?: TimeInput): HrTime {\n    if (typeof inp === 'number' && inp < otperformance.now()) {\n      // must be a performance timestamp\n      // apply correction and convert to hrtime\n      return hrTime(inp + this._performanceOffset);\n    }\n\n    if (typeof inp === 'number') {\n      return millisToHrTime(inp);\n    }\n\n    if (inp instanceof Date) {\n      return millisToHrTime(inp.getTime());\n    }\n\n    if (isTimeInputHrTime(inp)) {\n      return inp;\n    }\n\n    if (this._startTimeProvided) {\n      // if user provided a time for the start manually\n      // we can't use duration to calculate event/end times\n      return millisToHrTime(Date.now());\n    }\n\n    const msDuration = otperformance.now() - this._performanceStartTime;\n    return addHrTimes(this.startTime, millisToHrTime(msDuration));\n  }\n\n  isRecording(): boolean {\n    return this._ended === false;\n  }\n\n  recordException(exception: Exception, time?: TimeInput): void {\n    const attributes: SpanAttributes = {};\n    if (typeof exception === 'string') {\n      attributes[SemanticAttributes.EXCEPTION_MESSAGE] = exception;\n    } else if (exception) {\n      if (exception.code) {\n        attributes[SemanticAttributes.EXCEPTION_TYPE] =\n          exception.code.toString();\n      } else if (exception.name) {\n        attributes[SemanticAttributes.EXCEPTION_TYPE] = exception.name;\n      }\n      if (exception.message) {\n        attributes[SemanticAttributes.EXCEPTION_MESSAGE] = exception.message;\n      }\n      if (exception.stack) {\n        attributes[SemanticAttributes.EXCEPTION_STACKTRACE] = exception.stack;\n      }\n    }\n\n    // these are minimum requirements from spec\n    if (\n      attributes[SemanticAttributes.EXCEPTION_TYPE] ||\n      attributes[SemanticAttributes.EXCEPTION_MESSAGE]\n    ) {\n      this.addEvent(ExceptionEventName, attributes, time);\n    } else {\n      diag.warn(`Failed to record an exception ${exception}`);\n    }\n  }\n\n  get duration(): HrTime {\n    return this._duration;\n  }\n\n  get ended(): boolean {\n    return this._ended;\n  }\n\n  get droppedAttributesCount(): number {\n    return this._droppedAttributesCount;\n  }\n\n  get droppedEventsCount(): number {\n    return this._droppedEventsCount;\n  }\n\n  get droppedLinksCount(): number {\n    return this._droppedLinksCount;\n  }\n\n  private _isSpanEnded(): boolean {\n    if (this._ended) {\n      diag.warn(\n        `Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`\n      );\n    }\n    return this._ended;\n  }\n\n  // Utility function to truncate given value within size\n  // for value type of string, will truncate to given limit\n  // for type of non-string, will return same value\n  private _truncateToLimitUtil(value: string, limit: number): string {\n    if (value.length <= limit) {\n      return value;\n    }\n    return value.substr(0, limit);\n  }\n\n  /**\n   * If the given attribute value is of type string and has more characters than given {@code attributeValueLengthLimit} then\n   * return string with trucated to {@code attributeValueLengthLimit} characters\n   *\n   * If the given attribute value is array of strings then\n   * return new array of strings with each element truncated to {@code attributeValueLengthLimit} characters\n   *\n   * Otherwise return same Attribute {@code value}\n   *\n   * @param value Attribute value\n   * @returns truncated attribute value if required, otherwise same value\n   */\n  private _truncateToSize(value: SpanAttributeValue): SpanAttributeValue {\n    const limit = this._attributeValueLengthLimit;\n    // Check limit\n    if (limit <= 0) {\n      // Negative values are invalid, so do not truncate\n      diag.warn(`Attribute value limit must be positive, got ${limit}`);\n      return value;\n    }\n\n    // String\n    if (typeof value === 'string') {\n      return this._truncateToLimitUtil(value, limit);\n    }\n\n    // Array of strings\n    if (Array.isArray(value)) {\n      return (value as []).map(val =>\n        typeof val === 'string' ? this._truncateToLimitUtil(val, limit) : val\n      );\n    }\n\n    // Other types, no need to apply value length limit\n    return value;\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Context,\n  Link,\n  SpanAttributes,\n  SpanKind,\n  TraceState,\n} from '@opentelemetry/api';\n\n/**\n * A sampling decision that determines how a {@link Span} will be recorded\n * and collected.\n */\nexport enum SamplingDecision {\n  /**\n   * `Span.isRecording() === false`, span will not be recorded and all events\n   * and attributes will be dropped.\n   */\n  NOT_RECORD,\n  /**\n   * `Span.isRecording() === true`, but `Sampled` flag in {@link TraceFlags}\n   * MUST NOT be set.\n   */\n  RECORD,\n  /**\n   * `Span.isRecording() === true` AND `Sampled` flag in {@link TraceFlags}\n   * MUST be set.\n   */\n  RECORD_AND_SAMPLED,\n}\n\n/**\n * A sampling result contains a decision for a {@link Span} and additional\n * attributes the sampler would like to added to the Span.\n */\nexport interface SamplingResult {\n  /**\n   * A sampling decision, refer to {@link SamplingDecision} for details.\n   */\n  decision: SamplingDecision;\n  /**\n   * The list of attributes returned by SamplingResult MUST be immutable.\n   * Caller may call {@link Sampler}.shouldSample any number of times and\n   * can safely cache the returned value.\n   */\n  attributes?: Readonly<SpanAttributes>;\n  /**\n   * A {@link TraceState} that will be associated with the {@link Span} through\n   * the new {@link SpanContext}. Samplers SHOULD return the TraceState from\n   * the passed-in {@link Context} if they do not intend to change it. Leaving\n   * the value undefined will also leave the TraceState unchanged.\n   */\n  traceState?: TraceState;\n}\n\n/**\n * This interface represent a sampler. Sampling is a mechanism to control the\n * noise and overhead introduced by OpenTelemetry by reducing the number of\n * samples of traces collected and sent to the backend.\n */\nexport interface Sampler {\n  /**\n   * Checks whether span needs to be created and tracked.\n   *\n   * @param context Parent Context which may contain a span.\n   * @param traceId of the span to be created. It can be different from the\n   *     traceId in the {@link SpanContext}. Typically in situations when the\n   *     span to be created starts a new trace.\n   * @param spanName of the span to be created.\n   * @param spanKind of the span to be created.\n   * @param attributes Initial set of SpanAttributes for the Span being constructed.\n   * @param links Collection of links that will be associated with the Span to\n   *     be created. Typically useful for batch operations.\n   * @returns a {@link SamplingResult}.\n   */\n  shouldSample(\n    context: Context,\n    traceId: string,\n    spanName: string,\n    spanKind: SpanKind,\n    attributes: SpanAttributes,\n    links: Link[]\n  ): SamplingResult;\n\n  /** Returns the sampler name or short description with the configuration. */\n  toString(): string;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Sampler, SamplingDecision, SamplingResult } from '../Sampler';\n\n/** Sampler that samples no traces. */\nexport class AlwaysOffSampler implements Sampler {\n  shouldSample(): SamplingResult {\n    return {\n      decision: SamplingDecision.NOT_RECORD,\n    };\n  }\n\n  toString(): string {\n    return 'AlwaysOffSampler';\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Sampler, SamplingDecision, SamplingResult } from '../Sampler';\n\n/** Sampler that samples all traces. */\nexport class AlwaysOnSampler implements Sampler {\n  shouldSample(): SamplingResult {\n    return {\n      decision: SamplingDecision.RECORD_AND_SAMPLED,\n    };\n  }\n\n  toString(): string {\n    return 'AlwaysOnSampler';\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Context,\n  isSpanContextValid,\n  Link,\n  SpanAttributes,\n  SpanKind,\n  TraceFlags,\n  trace,\n} from '@opentelemetry/api';\nimport { globalErrorHandler } from '@opentelemetry/core';\nimport { AlwaysOffSampler } from './AlwaysOffSampler';\nimport { AlwaysOnSampler } from './AlwaysOnSampler';\nimport { Sampler, SamplingResult } from '../Sampler';\n\n/**\n * A composite sampler that either respects the parent span's sampling decision\n * or delegates to `delegateSampler` for root spans.\n */\nexport class ParentBasedSampler implements Sampler {\n  private _root: Sampler;\n  private _remoteParentSampled: Sampler;\n  private _remoteParentNotSampled: Sampler;\n  private _localParentSampled: Sampler;\n  private _localParentNotSampled: Sampler;\n\n  constructor(config: ParentBasedSamplerConfig) {\n    this._root = config.root;\n\n    if (!this._root) {\n      globalErrorHandler(\n        new Error('ParentBasedSampler must have a root sampler configured')\n      );\n      this._root = new AlwaysOnSampler();\n    }\n\n    this._remoteParentSampled =\n      config.remoteParentSampled ?? new AlwaysOnSampler();\n    this._remoteParentNotSampled =\n      config.remoteParentNotSampled ?? new AlwaysOffSampler();\n    this._localParentSampled =\n      config.localParentSampled ?? new AlwaysOnSampler();\n    this._localParentNotSampled =\n      config.localParentNotSampled ?? new AlwaysOffSampler();\n  }\n\n  shouldSample(\n    context: Context,\n    traceId: string,\n    spanName: string,\n    spanKind: SpanKind,\n    attributes: SpanAttributes,\n    links: Link[]\n  ): SamplingResult {\n    const parentContext = trace.getSpanContext(context);\n\n    if (!parentContext || !isSpanContextValid(parentContext)) {\n      return this._root.shouldSample(\n        context,\n        traceId,\n        spanName,\n        spanKind,\n        attributes,\n        links\n      );\n    }\n\n    if (parentContext.isRemote) {\n      if (parentContext.traceFlags & TraceFlags.SAMPLED) {\n        return this._remoteParentSampled.shouldSample(\n          context,\n          traceId,\n          spanName,\n          spanKind,\n          attributes,\n          links\n        );\n      }\n      return this._remoteParentNotSampled.shouldSample(\n        context,\n        traceId,\n        spanName,\n        spanKind,\n        attributes,\n        links\n      );\n    }\n\n    if (parentContext.traceFlags & TraceFlags.SAMPLED) {\n      return this._localParentSampled.shouldSample(\n        context,\n        traceId,\n        spanName,\n        spanKind,\n        attributes,\n        links\n      );\n    }\n\n    return this._localParentNotSampled.shouldSample(\n      context,\n      traceId,\n      spanName,\n      spanKind,\n      attributes,\n      links\n    );\n  }\n\n  toString(): string {\n    return `ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`;\n  }\n}\n\ninterface ParentBasedSamplerConfig {\n  /** Sampler called for spans with no parent */\n  root: Sampler;\n  /** Sampler called for spans with a remote parent which was sampled. Default AlwaysOn */\n  remoteParentSampled?: Sampler;\n  /** Sampler called for spans with a remote parent which was not sampled. Default AlwaysOff */\n  remoteParentNotSampled?: Sampler;\n  /** Sampler called for spans with a local parent which was sampled. Default AlwaysOn */\n  localParentSampled?: Sampler;\n  /** Sampler called for spans with a local parent which was not sampled. Default AlwaysOff */\n  localParentNotSampled?: Sampler;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isValidTraceId } from '@opentelemetry/api';\nimport { Sampler, SamplingDecision, SamplingResult } from '../Sampler';\n\n/** Sampler that samples a given fraction of traces based of trace id deterministically. */\nexport class TraceIdRatioBasedSampler implements Sampler {\n  private _upperBound: number;\n\n  constructor(private readonly _ratio: number = 0) {\n    this._ratio = this._normalize(_ratio);\n    this._upperBound = Math.floor(this._ratio * 0xffffffff);\n  }\n\n  shouldSample(context: unknown, traceId: string): SamplingResult {\n    return {\n      decision:\n        isValidTraceId(traceId) && this._accumulate(traceId) < this._upperBound\n          ? SamplingDecision.RECORD_AND_SAMPLED\n          : SamplingDecision.NOT_RECORD,\n    };\n  }\n\n  toString(): string {\n    return `TraceIdRatioBased{${this._ratio}}`;\n  }\n\n  private _normalize(ratio: number): number {\n    if (typeof ratio !== 'number' || isNaN(ratio)) return 0;\n    return ratio >= 1 ? 1 : ratio <= 0 ? 0 : ratio;\n  }\n\n  private _accumulate(traceId: string): number {\n    let accumulation = 0;\n    for (let i = 0; i < traceId.length / 8; i++) {\n      const pos = i * 8;\n      const part = parseInt(traceId.slice(pos, pos + 8), 16);\n      accumulation = (accumulation ^ part) >>> 0;\n    }\n    return accumulation;\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { diag } from '@opentelemetry/api';\nimport { getEnv, TracesSamplerValues, ENVIRONMENT } from '@opentelemetry/core';\nimport { Sampler } from './Sampler';\nimport { AlwaysOffSampler } from './sampler/AlwaysOffSampler';\nimport { AlwaysOnSampler } from './sampler/AlwaysOnSampler';\nimport { ParentBasedSampler } from './sampler/ParentBasedSampler';\nimport { TraceIdRatioBasedSampler } from './sampler/TraceIdRatioBasedSampler';\n\nconst env = getEnv();\nconst FALLBACK_OTEL_TRACES_SAMPLER = TracesSamplerValues.AlwaysOn;\nconst DEFAULT_RATIO = 1;\n\n/**\n * Load default configuration. For fields with primitive values, any user-provided\n * value will override the corresponding default value. For fields with\n * non-primitive values (like `spanLimits`), the user-provided value will be\n * used to extend the default value.\n */\n\n// object needs to be wrapped in this function and called when needed otherwise\n// envs are parsed before tests are ran - causes tests using these envs to fail\nexport function loadDefaultConfig() {\n  return {\n    sampler: buildSamplerFromEnv(env),\n    forceFlushTimeoutMillis: 30000,\n    generalLimits: {\n      attributeValueLengthLimit: getEnv().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,\n      attributeCountLimit: getEnv().OTEL_ATTRIBUTE_COUNT_LIMIT,\n    },\n    spanLimits: {\n      attributeValueLengthLimit:\n        getEnv().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,\n      attributeCountLimit: getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,\n      linkCountLimit: getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,\n      eventCountLimit: getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT,\n      attributePerEventCountLimit:\n        getEnv().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,\n      attributePerLinkCountLimit:\n        getEnv().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,\n    },\n  };\n}\n\n/**\n * Based on environment, builds a sampler, complies with specification.\n * @param environment optional, by default uses getEnv(), but allows passing a value to reuse parsed environment\n */\nexport function buildSamplerFromEnv(\n  environment: Required<ENVIRONMENT> = getEnv()\n): Sampler {\n  switch (environment.OTEL_TRACES_SAMPLER) {\n    case TracesSamplerValues.AlwaysOn:\n      return new AlwaysOnSampler();\n    case TracesSamplerValues.AlwaysOff:\n      return new AlwaysOffSampler();\n    case TracesSamplerValues.ParentBasedAlwaysOn:\n      return new ParentBasedSampler({\n        root: new AlwaysOnSampler(),\n      });\n    case TracesSamplerValues.ParentBasedAlwaysOff:\n      return new ParentBasedSampler({\n        root: new AlwaysOffSampler(),\n      });\n    case TracesSamplerValues.TraceIdRatio:\n      return new TraceIdRatioBasedSampler(\n        getSamplerProbabilityFromEnv(environment)\n      );\n    case TracesSamplerValues.ParentBasedTraceIdRatio:\n      return new ParentBasedSampler({\n        root: new TraceIdRatioBasedSampler(\n          getSamplerProbabilityFromEnv(environment)\n        ),\n      });\n    default:\n      diag.error(\n        `OTEL_TRACES_SAMPLER value \"${environment.OTEL_TRACES_SAMPLER} invalid, defaulting to ${FALLBACK_OTEL_TRACES_SAMPLER}\".`\n      );\n      return new AlwaysOnSampler();\n  }\n}\n\nfunction getSamplerProbabilityFromEnv(\n  environment: Required<ENVIRONMENT>\n): number | undefined {\n  if (\n    environment.OTEL_TRACES_SAMPLER_ARG === undefined ||\n    environment.OTEL_TRACES_SAMPLER_ARG === ''\n  ) {\n    diag.error(\n      `OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${DEFAULT_RATIO}.`\n    );\n    return DEFAULT_RATIO;\n  }\n\n  const probability = Number(environment.OTEL_TRACES_SAMPLER_ARG);\n\n  if (isNaN(probability)) {\n    diag.error(\n      `OTEL_TRACES_SAMPLER_ARG=${environment.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${DEFAULT_RATIO}.`\n    );\n    return DEFAULT_RATIO;\n  }\n\n  if (probability < 0 || probability > 1) {\n    diag.error(\n      `OTEL_TRACES_SAMPLER_ARG=${environment.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${DEFAULT_RATIO}.`\n    );\n    return DEFAULT_RATIO;\n  }\n\n  return probability;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { buildSamplerFromEnv, loadDefaultConfig } from './config';\nimport { Sampler } from './Sampler';\nimport { SpanLimits, TracerConfig, GeneralLimits } from './types';\nimport {\n  DEFAULT_ATTRIBUTE_COUNT_LIMIT,\n  DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,\n  getEnvWithoutDefaults,\n} from '@opentelemetry/core';\n\n/**\n * Function to merge Default configuration (as specified in './config') with\n * user provided configurations.\n */\nexport function mergeConfig(userConfig: TracerConfig): TracerConfig & {\n  sampler: Sampler;\n  spanLimits: SpanLimits;\n  generalLimits: GeneralLimits;\n} {\n  const perInstanceDefaults: Partial<TracerConfig> = {\n    sampler: buildSamplerFromEnv(),\n  };\n\n  const DEFAULT_CONFIG = loadDefaultConfig();\n\n  const target = Object.assign(\n    {},\n    DEFAULT_CONFIG,\n    perInstanceDefaults,\n    userConfig\n  );\n\n  target.generalLimits = Object.assign(\n    {},\n    DEFAULT_CONFIG.generalLimits,\n    userConfig.generalLimits || {}\n  );\n\n  target.spanLimits = Object.assign(\n    {},\n    DEFAULT_CONFIG.spanLimits,\n    userConfig.spanLimits || {}\n  );\n\n  return target;\n}\n\n/**\n * When general limits are provided and model specific limits are not,\n * configures the model specific limits by using the values from the general ones.\n * @param userConfig User provided tracer configuration\n */\nexport function reconfigureLimits(userConfig: TracerConfig): TracerConfig {\n  const spanLimits = Object.assign({}, userConfig.spanLimits);\n\n  const parsedEnvConfig = getEnvWithoutDefaults();\n\n  /**\n   * Reassign span attribute count limit to use first non null value defined by user or use default value\n   */\n  spanLimits.attributeCountLimit =\n    userConfig.spanLimits?.attributeCountLimit ??\n    userConfig.generalLimits?.attributeCountLimit ??\n    parsedEnvConfig.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT ??\n    parsedEnvConfig.OTEL_ATTRIBUTE_COUNT_LIMIT ??\n    DEFAULT_ATTRIBUTE_COUNT_LIMIT;\n\n  /**\n   * Reassign span attribute value length limit to use first non null value defined by user or use default value\n   */\n  spanLimits.attributeValueLengthLimit =\n    userConfig.spanLimits?.attributeValueLengthLimit ??\n    userConfig.generalLimits?.attributeValueLengthLimit ??\n    parsedEnvConfig.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT ??\n    parsedEnvConfig.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT ??\n    DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT;\n\n  return Object.assign({}, userConfig, { spanLimits });\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { context, Context, diag, TraceFlags } from '@opentelemetry/api';\nimport {\n  BindOnceFuture,\n  ExportResultCode,\n  getEnv,\n  globalErrorHandler,\n  suppressTracing,\n  unrefTimer,\n} from '@opentelemetry/core';\nimport { Span } from '../Span';\nimport { SpanProcessor } from '../SpanProcessor';\nimport { BufferConfig } from '../types';\nimport { ReadableSpan } from './ReadableSpan';\nimport { SpanExporter } from './SpanExporter';\n\n/**\n * Implementation of the {@link SpanProcessor} that batches spans exported by\n * the SDK then pushes them to the exporter pipeline.\n */\nexport abstract class BatchSpanProcessorBase<T extends BufferConfig>\n  implements SpanProcessor\n{\n  private readonly _maxExportBatchSize: number;\n  private readonly _maxQueueSize: number;\n  private readonly _scheduledDelayMillis: number;\n  private readonly _exportTimeoutMillis: number;\n\n  private _finishedSpans: ReadableSpan[] = [];\n  private _timer: NodeJS.Timeout | undefined;\n  private _shutdownOnce: BindOnceFuture<void>;\n  private _droppedSpansCount: number = 0;\n\n  constructor(private readonly _exporter: SpanExporter, config?: T) {\n    const env = getEnv();\n    this._maxExportBatchSize =\n      typeof config?.maxExportBatchSize === 'number'\n        ? config.maxExportBatchSize\n        : env.OTEL_BSP_MAX_EXPORT_BATCH_SIZE;\n    this._maxQueueSize =\n      typeof config?.maxQueueSize === 'number'\n        ? config.maxQueueSize\n        : env.OTEL_BSP_MAX_QUEUE_SIZE;\n    this._scheduledDelayMillis =\n      typeof config?.scheduledDelayMillis === 'number'\n        ? config.scheduledDelayMillis\n        : env.OTEL_BSP_SCHEDULE_DELAY;\n    this._exportTimeoutMillis =\n      typeof config?.exportTimeoutMillis === 'number'\n        ? config.exportTimeoutMillis\n        : env.OTEL_BSP_EXPORT_TIMEOUT;\n\n    this._shutdownOnce = new BindOnceFuture(this._shutdown, this);\n\n    if (this._maxExportBatchSize > this._maxQueueSize) {\n      diag.warn(\n        'BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize'\n      );\n      this._maxExportBatchSize = this._maxQueueSize;\n    }\n  }\n\n  forceFlush(): Promise<void> {\n    if (this._shutdownOnce.isCalled) {\n      return this._shutdownOnce.promise;\n    }\n    return this._flushAll();\n  }\n\n  // does nothing.\n  onStart(_span: Span, _parentContext: Context): void {}\n\n  onEnd(span: ReadableSpan): void {\n    if (this._shutdownOnce.isCalled) {\n      return;\n    }\n\n    if ((span.spanContext().traceFlags & TraceFlags.SAMPLED) === 0) {\n      return;\n    }\n\n    this._addToBuffer(span);\n  }\n\n  shutdown(): Promise<void> {\n    return this._shutdownOnce.call();\n  }\n\n  private _shutdown() {\n    return Promise.resolve()\n      .then(() => {\n        return this.onShutdown();\n      })\n      .then(() => {\n        return this._flushAll();\n      })\n      .then(() => {\n        return this._exporter.shutdown();\n      });\n  }\n\n  /** Add a span in the buffer. */\n  private _addToBuffer(span: ReadableSpan) {\n    if (this._finishedSpans.length >= this._maxQueueSize) {\n      // limit reached, drop span\n\n      if (this._droppedSpansCount === 0) {\n        diag.debug('maxQueueSize reached, dropping spans');\n      }\n      this._droppedSpansCount++;\n\n      return;\n    }\n\n    if (this._droppedSpansCount > 0) {\n      // some spans were dropped, log once with count of spans dropped\n      diag.warn(\n        `Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`\n      );\n      this._droppedSpansCount = 0;\n    }\n\n    this._finishedSpans.push(span);\n    this._maybeStartTimer();\n  }\n\n  /**\n   * Send all spans to the exporter respecting the batch size limit\n   * This function is used only on forceFlush or shutdown,\n   * for all other cases _flush should be used\n   * */\n  private _flushAll(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const promises = [];\n      // calculate number of batches\n      const count = Math.ceil(\n        this._finishedSpans.length / this._maxExportBatchSize\n      );\n      for (let i = 0, j = count; i < j; i++) {\n        promises.push(this._flushOneBatch());\n      }\n      Promise.all(promises)\n        .then(() => {\n          resolve();\n        })\n        .catch(reject);\n    });\n  }\n\n  private _flushOneBatch(): Promise<void> {\n    this._clearTimer();\n    if (this._finishedSpans.length === 0) {\n      return Promise.resolve();\n    }\n    return new Promise((resolve, reject) => {\n      const timer = setTimeout(() => {\n        // don't wait anymore for export, this way the next batch can start\n        reject(new Error('Timeout'));\n      }, this._exportTimeoutMillis);\n      // prevent downstream exporter calls from generating spans\n      context.with(suppressTracing(context.active()), () => {\n        // Reset the finished spans buffer here because the next invocations of the _flush method\n        // could pass the same finished spans to the exporter if the buffer is cleared\n        // outside the execution of this callback.\n        const spans = this._finishedSpans.splice(0, this._maxExportBatchSize);\n\n        const doExport = () =>\n          this._exporter.export(spans, result => {\n            clearTimeout(timer);\n            if (result.code === ExportResultCode.SUCCESS) {\n              resolve();\n            } else {\n              reject(\n                result.error ??\n                  new Error('BatchSpanProcessor: span export failed')\n              );\n            }\n          });\n        const pendingResources = spans\n          .map(span => span.resource)\n          .filter(resource => resource.asyncAttributesPending);\n\n        // Avoid scheduling a promise to make the behavior more predictable and easier to test\n        if (pendingResources.length === 0) {\n          doExport();\n        } else {\n          Promise.all(\n            pendingResources.map(resource =>\n              resource.waitForAsyncAttributes?.()\n            )\n          ).then(doExport, err => {\n            globalErrorHandler(err);\n            reject(err);\n          });\n        }\n      });\n    });\n  }\n\n  private _maybeStartTimer() {\n    if (this._timer !== undefined) return;\n    this._timer = setTimeout(() => {\n      this._flushOneBatch()\n        .then(() => {\n          if (this._finishedSpans.length > 0) {\n            this._clearTimer();\n            this._maybeStartTimer();\n          }\n        })\n        .catch(e => {\n          globalErrorHandler(e);\n        });\n    }, this._scheduledDelayMillis);\n    unrefTimer(this._timer);\n  }\n\n  private _clearTimer() {\n    if (this._timer !== undefined) {\n      clearTimeout(this._timer);\n      this._timer = undefined;\n    }\n  }\n\n  protected abstract onShutdown(): void;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BatchSpanProcessorBase } from '../../../export/BatchSpanProcessorBase';\nimport { BufferConfig } from '../../../types';\n\nexport class BatchSpanProcessor extends BatchSpanProcessorBase<BufferConfig> {\n  protected onShutdown(): void {}\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { IdGenerator } from '../../IdGenerator';\n\nconst SPAN_ID_BYTES = 8;\nconst TRACE_ID_BYTES = 16;\n\nexport class RandomIdGenerator implements IdGenerator {\n  /**\n   * Returns a random 16-byte trace ID formatted/encoded as a 32 lowercase hex\n   * characters corresponding to 128 bits.\n   */\n  generateTraceId = getIdGenerator(TRACE_ID_BYTES);\n\n  /**\n   * Returns a random 8-byte span ID formatted/encoded as a 16 lowercase hex\n   * characters corresponding to 64 bits.\n   */\n  generateSpanId = getIdGenerator(SPAN_ID_BYTES);\n}\n\nconst SHARED_BUFFER = Buffer.allocUnsafe(TRACE_ID_BYTES);\nfunction getIdGenerator(bytes: number): () => string {\n  return function generateId() {\n    for (let i = 0; i < bytes / 4; i++) {\n      // unsigned right shift drops decimal part of the number\n      // it is required because if a number between 2**32 and 2**32 - 1 is generated, an out of range error is thrown by writeUInt32BE\n      SHARED_BUFFER.writeUInt32BE((Math.random() * 2 ** 32) >>> 0, i * 4);\n    }\n\n    // If buffer is all 0, set the last byte to 1 to guarantee a valid w3c id is generated\n    for (let i = 0; i < bytes; i++) {\n      if (SHARED_BUFFER[i] > 0) {\n        break;\n      } else if (i === bytes - 1) {\n        SHARED_BUFFER[bytes - 1] = 1;\n      }\n    }\n\n    return SHARED_BUFFER.toString('hex', 0, bytes);\n  };\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './export/BatchSpanProcessor';\nexport * from './RandomIdGenerator';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './node';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as api from '@opentelemetry/api';\nimport {\n  InstrumentationLibrary,\n  sanitizeAttributes,\n  isTracingSuppressed,\n} from '@opentelemetry/core';\nimport { IResource } from '@opentelemetry/resources';\nimport { BasicTracerProvider } from './BasicTracerProvider';\nimport { Span } from './Span';\nimport { GeneralLimits, SpanLimits, TracerConfig } from './types';\nimport { mergeConfig } from './utility';\nimport { SpanProcessor } from './SpanProcessor';\nimport { Sampler } from './Sampler';\nimport { IdGenerator } from './IdGenerator';\nimport { RandomIdGenerator } from './platform';\n\n/**\n * This class represents a basic tracer.\n */\nexport class Tracer implements api.Tracer {\n  private readonly _sampler: Sampler;\n  private readonly _generalLimits: GeneralLimits;\n  private readonly _spanLimits: SpanLimits;\n  private readonly _idGenerator: IdGenerator;\n  readonly resource: IResource;\n  readonly instrumentationLibrary: InstrumentationLibrary;\n\n  /**\n   * Constructs a new Tracer instance.\n   */\n  constructor(\n    instrumentationLibrary: InstrumentationLibrary,\n    config: TracerConfig,\n    private _tracerProvider: BasicTracerProvider\n  ) {\n    const localConfig = mergeConfig(config);\n    this._sampler = localConfig.sampler;\n    this._generalLimits = localConfig.generalLimits;\n    this._spanLimits = localConfig.spanLimits;\n    this._idGenerator = config.idGenerator || new RandomIdGenerator();\n    this.resource = _tracerProvider.resource;\n    this.instrumentationLibrary = instrumentationLibrary;\n  }\n\n  /**\n   * Starts a new Span or returns the default NoopSpan based on the sampling\n   * decision.\n   */\n  startSpan(\n    name: string,\n    options: api.SpanOptions = {},\n    context = api.context.active()\n  ): api.Span {\n    // remove span from context in case a root span is requested via options\n    if (options.root) {\n      context = api.trace.deleteSpan(context);\n    }\n    const parentSpan = api.trace.getSpan(context);\n\n    if (isTracingSuppressed(context)) {\n      api.diag.debug('Instrumentation suppressed, returning Noop Span');\n      const nonRecordingSpan = api.trace.wrapSpanContext(\n        api.INVALID_SPAN_CONTEXT\n      );\n      return nonRecordingSpan;\n    }\n\n    const parentSpanContext = parentSpan?.spanContext();\n    const spanId = this._idGenerator.generateSpanId();\n    let traceId;\n    let traceState;\n    let parentSpanId;\n    if (\n      !parentSpanContext ||\n      !api.trace.isSpanContextValid(parentSpanContext)\n    ) {\n      // New root span.\n      traceId = this._idGenerator.generateTraceId();\n    } else {\n      // New child span.\n      traceId = parentSpanContext.traceId;\n      traceState = parentSpanContext.traceState;\n      parentSpanId = parentSpanContext.spanId;\n    }\n\n    const spanKind = options.kind ?? api.SpanKind.INTERNAL;\n    const links = (options.links ?? []).map(link => {\n      return {\n        context: link.context,\n        attributes: sanitizeAttributes(link.attributes),\n      };\n    });\n    const attributes = sanitizeAttributes(options.attributes);\n    // make sampling decision\n    const samplingResult = this._sampler.shouldSample(\n      context,\n      traceId,\n      name,\n      spanKind,\n      attributes,\n      links\n    );\n\n    traceState = samplingResult.traceState ?? traceState;\n\n    const traceFlags =\n      samplingResult.decision === api.SamplingDecision.RECORD_AND_SAMPLED\n        ? api.TraceFlags.SAMPLED\n        : api.TraceFlags.NONE;\n    const spanContext = { traceId, spanId, traceFlags, traceState };\n    if (samplingResult.decision === api.SamplingDecision.NOT_RECORD) {\n      api.diag.debug(\n        'Recording is off, propagating context in a non-recording span'\n      );\n      const nonRecordingSpan = api.trace.wrapSpanContext(spanContext);\n      return nonRecordingSpan;\n    }\n\n    const span = new Span(\n      this,\n      context,\n      name,\n      spanContext,\n      spanKind,\n      parentSpanId,\n      links,\n      options.startTime\n    );\n    // Set initial span attributes. The attributes object may have been mutated\n    // by the sampler, so we sanitize the merged attributes before setting them.\n    const initAttributes = sanitizeAttributes(\n      Object.assign(attributes, samplingResult.attributes)\n    );\n    span.setAttributes(initAttributes);\n    return span;\n  }\n\n  /**\n   * Starts a new {@link Span} and calls the given function passing it the\n   * created span as first argument.\n   * Additionally the new span gets set in context and this context is activated\n   * for the duration of the function call.\n   *\n   * @param name The name of the span\n   * @param [options] SpanOptions used for span creation\n   * @param [context] Context to use to extract parent\n   * @param fn function called in the context of the span and receives the newly created span as an argument\n   * @returns return value of fn\n   * @example\n   *   const something = tracer.startActiveSpan('op', span => {\n   *     try {\n   *       do some work\n   *       span.setStatus({code: SpanStatusCode.OK});\n   *       return something;\n   *     } catch (err) {\n   *       span.setStatus({\n   *         code: SpanStatusCode.ERROR,\n   *         message: err.message,\n   *       });\n   *       throw err;\n   *     } finally {\n   *       span.end();\n   *     }\n   *   });\n   * @example\n   *   const span = tracer.startActiveSpan('op', span => {\n   *     try {\n   *       do some work\n   *       return span;\n   *     } catch (err) {\n   *       span.setStatus({\n   *         code: SpanStatusCode.ERROR,\n   *         message: err.message,\n   *       });\n   *       throw err;\n   *     }\n   *   });\n   *   do some more work\n   *   span.end();\n   */\n  startActiveSpan<F extends (span: api.Span) => ReturnType<F>>(\n    name: string,\n    fn: F\n  ): ReturnType<F>;\n  startActiveSpan<F extends (span: api.Span) => ReturnType<F>>(\n    name: string,\n    opts: api.SpanOptions,\n    fn: F\n  ): ReturnType<F>;\n  startActiveSpan<F extends (span: api.Span) => ReturnType<F>>(\n    name: string,\n    opts: api.SpanOptions,\n    ctx: api.Context,\n    fn: F\n  ): ReturnType<F>;\n  startActiveSpan<F extends (span: api.Span) => ReturnType<F>>(\n    name: string,\n    arg2?: F | api.SpanOptions,\n    arg3?: F | api.Context,\n    arg4?: F\n  ): ReturnType<F> | undefined {\n    let opts: api.SpanOptions | undefined;\n    let ctx: api.Context | undefined;\n    let fn: F;\n\n    if (arguments.length < 2) {\n      return;\n    } else if (arguments.length === 2) {\n      fn = arg2 as F;\n    } else if (arguments.length === 3) {\n      opts = arg2 as api.SpanOptions | undefined;\n      fn = arg3 as F;\n    } else {\n      opts = arg2 as api.SpanOptions | undefined;\n      ctx = arg3 as api.Context | undefined;\n      fn = arg4 as F;\n    }\n\n    const parentContext = ctx ?? api.context.active();\n    const span = this.startSpan(name, opts, parentContext);\n    const contextWithSpanSet = api.trace.setSpan(parentContext, span);\n\n    return api.context.with(contextWithSpanSet, fn, undefined, span);\n  }\n\n  /** Returns the active {@link GeneralLimits}. */\n  getGeneralLimits(): GeneralLimits {\n    return this._generalLimits;\n  }\n\n  /** Returns the active {@link SpanLimits}. */\n  getSpanLimits(): SpanLimits {\n    return this._spanLimits;\n  }\n\n  getActiveSpanProcessor(): SpanProcessor {\n    return this._tracerProvider.getActiveSpanProcessor();\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function defaultServiceName(): string {\n  return `unknown_service:${process.argv0}`;\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const normalizeArch = (nodeArchString: string): string => {\n  // Maps from https://nodejs.org/api/os.html#osarch to arch values in spec:\n  // https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/resource/semantic_conventions/host.md\n  switch (nodeArchString) {\n    case 'arm':\n      return 'arm32';\n    case 'ppc':\n      return 'ppc32';\n    case 'x64':\n      return 'amd64';\n    default:\n      return nodeArchString;\n  }\n};\n\nexport const normalizeType = (nodePlatform: string): string => {\n  // Maps from https://nodejs.org/api/os.html#osplatform to arch values in spec:\n  // https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/resource/semantic_conventions/os.md\n  switch (nodePlatform) {\n    case 'sunos':\n      return 'solaris';\n    case 'win32':\n      return 'windows';\n    default:\n      return nodePlatform;\n  }\n};\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as child_process from 'child_process';\nimport * as util from 'util';\n\nexport const execAsync = util.promisify(child_process.exec);\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { execAsync } from './execAsync';\nimport { diag } from '@opentelemetry/api';\n\nexport async function getMachineId(): Promise<string> {\n  try {\n    const result = await execAsync('ioreg -rd1 -c \"IOPlatformExpertDevice\"');\n\n    const idLine = result.stdout\n      .split('\\n')\n      .find(line => line.includes('IOPlatformUUID'));\n\n    if (!idLine) {\n      return '';\n    }\n\n    const parts = idLine.split('\" = \"');\n    if (parts.length === 2) {\n      return parts[1].slice(0, -1);\n    }\n  } catch (e) {\n    diag.debug(`error reading machine id: ${e}`);\n  }\n\n  return '';\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { promises as fs } from 'fs';\nimport { diag } from '@opentelemetry/api';\n\nexport async function getMachineId(): Promise<string> {\n  const paths = ['/etc/machine-id', '/var/lib/dbus/machine-id'];\n\n  for (const path of paths) {\n    try {\n      const result = await fs.readFile(path, { encoding: 'utf8' });\n      return result.trim();\n    } catch (e) {\n      diag.debug(`error reading machine id: ${e}`);\n    }\n  }\n\n  return '';\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { promises as fs } from 'fs';\nimport { execAsync } from './execAsync';\nimport { diag } from '@opentelemetry/api';\n\nexport async function getMachineId(): Promise<string> {\n  try {\n    const result = await fs.readFile('/etc/hostid', { encoding: 'utf8' });\n    return result.trim();\n  } catch (e) {\n    diag.debug(`error reading machine id: ${e}`);\n  }\n\n  try {\n    const result = await execAsync('kenv -q smbios.system.uuid');\n    return result.stdout.trim();\n  } catch (e) {\n    diag.debug(`error reading machine id: ${e}`);\n  }\n\n  return '';\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as process from 'process';\nimport { execAsync } from './execAsync';\nimport { diag } from '@opentelemetry/api';\n\nexport async function getMachineId(): Promise<string> {\n  const args =\n    'QUERY HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\Microsoft\\\\Cryptography /v MachineGuid';\n  let command = '%windir%\\\\System32\\\\REG.exe';\n  if (process.arch === 'ia32' && 'PROCESSOR_ARCHITEW6432' in process.env) {\n    command = '%windir%\\\\sysnative\\\\cmd.exe /c ' + command;\n  }\n\n  try {\n    const result = await execAsync(`${command} ${args}`);\n    const parts = result.stdout.split('REG_SZ');\n    if (parts.length === 2) {\n      return parts[1].trim();\n    }\n  } catch (e) {\n    diag.debug(`error reading machine id: ${e}`);\n  }\n\n  return '';\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { diag } from '@opentelemetry/api';\n\nexport async function getMachineId(): Promise<string> {\n  diag.debug('could not read machine-id: unsupported platform');\n  return '';\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as process from 'process';\n\nlet getMachineId: () => Promise<string>;\n\nswitch (process.platform) {\n  case 'darwin':\n    ({ getMachineId } = require('./getMachineId-darwin'));\n    break;\n  case 'linux':\n    ({ getMachineId } = require('./getMachineId-linux'));\n    break;\n  case 'freebsd':\n    ({ getMachineId } = require('./getMachineId-bsd'));\n    break;\n  case 'win32':\n    ({ getMachineId } = require('./getMachineId-win'));\n    break;\n  default:\n    ({ getMachineId } = require('./getMachineId-unsupported'));\n}\n\nexport { getMachineId };\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SemanticResourceAttributes } from '@opentelemetry/semantic-conventions';\nimport { Resource } from '../../Resource';\nimport { DetectorSync, ResourceAttributes } from '../../types';\nimport { ResourceDetectionConfig } from '../../config';\nimport { arch, hostname } from 'os';\nimport { normalizeArch } from './utils';\nimport { getMachineId } from './machine-id/getMachineId';\n\n/**\n * HostDetectorSync detects the resources related to the host current process is\n * running on. Currently only non-cloud-based attributes are included.\n */\nclass HostDetectorSync implements DetectorSync {\n  detect(_config?: ResourceDetectionConfig): Resource {\n    const attributes: ResourceAttributes = {\n      [SemanticResourceAttributes.HOST_NAME]: hostname(),\n      [SemanticResourceAttributes.HOST_ARCH]: normalizeArch(arch()),\n    };\n\n    return new Resource(attributes, this._getAsyncAttributes());\n  }\n\n  private _getAsyncAttributes(): Promise<ResourceAttributes> {\n    return getMachineId().then(machineId => {\n      const attributes: ResourceAttributes = {};\n      if (machineId) {\n        attributes[SemanticResourceAttributes.HOST_ID] = machineId;\n      }\n      return attributes;\n    });\n  }\n}\n\nexport const hostDetectorSync = new HostDetectorSync();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Detector } from '../../types';\nimport { ResourceDetectionConfig } from '../../config';\nimport { IResource } from '../../IResource';\nimport { hostDetectorSync } from './HostDetectorSync';\n\n/**\n * HostDetector detects the resources related to the host current process is\n * running on. Currently only non-cloud-based attributes are included.\n */\nclass HostDetector implements Detector {\n  detect(_config?: ResourceDetectionConfig): Promise<IResource> {\n    return Promise.resolve(hostDetectorSync.detect(_config));\n  }\n}\n\nexport const hostDetector = new HostDetector();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SemanticResourceAttributes } from '@opentelemetry/semantic-conventions';\nimport { Resource } from '../../Resource';\nimport { DetectorSync, ResourceAttributes } from '../../types';\nimport { ResourceDetectionConfig } from '../../config';\nimport { platform, release } from 'os';\nimport { normalizeType } from './utils';\n\n/**\n * OSDetectorSync detects the resources related to the operating system (OS) on\n * which the process represented by this resource is running.\n */\nclass OSDetectorSync implements DetectorSync {\n  detect(_config?: ResourceDetectionConfig): Resource {\n    const attributes: ResourceAttributes = {\n      [SemanticResourceAttributes.OS_TYPE]: normalizeType(platform()),\n      [SemanticResourceAttributes.OS_VERSION]: release(),\n    };\n    return new Resource(attributes);\n  }\n}\n\nexport const osDetectorSync = new OSDetectorSync();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Detector } from '../../types';\nimport { ResourceDetectionConfig } from '../../config';\nimport { IResource } from '../../IResource';\nimport { osDetectorSync } from './OSDetectorSync';\n\n/**\n * OSDetector detects the resources related to the operating system (OS) on\n * which the process represented by this resource is running.\n */\nclass OSDetector implements Detector {\n  detect(_config?: ResourceDetectionConfig): Promise<IResource> {\n    return Promise.resolve(osDetectorSync.detect(_config));\n  }\n}\n\nexport const osDetector = new OSDetector();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { diag } from '@opentelemetry/api';\nimport { SemanticResourceAttributes } from '@opentelemetry/semantic-conventions';\nimport { Resource } from '../../Resource';\nimport { DetectorSync, ResourceAttributes } from '../../types';\nimport { ResourceDetectionConfig } from '../../config';\nimport { IResource } from '../../IResource';\nimport * as os from 'os';\n\n/**\n * ProcessDetectorSync will be used to detect the resources related current process running\n * and being instrumented from the NodeJS Process module.\n */\nclass ProcessDetectorSync implements DetectorSync {\n  detect(_config?: ResourceDetectionConfig): IResource {\n    const attributes: ResourceAttributes = {\n      [SemanticResourceAttributes.PROCESS_PID]: process.pid,\n      [SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]: process.title,\n      [SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]: process.execPath,\n      [SemanticResourceAttributes.PROCESS_COMMAND_ARGS]: [\n        process.argv[0],\n        ...process.execArgv,\n        ...process.argv.slice(1),\n      ],\n      [SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:\n        process.versions.node,\n      [SemanticResourceAttributes.PROCESS_RUNTIME_NAME]: 'nodejs',\n      [SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]: 'Node.js',\n    };\n\n    if (process.argv.length > 1) {\n      attributes[SemanticResourceAttributes.PROCESS_COMMAND] = process.argv[1];\n    }\n\n    try {\n      const userInfo = os.userInfo();\n      attributes[SemanticResourceAttributes.PROCESS_OWNER] = userInfo.username;\n    } catch (e) {\n      diag.debug(`error obtaining process owner: ${e}`);\n    }\n\n    return new Resource(attributes);\n  }\n}\n\nexport const processDetectorSync = new ProcessDetectorSync();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Detector } from '../../types';\nimport { ResourceDetectionConfig } from '../../config';\nimport { IResource } from '../../IResource';\nimport { processDetectorSync } from './ProcessDetectorSync';\n\n/**\n * ProcessDetector will be used to detect the resources related current process running\n * and being instrumented from the NodeJS Process module.\n */\nclass ProcessDetector implements Detector {\n  detect(config?: ResourceDetectionConfig): Promise<IResource> {\n    return Promise.resolve(processDetectorSync.detect(config));\n  }\n}\n\nexport const processDetector = new ProcessDetector();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './default-service-name';\nexport * from './HostDetector';\nexport * from './OSDetector';\nexport * from './HostDetectorSync';\nexport * from './OSDetectorSync';\nexport * from './ProcessDetector';\nexport * from './ProcessDetectorSync';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './node';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { diag } from '@opentelemetry/api';\nimport { SemanticResourceAttributes } from '@opentelemetry/semantic-conventions';\nimport { SDK_INFO } from '@opentelemetry/core';\nimport { ResourceAttributes } from './types';\nimport { defaultServiceName } from './platform';\nimport { IResource } from './IResource';\n\n/**\n * A Resource describes the entity for which a signals (metrics or trace) are\n * collected.\n */\nexport class Resource implements IResource {\n  static readonly EMPTY = new Resource({});\n  private _syncAttributes?: ResourceAttributes;\n  private _asyncAttributesPromise?: Promise<ResourceAttributes>;\n  private _attributes?: ResourceAttributes;\n\n  /**\n   * Check if async attributes have resolved. This is useful to avoid awaiting\n   * waitForAsyncAttributes (which will introduce asynchronous behavior) when not necessary.\n   *\n   * @returns true if the resource \"attributes\" property is not yet settled to its final value\n   */\n  public asyncAttributesPending?: boolean;\n\n  /**\n   * Returns an empty Resource\n   */\n  static empty(): IResource {\n    return Resource.EMPTY;\n  }\n\n  /**\n   * Returns a Resource that identifies the SDK in use.\n   */\n  static default(): IResource {\n    return new Resource({\n      [SemanticResourceAttributes.SERVICE_NAME]: defaultServiceName(),\n      [SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:\n        SDK_INFO[SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],\n      [SemanticResourceAttributes.TELEMETRY_SDK_NAME]:\n        SDK_INFO[SemanticResourceAttributes.TELEMETRY_SDK_NAME],\n      [SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:\n        SDK_INFO[SemanticResourceAttributes.TELEMETRY_SDK_VERSION],\n    });\n  }\n\n  constructor(\n    /**\n     * A dictionary of attributes with string keys and values that provide\n     * information about the entity as numbers, strings or booleans\n     * TODO: Consider to add check/validation on attributes.\n     */\n    attributes: ResourceAttributes,\n    asyncAttributesPromise?: Promise<ResourceAttributes>\n  ) {\n    this._attributes = attributes;\n    this.asyncAttributesPending = asyncAttributesPromise != null;\n    this._syncAttributes = this._attributes ?? {};\n    this._asyncAttributesPromise = asyncAttributesPromise?.then(\n      asyncAttributes => {\n        this._attributes = Object.assign({}, this._attributes, asyncAttributes);\n        this.asyncAttributesPending = false;\n        return asyncAttributes;\n      },\n      err => {\n        diag.debug(\"a resource's async attributes promise rejected: %s\", err);\n        this.asyncAttributesPending = false;\n        return {};\n      }\n    );\n  }\n\n  get attributes(): ResourceAttributes {\n    if (this.asyncAttributesPending) {\n      diag.error(\n        'Accessing resource attributes before async attributes settled'\n      );\n    }\n\n    return this._attributes ?? {};\n  }\n\n  /**\n   * Returns a promise that will never be rejected. Resolves when all async attributes have finished being added to\n   * this Resource's attributes. This is useful in exporters to block until resource detection\n   * has finished.\n   */\n  async waitForAsyncAttributes?(): Promise<void> {\n    if (this.asyncAttributesPending) {\n      await this._asyncAttributesPromise;\n    }\n  }\n\n  /**\n   * Returns a new, merged {@link Resource} by merging the current Resource\n   * with the other Resource. In case of a collision, other Resource takes\n   * precedence.\n   *\n   * @param other the Resource that will be merged with this.\n   * @returns the newly merged Resource.\n   */\n  merge(other: IResource | null): IResource {\n    if (!other) return this;\n\n    // SpanAttributes from other resource overwrite attributes from this resource.\n    const mergedSyncAttributes = {\n      ...this._syncAttributes,\n      //Support for old resource implementation where _syncAttributes is not defined\n      ...((other as Resource)._syncAttributes ?? other.attributes),\n    };\n\n    if (\n      !this._asyncAttributesPromise &&\n      !(other as Resource)._asyncAttributesPromise\n    ) {\n      return new Resource(mergedSyncAttributes);\n    }\n\n    const mergedAttributesPromise = Promise.all([\n      this._asyncAttributesPromise,\n      (other as Resource)._asyncAttributesPromise,\n    ]).then(([thisAsyncAttributes, otherAsyncAttributes]) => {\n      return {\n        ...this._syncAttributes,\n        ...thisAsyncAttributes,\n        //Support for old resource implementation where _syncAttributes is not defined\n        ...((other as Resource)._syncAttributes ?? other.attributes),\n        ...otherAsyncAttributes,\n      };\n    });\n\n    return new Resource(mergedSyncAttributes, mergedAttributesPromise);\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  browserDetectorSync,\n  Detector,\n  IResource,\n  ResourceDetectionConfig,\n} from '..';\n\n/**\n * BrowserDetector will be used to detect the resources related to browser.\n */\nclass BrowserDetector implements Detector {\n  detect(config?: ResourceDetectionConfig): Promise<IResource> {\n    return Promise.resolve(browserDetectorSync.detect(config));\n  }\n}\n\nexport const browserDetector = new BrowserDetector();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { diag } from '@opentelemetry/api';\nimport { getEnv } from '@opentelemetry/core';\nimport { SemanticResourceAttributes } from '@opentelemetry/semantic-conventions';\nimport { Resource } from '../Resource';\nimport { DetectorSync, ResourceAttributes } from '../types';\nimport { ResourceDetectionConfig } from '../config';\nimport { IResource } from '../IResource';\n\n/**\n * EnvDetectorSync can be used to detect the presence of and create a Resource\n * from the OTEL_RESOURCE_ATTRIBUTES environment variable.\n */\nclass EnvDetectorSync implements DetectorSync {\n  // Type, attribute keys, and attribute values should not exceed 256 characters.\n  private readonly _MAX_LENGTH = 255;\n\n  // OTEL_RESOURCE_ATTRIBUTES is a comma-separated list of attributes.\n  private readonly _COMMA_SEPARATOR = ',';\n\n  // OTEL_RESOURCE_ATTRIBUTES contains key value pair separated by '='.\n  private readonly _LABEL_KEY_VALUE_SPLITTER = '=';\n\n  private readonly _ERROR_MESSAGE_INVALID_CHARS =\n    'should be a ASCII string with a length greater than 0 and not exceed ' +\n    this._MAX_LENGTH +\n    ' characters.';\n\n  private readonly _ERROR_MESSAGE_INVALID_VALUE =\n    'should be a ASCII string with a length not exceed ' +\n    this._MAX_LENGTH +\n    ' characters.';\n\n  /**\n   * Returns a {@link Resource} populated with attributes from the\n   * OTEL_RESOURCE_ATTRIBUTES environment variable. Note this is an async\n   * function to conform to the Detector interface.\n   *\n   * @param config The resource detection config\n   */\n  detect(_config?: ResourceDetectionConfig): IResource {\n    const attributes: ResourceAttributes = {};\n    const env = getEnv();\n\n    const rawAttributes = env.OTEL_RESOURCE_ATTRIBUTES;\n    const serviceName = env.OTEL_SERVICE_NAME;\n\n    if (rawAttributes) {\n      try {\n        const parsedAttributes = this._parseResourceAttributes(rawAttributes);\n        Object.assign(attributes, parsedAttributes);\n      } catch (e) {\n        diag.debug(`EnvDetector failed: ${e.message}`);\n      }\n    }\n\n    if (serviceName) {\n      attributes[SemanticResourceAttributes.SERVICE_NAME] = serviceName;\n    }\n\n    return new Resource(attributes);\n  }\n\n  /**\n   * Creates an attribute map from the OTEL_RESOURCE_ATTRIBUTES environment\n   * variable.\n   *\n   * OTEL_RESOURCE_ATTRIBUTES: A comma-separated list of attributes describing\n   * the source in more detail, e.g. “key1=val1,key2=val2”. Domain names and\n   * paths are accepted as attribute keys. Values may be quoted or unquoted in\n   * general. If a value contains whitespaces, =, or \" characters, it must\n   * always be quoted.\n   *\n   * @param rawEnvAttributes The resource attributes as a comma-seperated list\n   * of key/value pairs.\n   * @returns The sanitized resource attributes.\n   */\n  private _parseResourceAttributes(\n    rawEnvAttributes?: string\n  ): ResourceAttributes {\n    if (!rawEnvAttributes) return {};\n\n    const attributes: ResourceAttributes = {};\n    const rawAttributes: string[] = rawEnvAttributes.split(\n      this._COMMA_SEPARATOR,\n      -1\n    );\n    for (const rawAttribute of rawAttributes) {\n      const keyValuePair: string[] = rawAttribute.split(\n        this._LABEL_KEY_VALUE_SPLITTER,\n        -1\n      );\n      if (keyValuePair.length !== 2) {\n        continue;\n      }\n      let [key, value] = keyValuePair;\n      // Leading and trailing whitespaces are trimmed.\n      key = key.trim();\n      value = value.trim().split(/^\"|\"$/).join('');\n      if (!this._isValidAndNotEmpty(key)) {\n        throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);\n      }\n      if (!this._isValid(value)) {\n        throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);\n      }\n      attributes[key] = decodeURIComponent(value);\n    }\n    return attributes;\n  }\n\n  /**\n   * Determines whether the given String is a valid printable ASCII string with\n   * a length not exceed _MAX_LENGTH characters.\n   *\n   * @param str The String to be validated.\n   * @returns Whether the String is valid.\n   */\n  private _isValid(name: string): boolean {\n    return name.length <= this._MAX_LENGTH && this._isBaggageOctetString(name);\n  }\n\n  // https://www.w3.org/TR/baggage/#definition\n  private _isBaggageOctetString(str: string): boolean {\n    for (let i = 0; i < str.length; i++) {\n      const ch = str.charCodeAt(i);\n      if (ch < 0x21 || ch === 0x2c || ch === 0x3b || ch === 0x5c || ch > 0x7e) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Determines whether the given String is a valid printable ASCII string with\n   * a length greater than 0 and not exceed _MAX_LENGTH characters.\n   *\n   * @param str The String to be validated.\n   * @returns Whether the String is valid and not empty.\n   */\n  private _isValidAndNotEmpty(str: string): boolean {\n    return str.length > 0 && this._isValid(str);\n  }\n}\n\nexport const envDetectorSync = new EnvDetectorSync();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Detector } from '../types';\nimport { ResourceDetectionConfig } from '../config';\nimport { IResource } from '../IResource';\nimport { envDetectorSync } from './EnvDetectorSync';\n\n/**\n * EnvDetector can be used to detect the presence of and create a Resource\n * from the OTEL_RESOURCE_ATTRIBUTES environment variable.\n */\nclass EnvDetector implements Detector {\n  /**\n   * Returns a {@link Resource} populated with attributes from the\n   * OTEL_RESOURCE_ATTRIBUTES environment variable. Note this is an async\n   * function to conform to the Detector interface.\n   *\n   * @param config The resource detection config\n   */\n  detect(config?: ResourceDetectionConfig): Promise<IResource> {\n    return Promise.resolve(envDetectorSync.detect(config));\n  }\n}\n\nexport const envDetector = new EnvDetector();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SemanticResourceAttributes } from '@opentelemetry/semantic-conventions';\nimport { DetectorSync, IResource, Resource, ResourceDetectionConfig } from '..';\nimport { ResourceAttributes } from '../types';\nimport { diag } from '@opentelemetry/api';\n\n/**\n * BrowserDetectorSync will be used to detect the resources related to browser.\n */\nclass BrowserDetectorSync implements DetectorSync {\n  detect(config?: ResourceDetectionConfig): IResource {\n    const isBrowser = typeof navigator !== 'undefined';\n    if (!isBrowser) {\n      return Resource.empty();\n    }\n    const browserResource: ResourceAttributes = {\n      [SemanticResourceAttributes.PROCESS_RUNTIME_NAME]: 'browser',\n      [SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]: 'Web Browser',\n      [SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]: navigator.userAgent,\n    };\n    return this._getResourceAttributes(browserResource, config);\n  }\n  /**\n   * Validates process resource attribute map from process variables\n   *\n   * @param browserResource The un-sanitized resource attributes from process as key/value pairs.\n   * @param config: Config\n   * @returns The sanitized resource attributes.\n   */\n  private _getResourceAttributes(\n    browserResource: ResourceAttributes,\n    _config?: ResourceDetectionConfig\n  ) {\n    if (\n      browserResource[SemanticResourceAttributes.PROCESS_RUNTIME_VERSION] === ''\n    ) {\n      diag.debug(\n        'BrowserDetector failed: Unable to find required browser resources. '\n      );\n      return Resource.empty();\n    } else {\n      return new Resource({\n        ...browserResource,\n      });\n    }\n  }\n}\n\nexport const browserDetectorSync = new BrowserDetectorSync();\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './BrowserDetector';\nexport * from './EnvDetector';\nexport * from './BrowserDetectorSync';\nexport * from './EnvDetectorSync';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const isPromiseLike = <R>(val: any): val is PromiseLike<R> => {\n  return (\n    val !== null && typeof val === 'object' && typeof val.then === 'function'\n  );\n};\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Resource } from './Resource';\nimport { ResourceDetectionConfig } from './config';\nimport { diag } from '@opentelemetry/api';\nimport { isPromiseLike } from './utils';\nimport { Detector, DetectorSync } from './types';\nimport { IResource } from './IResource';\n\n/**\n * Runs all resource detectors and returns the results merged into a single Resource. Promise\n * does not resolve until all the underlying detectors have resolved, unlike\n * detectResourcesSync.\n *\n * @deprecated use detectResourceSync() instead.\n * @param config Configuration for resource detection\n */\nexport const detectResources = async (\n  config: ResourceDetectionConfig = {}\n): Promise<IResource> => {\n  const resources: IResource[] = await Promise.all(\n    (config.detectors || []).map(async d => {\n      try {\n        const resource = await d.detect(config);\n        diag.debug(`${d.constructor.name} found resource.`, resource);\n        return resource;\n      } catch (e) {\n        diag.debug(`${d.constructor.name} failed: ${e.message}`);\n        return Resource.empty();\n      }\n    })\n  );\n\n  // Future check if verbose logging is enabled issue #1903\n  logResources(resources);\n\n  return resources.reduce(\n    (acc, resource) => acc.merge(resource),\n    Resource.empty()\n  );\n};\n\n/**\n * Runs all resource detectors synchronously, merging their results. In case of attribute collision later resources will take precedence.\n *\n * @param config Configuration for resource detection\n */\nexport const detectResourcesSync = (\n  config: ResourceDetectionConfig = {}\n): IResource => {\n  const resources: IResource[] = (config.detectors ?? []).map(\n    (d: Detector | DetectorSync) => {\n      try {\n        const resourceOrPromise = d.detect(config);\n        let resource: IResource;\n        if (isPromiseLike<Resource>(resourceOrPromise)) {\n          const createPromise = async () => {\n            const resolvedResource = await resourceOrPromise;\n            return resolvedResource.attributes;\n          };\n          resource = new Resource({}, createPromise());\n        } else {\n          resource = resourceOrPromise as IResource;\n        }\n\n        if (resource.waitForAsyncAttributes) {\n          void resource\n            .waitForAsyncAttributes()\n            .then(() =>\n              diag.debug(`${d.constructor.name} found resource.`, resource)\n            );\n        } else {\n          diag.debug(`${d.constructor.name} found resource.`, resource);\n        }\n\n        return resource;\n      } catch (e) {\n        diag.error(`${d.constructor.name} failed: ${e.message}`);\n        return Resource.empty();\n      }\n    }\n  );\n\n  const mergedResources = resources.reduce(\n    (acc, resource) => acc.merge(resource),\n    Resource.empty()\n  );\n\n  if (mergedResources.waitForAsyncAttributes) {\n    void mergedResources.waitForAsyncAttributes().then(() => {\n      // Future check if verbose logging is enabled issue #1903\n      logResources(resources);\n    });\n  }\n\n  return mergedResources;\n};\n\n/**\n * Writes debug information about the detected resources to the logger defined in the resource detection config, if one is provided.\n *\n * @param resources The array of {@link Resource} that should be logged. Empty entries will be ignored.\n */\nconst logResources = (resources: Array<IResource>) => {\n  resources.forEach(resource => {\n    // Print only populated resources\n    if (Object.keys(resource.attributes).length > 0) {\n      const resourceDebugString = JSON.stringify(resource.attributes, null, 4);\n      diag.verbose(resourceDebugString);\n    }\n  });\n};\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './Resource';\nexport * from './IResource';\nexport * from './platform';\nexport * from './types';\nexport * from './config';\nexport * from './detectors';\nexport * from './detect-resources';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context } from '@opentelemetry/api';\nimport { globalErrorHandler } from '@opentelemetry/core';\nimport { ReadableSpan } from './export/ReadableSpan';\nimport { Span } from './Span';\nimport { SpanProcessor } from './SpanProcessor';\n\n/**\n * Implementation of the {@link SpanProcessor} that simply forwards all\n * received events to a list of {@link SpanProcessor}s.\n */\nexport class MultiSpanProcessor implements SpanProcessor {\n  constructor(private readonly _spanProcessors: SpanProcessor[]) {}\n\n  forceFlush(): Promise<void> {\n    const promises: Promise<void>[] = [];\n\n    for (const spanProcessor of this._spanProcessors) {\n      promises.push(spanProcessor.forceFlush());\n    }\n    return new Promise(resolve => {\n      Promise.all(promises)\n        .then(() => {\n          resolve();\n        })\n        .catch(error => {\n          globalErrorHandler(\n            error || new Error('MultiSpanProcessor: forceFlush failed')\n          );\n          resolve();\n        });\n    });\n  }\n\n  onStart(span: Span, context: Context): void {\n    for (const spanProcessor of this._spanProcessors) {\n      spanProcessor.onStart(span, context);\n    }\n  }\n\n  onEnd(span: ReadableSpan): void {\n    for (const spanProcessor of this._spanProcessors) {\n      spanProcessor.onEnd(span);\n    }\n  }\n\n  shutdown(): Promise<void> {\n    const promises: Promise<void>[] = [];\n\n    for (const spanProcessor of this._spanProcessors) {\n      promises.push(spanProcessor.shutdown());\n    }\n    return new Promise((resolve, reject) => {\n      Promise.all(promises).then(() => {\n        resolve();\n      }, reject);\n    });\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context } from '@opentelemetry/api';\nimport { ReadableSpan } from './ReadableSpan';\nimport { Span } from '../Span';\nimport { SpanProcessor } from '../SpanProcessor';\n\n/** No-op implementation of SpanProcessor */\nexport class NoopSpanProcessor implements SpanProcessor {\n  onStart(_span: Span, _context: Context): void {}\n  onEnd(_span: ReadableSpan): void {}\n  shutdown(): Promise<void> {\n    return Promise.resolve();\n  }\n  forceFlush(): Promise<void> {\n    return Promise.resolve();\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  context,\n  diag,\n  propagation,\n  TextMapPropagator,\n  trace,\n  TracerProvider,\n} from '@opentelemetry/api';\nimport {\n  CompositePropagator,\n  W3CBaggagePropagator,\n  W3CTraceContextPropagator,\n  getEnv,\n  merge,\n} from '@opentelemetry/core';\nimport { IResource, Resource } from '@opentelemetry/resources';\nimport { SpanProcessor, Tracer } from '.';\nimport { loadDefaultConfig } from './config';\nimport { MultiSpanProcessor } from './MultiSpanProcessor';\nimport { NoopSpanProcessor } from './export/NoopSpanProcessor';\nimport { SDKRegistrationConfig, TracerConfig } from './types';\nimport { SpanExporter } from './export/SpanExporter';\nimport { BatchSpanProcessor } from './platform';\nimport { reconfigureLimits } from './utility';\n\nexport type PROPAGATOR_FACTORY = () => TextMapPropagator;\nexport type EXPORTER_FACTORY = () => SpanExporter;\n\nexport enum ForceFlushState {\n  'resolved',\n  'timeout',\n  'error',\n  'unresolved',\n}\n\n/**\n * This class represents a basic tracer provider which platform libraries can extend\n */\nexport class BasicTracerProvider implements TracerProvider {\n  protected static readonly _registeredPropagators = new Map<\n    string,\n    PROPAGATOR_FACTORY\n  >([\n    ['tracecontext', () => new W3CTraceContextPropagator()],\n    ['baggage', () => new W3CBaggagePropagator()],\n  ]);\n\n  protected static readonly _registeredExporters = new Map<\n    string,\n    EXPORTER_FACTORY\n  >();\n\n  private readonly _config: TracerConfig;\n  private readonly _registeredSpanProcessors: SpanProcessor[] = [];\n  private readonly _tracers: Map<string, Tracer> = new Map();\n\n  activeSpanProcessor: SpanProcessor;\n  readonly resource: IResource;\n\n  constructor(config: TracerConfig = {}) {\n    const mergedConfig = merge(\n      {},\n      loadDefaultConfig(),\n      reconfigureLimits(config)\n    );\n    this.resource = mergedConfig.resource ?? Resource.empty();\n    this.resource = Resource.default().merge(this.resource);\n    this._config = Object.assign({}, mergedConfig, {\n      resource: this.resource,\n    });\n\n    const defaultExporter = this._buildExporterFromEnv();\n    if (defaultExporter !== undefined) {\n      const batchProcessor = new BatchSpanProcessor(defaultExporter);\n      this.activeSpanProcessor = batchProcessor;\n    } else {\n      this.activeSpanProcessor = new NoopSpanProcessor();\n    }\n  }\n\n  getTracer(\n    name: string,\n    version?: string,\n    options?: { schemaUrl?: string }\n  ): Tracer {\n    const key = `${name}@${version || ''}:${options?.schemaUrl || ''}`;\n    if (!this._tracers.has(key)) {\n      this._tracers.set(\n        key,\n        new Tracer(\n          { name, version, schemaUrl: options?.schemaUrl },\n          this._config,\n          this\n        )\n      );\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return this._tracers.get(key)!;\n  }\n\n  /**\n   * Adds a new {@link SpanProcessor} to this tracer.\n   * @param spanProcessor the new SpanProcessor to be added.\n   */\n  addSpanProcessor(spanProcessor: SpanProcessor): void {\n    if (this._registeredSpanProcessors.length === 0) {\n      // since we might have enabled by default a batchProcessor, we disable it\n      // before adding the new one\n      this.activeSpanProcessor\n        .shutdown()\n        .catch(err =>\n          diag.error(\n            'Error while trying to shutdown current span processor',\n            err\n          )\n        );\n    }\n    this._registeredSpanProcessors.push(spanProcessor);\n    this.activeSpanProcessor = new MultiSpanProcessor(\n      this._registeredSpanProcessors\n    );\n  }\n\n  getActiveSpanProcessor(): SpanProcessor {\n    return this.activeSpanProcessor;\n  }\n\n  /**\n   * Register this TracerProvider for use with the OpenTelemetry API.\n   * Undefined values may be replaced with defaults, and\n   * null values will be skipped.\n   *\n   * @param config Configuration object for SDK registration\n   */\n  register(config: SDKRegistrationConfig = {}): void {\n    trace.setGlobalTracerProvider(this);\n    if (config.propagator === undefined) {\n      config.propagator = this._buildPropagatorFromEnv();\n    }\n\n    if (config.contextManager) {\n      context.setGlobalContextManager(config.contextManager);\n    }\n\n    if (config.propagator) {\n      propagation.setGlobalPropagator(config.propagator);\n    }\n  }\n\n  forceFlush(): Promise<void> {\n    const timeout = this._config.forceFlushTimeoutMillis;\n    const promises = this._registeredSpanProcessors.map(\n      (spanProcessor: SpanProcessor) => {\n        return new Promise(resolve => {\n          let state: ForceFlushState;\n          const timeoutInterval = setTimeout(() => {\n            resolve(\n              new Error(\n                `Span processor did not completed within timeout period of ${timeout} ms`\n              )\n            );\n            state = ForceFlushState.timeout;\n          }, timeout);\n\n          spanProcessor\n            .forceFlush()\n            .then(() => {\n              clearTimeout(timeoutInterval);\n              if (state !== ForceFlushState.timeout) {\n                state = ForceFlushState.resolved;\n                resolve(state);\n              }\n            })\n            .catch(error => {\n              clearTimeout(timeoutInterval);\n              state = ForceFlushState.error;\n              resolve(error);\n            });\n        });\n      }\n    );\n\n    return new Promise<void>((resolve, reject) => {\n      Promise.all(promises)\n        .then(results => {\n          const errors = results.filter(\n            result => result !== ForceFlushState.resolved\n          );\n          if (errors.length > 0) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        })\n        .catch(error => reject([error]));\n    });\n  }\n\n  shutdown(): Promise<void> {\n    return this.activeSpanProcessor.shutdown();\n  }\n\n  /**\n   * TS cannot yet infer the type of this.constructor:\n   * https://github.com/Microsoft/TypeScript/issues/3841#issuecomment-337560146\n   * There is no need to override either of the getters in your child class.\n   * The type of the registered component maps should be the same across all\n   * classes in the inheritance tree.\n   */\n  protected _getPropagator(name: string): TextMapPropagator | undefined {\n    return (\n      this.constructor as typeof BasicTracerProvider\n    )._registeredPropagators.get(name)?.();\n  }\n\n  protected _getSpanExporter(name: string): SpanExporter | undefined {\n    return (\n      this.constructor as typeof BasicTracerProvider\n    )._registeredExporters.get(name)?.();\n  }\n\n  protected _buildPropagatorFromEnv(): TextMapPropagator | undefined {\n    // per spec, propagators from env must be deduplicated\n    const uniquePropagatorNames = Array.from(\n      new Set(getEnv().OTEL_PROPAGATORS)\n    );\n\n    const propagators = uniquePropagatorNames.map(name => {\n      const propagator = this._getPropagator(name);\n      if (!propagator) {\n        diag.warn(\n          `Propagator \"${name}\" requested through environment variable is unavailable.`\n        );\n      }\n\n      return propagator;\n    });\n    const validPropagators = propagators.reduce<TextMapPropagator[]>(\n      (list, item) => {\n        if (item) {\n          list.push(item);\n        }\n        return list;\n      },\n      []\n    );\n\n    if (validPropagators.length === 0) {\n      return;\n    } else if (uniquePropagatorNames.length === 1) {\n      return validPropagators[0];\n    } else {\n      return new CompositePropagator({\n        propagators: validPropagators,\n      });\n    }\n  }\n\n  protected _buildExporterFromEnv(): SpanExporter | undefined {\n    const exporterName = getEnv().OTEL_TRACES_EXPORTER;\n    if (exporterName === 'none' || exporterName === '') return;\n    const exporter = this._getSpanExporter(exporterName);\n    if (!exporter) {\n      diag.error(\n        `Exporter \"${exporterName}\" requested through environment variable is unavailable.`\n      );\n    }\n    return exporter;\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SpanExporter } from './SpanExporter';\nimport { ReadableSpan } from './ReadableSpan';\nimport {\n  ExportResult,\n  ExportResultCode,\n  hrTimeToMicroseconds,\n} from '@opentelemetry/core';\n\n/**\n * This is implementation of {@link SpanExporter} that prints spans to the\n * console. This class can be used for diagnostic purposes.\n */\n\n/* eslint-disable no-console */\nexport class ConsoleSpanExporter implements SpanExporter {\n  /**\n   * Export spans.\n   * @param spans\n   * @param resultCallback\n   */\n  export(\n    spans: ReadableSpan[],\n    resultCallback: (result: ExportResult) => void\n  ): void {\n    return this._sendSpans(spans, resultCallback);\n  }\n\n  /**\n   * Shutdown the exporter.\n   */\n  shutdown(): Promise<void> {\n    this._sendSpans([]);\n    return this.forceFlush();\n  }\n\n  /**\n   * Exports any pending spans in exporter\n   */\n  forceFlush(): Promise<void> {\n    return Promise.resolve();\n  }\n\n  /**\n   * converts span info into more readable format\n   * @param span\n   */\n  private _exportInfo(span: ReadableSpan) {\n    return {\n      traceId: span.spanContext().traceId,\n      parentId: span.parentSpanId,\n      traceState: span.spanContext().traceState?.serialize(),\n      name: span.name,\n      id: span.spanContext().spanId,\n      kind: span.kind,\n      timestamp: hrTimeToMicroseconds(span.startTime),\n      duration: hrTimeToMicroseconds(span.duration),\n      attributes: span.attributes,\n      status: span.status,\n      events: span.events,\n      links: span.links,\n    };\n  }\n\n  /**\n   * Showing spans in console\n   * @param spans\n   * @param done\n   */\n  private _sendSpans(\n    spans: ReadableSpan[],\n    done?: (result: ExportResult) => void\n  ): void {\n    for (const span of spans) {\n      console.dir(this._exportInfo(span), { depth: 3 });\n    }\n    if (done) {\n      return done({ code: ExportResultCode.SUCCESS });\n    }\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SpanExporter } from './SpanExporter';\nimport { ReadableSpan } from './ReadableSpan';\nimport { ExportResult, ExportResultCode } from '@opentelemetry/core';\n\n/**\n * This class can be used for testing purposes. It stores the exported spans\n * in a list in memory that can be retrieved using the `getFinishedSpans()`\n * method.\n */\nexport class InMemorySpanExporter implements SpanExporter {\n  private _finishedSpans: ReadableSpan[] = [];\n  /**\n   * Indicates if the exporter has been \"shutdown.\"\n   * When false, exported spans will not be stored in-memory.\n   */\n  protected _stopped = false;\n\n  export(\n    spans: ReadableSpan[],\n    resultCallback: (result: ExportResult) => void\n  ): void {\n    if (this._stopped)\n      return resultCallback({\n        code: ExportResultCode.FAILED,\n        error: new Error('Exporter has been stopped'),\n      });\n    this._finishedSpans.push(...spans);\n\n    setTimeout(() => resultCallback({ code: ExportResultCode.SUCCESS }), 0);\n  }\n\n  shutdown(): Promise<void> {\n    this._stopped = true;\n    this._finishedSpans = [];\n    return this.forceFlush();\n  }\n\n  /**\n   * Exports any pending spans in the exporter\n   */\n  forceFlush(): Promise<void> {\n    return Promise.resolve();\n  }\n\n  reset(): void {\n    this._finishedSpans = [];\n  }\n\n  getFinishedSpans(): ReadableSpan[] {\n    return this._finishedSpans;\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context, TraceFlags } from '@opentelemetry/api';\nimport {\n  internal,\n  ExportResultCode,\n  globalErrorHandler,\n  BindOnceFuture,\n  ExportResult,\n} from '@opentelemetry/core';\nimport { Span } from '../Span';\nimport { SpanProcessor } from '../SpanProcessor';\nimport { ReadableSpan } from './ReadableSpan';\nimport { SpanExporter } from './SpanExporter';\nimport { Resource } from '@opentelemetry/resources';\n\n/**\n * An implementation of the {@link SpanProcessor} that converts the {@link Span}\n * to {@link ReadableSpan} and passes it to the configured exporter.\n *\n * Only spans that are sampled are converted.\n */\nexport class SimpleSpanProcessor implements SpanProcessor {\n  private _shutdownOnce: BindOnceFuture<void>;\n  private _unresolvedExports: Set<Promise<void>>;\n\n  constructor(private readonly _exporter: SpanExporter) {\n    this._shutdownOnce = new BindOnceFuture(this._shutdown, this);\n    this._unresolvedExports = new Set<Promise<void>>();\n  }\n\n  async forceFlush(): Promise<void> {\n    // await unresolved resources before resolving\n    await Promise.all(Array.from(this._unresolvedExports));\n    if (this._exporter.forceFlush) {\n      await this._exporter.forceFlush();\n    }\n  }\n\n  onStart(_span: Span, _parentContext: Context): void {}\n\n  onEnd(span: ReadableSpan): void {\n    if (this._shutdownOnce.isCalled) {\n      return;\n    }\n\n    if ((span.spanContext().traceFlags & TraceFlags.SAMPLED) === 0) {\n      return;\n    }\n\n    const doExport = () =>\n      internal\n        ._export(this._exporter, [span])\n        .then((result: ExportResult) => {\n          if (result.code !== ExportResultCode.SUCCESS) {\n            globalErrorHandler(\n              result.error ??\n                new Error(\n                  `SimpleSpanProcessor: span export failed (status ${result})`\n                )\n            );\n          }\n        })\n        .catch(error => {\n          globalErrorHandler(error);\n        });\n\n    // Avoid scheduling a promise to make the behavior more predictable and easier to test\n    if (span.resource.asyncAttributesPending) {\n      const exportPromise = (span.resource as Resource)\n        .waitForAsyncAttributes?.()\n        .then(\n          () => {\n            if (exportPromise != null) {\n              this._unresolvedExports.delete(exportPromise);\n            }\n            return doExport();\n          },\n          err => globalErrorHandler(err)\n        );\n\n      // store the unresolved exports\n      if (exportPromise != null) {\n        this._unresolvedExports.add(exportPromise);\n      }\n    } else {\n      void doExport();\n    }\n  }\n\n  shutdown(): Promise<void> {\n    return this._shutdownOnce.call();\n  }\n\n  private _shutdown(): Promise<void> {\n    return this._exporter.shutdown();\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './Tracer';\nexport * from './BasicTracerProvider';\nexport * from './platform';\nexport * from './export/ConsoleSpanExporter';\nexport * from './export/InMemorySpanExporter';\nexport * from './export/ReadableSpan';\nexport * from './export/SimpleSpanProcessor';\nexport * from './export/SpanExporter';\nexport * from './export/NoopSpanProcessor';\nexport * from './sampler/AlwaysOffSampler';\nexport * from './sampler/AlwaysOnSampler';\nexport * from './sampler/ParentBasedSampler';\nexport * from './sampler/TraceIdRatioBasedSampler';\nexport * from './Sampler';\nexport * from './Span';\nexport * from './SpanProcessor';\nexport * from './TimedEvent';\nexport * from './types';\nexport * from './IdGenerator';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { TracerProvider, MeterProvider } from '@opentelemetry/api';\nimport { Instrumentation } from './types';\nimport { AutoLoaderResult, InstrumentationOption } from './types_internal';\n\n/**\n * Parses the options and returns instrumentations, node plugins and\n *   web plugins\n * @param options\n */\nexport function parseInstrumentationOptions(\n  options: InstrumentationOption[] = []\n): AutoLoaderResult {\n  let instrumentations: Instrumentation[] = [];\n  for (let i = 0, j = options.length; i < j; i++) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const option = options[i] as any;\n    if (Array.isArray(option)) {\n      const results = parseInstrumentationOptions(option);\n      instrumentations = instrumentations.concat(results.instrumentations);\n    } else if (typeof option === 'function') {\n      instrumentations.push(new option());\n    } else if ((option as Instrumentation).instrumentationName) {\n      instrumentations.push(option);\n    }\n  }\n\n  return { instrumentations };\n}\n\n/**\n * Enable instrumentations\n * @param instrumentations\n * @param tracerProvider\n * @param meterProvider\n */\nexport function enableInstrumentations(\n  instrumentations: Instrumentation[],\n  tracerProvider?: TracerProvider,\n  meterProvider?: MeterProvider\n): void {\n  for (let i = 0, j = instrumentations.length; i < j; i++) {\n    const instrumentation = instrumentations[i];\n    if (tracerProvider) {\n      instrumentation.setTracerProvider(tracerProvider);\n    }\n    if (meterProvider) {\n      instrumentation.setMeterProvider(meterProvider);\n    }\n    // instrumentations have been already enabled during creation\n    // so enable only if user prevented that by setting enabled to false\n    // this is to prevent double enabling but when calling register all\n    // instrumentations should be now enabled\n    if (!instrumentation.getConfig().enabled) {\n      instrumentation.enable();\n    }\n  }\n}\n\n/**\n * Disable instrumentations\n * @param instrumentations\n */\nexport function disableInstrumentations(\n  instrumentations: Instrumentation[]\n): void {\n  instrumentations.forEach(instrumentation => instrumentation.disable());\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { trace, metrics } from '@opentelemetry/api';\nimport {\n  disableInstrumentations,\n  enableInstrumentations,\n  parseInstrumentationOptions,\n} from './autoLoaderUtils';\nimport { AutoLoaderOptions } from './types_internal';\n\n/**\n * It will register instrumentations and plugins\n * @param options\n * @return returns function to unload instrumentation and plugins that were\n *   registered\n */\nexport function registerInstrumentations(\n  options: AutoLoaderOptions\n): () => void {\n  const { instrumentations } = parseInstrumentationOptions(\n    options.instrumentations\n  );\n  const tracerProvider = options.tracerProvider || trace.getTracerProvider();\n  const meterProvider = options.meterProvider || metrics.getMeterProvider();\n\n  enableInstrumentations(instrumentations, tracerProvider, meterProvider);\n\n  return () => {\n    disableInstrumentations(instrumentations);\n  };\n}\n", "// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n", "const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n", "const {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n", "// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n", "const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n", "const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (!identifier && identifierBase === false) {\n          throw new Error('invalid increment argument: identifier is empty')\n        }\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n", "const SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n", "const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n", "const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n", "const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n", "const parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // Otherwise it can be determined by checking the high version\n\n    if (highVersion.patch) {\n      // anything higher than a patch bump would result in the wrong version\n      return 'patch'\n    }\n\n    if (highVersion.minor) {\n      // anything higher than a minor bump would result in the wrong version\n      return 'minor'\n    }\n\n    // bumping major/minor/patch all have same result\n    return 'major'\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n", "const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n", "const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n", "const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n", "const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n", "const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n", "const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n", "const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n", "const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n", "const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n", "const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n", "const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n", "const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n", "const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n", "const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n", "const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n", "const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n", "const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n", "const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n", "'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n", "'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n", "'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n", "// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range\n      .trim()\n      .split(/\\s+/)\n      .join(' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => comps.join(' ').trim())\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n", "const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n", "const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n", "const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n", "const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n", "const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n", "const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n", "const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n", "const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n", "// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n", "const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n", "const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n", "// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n", "const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n", "// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n", "'use strict'\n\nfunction isFunction (funktion) {\n  return typeof funktion === 'function'\n}\n\n// Default to complaining loudly when things don't go according to plan.\nvar logger = console.error.bind(console)\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty (obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name)\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  })\n}\n\n// Keep initialization idempotent.\nfunction shimmer (options) {\n  if (options && options.logger) {\n    if (!isFunction(options.logger)) logger(\"new logger isn't a function, not replacing\")\n    else logger = options.logger\n  }\n}\n\nfunction wrap (nodule, name, wrapper) {\n  if (!nodule || !nodule[name]) {\n    logger('no original function ' + name + ' to wrap')\n    return\n  }\n\n  if (!wrapper) {\n    logger('no wrapper function')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!isFunction(nodule[name]) || !isFunction(wrapper)) {\n    logger('original object and wrapper must be functions')\n    return\n  }\n\n  var original = nodule[name]\n  var wrapped = wrapper(original, name)\n\n  defineProperty(wrapped, '__original', original)\n  defineProperty(wrapped, '__unwrap', function () {\n    if (nodule[name] === wrapped) defineProperty(nodule, name, original)\n  })\n  defineProperty(wrapped, '__wrapped', true)\n\n  defineProperty(nodule, name, wrapped)\n  return wrapped\n}\n\nfunction massWrap (nodules, names, wrapper) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to wrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      wrap(nodule, name, wrapper)\n    })\n  })\n}\n\nfunction unwrap (nodule, name) {\n  if (!nodule || !nodule[name]) {\n    logger('no function to unwrap.')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!nodule[name].__unwrap) {\n    logger('no original to unwrap to -- has ' + name + ' already been unwrapped?')\n  } else {\n    return nodule[name].__unwrap()\n  }\n}\n\nfunction massUnwrap (nodules, names) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to unwrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      unwrap(nodule, name)\n    })\n  })\n}\n\nshimmer.wrap = wrap\nshimmer.massWrap = massWrap\nshimmer.unwrap = unwrap\nshimmer.massUnwrap = massUnwrap\n\nmodule.exports = shimmer\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  diag,\n  DiagLogger,\n  metrics,\n  Meter,\n  MeterProvider,\n  trace,\n  Tracer,\n  TracerProvider,\n} from '@opentelemetry/api';\nimport * as shimmer from 'shimmer';\nimport { InstrumentationModuleDefinition } from './platform/node';\nimport * as types from './types';\n\n/**\n * Base abstract internal class for instrumenting node and web plugins\n */\nexport abstract class InstrumentationAbstract<T = any>\n  implements types.Instrumentation\n{\n  protected _config: types.InstrumentationConfig;\n\n  private _tracer: Tracer;\n  private _meter: Meter;\n  protected _diag: DiagLogger;\n\n  constructor(\n    public readonly instrumentationName: string,\n    public readonly instrumentationVersion: string,\n    config: types.InstrumentationConfig = {}\n  ) {\n    this._config = {\n      enabled: true,\n      ...config,\n    };\n\n    this._diag = diag.createComponentLogger({\n      namespace: instrumentationName,\n    });\n\n    this._tracer = trace.getTracer(instrumentationName, instrumentationVersion);\n\n    this._meter = metrics.getMeter(instrumentationName, instrumentationVersion);\n    this._updateMetricInstruments();\n  }\n\n  /* Api to wrap instrumented method */\n  protected _wrap = shimmer.wrap;\n  /* Api to unwrap instrumented methods */\n  protected _unwrap = shimmer.unwrap;\n  /* Api to mass wrap instrumented method */\n  protected _massWrap = shimmer.massWrap;\n  /* Api to mass unwrap instrumented methods */\n  protected _massUnwrap = shimmer.massUnwrap;\n\n  /* Returns meter */\n  protected get meter(): Meter {\n    return this._meter;\n  }\n\n  /**\n   * Sets MeterProvider to this plugin\n   * @param meterProvider\n   */\n  public setMeterProvider(meterProvider: MeterProvider): void {\n    this._meter = meterProvider.getMeter(\n      this.instrumentationName,\n      this.instrumentationVersion\n    );\n\n    this._updateMetricInstruments();\n  }\n\n  /**\n   * Sets the new metric instruments with the current Meter.\n   */\n  protected _updateMetricInstruments(): void {\n    return;\n  }\n\n  /* Returns InstrumentationConfig */\n  public getConfig(): types.InstrumentationConfig {\n    return this._config;\n  }\n\n  /**\n   * Sets InstrumentationConfig to this plugin\n   * @param InstrumentationConfig\n   */\n  public setConfig(config: types.InstrumentationConfig = {}): void {\n    this._config = Object.assign({}, config);\n  }\n\n  /**\n   * Sets TraceProvider to this plugin\n   * @param tracerProvider\n   */\n  public setTracerProvider(tracerProvider: TracerProvider): void {\n    this._tracer = tracerProvider.getTracer(\n      this.instrumentationName,\n      this.instrumentationVersion\n    );\n  }\n\n  /* Returns tracer */\n  protected get tracer(): Tracer {\n    return this._tracer;\n  }\n\n  /* Disable plugin */\n  public abstract enable(): void;\n\n  /* Enable plugin */\n  public abstract disable(): void;\n\n  /**\n   * Init method in which plugin should define _modules and patches for\n   * methods\n   */\n  protected abstract init():\n    | InstrumentationModuleDefinition<T>\n    | InstrumentationModuleDefinition<T>[]\n    | void;\n}\n", "'use strict';\n\nvar os = require('os');\n\n// adapted from https://github.com/sindresorhus/os-homedir/blob/11e089f4754db38bb535e5a8416320c4446e8cfd/index.js\n\nmodule.exports = os.homedir || function homedir() {\n    var home = process.env.HOME;\n    var user = process.env.LOGNAME || process.env.USER || process.env.LNAME || process.env.USERNAME;\n\n    if (process.platform === 'win32') {\n        return process.env.USERPROFILE || process.env.HOMEDRIVE + process.env.HOMEPATH || home || null;\n    }\n\n    if (process.platform === 'darwin') {\n        return home || (user ? '/Users/' + user : null);\n    }\n\n    if (process.platform === 'linux') {\n        return home || (process.getuid() === 0 ? '/root' : (user ? '/home/' + user : null)); // eslint-disable-line no-extra-parens\n    }\n\n    return home || null;\n};\n", "module.exports = function () {\n    // see https://code.google.com/p/v8/wiki/JavaScriptStackTraceApi\n    var origPrepareStackTrace = Error.prepareStackTrace;\n    Error.prepareStackTrace = function (_, stack) { return stack; };\n    var stack = (new Error()).stack;\n    Error.prepareStackTrace = origPrepareStackTrace;\n    return stack[2].getFileName();\n};\n", "'use strict';\n\nvar isWindows = process.platform === 'win32';\n\n// Regex to split a windows path into into [dir, root, basename, name, ext]\nvar splitWindowsRe =\n    /^(((?:[a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?[\\\\\\/]?)(?:[^\\\\\\/]*[\\\\\\/])*)((\\.{1,2}|[^\\\\\\/]+?|)(\\.[^.\\/\\\\]*|))[\\\\\\/]*$/;\n\nvar win32 = {};\n\nfunction win32SplitPath(filename) {\n  return splitWindowsRe.exec(filename).slice(1);\n}\n\nwin32.parse = function(pathString) {\n  if (typeof pathString !== 'string') {\n    throw new TypeError(\n        \"Parameter 'pathString' must be a string, not \" + typeof pathString\n    );\n  }\n  var allParts = win32SplitPath(pathString);\n  if (!allParts || allParts.length !== 5) {\n    throw new TypeError(\"Invalid path '\" + pathString + \"'\");\n  }\n  return {\n    root: allParts[1],\n    dir: allParts[0] === allParts[1] ? allParts[0] : allParts[0].slice(0, -1),\n    base: allParts[2],\n    ext: allParts[4],\n    name: allParts[3]\n  };\n};\n\n\n\n// Split a filename into [dir, root, basename, name, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^((\\/?)(?:[^\\/]*\\/)*)((\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))[\\/]*$/;\nvar posix = {};\n\n\nfunction posixSplitPath(filename) {\n  return splitPathRe.exec(filename).slice(1);\n}\n\n\nposix.parse = function(pathString) {\n  if (typeof pathString !== 'string') {\n    throw new TypeError(\n        \"Parameter 'pathString' must be a string, not \" + typeof pathString\n    );\n  }\n  var allParts = posixSplitPath(pathString);\n  if (!allParts || allParts.length !== 5) {\n    throw new TypeError(\"Invalid path '\" + pathString + \"'\");\n  }\n  \n  return {\n    root: allParts[1],\n    dir: allParts[0].slice(0, -1),\n    base: allParts[2],\n    ext: allParts[4],\n    name: allParts[3],\n  };\n};\n\n\nif (isWindows)\n  module.exports = win32.parse;\nelse /* posix */\n  module.exports = posix.parse;\n\nmodule.exports.posix = posix.parse;\nmodule.exports.win32 = win32.parse;\n", "var path = require('path');\nvar parse = path.parse || require('path-parse'); // eslint-disable-line global-require\n\nvar getNodeModulesDirs = function getNodeModulesDirs(absoluteStart, modules) {\n    var prefix = '/';\n    if ((/^([A-Za-z]:)/).test(absoluteStart)) {\n        prefix = '';\n    } else if ((/^\\\\\\\\/).test(absoluteStart)) {\n        prefix = '\\\\\\\\';\n    }\n\n    var paths = [absoluteStart];\n    var parsed = parse(absoluteStart);\n    while (parsed.dir !== paths[paths.length - 1]) {\n        paths.push(parsed.dir);\n        parsed = parse(parsed.dir);\n    }\n\n    return paths.reduce(function (dirs, aPath) {\n        return dirs.concat(modules.map(function (moduleDir) {\n            return path.resolve(prefix, aPath, moduleDir);\n        }));\n    }, []);\n};\n\nmodule.exports = function nodeModulesPaths(start, opts, request) {\n    var modules = opts && opts.moduleDirectory\n        ? [].concat(opts.moduleDirectory)\n        : ['node_modules'];\n\n    if (opts && typeof opts.paths === 'function') {\n        return opts.paths(\n            request,\n            start,\n            function () { return getNodeModulesDirs(start, modules); },\n            opts\n        );\n    }\n\n    var dirs = getNodeModulesDirs(start, modules);\n    return opts && opts.paths ? dirs.concat(opts.paths) : dirs;\n};\n", "module.exports = function (x, opts) {\n    /**\n     * This file is purposefully a passthrough. It's expected that third-party\n     * environments will override it at runtime in order to inject special logic\n     * into `resolve` (by manipulating the options). One such example is the PnP\n     * code path in Yarn.\n     */\n\n    return opts || {};\n};\n", "'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n", "'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n", "'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n", "{\n\t\"assert\": true,\n\t\"node:assert\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"assert/strict\": \">= 15\",\n\t\"node:assert/strict\": \">= 16\",\n\t\"async_hooks\": \">= 8\",\n\t\"node:async_hooks\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"buffer_ieee754\": \">= 0.5 && < 0.9.7\",\n\t\"buffer\": true,\n\t\"node:buffer\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"child_process\": true,\n\t\"node:child_process\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"cluster\": \">= 0.5\",\n\t\"node:cluster\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"console\": true,\n\t\"node:console\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"constants\": true,\n\t\"node:constants\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"crypto\": true,\n\t\"node:crypto\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_debug_agent\": \">= 1 && < 8\",\n\t\"_debugger\": \"< 8\",\n\t\"dgram\": true,\n\t\"node:dgram\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"diagnostics_channel\": [\">= 14.17 && < 15\", \">= 15.1\"],\n\t\"node:diagnostics_channel\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"dns\": true,\n\t\"node:dns\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"dns/promises\": \">= 15\",\n\t\"node:dns/promises\": \">= 16\",\n\t\"domain\": \">= 0.7.12\",\n\t\"node:domain\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"events\": true,\n\t\"node:events\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"freelist\": \"< 6\",\n\t\"fs\": true,\n\t\"node:fs\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"fs/promises\": [\">= 10 && < 10.1\", \">= 14\"],\n\t\"node:fs/promises\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_http_agent\": \">= 0.11.1\",\n\t\"node:_http_agent\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_http_client\": \">= 0.11.1\",\n\t\"node:_http_client\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_http_common\": \">= 0.11.1\",\n\t\"node:_http_common\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_http_incoming\": \">= 0.11.1\",\n\t\"node:_http_incoming\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_http_outgoing\": \">= 0.11.1\",\n\t\"node:_http_outgoing\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_http_server\": \">= 0.11.1\",\n\t\"node:_http_server\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"http\": true,\n\t\"node:http\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"http2\": \">= 8.8\",\n\t\"node:http2\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"https\": true,\n\t\"node:https\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"inspector\": \">= 8\",\n\t\"node:inspector\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"inspector/promises\": [\">= 19\"],\n\t\"node:inspector/promises\": [\">= 19\"],\n\t\"_linklist\": \"< 8\",\n\t\"module\": true,\n\t\"node:module\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"net\": true,\n\t\"node:net\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"node-inspect/lib/_inspect\": \">= 7.6 && < 12\",\n\t\"node-inspect/lib/internal/inspect_client\": \">= 7.6 && < 12\",\n\t\"node-inspect/lib/internal/inspect_repl\": \">= 7.6 && < 12\",\n\t\"os\": true,\n\t\"node:os\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"path\": true,\n\t\"node:path\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"path/posix\": \">= 15.3\",\n\t\"node:path/posix\": \">= 16\",\n\t\"path/win32\": \">= 15.3\",\n\t\"node:path/win32\": \">= 16\",\n\t\"perf_hooks\": \">= 8.5\",\n\t\"node:perf_hooks\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"process\": \">= 1\",\n\t\"node:process\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"punycode\": \">= 0.5\",\n\t\"node:punycode\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"querystring\": true,\n\t\"node:querystring\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"readline\": true,\n\t\"node:readline\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"readline/promises\": \">= 17\",\n\t\"node:readline/promises\": \">= 17\",\n\t\"repl\": true,\n\t\"node:repl\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"smalloc\": \">= 0.11.5 && < 3\",\n\t\"_stream_duplex\": \">= 0.9.4\",\n\t\"node:_stream_duplex\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_stream_transform\": \">= 0.9.4\",\n\t\"node:_stream_transform\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_stream_wrap\": \">= 1.4.1\",\n\t\"node:_stream_wrap\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_stream_passthrough\": \">= 0.9.4\",\n\t\"node:_stream_passthrough\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_stream_readable\": \">= 0.9.4\",\n\t\"node:_stream_readable\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_stream_writable\": \">= 0.9.4\",\n\t\"node:_stream_writable\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"stream\": true,\n\t\"node:stream\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"stream/consumers\": \">= 16.7\",\n\t\"node:stream/consumers\": \">= 16.7\",\n\t\"stream/promises\": \">= 15\",\n\t\"node:stream/promises\": \">= 16\",\n\t\"stream/web\": \">= 16.5\",\n\t\"node:stream/web\": \">= 16.5\",\n\t\"string_decoder\": true,\n\t\"node:string_decoder\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"sys\": [\">= 0.4 && < 0.7\", \">= 0.8\"],\n\t\"node:sys\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"test/reporters\": \">= 19.9 && < 20.2\",\n\t\"node:test/reporters\": [\">= 19.9\", \">= 20\"],\n\t\"node:test\": [\">= 16.17 && < 17\", \">= 18\"],\n\t\"timers\": true,\n\t\"node:timers\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"timers/promises\": \">= 15\",\n\t\"node:timers/promises\": \">= 16\",\n\t\"_tls_common\": \">= 0.11.13\",\n\t\"node:_tls_common\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_tls_legacy\": \">= 0.11.3 && < 10\",\n\t\"_tls_wrap\": \">= 0.11.3\",\n\t\"node:_tls_wrap\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"tls\": true,\n\t\"node:tls\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"trace_events\": \">= 10\",\n\t\"node:trace_events\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"tty\": true,\n\t\"node:tty\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"url\": true,\n\t\"node:url\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"util\": true,\n\t\"node:util\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"util/types\": \">= 15.3\",\n\t\"node:util/types\": \">= 16\",\n\t\"v8/tools/arguments\": \">= 10 && < 12\",\n\t\"v8/tools/codemap\": [\">= 4.4 && < 5\", \">= 5.2 && < 12\"],\n\t\"v8/tools/consarray\": [\">= 4.4 && < 5\", \">= 5.2 && < 12\"],\n\t\"v8/tools/csvparser\": [\">= 4.4 && < 5\", \">= 5.2 && < 12\"],\n\t\"v8/tools/logreader\": [\">= 4.4 && < 5\", \">= 5.2 && < 12\"],\n\t\"v8/tools/profile_view\": [\">= 4.4 && < 5\", \">= 5.2 && < 12\"],\n\t\"v8/tools/splaytree\": [\">= 4.4 && < 5\", \">= 5.2 && < 12\"],\n\t\"v8\": \">= 1\",\n\t\"node:v8\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"vm\": true,\n\t\"node:vm\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"wasi\": [\">= 13.4 && < 13.5\", \">= 20\"],\n\t\"node:wasi\": \">= 20\",\n\t\"worker_threads\": \">= 11.7\",\n\t\"node:worker_threads\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"zlib\": \">= 0.5\",\n\t\"node:zlib\": [\">= 14.18 && < 15\", \">= 16\"]\n}\n", "'use strict';\n\nvar has = require('has');\n\nfunction specifierIncluded(current, specifier) {\n\tvar nodeParts = current.split('.');\n\tvar parts = specifier.split(' ');\n\tvar op = parts.length > 1 ? parts[0] : '=';\n\tvar versionParts = (parts.length > 1 ? parts[1] : parts[0]).split('.');\n\n\tfor (var i = 0; i < 3; ++i) {\n\t\tvar cur = parseInt(nodeParts[i] || 0, 10);\n\t\tvar ver = parseInt(versionParts[i] || 0, 10);\n\t\tif (cur === ver) {\n\t\t\tcontinue; // eslint-disable-line no-restricted-syntax, no-continue\n\t\t}\n\t\tif (op === '<') {\n\t\t\treturn cur < ver;\n\t\t}\n\t\tif (op === '>=') {\n\t\t\treturn cur >= ver;\n\t\t}\n\t\treturn false;\n\t}\n\treturn op === '>=';\n}\n\nfunction matchesRange(current, range) {\n\tvar specifiers = range.split(/ ?&& ?/);\n\tif (specifiers.length === 0) {\n\t\treturn false;\n\t}\n\tfor (var i = 0; i < specifiers.length; ++i) {\n\t\tif (!specifierIncluded(current, specifiers[i])) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\nfunction versionIncluded(nodeVersion, specifierValue) {\n\tif (typeof specifierValue === 'boolean') {\n\t\treturn specifierValue;\n\t}\n\n\tvar current = typeof nodeVersion === 'undefined'\n\t\t? process.versions && process.versions.node\n\t\t: nodeVersion;\n\n\tif (typeof current !== 'string') {\n\t\tthrow new TypeError(typeof nodeVersion === 'undefined' ? 'Unable to determine current node version' : 'If provided, a valid node version is required');\n\t}\n\n\tif (specifierValue && typeof specifierValue === 'object') {\n\t\tfor (var i = 0; i < specifierValue.length; ++i) {\n\t\t\tif (matchesRange(current, specifierValue[i])) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\treturn matchesRange(current, specifierValue);\n}\n\nvar data = require('./core.json');\n\nmodule.exports = function isCore(x, nodeVersion) {\n\treturn has(data, x) && versionIncluded(nodeVersion, data[x]);\n};\n", "var fs = require('fs');\nvar getHomedir = require('./homedir');\nvar path = require('path');\nvar caller = require('./caller');\nvar nodeModulesPaths = require('./node-modules-paths');\nvar normalizeOptions = require('./normalize-options');\nvar isCore = require('is-core-module');\n\nvar realpathFS = process.platform !== 'win32' && fs.realpath && typeof fs.realpath.native === 'function' ? fs.realpath.native : fs.realpath;\n\nvar homedir = getHomedir();\nvar defaultPaths = function () {\n    return [\n        path.join(homedir, '.node_modules'),\n        path.join(homedir, '.node_libraries')\n    ];\n};\n\nvar defaultIsFile = function isFile(file, cb) {\n    fs.stat(file, function (err, stat) {\n        if (!err) {\n            return cb(null, stat.isFile() || stat.isFIFO());\n        }\n        if (err.code === 'ENOENT' || err.code === 'ENOTDIR') return cb(null, false);\n        return cb(err);\n    });\n};\n\nvar defaultIsDir = function isDirectory(dir, cb) {\n    fs.stat(dir, function (err, stat) {\n        if (!err) {\n            return cb(null, stat.isDirectory());\n        }\n        if (err.code === 'ENOENT' || err.code === 'ENOTDIR') return cb(null, false);\n        return cb(err);\n    });\n};\n\nvar defaultRealpath = function realpath(x, cb) {\n    realpathFS(x, function (realpathErr, realPath) {\n        if (realpathErr && realpathErr.code !== 'ENOENT') cb(realpathErr);\n        else cb(null, realpathErr ? x : realPath);\n    });\n};\n\nvar maybeRealpath = function maybeRealpath(realpath, x, opts, cb) {\n    if (opts && opts.preserveSymlinks === false) {\n        realpath(x, cb);\n    } else {\n        cb(null, x);\n    }\n};\n\nvar defaultReadPackage = function defaultReadPackage(readFile, pkgfile, cb) {\n    readFile(pkgfile, function (readFileErr, body) {\n        if (readFileErr) cb(readFileErr);\n        else {\n            try {\n                var pkg = JSON.parse(body);\n                cb(null, pkg);\n            } catch (jsonErr) {\n                cb(null);\n            }\n        }\n    });\n};\n\nvar getPackageCandidates = function getPackageCandidates(x, start, opts) {\n    var dirs = nodeModulesPaths(start, opts, x);\n    for (var i = 0; i < dirs.length; i++) {\n        dirs[i] = path.join(dirs[i], x);\n    }\n    return dirs;\n};\n\nmodule.exports = function resolve(x, options, callback) {\n    var cb = callback;\n    var opts = options;\n    if (typeof options === 'function') {\n        cb = opts;\n        opts = {};\n    }\n    if (typeof x !== 'string') {\n        var err = new TypeError('Path must be a string.');\n        return process.nextTick(function () {\n            cb(err);\n        });\n    }\n\n    opts = normalizeOptions(x, opts);\n\n    var isFile = opts.isFile || defaultIsFile;\n    var isDirectory = opts.isDirectory || defaultIsDir;\n    var readFile = opts.readFile || fs.readFile;\n    var realpath = opts.realpath || defaultRealpath;\n    var readPackage = opts.readPackage || defaultReadPackage;\n    if (opts.readFile && opts.readPackage) {\n        var conflictErr = new TypeError('`readFile` and `readPackage` are mutually exclusive.');\n        return process.nextTick(function () {\n            cb(conflictErr);\n        });\n    }\n    var packageIterator = opts.packageIterator;\n\n    var extensions = opts.extensions || ['.js'];\n    var includeCoreModules = opts.includeCoreModules !== false;\n    var basedir = opts.basedir || path.dirname(caller());\n    var parent = opts.filename || basedir;\n\n    opts.paths = opts.paths || defaultPaths();\n\n    // ensure that `basedir` is an absolute path at this point, resolving against the process' current working directory\n    var absoluteStart = path.resolve(basedir);\n\n    maybeRealpath(\n        realpath,\n        absoluteStart,\n        opts,\n        function (err, realStart) {\n            if (err) cb(err);\n            else init(realStart);\n        }\n    );\n\n    var res;\n    function init(basedir) {\n        if ((/^(?:\\.\\.?(?:\\/|$)|\\/|([A-Za-z]:)?[/\\\\])/).test(x)) {\n            res = path.resolve(basedir, x);\n            if (x === '.' || x === '..' || x.slice(-1) === '/') res += '/';\n            if ((/\\/$/).test(x) && res === basedir) {\n                loadAsDirectory(res, opts.package, onfile);\n            } else loadAsFile(res, opts.package, onfile);\n        } else if (includeCoreModules && isCore(x)) {\n            return cb(null, x);\n        } else loadNodeModules(x, basedir, function (err, n, pkg) {\n            if (err) cb(err);\n            else if (n) {\n                return maybeRealpath(realpath, n, opts, function (err, realN) {\n                    if (err) {\n                        cb(err);\n                    } else {\n                        cb(null, realN, pkg);\n                    }\n                });\n            } else {\n                var moduleError = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n                moduleError.code = 'MODULE_NOT_FOUND';\n                cb(moduleError);\n            }\n        });\n    }\n\n    function onfile(err, m, pkg) {\n        if (err) cb(err);\n        else if (m) cb(null, m, pkg);\n        else loadAsDirectory(res, function (err, d, pkg) {\n            if (err) cb(err);\n            else if (d) {\n                maybeRealpath(realpath, d, opts, function (err, realD) {\n                    if (err) {\n                        cb(err);\n                    } else {\n                        cb(null, realD, pkg);\n                    }\n                });\n            } else {\n                var moduleError = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n                moduleError.code = 'MODULE_NOT_FOUND';\n                cb(moduleError);\n            }\n        });\n    }\n\n    function loadAsFile(x, thePackage, callback) {\n        var loadAsFilePackage = thePackage;\n        var cb = callback;\n        if (typeof loadAsFilePackage === 'function') {\n            cb = loadAsFilePackage;\n            loadAsFilePackage = undefined;\n        }\n\n        var exts = [''].concat(extensions);\n        load(exts, x, loadAsFilePackage);\n\n        function load(exts, x, loadPackage) {\n            if (exts.length === 0) return cb(null, undefined, loadPackage);\n            var file = x + exts[0];\n\n            var pkg = loadPackage;\n            if (pkg) onpkg(null, pkg);\n            else loadpkg(path.dirname(file), onpkg);\n\n            function onpkg(err, pkg_, dir) {\n                pkg = pkg_;\n                if (err) return cb(err);\n                if (dir && pkg && opts.pathFilter) {\n                    var rfile = path.relative(dir, file);\n                    var rel = rfile.slice(0, rfile.length - exts[0].length);\n                    var r = opts.pathFilter(pkg, x, rel);\n                    if (r) return load(\n                        [''].concat(extensions.slice()),\n                        path.resolve(dir, r),\n                        pkg\n                    );\n                }\n                isFile(file, onex);\n            }\n            function onex(err, ex) {\n                if (err) return cb(err);\n                if (ex) return cb(null, file, pkg);\n                load(exts.slice(1), x, pkg);\n            }\n        }\n    }\n\n    function loadpkg(dir, cb) {\n        if (dir === '' || dir === '/') return cb(null);\n        if (process.platform === 'win32' && (/^\\w:[/\\\\]*$/).test(dir)) {\n            return cb(null);\n        }\n        if ((/[/\\\\]node_modules[/\\\\]*$/).test(dir)) return cb(null);\n\n        maybeRealpath(realpath, dir, opts, function (unwrapErr, pkgdir) {\n            if (unwrapErr) return loadpkg(path.dirname(dir), cb);\n            var pkgfile = path.join(pkgdir, 'package.json');\n            isFile(pkgfile, function (err, ex) {\n                // on err, ex is false\n                if (!ex) return loadpkg(path.dirname(dir), cb);\n\n                readPackage(readFile, pkgfile, function (err, pkgParam) {\n                    if (err) cb(err);\n\n                    var pkg = pkgParam;\n\n                    if (pkg && opts.packageFilter) {\n                        pkg = opts.packageFilter(pkg, pkgfile);\n                    }\n                    cb(null, pkg, dir);\n                });\n            });\n        });\n    }\n\n    function loadAsDirectory(x, loadAsDirectoryPackage, callback) {\n        var cb = callback;\n        var fpkg = loadAsDirectoryPackage;\n        if (typeof fpkg === 'function') {\n            cb = fpkg;\n            fpkg = opts.package;\n        }\n\n        maybeRealpath(realpath, x, opts, function (unwrapErr, pkgdir) {\n            if (unwrapErr) return cb(unwrapErr);\n            var pkgfile = path.join(pkgdir, 'package.json');\n            isFile(pkgfile, function (err, ex) {\n                if (err) return cb(err);\n                if (!ex) return loadAsFile(path.join(x, 'index'), fpkg, cb);\n\n                readPackage(readFile, pkgfile, function (err, pkgParam) {\n                    if (err) return cb(err);\n\n                    var pkg = pkgParam;\n\n                    if (pkg && opts.packageFilter) {\n                        pkg = opts.packageFilter(pkg, pkgfile);\n                    }\n\n                    if (pkg && pkg.main) {\n                        if (typeof pkg.main !== 'string') {\n                            var mainError = new TypeError('package \u201C' + pkg.name + '\u201D `main` must be a string');\n                            mainError.code = 'INVALID_PACKAGE_MAIN';\n                            return cb(mainError);\n                        }\n                        if (pkg.main === '.' || pkg.main === './') {\n                            pkg.main = 'index';\n                        }\n                        loadAsFile(path.resolve(x, pkg.main), pkg, function (err, m, pkg) {\n                            if (err) return cb(err);\n                            if (m) return cb(null, m, pkg);\n                            if (!pkg) return loadAsFile(path.join(x, 'index'), pkg, cb);\n\n                            var dir = path.resolve(x, pkg.main);\n                            loadAsDirectory(dir, pkg, function (err, n, pkg) {\n                                if (err) return cb(err);\n                                if (n) return cb(null, n, pkg);\n                                loadAsFile(path.join(x, 'index'), pkg, cb);\n                            });\n                        });\n                        return;\n                    }\n\n                    loadAsFile(path.join(x, '/index'), pkg, cb);\n                });\n            });\n        });\n    }\n\n    function processDirs(cb, dirs) {\n        if (dirs.length === 0) return cb(null, undefined);\n        var dir = dirs[0];\n\n        isDirectory(path.dirname(dir), isdir);\n\n        function isdir(err, isdir) {\n            if (err) return cb(err);\n            if (!isdir) return processDirs(cb, dirs.slice(1));\n            loadAsFile(dir, opts.package, onfile);\n        }\n\n        function onfile(err, m, pkg) {\n            if (err) return cb(err);\n            if (m) return cb(null, m, pkg);\n            loadAsDirectory(dir, opts.package, ondir);\n        }\n\n        function ondir(err, n, pkg) {\n            if (err) return cb(err);\n            if (n) return cb(null, n, pkg);\n            processDirs(cb, dirs.slice(1));\n        }\n    }\n    function loadNodeModules(x, start, cb) {\n        var thunk = function () { return getPackageCandidates(x, start, opts); };\n        processDirs(\n            cb,\n            packageIterator ? packageIterator(x, start, thunk, opts) : thunk()\n        );\n    }\n};\n", "{\n\t\"assert\": true,\n\t\"node:assert\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"assert/strict\": \">= 15\",\n\t\"node:assert/strict\": \">= 16\",\n\t\"async_hooks\": \">= 8\",\n\t\"node:async_hooks\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"buffer_ieee754\": \">= 0.5 && < 0.9.7\",\n\t\"buffer\": true,\n\t\"node:buffer\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"child_process\": true,\n\t\"node:child_process\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"cluster\": \">= 0.5\",\n\t\"node:cluster\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"console\": true,\n\t\"node:console\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"constants\": true,\n\t\"node:constants\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"crypto\": true,\n\t\"node:crypto\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_debug_agent\": \">= 1 && < 8\",\n\t\"_debugger\": \"< 8\",\n\t\"dgram\": true,\n\t\"node:dgram\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"diagnostics_channel\": [\">= 14.17 && < 15\", \">= 15.1\"],\n\t\"node:diagnostics_channel\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"dns\": true,\n\t\"node:dns\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"dns/promises\": \">= 15\",\n\t\"node:dns/promises\": \">= 16\",\n\t\"domain\": \">= 0.7.12\",\n\t\"node:domain\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"events\": true,\n\t\"node:events\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"freelist\": \"< 6\",\n\t\"fs\": true,\n\t\"node:fs\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"fs/promises\": [\">= 10 && < 10.1\", \">= 14\"],\n\t\"node:fs/promises\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_http_agent\": \">= 0.11.1\",\n\t\"node:_http_agent\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_http_client\": \">= 0.11.1\",\n\t\"node:_http_client\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_http_common\": \">= 0.11.1\",\n\t\"node:_http_common\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_http_incoming\": \">= 0.11.1\",\n\t\"node:_http_incoming\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_http_outgoing\": \">= 0.11.1\",\n\t\"node:_http_outgoing\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_http_server\": \">= 0.11.1\",\n\t\"node:_http_server\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"http\": true,\n\t\"node:http\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"http2\": \">= 8.8\",\n\t\"node:http2\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"https\": true,\n\t\"node:https\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"inspector\": \">= 8\",\n\t\"node:inspector\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"inspector/promises\": [\">= 19\"],\n\t\"node:inspector/promises\": [\">= 19\"],\n\t\"_linklist\": \"< 8\",\n\t\"module\": true,\n\t\"node:module\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"net\": true,\n\t\"node:net\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"node-inspect/lib/_inspect\": \">= 7.6 && < 12\",\n\t\"node-inspect/lib/internal/inspect_client\": \">= 7.6 && < 12\",\n\t\"node-inspect/lib/internal/inspect_repl\": \">= 7.6 && < 12\",\n\t\"os\": true,\n\t\"node:os\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"path\": true,\n\t\"node:path\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"path/posix\": \">= 15.3\",\n\t\"node:path/posix\": \">= 16\",\n\t\"path/win32\": \">= 15.3\",\n\t\"node:path/win32\": \">= 16\",\n\t\"perf_hooks\": \">= 8.5\",\n\t\"node:perf_hooks\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"process\": \">= 1\",\n\t\"node:process\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"punycode\": \">= 0.5\",\n\t\"node:punycode\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"querystring\": true,\n\t\"node:querystring\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"readline\": true,\n\t\"node:readline\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"readline/promises\": \">= 17\",\n\t\"node:readline/promises\": \">= 17\",\n\t\"repl\": true,\n\t\"node:repl\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"smalloc\": \">= 0.11.5 && < 3\",\n\t\"_stream_duplex\": \">= 0.9.4\",\n\t\"node:_stream_duplex\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_stream_transform\": \">= 0.9.4\",\n\t\"node:_stream_transform\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_stream_wrap\": \">= 1.4.1\",\n\t\"node:_stream_wrap\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_stream_passthrough\": \">= 0.9.4\",\n\t\"node:_stream_passthrough\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_stream_readable\": \">= 0.9.4\",\n\t\"node:_stream_readable\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_stream_writable\": \">= 0.9.4\",\n\t\"node:_stream_writable\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"stream\": true,\n\t\"node:stream\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"stream/consumers\": \">= 16.7\",\n\t\"node:stream/consumers\": \">= 16.7\",\n\t\"stream/promises\": \">= 15\",\n\t\"node:stream/promises\": \">= 16\",\n\t\"stream/web\": \">= 16.5\",\n\t\"node:stream/web\": \">= 16.5\",\n\t\"string_decoder\": true,\n\t\"node:string_decoder\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"sys\": [\">= 0.4 && < 0.7\", \">= 0.8\"],\n\t\"node:sys\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"node:test\": [\">= 16.17 && < 17\", \">= 18\"],\n\t\"timers\": true,\n\t\"node:timers\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"timers/promises\": \">= 15\",\n\t\"node:timers/promises\": \">= 16\",\n\t\"_tls_common\": \">= 0.11.13\",\n\t\"node:_tls_common\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"_tls_legacy\": \">= 0.11.3 && < 10\",\n\t\"_tls_wrap\": \">= 0.11.3\",\n\t\"node:_tls_wrap\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"tls\": true,\n\t\"node:tls\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"trace_events\": \">= 10\",\n\t\"node:trace_events\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"tty\": true,\n\t\"node:tty\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"url\": true,\n\t\"node:url\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"util\": true,\n\t\"node:util\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"util/types\": \">= 15.3\",\n\t\"node:util/types\": \">= 16\",\n\t\"v8/tools/arguments\": \">= 10 && < 12\",\n\t\"v8/tools/codemap\": [\">= 4.4 && < 5\", \">= 5.2 && < 12\"],\n\t\"v8/tools/consarray\": [\">= 4.4 && < 5\", \">= 5.2 && < 12\"],\n\t\"v8/tools/csvparser\": [\">= 4.4 && < 5\", \">= 5.2 && < 12\"],\n\t\"v8/tools/logreader\": [\">= 4.4 && < 5\", \">= 5.2 && < 12\"],\n\t\"v8/tools/profile_view\": [\">= 4.4 && < 5\", \">= 5.2 && < 12\"],\n\t\"v8/tools/splaytree\": [\">= 4.4 && < 5\", \">= 5.2 && < 12\"],\n\t\"v8\": \">= 1\",\n\t\"node:v8\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"vm\": true,\n\t\"node:vm\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"wasi\": \">= 13.4 && < 13.5\",\n\t\"worker_threads\": \">= 11.7\",\n\t\"node:worker_threads\": [\">= 14.18 && < 15\", \">= 16\"],\n\t\"zlib\": \">= 0.5\",\n\t\"node:zlib\": [\">= 14.18 && < 15\", \">= 16\"]\n}\n", "'use strict';\n\nvar isCoreModule = require('is-core-module');\nvar data = require('./core.json');\n\nvar core = {};\nfor (var mod in data) { // eslint-disable-line no-restricted-syntax\n    if (Object.prototype.hasOwnProperty.call(data, mod)) {\n        core[mod] = isCoreModule(mod);\n    }\n}\nmodule.exports = core;\n", "var isCoreModule = require('is-core-module');\n\nmodule.exports = function isCore(x) {\n    return isCoreModule(x);\n};\n", "var isCore = require('is-core-module');\nvar fs = require('fs');\nvar path = require('path');\nvar getHomedir = require('./homedir');\nvar caller = require('./caller');\nvar nodeModulesPaths = require('./node-modules-paths');\nvar normalizeOptions = require('./normalize-options');\n\nvar realpathFS = process.platform !== 'win32' && fs.realpathSync && typeof fs.realpathSync.native === 'function' ? fs.realpathSync.native : fs.realpathSync;\n\nvar homedir = getHomedir();\nvar defaultPaths = function () {\n    return [\n        path.join(homedir, '.node_modules'),\n        path.join(homedir, '.node_libraries')\n    ];\n};\n\nvar defaultIsFile = function isFile(file) {\n    try {\n        var stat = fs.statSync(file, { throwIfNoEntry: false });\n    } catch (e) {\n        if (e && (e.code === 'ENOENT' || e.code === 'ENOTDIR')) return false;\n        throw e;\n    }\n    return !!stat && (stat.isFile() || stat.isFIFO());\n};\n\nvar defaultIsDir = function isDirectory(dir) {\n    try {\n        var stat = fs.statSync(dir, { throwIfNoEntry: false });\n    } catch (e) {\n        if (e && (e.code === 'ENOENT' || e.code === 'ENOTDIR')) return false;\n        throw e;\n    }\n    return !!stat && stat.isDirectory();\n};\n\nvar defaultRealpathSync = function realpathSync(x) {\n    try {\n        return realpathFS(x);\n    } catch (realpathErr) {\n        if (realpathErr.code !== 'ENOENT') {\n            throw realpathErr;\n        }\n    }\n    return x;\n};\n\nvar maybeRealpathSync = function maybeRealpathSync(realpathSync, x, opts) {\n    if (opts && opts.preserveSymlinks === false) {\n        return realpathSync(x);\n    }\n    return x;\n};\n\nvar defaultReadPackageSync = function defaultReadPackageSync(readFileSync, pkgfile) {\n    var body = readFileSync(pkgfile);\n    try {\n        var pkg = JSON.parse(body);\n        return pkg;\n    } catch (jsonErr) {}\n};\n\nvar getPackageCandidates = function getPackageCandidates(x, start, opts) {\n    var dirs = nodeModulesPaths(start, opts, x);\n    for (var i = 0; i < dirs.length; i++) {\n        dirs[i] = path.join(dirs[i], x);\n    }\n    return dirs;\n};\n\nmodule.exports = function resolveSync(x, options) {\n    if (typeof x !== 'string') {\n        throw new TypeError('Path must be a string.');\n    }\n    var opts = normalizeOptions(x, options);\n\n    var isFile = opts.isFile || defaultIsFile;\n    var readFileSync = opts.readFileSync || fs.readFileSync;\n    var isDirectory = opts.isDirectory || defaultIsDir;\n    var realpathSync = opts.realpathSync || defaultRealpathSync;\n    var readPackageSync = opts.readPackageSync || defaultReadPackageSync;\n    if (opts.readFileSync && opts.readPackageSync) {\n        throw new TypeError('`readFileSync` and `readPackageSync` are mutually exclusive.');\n    }\n    var packageIterator = opts.packageIterator;\n\n    var extensions = opts.extensions || ['.js'];\n    var includeCoreModules = opts.includeCoreModules !== false;\n    var basedir = opts.basedir || path.dirname(caller());\n    var parent = opts.filename || basedir;\n\n    opts.paths = opts.paths || defaultPaths();\n\n    // ensure that `basedir` is an absolute path at this point, resolving against the process' current working directory\n    var absoluteStart = maybeRealpathSync(realpathSync, path.resolve(basedir), opts);\n\n    if ((/^(?:\\.\\.?(?:\\/|$)|\\/|([A-Za-z]:)?[/\\\\])/).test(x)) {\n        var res = path.resolve(absoluteStart, x);\n        if (x === '.' || x === '..' || x.slice(-1) === '/') res += '/';\n        var m = loadAsFileSync(res) || loadAsDirectorySync(res);\n        if (m) return maybeRealpathSync(realpathSync, m, opts);\n    } else if (includeCoreModules && isCore(x)) {\n        return x;\n    } else {\n        var n = loadNodeModulesSync(x, absoluteStart);\n        if (n) return maybeRealpathSync(realpathSync, n, opts);\n    }\n\n    var err = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n\n    function loadAsFileSync(x) {\n        var pkg = loadpkg(path.dirname(x));\n\n        if (pkg && pkg.dir && pkg.pkg && opts.pathFilter) {\n            var rfile = path.relative(pkg.dir, x);\n            var r = opts.pathFilter(pkg.pkg, x, rfile);\n            if (r) {\n                x = path.resolve(pkg.dir, r); // eslint-disable-line no-param-reassign\n            }\n        }\n\n        if (isFile(x)) {\n            return x;\n        }\n\n        for (var i = 0; i < extensions.length; i++) {\n            var file = x + extensions[i];\n            if (isFile(file)) {\n                return file;\n            }\n        }\n    }\n\n    function loadpkg(dir) {\n        if (dir === '' || dir === '/') return;\n        if (process.platform === 'win32' && (/^\\w:[/\\\\]*$/).test(dir)) {\n            return;\n        }\n        if ((/[/\\\\]node_modules[/\\\\]*$/).test(dir)) return;\n\n        var pkgfile = path.join(maybeRealpathSync(realpathSync, dir, opts), 'package.json');\n\n        if (!isFile(pkgfile)) {\n            return loadpkg(path.dirname(dir));\n        }\n\n        var pkg = readPackageSync(readFileSync, pkgfile);\n\n        if (pkg && opts.packageFilter) {\n            // v2 will pass pkgfile\n            pkg = opts.packageFilter(pkg, /*pkgfile,*/ dir); // eslint-disable-line spaced-comment\n        }\n\n        return { pkg: pkg, dir: dir };\n    }\n\n    function loadAsDirectorySync(x) {\n        var pkgfile = path.join(maybeRealpathSync(realpathSync, x, opts), '/package.json');\n        if (isFile(pkgfile)) {\n            try {\n                var pkg = readPackageSync(readFileSync, pkgfile);\n            } catch (e) {}\n\n            if (pkg && opts.packageFilter) {\n                // v2 will pass pkgfile\n                pkg = opts.packageFilter(pkg, /*pkgfile,*/ x); // eslint-disable-line spaced-comment\n            }\n\n            if (pkg && pkg.main) {\n                if (typeof pkg.main !== 'string') {\n                    var mainError = new TypeError('package \u201C' + pkg.name + '\u201D `main` must be a string');\n                    mainError.code = 'INVALID_PACKAGE_MAIN';\n                    throw mainError;\n                }\n                if (pkg.main === '.' || pkg.main === './') {\n                    pkg.main = 'index';\n                }\n                try {\n                    var m = loadAsFileSync(path.resolve(x, pkg.main));\n                    if (m) return m;\n                    var n = loadAsDirectorySync(path.resolve(x, pkg.main));\n                    if (n) return n;\n                } catch (e) {}\n            }\n        }\n\n        return loadAsFileSync(path.join(x, '/index'));\n    }\n\n    function loadNodeModulesSync(x, start) {\n        var thunk = function () { return getPackageCandidates(x, start, opts); };\n        var dirs = packageIterator ? packageIterator(x, start, thunk, opts) : thunk();\n\n        for (var i = 0; i < dirs.length; i++) {\n            var dir = dirs[i];\n            if (isDirectory(path.dirname(dir))) {\n                var m = loadAsFileSync(dir);\n                if (m) return m;\n                var n = loadAsDirectorySync(dir);\n                if (n) return n;\n            }\n        }\n    }\n};\n", "var async = require('./lib/async');\nasync.core = require('./lib/core');\nasync.isCore = require('./lib/is-core');\nasync.sync = require('./lib/sync');\n\nmodule.exports = async;\n", "/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n", "\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n", "/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n", "'use strict';\nmodule.exports = (flag, argv) => {\n\targv = argv || process.argv;\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst pos = argv.indexOf(prefix + flag);\n\tconst terminatorPos = argv.indexOf('--');\n\treturn pos !== -1 && (terminatorPos === -1 ? true : pos < terminatorPos);\n};\n", "'use strict';\nconst os = require('os');\nconst hasFlag = require('has-flag');\n\nconst env = process.env;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false')) {\n\tforceColor = false;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = true;\n}\nif ('FORCE_COLOR' in env) {\n\tforceColor = env.FORCE_COLOR.length === 0 || parseInt(env.FORCE_COLOR, 10) !== 0;\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(stream) {\n\tif (forceColor === false) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (stream && !stream.isTTY && forceColor !== true) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor ? 1 : 0;\n\n\tif (process.platform === 'win32') {\n\t\t// Node.js 7.5.0 is the first version of Node.js to include a patch to\n\t\t// libuv that enables 256 color output on Windows. Anything earlier and it\n\t\t// won't work. However, here we target Node.js 8 at minimum as it is an LTS\n\t\t// release, and Node.js 7 is not. Windows 10 build 10586 is the first Windows\n\t\t// release that supports 256 colors. Windows 10 build 14931 is the first release\n\t\t// that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(process.versions.node.split('.')[0]) >= 8 &&\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: getSupportLevel(process.stdout),\n\tstderr: getSupportLevel(process.stderr)\n};\n", "/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n", "/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n", "'use strict'\n\nvar path = require('path')\n\nmodule.exports = function (file) {\n  var segments = file.split(path.sep)\n  var index = segments.lastIndexOf('node_modules')\n  if (index === -1) return\n  if (!segments[index + 1]) return\n  var scoped = segments[index + 1][0] === '@'\n  var name = scoped ? segments[index + 1] + '/' + segments[index + 2] : segments[index + 1]\n  var offset = scoped ? 3 : 2\n  return {\n    name: name,\n    basedir: segments.slice(0, index + offset).join(path.sep),\n    path: segments.slice(index + offset).join(path.sep)\n  }\n}\n", "{\n  \"name\": \"require-in-the-middle\",\n  \"version\": \"7.2.0\",\n  \"description\": \"Module to hook into the Node.js require function\",\n  \"main\": \"index.js\",\n  \"types\": \"types/index.d.ts\",\n  \"dependencies\": {\n    \"debug\": \"^4.1.1\",\n    \"module-details-from-path\": \"^1.0.3\",\n    \"resolve\": \"^1.22.1\"\n  },\n  \"devDependencies\": {\n    \"@babel/core\": \"^7.9.0\",\n    \"@babel/preset-env\": \"^7.9.5\",\n    \"@babel/preset-typescript\": \"^7.9.0\",\n    \"@babel/register\": \"^7.9.0\",\n    \"ipp-printer\": \"^1.0.0\",\n    \"patterns\": \"^1.0.3\",\n    \"roundround\": \"^0.2.0\",\n    \"semver\": \"^6.3.0\",\n    \"standard\": \"^14.3.1\",\n    \"tape\": \"^4.11.0\"\n  },\n  \"scripts\": {\n    \"test\": \"npm run test:lint && npm run test:tape && npm run test:babel\",\n    \"test:lint\": \"standard\",\n    \"test:tape\": \"tape test/*.js\",\n    \"test:babel\": \"node test/babel/babel-register.js\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/elastic/require-in-the-middle.git\"\n  },\n  \"keywords\": [\n    \"require\",\n    \"hook\",\n    \"shim\",\n    \"shimmer\",\n    \"shimming\",\n    \"patch\",\n    \"monkey\",\n    \"monkeypatch\",\n    \"module\",\n    \"load\"\n  ],\n  \"files\": [\n    \"types\"\n  ],\n  \"author\": \"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)\",\n  \"license\": \"MIT\",\n  \"bugs\": {\n    \"url\": \"https://github.com/elastic/require-in-the-middle/issues\"\n  },\n  \"homepage\": \"https://github.com/elastic/require-in-the-middle#readme\",\n  \"engines\": {\n    \"node\": \">=8.6.0\"\n  }\n}\n", "'use strict'\n\nconst path = require('path')\nconst Module = require('module')\nconst resolve = require('resolve')\nconst debug = require('debug')('require-in-the-middle')\nconst moduleDetailsFromPath = require('module-details-from-path')\n\n// Using the default export is discouraged, but kept for backward compatibility.\n// Use this instead:\n//    const { Hook } = require('require-in-the-middle')\nmodule.exports = Hook\nmodule.exports.Hook = Hook\n\n/**\n * Is the given module a \"core\" module?\n * https://nodejs.org/api/modules.html#core-modules\n *\n * @type {(moduleName: string) => boolean}\n */\nlet isCore\nif (Module.isBuiltin) { // Added in node v18.6.0, v16.17.0\n  isCore = Module.isBuiltin\n} else {\n  const [major, minor] = process.versions.node.split('.').map(Number)\n  if (major === 8 && minor < 8) {\n    // For node versions `[8.0, 8.8)` the \"http2\" module was built-in but\n    // behind the `--expose-http2` flag. `resolve` only considers unflagged\n    // modules to be core: https://github.com/browserify/resolve/issues/139\n    // However, for `ExportsCache` to work for \"http2\" we need it to be\n    // considered core.\n    isCore = moduleName => {\n      if (moduleName === 'http2') {\n        return true\n      }\n      // Prefer `resolve.core` lookup to `resolve.isCore(moduleName)` because\n      // the latter is doing version range matches for every call.\n      return !!resolve.core[moduleName]\n    }\n  } else {\n    isCore = moduleName => {\n      // Prefer `resolve.core` lookup to `resolve.isCore(moduleName)` because\n      // the latter is doing version range matches for every call.\n      return !!resolve.core[moduleName]\n    }\n  }\n}\n\n// 'foo/bar.js' or 'foo/bar/index.js' => 'foo/bar'\nconst normalize = /([/\\\\]index)?(\\.js)?$/\n\n// Cache `onrequire`-patched exports for modules.\n//\n// Exports for built-in (a.k.a. \"core\") modules are stored in an internal Map.\n//\n// Exports for non-core modules are stored on a private field on the `Module`\n// object in `require.cache`. This allows users to delete from `require.cache`\n// to trigger a re-load (and re-run of the hook's `onrequire`) of a module the\n// next time it is required.\n// https://nodejs.org/docs/latest/api/all.html#all_modules_requirecache\n//\n// In some special cases -- e.g. some other `require()` hook swapping out\n// `Module._cache` like `@babel/register` -- a non-core module won't be in\n// `require.cache`. In that case this falls back to caching on the internal Map.\nclass ExportsCache {\n  constructor () {\n    this._localCache = new Map() // <module filename or id> -> <exports>\n    this._kRitmExports = Symbol('RitmExports')\n  }\n\n  has (filename, isBuiltin) {\n    if (this._localCache.has(filename)) {\n      return true\n    } else if (!isBuiltin) {\n      const mod = require.cache[filename]\n      return !!(mod && this._kRitmExports in mod)\n    } else {\n      return false\n    }\n  }\n\n  get (filename, isBuiltin) {\n    const cachedExports = this._localCache.get(filename)\n    if (cachedExports !== undefined) {\n      return cachedExports\n    } else if (!isBuiltin) {\n      const mod = require.cache[filename]\n      return (mod && mod[this._kRitmExports])\n    }\n  }\n\n  set (filename, exports, isBuiltin) {\n    if (isBuiltin) {\n      this._localCache.set(filename, exports)\n    } else if (filename in require.cache) {\n      require.cache[filename][this._kRitmExports] = exports\n    } else {\n      debug('non-core module is unexpectedly not in require.cache: \"%s\"', filename)\n      this._localCache.set(filename, exports)\n    }\n  }\n}\n\nfunction Hook (modules, options, onrequire) {\n  if ((this instanceof Hook) === false) return new Hook(modules, options, onrequire)\n  if (typeof modules === 'function') {\n    onrequire = modules\n    modules = null\n    options = null\n  } else if (typeof options === 'function') {\n    onrequire = options\n    options = null\n  }\n\n  if (typeof Module._resolveFilename !== 'function') {\n    console.error('Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!', typeof Module._resolveFilename)\n    console.error('Please report this error as an issue related to Node.js %s at %s', process.version, require('./package.json').bugs.url)\n    return\n  }\n\n  this._cache = new ExportsCache()\n\n  this._unhooked = false\n  this._origRequire = Module.prototype.require\n\n  const self = this\n  const patching = new Set()\n  const internals = options ? options.internals === true : false\n  const hasWhitelist = Array.isArray(modules)\n\n  debug('registering require hook')\n\n  this._require = Module.prototype.require = function (id) {\n    if (self._unhooked === true) {\n      // if the patched require function could not be removed because\n      // someone else patched it after it was patched here, we just\n      // abort and pass the request onwards to the original require\n      debug('ignoring require call - module is soft-unhooked')\n      return self._origRequire.apply(this, arguments)\n    }\n\n    const core = isCore(id)\n    let filename // the string used for caching\n    if (core) {\n      filename = id\n      // If this is a builtin module that can be identified both as 'foo' and\n      // 'node:foo', then prefer 'foo' as the caching key.\n      if (id.startsWith('node:')) {\n        const idWithoutPrefix = id.slice(5)\n        if (isCore(idWithoutPrefix)) {\n          filename = idWithoutPrefix\n        }\n      }\n    } else {\n      try {\n        filename = Module._resolveFilename(id, this)\n      } catch (resolveErr) {\n        // If someone *else* monkey-patches before this monkey-patch, then that\n        // code might expect `require(someId)` to get through so it can be\n        // handled, even if `someId` cannot be resolved to a filename. In this\n        // case, instead of throwing we defer to the underlying `require`.\n        //\n        // For example the Azure Functions Node.js worker module does this,\n        // where `@azure/functions-core` resolves to an internal object.\n        // https://github.com/Azure/azure-functions-nodejs-worker/blob/v3.5.2/src/setupCoreModule.ts#L46-L54\n        debug('Module._resolveFilename(\"%s\") threw %j, calling original Module.require', id, resolveErr.message)\n        return self._origRequire.apply(this, arguments)\n      }\n    }\n\n    let moduleName, basedir\n\n    debug('processing %s module require(\\'%s\\'): %s', core === true ? 'core' : 'non-core', id, filename)\n\n    // return known patched modules immediately\n    if (self._cache.has(filename, core) === true) {\n      debug('returning already patched cached module: %s', filename)\n      return self._cache.get(filename, core)\n    }\n\n    // Check if this module has a patcher in-progress already.\n    // Otherwise, mark this module as patching in-progress.\n    const isPatching = patching.has(filename)\n    if (isPatching === false) {\n      patching.add(filename)\n    }\n\n    const exports = self._origRequire.apply(this, arguments)\n\n    // If it's already patched, just return it as-is.\n    if (isPatching === true) {\n      debug('module is in the process of being patched already - ignoring: %s', filename)\n      return exports\n    }\n\n    // The module has already been loaded,\n    // so the patching mark can be cleaned up.\n    patching.delete(filename)\n\n    if (core === true) {\n      if (hasWhitelist === true && modules.includes(filename) === false) {\n        debug('ignoring core module not on whitelist: %s', filename)\n        return exports // abort if module name isn't on whitelist\n      }\n      moduleName = filename\n    } else if (hasWhitelist === true && modules.includes(filename)) {\n      // whitelist includes the absolute path to the file including extension\n      const parsedPath = path.parse(filename)\n      moduleName = parsedPath.name\n      basedir = parsedPath.dir\n    } else {\n      const stat = moduleDetailsFromPath(filename)\n      if (stat === undefined) {\n        debug('could not parse filename: %s', filename)\n        return exports // abort if filename could not be parsed\n      }\n      moduleName = stat.name\n      basedir = stat.basedir\n\n      const fullModuleName = resolveModuleName(stat)\n\n      debug('resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)', moduleName, id, fullModuleName, basedir)\n\n      // Ex: require('foo/lib/../bar.js')\n      // moduleName = 'foo'\n      // fullModuleName = 'foo/bar'\n      if (hasWhitelist === true && modules.includes(moduleName) === false) {\n        if (modules.includes(fullModuleName) === false) return exports // abort if module name isn't on whitelist\n\n        // if we get to this point, it means that we're requiring a whitelisted sub-module\n        moduleName = fullModuleName\n      } else {\n        // figure out if this is the main module file, or a file inside the module\n        let res\n        try {\n          res = resolve.sync(moduleName, { basedir })\n        } catch (e) {\n          debug('could not resolve module: %s', moduleName)\n          self._cache.set(filename, exports, core)\n          return exports // abort if module could not be resolved (e.g. no main in package.json and no index.js file)\n        }\n\n        if (res !== filename) {\n          // this is a module-internal file\n          if (internals === true) {\n            // use the module-relative path to the file, prefixed by original module name\n            moduleName = moduleName + path.sep + path.relative(basedir, filename)\n            debug('preparing to process require of internal file: %s', moduleName)\n          } else {\n            debug('ignoring require of non-main module file: %s', res)\n            self._cache.set(filename, exports, core)\n            return exports // abort if not main module file\n          }\n        }\n      }\n    }\n\n    // ensure that the cache entry is assigned a value before calling\n    // onrequire, in case calling onrequire requires the same module.\n    self._cache.set(filename, exports, core)\n    debug('calling require hook: %s', moduleName)\n    const patchedExports = onrequire(exports, moduleName, basedir)\n    self._cache.set(filename, patchedExports, core)\n\n    debug('returning module: %s', moduleName)\n    return patchedExports\n  }\n}\n\nHook.prototype.unhook = function () {\n  this._unhooked = true\n  if (this._require === Module.prototype.require) {\n    Module.prototype.require = this._origRequire\n    debug('unhook successful')\n  } else {\n    debug('unhook unsuccessful')\n  }\n}\n\nfunction resolveModuleName (stat) {\n  const normalizedPath = path.sep !== '/' ? stat.path.split(path.sep).join('/') : stat.path\n  return path.posix.join(stat.name, normalizedPath).replace(normalize, '')\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Hooked } from './RequireInTheMiddleSingleton';\n\nexport const ModuleNameSeparator = '/';\n\n/**\n * Node in a `ModuleNameTrie`\n */\nclass ModuleNameTrieNode {\n  hooks: Array<{ hook: Hooked; insertedId: number }> = [];\n  children: Map<string, ModuleNameTrieNode> = new Map();\n}\n\ntype ModuleNameTrieSearchOptions = {\n  /**\n   * Whether to return the results in insertion order\n   */\n  maintainInsertionOrder?: boolean;\n  /**\n   * Whether to return only full matches\n   */\n  fullOnly?: boolean;\n};\n\n/**\n * Trie containing nodes that represent a part of a module name (i.e. the parts separated by forward slash)\n */\nexport class ModuleNameTrie {\n  private _trie: ModuleNameTrieNode = new ModuleNameTrieNode();\n  private _counter: number = 0;\n\n  /**\n   * Insert a module hook into the trie\n   *\n   * @param {Hooked} hook Hook\n   */\n  insert(hook: Hooked) {\n    let trieNode = this._trie;\n\n    for (const moduleNamePart of hook.moduleName.split(ModuleNameSeparator)) {\n      let nextNode = trieNode.children.get(moduleNamePart);\n      if (!nextNode) {\n        nextNode = new ModuleNameTrieNode();\n        trieNode.children.set(moduleNamePart, nextNode);\n      }\n      trieNode = nextNode;\n    }\n    trieNode.hooks.push({ hook, insertedId: this._counter++ });\n  }\n\n  /**\n   * Search for matching hooks in the trie\n   *\n   * @param {string} moduleName Module name\n   * @param {boolean} maintainInsertionOrder Whether to return the results in insertion order\n   * @param {boolean} fullOnly Whether to return only full matches\n   * @returns {Hooked[]} Matching hooks\n   */\n  search(\n    moduleName: string,\n    { maintainInsertionOrder, fullOnly }: ModuleNameTrieSearchOptions = {}\n  ): Hooked[] {\n    let trieNode = this._trie;\n    const results: ModuleNameTrieNode['hooks'] = [];\n    let foundFull = true;\n\n    for (const moduleNamePart of moduleName.split(ModuleNameSeparator)) {\n      const nextNode = trieNode.children.get(moduleNamePart);\n      if (!nextNode) {\n        foundFull = false;\n        break;\n      }\n      if (!fullOnly) {\n        results.push(...nextNode.hooks);\n      }\n      trieNode = nextNode;\n    }\n\n    if (fullOnly && foundFull) {\n      results.push(...trieNode.hooks);\n    }\n\n    if (results.length === 0) {\n      return [];\n    }\n    if (results.length === 1) {\n      return [results[0].hook];\n    }\n    if (maintainInsertionOrder) {\n      results.sort((a, b) => a.insertedId - b.insertedId);\n    }\n    return results.map(({ hook }) => hook);\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { OnRequireFn } from 'require-in-the-middle';\nimport { Hook } from 'require-in-the-middle';\nimport * as path from 'path';\nimport { ModuleNameTrie, ModuleNameSeparator } from './ModuleNameTrie';\n\nexport type Hooked = {\n  moduleName: string;\n  onRequire: OnRequireFn;\n};\n\n/**\n * Whether Mocha is running in this process\n * Inspired by https://github.com/AndreasPizsa/detect-mocha\n *\n * @type {boolean}\n */\nconst isMocha = [\n  'afterEach',\n  'after',\n  'beforeEach',\n  'before',\n  'describe',\n  'it',\n].every(fn => {\n  // @ts-expect-error TS7053: Element implicitly has an 'any' type\n  return typeof global[fn] === 'function';\n});\n\n/**\n * Singleton class for `require-in-the-middle`\n * Allows instrumentation plugins to patch modules with only a single `require` patch\n * WARNING: Because this class will create its own `require-in-the-middle` (RITM) instance,\n * we should minimize the number of new instances of this class.\n * Multiple instances of `@opentelemetry/instrumentation` (e.g. multiple versions) in a single process\n * will result in multiple instances of RITM, which will have an impact\n * on the performance of instrumentation hooks being applied.\n */\nexport class RequireInTheMiddleSingleton {\n  private _moduleNameTrie: ModuleNameTrie = new ModuleNameTrie();\n  private static _instance?: RequireInTheMiddleSingleton;\n\n  private constructor() {\n    this._initialize();\n  }\n\n  private _initialize() {\n    new Hook(\n      // Intercept all `require` calls; we will filter the matching ones below\n      null,\n      { internals: true },\n      (exports, name, basedir) => {\n        // For internal files on Windows, `name` will use backslash as the path separator\n        const normalizedModuleName = normalizePathSeparators(name);\n\n        const matches = this._moduleNameTrie.search(normalizedModuleName, {\n          maintainInsertionOrder: true,\n          // For core modules (e.g. `fs`), do not match on sub-paths (e.g. `fs/promises').\n          // This matches the behavior of `require-in-the-middle`.\n          // `basedir` is always `undefined` for core modules.\n          fullOnly: basedir === undefined,\n        });\n\n        for (const { onRequire } of matches) {\n          exports = onRequire(exports, name, basedir);\n        }\n\n        return exports;\n      }\n    );\n  }\n\n  /**\n   * Register a hook with `require-in-the-middle`\n   *\n   * @param {string} moduleName Module name\n   * @param {OnRequireFn} onRequire Hook function\n   * @returns {Hooked} Registered hook\n   */\n  register(moduleName: string, onRequire: OnRequireFn): Hooked {\n    const hooked = { moduleName, onRequire };\n    this._moduleNameTrie.insert(hooked);\n    return hooked;\n  }\n\n  /**\n   * Get the `RequireInTheMiddleSingleton` singleton\n   *\n   * @returns {RequireInTheMiddleSingleton} Singleton of `RequireInTheMiddleSingleton`\n   */\n  static getInstance(): RequireInTheMiddleSingleton {\n    // Mocha runs all test suites in the same process\n    // This prevents test suites from sharing a singleton\n    if (isMocha) return new RequireInTheMiddleSingleton();\n\n    return (this._instance =\n      this._instance ?? new RequireInTheMiddleSingleton());\n  }\n}\n\n/**\n * Normalize the path separators to forward slash in a module name or path\n *\n * @param {string} moduleNameOrPath Module name or path\n * @returns {string} Normalized module name or path\n */\nfunction normalizePathSeparators(moduleNameOrPath: string): string {\n  return path.sep !== ModuleNameSeparator\n    ? moduleNameOrPath.split(path.sep).join(ModuleNameSeparator)\n    : moduleNameOrPath;\n}\n", "// Unless explicitly stated otherwise all files in this repository are licensed under the Apache 2.0 License.\n//\n// This product includes software developed at Datadog (https://www.datadoghq.com/). Copyright 2021 Datadog, Inc.\n\n\nconst importHooks = [] // TODO should this be a Set?\nconst setters = new WeakMap()\nconst specifiers = new Map()\nconst toHook = []\n\nconst proxyHandler = {\n  set(target, name, value) {\n    return setters.get(target)[name](value)\n  },\n\n  defineProperty(target, property, descriptor) {\n    if ((!('value' in descriptor))) {\n      throw new Error('Getters/setters are not supported for exports property descriptors.')\n    }\n\n    return setters.get(target)[property](descriptor.value)\n  }\n}\n\nfunction register(name, namespace, set, specifier) {\n  specifiers.set(name, specifier)\n  setters.set(namespace, set)\n  const proxy = new Proxy(namespace, proxyHandler)\n  importHooks.forEach(hook => hook(name, proxy))\n  toHook.push([name, proxy])\n}\n\nexports.register = register\nexports.importHooks = importHooks\nexports.specifiers = specifiers\nexports.toHook = toHook\n", "// Unless explicitly stated otherwise all files in this repository are licensed under the Apache 2.0 License.\n//\n// This product includes software developed at Datadog (https://www.datadoghq.com/). Copyright 2021 Datadog, Inc.\n\nconst path = require('path')\nconst parse = require('module-details-from-path')\nconst { fileURLToPath } = require('url')\n\nconst {\n  importHooks,\n  specifiers,\n  toHook\n} = require('./lib/register')\n\nfunction addHook(hook) {\n  importHooks.push(hook)\n  toHook.forEach(([name, namespace]) => hook(name, namespace))\n}\n\nfunction removeHook(hook) {\n  const index = importHooks.indexOf(hook)\n  if (index > -1) {\n    importHooks.splice(index, 1)\n  }\n}\n\nfunction callHookFn(hookFn, namespace, name, baseDir) {\n  const newDefault = hookFn(namespace, name, baseDir)\n  if (newDefault && newDefault !== namespace) {\n    namespace.default = newDefault\n  }\n}\n\nfunction Hook(modules, options, hookFn) {\n  if ((this instanceof Hook) === false) return new Hook(modules, options, hookFn)\n  if (typeof modules === 'function') {\n    hookFn = modules\n    modules = null\n    options = null\n  } else if (typeof options === 'function') {\n    hookFn = options\n    options = null\n  }\n  const internals = options ? options.internals === true : false\n\n  this._iitmHook = (name, namespace) => {\n    const filename = name\n    const isBuiltin = name.startsWith('node:')\n    let baseDir\n\n    if (isBuiltin) {\n      name = name.replace(/^node:/, '')\n    } else {\n      if (name.startsWith('file://')) {\n        try {\n          name = fileURLToPath(name)\n        } catch (e) {}\n      }\n      const details = parse(name)\n      if (details) {\n        name = details.name\n        baseDir = details.basedir\n      }\n    }\n\n    if (modules) {\n      for (const moduleName of modules) {\n        if (moduleName === name) {\n          if (baseDir) {\n            if (internals) {\n              name = name + path.sep + path.relative(baseDir, fileURLToPath(filename))\n            } else {\n              if (!baseDir.endsWith(specifiers.get(filename))) continue\n            }\n          }\n          callHookFn(hookFn, namespace, name, baseDir)\n        }\n      }\n    } else {\n      callHookFn(hookFn, namespace, name, baseDir)\n    }\n  }\n\n  addHook(this._iitmHook)\n}\n\nHook.prototype.unhook = function () {\n  removeHook(this._iitmHook)\n}\n\nmodule.exports = Hook\nmodule.exports.addHook = addHook\nmodule.exports.removeHook = removeHook\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as types from '../../types';\nimport * as path from 'path';\nimport { types as utilTypes } from 'util';\nimport { satisfies } from 'semver';\nimport { wrap, unwrap, massWrap, massUnwrap } from 'shimmer';\nimport { InstrumentationAbstract } from '../../instrumentation';\nimport {\n  RequireInTheMiddleSingleton,\n  Hooked,\n} from './RequireInTheMiddleSingleton';\nimport type { HookFn } from 'import-in-the-middle';\nimport * as ImportInTheMiddle from 'import-in-the-middle';\nimport { InstrumentationModuleDefinition } from './types';\nimport { diag } from '@opentelemetry/api';\nimport type { OnRequireFn } from 'require-in-the-middle';\nimport { Hook } from 'require-in-the-middle';\n\n/**\n * Base abstract class for instrumenting node plugins\n */\nexport abstract class InstrumentationBase<T = any>\n  extends InstrumentationAbstract\n  implements types.Instrumentation\n{\n  private _modules: InstrumentationModuleDefinition<T>[];\n  private _hooks: (Hooked | Hook)[] = [];\n  private _requireInTheMiddleSingleton: RequireInTheMiddleSingleton =\n    RequireInTheMiddleSingleton.getInstance();\n  private _enabled = false;\n\n  constructor(\n    instrumentationName: string,\n    instrumentationVersion: string,\n    config: types.InstrumentationConfig = {}\n  ) {\n    super(instrumentationName, instrumentationVersion, config);\n\n    let modules = this.init();\n\n    if (modules && !Array.isArray(modules)) {\n      modules = [modules];\n    }\n\n    this._modules = (modules as InstrumentationModuleDefinition<T>[]) || [];\n\n    if (this._modules.length === 0) {\n      diag.debug(\n        'No modules instrumentation has been defined for ' +\n          `'${this.instrumentationName}@${this.instrumentationVersion}'` +\n          ', nothing will be patched'\n      );\n    }\n\n    if (this._config.enabled) {\n      this.enable();\n    }\n  }\n\n  protected override _wrap: typeof wrap = (moduleExports, name, wrapper) => {\n    if (!utilTypes.isProxy(moduleExports)) {\n      return wrap(moduleExports, name, wrapper);\n    } else {\n      const wrapped = wrap(Object.assign({}, moduleExports), name, wrapper);\n\n      return Object.defineProperty(moduleExports, name, {\n        value: wrapped,\n      });\n    }\n  };\n\n  protected override _unwrap: typeof unwrap = (moduleExports, name) => {\n    if (!utilTypes.isProxy(moduleExports)) {\n      return unwrap(moduleExports, name);\n    } else {\n      return Object.defineProperty(moduleExports, name, {\n        value: moduleExports[name],\n      });\n    }\n  };\n\n  protected override _massWrap: typeof massWrap = (\n    moduleExportsArray,\n    names,\n    wrapper\n  ) => {\n    if (!moduleExportsArray) {\n      diag.error('must provide one or more modules to patch');\n      return;\n    } else if (!Array.isArray(moduleExportsArray)) {\n      moduleExportsArray = [moduleExportsArray];\n    }\n\n    if (!(names && Array.isArray(names))) {\n      diag.error('must provide one or more functions to wrap on modules');\n      return;\n    }\n\n    moduleExportsArray.forEach(moduleExports => {\n      names.forEach(name => {\n        this._wrap(moduleExports, name, wrapper);\n      });\n    });\n  };\n\n  protected override _massUnwrap: typeof massUnwrap = (\n    moduleExportsArray,\n    names\n  ) => {\n    if (!moduleExportsArray) {\n      diag.error('must provide one or more modules to patch');\n      return;\n    } else if (!Array.isArray(moduleExportsArray)) {\n      moduleExportsArray = [moduleExportsArray];\n    }\n\n    if (!(names && Array.isArray(names))) {\n      diag.error('must provide one or more functions to wrap on modules');\n      return;\n    }\n\n    moduleExportsArray.forEach(moduleExports => {\n      names.forEach(name => {\n        this._unwrap(moduleExports, name);\n      });\n    });\n  };\n\n  private _warnOnPreloadedModules(): void {\n    this._modules.forEach((module: InstrumentationModuleDefinition<T>) => {\n      const { name } = module;\n      try {\n        const resolvedModule = require.resolve(name);\n        if (require.cache[resolvedModule]) {\n          // Module is already cached, which means the instrumentation hook might not work\n          this._diag.warn(\n            `Module ${name} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${name}`\n          );\n        }\n      } catch {\n        // Module isn't available, we can simply skip\n      }\n    });\n  }\n\n  private _extractPackageVersion(baseDir: string): string | undefined {\n    try {\n      // eslint-disable-next-line @typescript-eslint/no-var-requires\n      const version = require(path.join(baseDir, 'package.json')).version;\n      return typeof version === 'string' ? version : undefined;\n    } catch (error) {\n      diag.warn('Failed extracting version', baseDir);\n    }\n\n    return undefined;\n  }\n\n  private _onRequire<T>(\n    module: InstrumentationModuleDefinition<T>,\n    exports: T,\n    name: string,\n    baseDir?: string | void\n  ): T {\n    if (!baseDir) {\n      if (typeof module.patch === 'function') {\n        module.moduleExports = exports;\n        if (this._enabled) {\n          return module.patch(exports);\n        }\n      }\n      return exports;\n    }\n\n    const version = this._extractPackageVersion(baseDir);\n    module.moduleVersion = version;\n    if (module.name === name) {\n      // main module\n      if (\n        isSupported(module.supportedVersions, version, module.includePrerelease)\n      ) {\n        if (typeof module.patch === 'function') {\n          module.moduleExports = exports;\n          if (this._enabled) {\n            return module.patch(exports, module.moduleVersion);\n          }\n        }\n      }\n      return exports;\n    }\n    // internal file\n    const files = module.files ?? [];\n    const supportedFileInstrumentations = files\n      .filter(f => f.name === name)\n      .filter(f =>\n        isSupported(f.supportedVersions, version, module.includePrerelease)\n      );\n    return supportedFileInstrumentations.reduce<T>((patchedExports, file) => {\n      file.moduleExports = patchedExports;\n      if (this._enabled) {\n        return file.patch(patchedExports, module.moduleVersion);\n      }\n      return patchedExports;\n    }, exports);\n  }\n\n  public enable(): void {\n    if (this._enabled) {\n      return;\n    }\n    this._enabled = true;\n\n    // already hooked, just call patch again\n    if (this._hooks.length > 0) {\n      for (const module of this._modules) {\n        if (typeof module.patch === 'function' && module.moduleExports) {\n          module.patch(module.moduleExports, module.moduleVersion);\n        }\n        for (const file of module.files) {\n          if (file.moduleExports) {\n            file.patch(file.moduleExports, module.moduleVersion);\n          }\n        }\n      }\n      return;\n    }\n\n    this._warnOnPreloadedModules();\n    for (const module of this._modules) {\n      const hookFn: HookFn = (exports, name, baseDir) => {\n        return this._onRequire<typeof exports>(\n          module as unknown as InstrumentationModuleDefinition<typeof exports>,\n          exports,\n          name,\n          baseDir\n        );\n      };\n      const onRequire: OnRequireFn = (exports, name, baseDir) => {\n        return this._onRequire<typeof exports>(\n          module as unknown as InstrumentationModuleDefinition<typeof exports>,\n          exports,\n          name,\n          baseDir\n        );\n      };\n\n      // `RequireInTheMiddleSingleton` does not support absolute paths.\n      // For an absolute paths, we must create a separate instance of the\n      // require-in-the-middle `Hook`.\n      const hook = path.isAbsolute(module.name)\n        ? new Hook([module.name], { internals: true }, onRequire)\n        : this._requireInTheMiddleSingleton.register(module.name, onRequire);\n\n      this._hooks.push(hook);\n      const esmHook =\n        new (ImportInTheMiddle as unknown as typeof ImportInTheMiddle.default)(\n          [module.name],\n          { internals: false },\n          <HookFn>hookFn\n        );\n      this._hooks.push(esmHook);\n    }\n  }\n\n  public disable(): void {\n    if (!this._enabled) {\n      return;\n    }\n    this._enabled = false;\n\n    for (const module of this._modules) {\n      if (typeof module.unpatch === 'function' && module.moduleExports) {\n        module.unpatch(module.moduleExports, module.moduleVersion);\n      }\n      for (const file of module.files) {\n        if (file.moduleExports) {\n          file.unpatch(file.moduleExports, module.moduleVersion);\n        }\n      }\n    }\n  }\n\n  public isEnabled(): boolean {\n    return this._enabled;\n  }\n}\n\nfunction isSupported(\n  supportedVersions: string[],\n  version?: string,\n  includePrerelease?: boolean\n): boolean {\n  if (typeof version === 'undefined') {\n    // If we don't have the version, accept the wildcard case only\n    return supportedVersions.includes('*');\n  }\n\n  return supportedVersions.some(supportedVersion => {\n    return satisfies(version, supportedVersion, { includePrerelease });\n  });\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  InstrumentationModuleDefinition,\n  InstrumentationModuleFile,\n} from './types';\n\nexport class InstrumentationNodeModuleDefinition<T>\n  implements InstrumentationModuleDefinition<T>\n{\n  files: InstrumentationModuleFile<T>[];\n  constructor(\n    public name: string,\n    public supportedVersions: string[],\n    public patch?: (exports: T, moduleVersion?: string) => T,\n    public unpatch?: (exports: T, moduleVersion?: string) => void,\n    files?: InstrumentationModuleFile<any>[]\n  ) {\n    this.files = files || [];\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InstrumentationModuleFile } from './types';\nimport { normalize } from 'path';\n\nexport class InstrumentationNodeModuleFile<T>\n  implements InstrumentationModuleFile<T>\n{\n  public name: string;\n  constructor(\n    name: string,\n    public supportedVersions: string[],\n    public patch: (moduleExports: T, moduleVersion?: string) => T,\n    public unpatch: (moduleExports?: T, moduleVersion?: string) => void\n  ) {\n    this.name = normalize(name);\n  }\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport * from './instrumentation';\nexport * from './instrumentationNodeModuleDefinition';\nexport * from './instrumentationNodeModuleFile';\nexport * from './types';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './node';\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ShimWrapped } from './types';\n\n/**\n * function to execute patched function and being able to catch errors\n * @param execute - function to be executed\n * @param onFinish - callback to run when execute finishes\n */\nexport function safeExecuteInTheMiddle<T>(\n  execute: () => T,\n  onFinish: (e: Error | undefined, result: T | undefined) => void,\n  preventThrowingError?: boolean\n): T {\n  let error: Error | undefined;\n  let result: T | undefined;\n  try {\n    result = execute();\n  } catch (e) {\n    error = e;\n  } finally {\n    onFinish(error, result);\n    if (error && !preventThrowingError) {\n      // eslint-disable-next-line no-unsafe-finally\n      throw error;\n    }\n    // eslint-disable-next-line no-unsafe-finally\n    return result as T;\n  }\n}\n\n/**\n * Async function to execute patched function and being able to catch errors\n * @param execute - function to be executed\n * @param onFinish - callback to run when execute finishes\n */\nexport async function safeExecuteInTheMiddleAsync<T>(\n  execute: () => T,\n  onFinish: (e: Error | undefined, result: T | undefined) => void,\n  preventThrowingError?: boolean\n): Promise<T> {\n  let error: Error | undefined;\n  let result: T | undefined;\n  try {\n    result = await execute();\n  } catch (e) {\n    error = e;\n  } finally {\n    onFinish(error, result);\n    if (error && !preventThrowingError) {\n      // eslint-disable-next-line no-unsafe-finally\n      throw error;\n    }\n    // eslint-disable-next-line no-unsafe-finally\n    return result as T;\n  }\n}\n/**\n * Checks if certain function has been already wrapped\n * @param func\n */\nexport function isWrapped(func: unknown): func is ShimWrapped {\n  return (\n    typeof func === 'function' &&\n    typeof (func as ShimWrapped).__original === 'function' &&\n    typeof (func as ShimWrapped).__unwrap === 'function' &&\n    (func as ShimWrapped).__wrapped === true\n  );\n}\n", "/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './autoLoader';\nexport * from './platform/index';\nexport * from './types';\nexport * from './types_internal';\nexport * from './utils';\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { EOL } from \"os\";\nimport util from \"util\";\n\nexport function log(message: unknown, ...args: any[]): void {\n  process.stderr.write(`${util.format(message, ...args)}${EOL}`);\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { log } from \"./log\";\n\n/**\n * A simple mechanism for enabling logging.\n * Intended to mimic the publicly available `debug` package.\n */\nexport interface Debug {\n  /**\n   * Creates a new logger with the given namespace.\n   */\n  (namespace: string): Debugger;\n  /**\n   * The default log method (defaults to console)\n   */\n  log: (...args: any[]) => void;\n  /**\n   * Enables a particular set of namespaces.\n   * To enable multiple separate them with commas, e.g. \"info,debug\".\n   * Supports wildcards, e.g. \"azure:*\"\n   * Supports skip syntax, e.g. \"azure:*,-azure:storage:*\" will enable\n   * everything under azure except for things under azure:storage.\n   */\n  enable: (namespaces: string) => void;\n  /**\n   * Checks if a particular namespace is enabled.\n   */\n  enabled: (namespace: string) => boolean;\n  /**\n   * Disables all logging, returns what was previously enabled.\n   */\n  disable: () => string;\n}\n\n/**\n * A log function that can be dynamically enabled and redirected.\n */\nexport interface Debugger {\n  /**\n   * Logs the given arguments to the `log` method.\n   */\n  (...args: any[]): void;\n  /**\n   * True if this logger is active and logging.\n   */\n  enabled: boolean;\n  /**\n   * Used to cleanup/remove this logger.\n   */\n  destroy: () => boolean;\n  /**\n   * The current log method. Can be overridden to redirect output.\n   */\n  log: (...args: any[]) => void;\n  /**\n   * The namespace of this logger.\n   */\n  namespace: string;\n  /**\n   * Extends this logger with a child namespace.\n   * Namespaces are separated with a ':' character.\n   */\n  extend: (namespace: string) => Debugger;\n}\n\nconst debugEnvVariable =\n  (typeof process !== \"undefined\" && process.env && process.env.DEBUG) || undefined;\n\nlet enabledString: string | undefined;\nlet enabledNamespaces: RegExp[] = [];\nlet skippedNamespaces: RegExp[] = [];\nconst debuggers: Debugger[] = [];\n\nif (debugEnvVariable) {\n  enable(debugEnvVariable);\n}\n\nconst debugObj: Debug = Object.assign(\n  (namespace: string): Debugger => {\n    return createDebugger(namespace);\n  },\n  {\n    enable,\n    enabled,\n    disable,\n    log,\n  }\n);\n\nfunction enable(namespaces: string): void {\n  enabledString = namespaces;\n  enabledNamespaces = [];\n  skippedNamespaces = [];\n  const wildcard = /\\*/g;\n  const namespaceList = namespaces.split(\",\").map((ns) => ns.trim().replace(wildcard, \".*?\"));\n  for (const ns of namespaceList) {\n    if (ns.startsWith(\"-\")) {\n      skippedNamespaces.push(new RegExp(`^${ns.substr(1)}$`));\n    } else {\n      enabledNamespaces.push(new RegExp(`^${ns}$`));\n    }\n  }\n  for (const instance of debuggers) {\n    instance.enabled = enabled(instance.namespace);\n  }\n}\n\nfunction enabled(namespace: string): boolean {\n  if (namespace.endsWith(\"*\")) {\n    return true;\n  }\n\n  for (const skipped of skippedNamespaces) {\n    if (skipped.test(namespace)) {\n      return false;\n    }\n  }\n  for (const enabledNamespace of enabledNamespaces) {\n    if (enabledNamespace.test(namespace)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction disable(): string {\n  const result = enabledString || \"\";\n  enable(\"\");\n  return result;\n}\n\nfunction createDebugger(namespace: string): Debugger {\n  const newDebugger: Debugger = Object.assign(debug, {\n    enabled: enabled(namespace),\n    destroy,\n    log: debugObj.log,\n    namespace,\n    extend,\n  });\n\n  function debug(...args: any[]): void {\n    if (!newDebugger.enabled) {\n      return;\n    }\n    if (args.length > 0) {\n      args[0] = `${namespace} ${args[0]}`;\n    }\n    newDebugger.log(...args);\n  }\n\n  debuggers.push(newDebugger);\n\n  return newDebugger;\n}\n\nfunction destroy(this: Debugger): boolean {\n  const index = debuggers.indexOf(this);\n  if (index >= 0) {\n    debuggers.splice(index, 1);\n    return true;\n  }\n  return false;\n}\n\nfunction extend(this: Debugger, namespace: string): Debugger {\n  const newDebugger = createDebugger(`${this.namespace}:${namespace}`);\n  newDebugger.log = this.log;\n  return newDebugger;\n}\n\nexport default debugObj;\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport debug, { Debugger } from \"./debug\";\nexport { Debugger } from \"./debug\";\n\nconst registeredLoggers = new Set<AzureDebugger>();\nconst logLevelFromEnv =\n  (typeof process !== \"undefined\" && process.env && process.env.AZURE_LOG_LEVEL) || undefined;\n\nlet azureLogLevel: AzureLogLevel | undefined;\n\n/**\n * The AzureLogger provides a mechanism for overriding where logs are output to.\n * By default, logs are sent to stderr.\n * Override the `log` method to redirect logs to another location.\n */\nexport const AzureLogger: AzureClientLogger = debug(\"azure\");\nAzureLogger.log = (...args) => {\n  debug.log(...args);\n};\n\n/**\n * The log levels supported by the logger.\n * The log levels in order of most verbose to least verbose are:\n * - verbose\n * - info\n * - warning\n * - error\n */\nexport type AzureLogLevel = \"verbose\" | \"info\" | \"warning\" | \"error\";\nconst AZURE_LOG_LEVELS = [\"verbose\", \"info\", \"warning\", \"error\"];\n\ntype AzureDebugger = Debugger & { level: AzureLogLevel };\n\n/**\n * An AzureClientLogger is a function that can log to an appropriate severity level.\n */\nexport type AzureClientLogger = Debugger;\n\nif (logLevelFromEnv) {\n  // avoid calling setLogLevel because we don't want a mis-set environment variable to crash\n  if (isAzureLogLevel(logLevelFromEnv)) {\n    setLogLevel(logLevelFromEnv);\n  } else {\n    console.error(\n      `AZURE_LOG_LEVEL set to unknown log level '${logLevelFromEnv}'; logging is not enabled. Acceptable values: ${AZURE_LOG_LEVELS.join(\n        \", \"\n      )}.`\n    );\n  }\n}\n\n/**\n * Immediately enables logging at the specified log level. If no level is specified, logging is disabled.\n * @param level - The log level to enable for logging.\n * Options from most verbose to least verbose are:\n * - verbose\n * - info\n * - warning\n * - error\n */\nexport function setLogLevel(level?: AzureLogLevel): void {\n  if (level && !isAzureLogLevel(level)) {\n    throw new Error(\n      `Unknown log level '${level}'. Acceptable values: ${AZURE_LOG_LEVELS.join(\",\")}`\n    );\n  }\n  azureLogLevel = level;\n\n  const enabledNamespaces = [];\n  for (const logger of registeredLoggers) {\n    if (shouldEnable(logger)) {\n      enabledNamespaces.push(logger.namespace);\n    }\n  }\n\n  debug.enable(enabledNamespaces.join(\",\"));\n}\n\n/**\n * Retrieves the currently specified log level.\n */\nexport function getLogLevel(): AzureLogLevel | undefined {\n  return azureLogLevel;\n}\n\nconst levelMap = {\n  verbose: 400,\n  info: 300,\n  warning: 200,\n  error: 100,\n};\n\n/**\n * Defines the methods available on the SDK-facing logger.\n */\n// eslint-disable-next-line @typescript-eslint/no-redeclare\nexport interface AzureLogger {\n  /**\n   * Used for failures the program is unlikely to recover from,\n   * such as Out of Memory.\n   */\n  error: Debugger;\n  /**\n   * Used when a function fails to perform its intended task.\n   * Usually this means the function will throw an exception.\n   * Not used for self-healing events (e.g. automatic retry)\n   */\n  warning: Debugger;\n  /**\n   * Used when a function operates normally.\n   */\n  info: Debugger;\n  /**\n   * Used for detailed troubleshooting scenarios. This is\n   * intended for use by developers / system administrators\n   * for diagnosing specific failures.\n   */\n  verbose: Debugger;\n}\n\n/**\n * Creates a logger for use by the Azure SDKs that inherits from `AzureLogger`.\n * @param namespace - The name of the SDK package.\n * @hidden\n */\nexport function createClientLogger(namespace: string): AzureLogger {\n  const clientRootLogger: AzureClientLogger = AzureLogger.extend(namespace);\n  patchLogMethod(AzureLogger, clientRootLogger);\n  return {\n    error: createLogger(clientRootLogger, \"error\"),\n    warning: createLogger(clientRootLogger, \"warning\"),\n    info: createLogger(clientRootLogger, \"info\"),\n    verbose: createLogger(clientRootLogger, \"verbose\"),\n  };\n}\n\nfunction patchLogMethod(parent: AzureClientLogger, child: AzureClientLogger | AzureDebugger): void {\n  child.log = (...args) => {\n    parent.log(...args);\n  };\n}\n\nfunction createLogger(parent: AzureClientLogger, level: AzureLogLevel): AzureDebugger {\n  const logger: AzureDebugger = Object.assign(parent.extend(level), {\n    level,\n  });\n\n  patchLogMethod(parent, logger);\n\n  if (shouldEnable(logger)) {\n    const enabledNamespaces = debug.disable();\n    debug.enable(enabledNamespaces + \",\" + logger.namespace);\n  }\n\n  registeredLoggers.add(logger);\n\n  return logger;\n}\n\nfunction shouldEnable(logger: AzureDebugger): boolean {\n  return Boolean(azureLogLevel && levelMap[logger.level] <= levelMap[azureLogLevel]);\n}\n\nfunction isAzureLogLevel(logLevel: string): logLevel is AzureLogLevel {\n  return AZURE_LOG_LEVELS.includes(logLevel as any);\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { createClientLogger } from \"@azure/logger\";\n\n/**\n * The \\@azure/logger configuration for this package.\n */\nexport const logger = createClientLogger(\"opentelemetry-instrumentation-azure-sdk\");\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { Span, SpanAttributeValue, SpanStatusCode } from \"@opentelemetry/api\";\nimport { SpanStatus, TracingSpan } from \"@azure/core-tracing\";\n\nexport class OpenTelemetrySpanWrapper implements TracingSpan {\n  private _span: Span;\n\n  constructor(span: Span) {\n    this._span = span;\n  }\n\n  setStatus(status: SpanStatus): void {\n    if (status.status === \"error\") {\n      if (status.error) {\n        this._span.setStatus({ code: SpanStatusCode.ERROR, message: status.error.toString() });\n        this.recordException(status.error);\n      } else {\n        this._span.setStatus({ code: SpanStatusCode.ERROR });\n      }\n    } else if (status.status === \"success\") {\n      this._span.setStatus({ code: SpanStatusCode.OK });\n    }\n  }\n\n  setAttribute(name: string, value: unknown): void {\n    if (value !== null && value !== undefined) {\n      this._span.setAttribute(name, value as SpanAttributeValue);\n    }\n  }\n\n  end(): void {\n    this._span.end();\n  }\n\n  recordException(exception: string | Error): void {\n    this._span.recordException(exception);\n  }\n\n  isRecording(): boolean {\n    return this._span.isRecording();\n  }\n\n  /**\n   * Allows getting the wrapped span as needed.\n   * @internal\n   *\n   * @returns The underlying span\n   */\n  unwrap(): Span {\n    return this._span;\n  }\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nexport const SDK_VERSION: string = \"1.0.0-beta.4\";\n\n/**\n * @internal\n *\n * Keys of known environment variables we look up.\n */\nexport type KnownEnvironmentKey = \"AZURE_HTTP_TRACING_CHILDREN_DISABLED\" | \"AZURE_TRACING_DISABLED\";\n\n/**\n * @internal\n *\n * Cached values of environment variables that were fetched.\n */\nexport const environmentCache = new Map<KnownEnvironmentKey, string | undefined>();\n\n/**\n * Converts an environment variable to Boolean.\n * the strings \"false\" and \"0\" are treated as falsy values.\n *\n * @internal\n */\nexport function envVarToBoolean(key: KnownEnvironmentKey): boolean {\n  if (!environmentCache.has(key)) {\n    loadEnvironmentVariable(key);\n  }\n  const value = (environmentCache.get(key) ?? \"\").toLowerCase();\n  return value !== \"false\" && value !== \"0\" && Boolean(value);\n}\n\nfunction loadEnvironmentVariable(key: KnownEnvironmentKey): void {\n  if (typeof process !== \"undefined\" && process.env) {\n    const rawValue = process.env[key] ?? process.env[key.toLowerCase()];\n    environmentCache.set(key, rawValue);\n  }\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { InstrumenterSpanOptions, TracingSpanKind, TracingSpanLink } from \"@azure/core-tracing\";\nimport {\n  Link,\n  SpanAttributeValue,\n  SpanAttributes,\n  SpanKind,\n  SpanOptions,\n  trace,\n} from \"@opentelemetry/api\";\n\n/**\n * Converts our TracingSpanKind to the corresponding OpenTelemetry SpanKind.\n *\n * By default it will return {@link SpanKind.INTERNAL}\n * @param tracingSpanKind - The core tracing {@link TracingSpanKind}\n * @returns - The OpenTelemetry {@link SpanKind}\n */\nexport function toOpenTelemetrySpanKind<K extends TracingSpanKind>(\n  tracingSpanKind?: K\n): SpanKindMapping[K] {\n  const key = (tracingSpanKind || \"internal\").toUpperCase() as keyof typeof SpanKind;\n  return SpanKind[key] as SpanKindMapping[K];\n}\n\n/**\n * A mapping between our {@link TracingSpanKind} union type and OpenTelemetry's {@link SpanKind}.\n */\ntype SpanKindMapping = {\n  client: SpanKind.CLIENT;\n  server: SpanKind.SERVER;\n  producer: SpanKind.PRODUCER;\n  consumer: SpanKind.CONSUMER;\n  internal: SpanKind.INTERNAL;\n};\n\n/**\n * Converts core-tracing's TracingSpanLink to OpenTelemetry's Link\n *\n * @param spanLinks - The core tracing {@link TracingSpanLink} to convert\n * @returns A set of {@link Link}s\n */\nfunction toOpenTelemetryLinks(spanLinks: TracingSpanLink[] = []): Link[] {\n  return spanLinks.reduce((acc, tracingSpanLink) => {\n    const spanContext = trace.getSpanContext(tracingSpanLink.tracingContext);\n    if (spanContext) {\n      acc.push({\n        context: spanContext,\n        attributes: toOpenTelemetrySpanAttributes(tracingSpanLink.attributes),\n      });\n    }\n    return acc;\n  }, [] as Link[]);\n}\n\n/**\n * Converts core-tracing's span attributes to OpenTelemetry attributes.\n *\n * @param spanAttributes - The set of attributes to convert.\n * @returns An {@link SpanAttributes} to set on a span.\n */\nfunction toOpenTelemetrySpanAttributes(\n  spanAttributes: { [key: string]: unknown } | undefined\n): SpanAttributes {\n  const attributes: ReturnType<typeof toOpenTelemetrySpanAttributes> = {};\n  for (const key in spanAttributes) {\n    // Any non-nullish value is allowed.\n    if (spanAttributes[key] !== null && spanAttributes[key] !== undefined) {\n      attributes[key] = spanAttributes[key] as SpanAttributeValue;\n    }\n  }\n  return attributes;\n}\n\n/**\n * Converts core-tracing span options to OpenTelemetry options.\n *\n * @param spanOptions - The {@link InstrumenterSpanOptions} to convert.\n * @returns An OpenTelemetry {@link SpanOptions} that can be used when creating a span.\n */\nexport function toSpanOptions(spanOptions?: InstrumenterSpanOptions): SpanOptions {\n  const { spanAttributes, spanLinks, spanKind } = spanOptions || {};\n\n  const attributes: SpanAttributes = toOpenTelemetrySpanAttributes(spanAttributes);\n  const kind = toOpenTelemetrySpanKind(spanKind);\n  const links = toOpenTelemetryLinks(spanLinks);\n\n  return {\n    attributes,\n    kind,\n    links,\n  };\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport {\n  INVALID_SPAN_CONTEXT,\n  Span,\n  context,\n  defaultTextMapGetter,\n  defaultTextMapSetter,\n  trace,\n} from \"@opentelemetry/api\";\nimport {\n  Instrumenter,\n  InstrumenterSpanOptions,\n  TracingContext,\n  TracingSpan,\n} from \"@azure/core-tracing\";\nimport { W3CTraceContextPropagator, suppressTracing } from \"@opentelemetry/core\";\n\nimport { OpenTelemetrySpanWrapper } from \"./spanWrapper\";\nimport { envVarToBoolean } from \"./configuration\";\nimport { toSpanOptions } from \"./transformations\";\n\n// While default propagation is user-configurable, Azure services always use the W3C implementation.\nexport const propagator = new W3CTraceContextPropagator();\n\nexport class OpenTelemetryInstrumenter implements Instrumenter {\n  startSpan(\n    name: string,\n    spanOptions: InstrumenterSpanOptions\n  ): { span: TracingSpan; tracingContext: TracingContext } {\n    let ctx = spanOptions?.tracingContext || context.active();\n    let span: Span;\n\n    if (envVarToBoolean(\"AZURE_TRACING_DISABLED\")) {\n      // disable only our spans but not any downstream spans\n      span = trace.wrapSpanContext(INVALID_SPAN_CONTEXT);\n    } else {\n      // Create our span\n      span = trace\n        .getTracer(spanOptions.packageName, spanOptions.packageVersion)\n        .startSpan(name, toSpanOptions(spanOptions), ctx);\n\n      if (\n        envVarToBoolean(\"AZURE_HTTP_TRACING_CHILDREN_DISABLED\") &&\n        name.toUpperCase().startsWith(\"HTTP\")\n      ) {\n        // disable downstream spans\n        ctx = suppressTracing(ctx);\n      }\n    }\n\n    return {\n      span: new OpenTelemetrySpanWrapper(span),\n      tracingContext: trace.setSpan(ctx, span),\n    };\n  }\n  withContext<\n    CallbackArgs extends unknown[],\n    Callback extends (...args: CallbackArgs) => ReturnType<Callback>\n  >(\n    tracingContext: TracingContext,\n    callback: Callback,\n    ...callbackArgs: CallbackArgs\n  ): ReturnType<Callback> {\n    return context.with(\n      tracingContext,\n      callback,\n      /** Assume caller will bind `this` or use arrow functions */ undefined,\n      ...callbackArgs\n    );\n  }\n\n  parseTraceparentHeader(traceparentHeader: string): TracingContext {\n    return propagator.extract(\n      context.active(),\n      { traceparent: traceparentHeader },\n      defaultTextMapGetter\n    );\n  }\n\n  createRequestHeaders(tracingContext?: TracingContext): Record<string, string> {\n    const headers: Record<string, string> = {};\n    propagator.inject(tracingContext || context.active(), headers, defaultTextMapSetter);\n    return headers;\n  }\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport type * as coreTracing from \"@azure/core-tracing\";\nimport {\n  Instrumentation,\n  InstrumentationBase,\n  InstrumentationConfig,\n  InstrumentationModuleDefinition,\n  InstrumentationNodeModuleDefinition,\n} from \"@opentelemetry/instrumentation\";\nimport { OpenTelemetryInstrumenter } from \"./instrumenter\";\nimport { SDK_VERSION } from \"./configuration\";\n\n/**\n * Configuration options that can be passed to {@link createAzureSdkInstrumentation} function.\n */\nexport interface AzureSdkInstrumentationOptions extends InstrumentationConfig {}\n\n/**\n * The instrumentation module for the Azure SDK. Implements OpenTelemetry's {@link Instrumentation}.\n */\nclass AzureSdkInstrumentation extends InstrumentationBase {\n  constructor(options: AzureSdkInstrumentationOptions = {}) {\n    super(\n      \"@azure/opentelemetry-instrumentation-azure-sdk\",\n      SDK_VERSION,\n      Object.assign({}, options)\n    );\n  }\n  /**\n   * Entrypoint for the module registration.\n   *\n   * @returns The patched \\@azure/core-tracing module after setting its instrumenter.\n   */\n  protected init():\n    | void\n    | InstrumentationModuleDefinition<typeof coreTracing>\n    | InstrumentationModuleDefinition<typeof coreTracing>[] {\n    const result: InstrumentationModuleDefinition<typeof coreTracing> =\n      new InstrumentationNodeModuleDefinition(\n        \"@azure/core-tracing\",\n        [\"^1.0.0-preview.14\", \"^1.0.0\"],\n        (moduleExports) => {\n          if (typeof moduleExports.useInstrumenter === \"function\") {\n            moduleExports.useInstrumenter(new OpenTelemetryInstrumenter());\n          }\n\n          return moduleExports;\n        }\n      );\n    // Needed to support 1.0.0-preview.14\n    result.includePrerelease = true;\n    return result;\n  }\n}\n\n/**\n * Enables Azure SDK Instrumentation using OpenTelemetry for Azure SDK client libraries.\n *\n * When registered, any Azure data plane package will begin emitting tracing spans for internal calls\n * as well as network calls\n *\n * Example usage:\n * ```ts\n * const openTelemetryInstrumentation = require(\"@opentelemetry/instrumentation\");\n * openTelemetryInstrumentation.registerInstrumentations({\n *   instrumentations: [createAzureSdkInstrumentation()],\n * })\n * ```\n *\n * @remarks\n *\n * As OpenTelemetry instrumentations rely on patching required modules, you should register\n * this instrumentation as early as possible and before loading any Azure Client Libraries.\n */\nexport function createAzureSdkInstrumentation(\n  options: AzureSdkInstrumentationOptions = {}\n): Instrumentation {\n  return new AzureSdkInstrumentation(options);\n}\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.azureCoreTracing = exports.AzureMonitorSymbol = void 0;\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nexports.AzureMonitorSymbol = \"Azure_Monitor_Tracer\";\r\nvar publisherName = \"azure-coretracing\";\r\nvar isPatched = false;\r\n/**\r\n * By default, @azure/core-tracing default tracer is a NoopTracer.\r\n * This patching changes the default tracer to a patched BasicTracer\r\n * which emits ended spans as diag-channel events.\r\n *\r\n * The @opentelemetry/tracing package must be installed to use these patches\r\n * https://www.npmjs.com/package/@opentelemetry/tracing\r\n * @param coreTracing\r\n */\r\nvar azureCoreTracingPatchFunction = function (coreTracing) {\r\n    if (isPatched) {\r\n        // tracer is already cached -- noop\r\n        return coreTracing;\r\n    }\r\n    try {\r\n        var tracing = require(\"@opentelemetry/sdk-trace-base\");\r\n        var api = require(\"@opentelemetry/api\");\r\n        var defaultProvider = new tracing.BasicTracerProvider();\r\n        var defaultTracer = defaultProvider.getTracer(\"applicationinsights tracer\");\r\n        // Patch Azure SDK setTracer, @azure/core-tracing <= 1.0.0-preview.12\r\n        if (coreTracing.setTracer) {\r\n            var setTracerOriginal_1 = coreTracing.setTracer;\r\n            coreTracing.setTracer = function (tracer) {\r\n                // Patch startSpan instead of using spanProcessor.onStart because parentSpan must be\r\n                // set while the span is constructed\r\n                var startSpanOriginal = tracer.startSpan;\r\n                tracer.startSpan = function (name, options, context) {\r\n                    var span = startSpanOriginal.call(this, name, options, context);\r\n                    var originalEnd = span.end;\r\n                    span.end = function () {\r\n                        var result = originalEnd.apply(this, arguments);\r\n                        diagnostic_channel_1.channel.publish(publisherName, span);\r\n                        return result;\r\n                    };\r\n                    return span;\r\n                };\r\n                tracer[exports.AzureMonitorSymbol] = true;\r\n                setTracerOriginal_1.call(this, tracer);\r\n            };\r\n            api.trace.getSpan(api.context.active()); // seed OpenTelemetryScopeManagerWrapper with \"active\" symbol\r\n            coreTracing.setTracer(defaultTracer);\r\n        }\r\n        else { // Patch OpenTelemetry setGlobalTracerProvider  @azure/core-tracing > 1.0.0-preview.13\r\n            var setGlobalTracerProviderOriginal_1 = api.trace.setGlobalTracerProvider;\r\n            api.trace.setGlobalTracerProvider = function (tracerProvider) {\r\n                var getTracerOriginal = tracerProvider.getTracer;\r\n                tracerProvider.getTracer = function (tracerName, version) {\r\n                    var tracer = getTracerOriginal.call(this, tracerName, version);\r\n                    if (!tracer[exports.AzureMonitorSymbol]) { // Avoid patching multiple times\r\n                        var startSpanOriginal_1 = tracer.startSpan;\r\n                        tracer.startSpan = function (spanName, options, context) {\r\n                            var span = startSpanOriginal_1.call(this, spanName, options, context);\r\n                            var originalEnd = span.end;\r\n                            span.end = function () {\r\n                                var result = originalEnd.apply(this, arguments);\r\n                                diagnostic_channel_1.channel.publish(publisherName, span);\r\n                                return result;\r\n                            };\r\n                            return span;\r\n                        };\r\n                        tracer[exports.AzureMonitorSymbol] = true;\r\n                    }\r\n                    return tracer;\r\n                };\r\n                return setGlobalTracerProviderOriginal_1.call(this, tracerProvider);\r\n            };\r\n            defaultProvider.register();\r\n            api.trace.getSpan(api.context.active()); // seed OpenTelemetryScopeManagerWrapper with \"active\" symbol\r\n            // Register Azure SDK instrumentation\r\n            var openTelemetryInstr = require(\"@opentelemetry/instrumentation\");\r\n            var azureSdkInstr = require(\"@azure/opentelemetry-instrumentation-azure-sdk\");\r\n            openTelemetryInstr.registerInstrumentations({\r\n                instrumentations: [\r\n                    azureSdkInstr.createAzureSdkInstrumentation()\r\n                ]\r\n            });\r\n        }\r\n        isPatched = true;\r\n    }\r\n    catch (e) { /* squash errors */ }\r\n    return coreTracing;\r\n};\r\nexports.azureCoreTracing = {\r\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\r\n    patch: azureCoreTracingPatchFunction,\r\n    publisherName: publisherName\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"@azure/core-tracing\", exports.azureCoreTracing);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=azure-coretracing.pub.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.bunyan = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar bunyanPatchFunction = function (originalBunyan) {\r\n    var originalEmit = originalBunyan.prototype._emit;\r\n    originalBunyan.prototype._emit = function (rec, noemit) {\r\n        var ret = originalEmit.apply(this, arguments);\r\n        if (!noemit) {\r\n            var str = ret;\r\n            if (!str) {\r\n                str = originalEmit.call(this, rec, true);\r\n            }\r\n            diagnostic_channel_1.channel.publish(\"bunyan\", { level: rec.level, result: str });\r\n        }\r\n        return ret;\r\n    };\r\n    return originalBunyan;\r\n};\r\nexports.bunyan = {\r\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\r\n    patch: bunyanPatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"bunyan\", exports.bunyan);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=bunyan.pub.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.console = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar stream_1 = require(\"stream\");\r\nvar consolePatchFunction = function (originalConsole) {\r\n    var aiLoggingOutStream = new stream_1.Writable();\r\n    var aiLoggingErrStream = new stream_1.Writable();\r\n    // Default console is roughly equivalent to `new Console(process.stdout, process.stderr)`\r\n    // We create a version which publishes to the channel and also to stdout/stderr\r\n    aiLoggingOutStream.write = function (chunk) {\r\n        if (!chunk) {\r\n            return true;\r\n        }\r\n        var message = chunk.toString();\r\n        diagnostic_channel_1.channel.publish(\"console\", { message: message });\r\n        return true;\r\n    };\r\n    aiLoggingErrStream.write = function (chunk) {\r\n        if (!chunk) {\r\n            return true;\r\n        }\r\n        var message = chunk.toString();\r\n        diagnostic_channel_1.channel.publish(\"console\", { message: message, stderr: true });\r\n        return true;\r\n    };\r\n    var aiLoggingConsole = new originalConsole.Console(aiLoggingOutStream, aiLoggingErrStream);\r\n    var consoleMethods = [\"log\", \"info\", \"warn\", \"error\", \"dir\", \"time\", \"timeEnd\", \"trace\", \"assert\"];\r\n    var _loop_1 = function (method) {\r\n        var originalMethod = originalConsole[method];\r\n        if (originalMethod) {\r\n            originalConsole[method] = function () {\r\n                if (aiLoggingConsole[method]) {\r\n                    try {\r\n                        aiLoggingConsole[method].apply(aiLoggingConsole, arguments);\r\n                    }\r\n                    catch (e) {\r\n                        // Ignore errors; allow the original method to throw if necessary\r\n                    }\r\n                }\r\n                return originalMethod.apply(originalConsole, arguments);\r\n            };\r\n        }\r\n    };\r\n    for (var _i = 0, consoleMethods_1 = consoleMethods; _i < consoleMethods_1.length; _i++) {\r\n        var method = consoleMethods_1[_i];\r\n        _loop_1(method);\r\n    }\r\n    return originalConsole;\r\n};\r\nexports.console = {\r\n    versionSpecifier: \">= 4.0.0\",\r\n    patch: consolePatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"console\", exports.console);\r\n    // Force patching of console\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    require(\"console\");\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=console.pub.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.mongoCore = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar mongodbcorePatchFunction = function (originalMongoCore) {\r\n    var originalConnect = originalMongoCore.Server.prototype.connect;\r\n    originalMongoCore.Server.prototype.connect = function contextPreservingConnect() {\r\n        var ret = originalConnect.apply(this, arguments);\r\n        // Messages sent to mongo progress through a pool\r\n        // This can result in context getting mixed between different responses\r\n        // so we wrap the callbacks to restore appropriate state\r\n        var originalWrite = this.s.pool.write;\r\n        this.s.pool.write = function contextPreservingWrite() {\r\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\r\n            if (typeof arguments[cbidx] === \"function\") {\r\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\r\n            }\r\n            return originalWrite.apply(this, arguments);\r\n        };\r\n        // Logout is a special case, it doesn't call the write function but instead\r\n        // directly calls into connection.write\r\n        var originalLogout = this.s.pool.logout;\r\n        this.s.pool.logout = function contextPreservingLogout() {\r\n            if (typeof arguments[1] === \"function\") {\r\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\r\n            }\r\n            return originalLogout.apply(this, arguments);\r\n        };\r\n        return ret;\r\n    };\r\n    return originalMongoCore;\r\n};\r\nexports.mongoCore = {\r\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\r\n    patch: mongodbcorePatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb-core\", exports.mongoCore);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mongodb-core.pub.js.map", "\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.mongo330 = exports.mongo3 = exports.mongo2 = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar mongodbPatchFunction = function (originalMongo) {\r\n    var listener = originalMongo.instrument({\r\n        operationIdGenerator: {\r\n            next: function () {\r\n                return diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\r\n            }\r\n        }\r\n    });\r\n    var eventMap = {};\r\n    listener.on(\"started\", function (event) {\r\n        if (eventMap[event.requestId]) {\r\n            // Note: Mongo can generate 2 completely separate requests\r\n            // which share the same requestId, if a certain race condition is triggered.\r\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\r\n            return;\r\n        }\r\n        eventMap[event.requestId] = __assign(__assign({}, event), { time: new Date() });\r\n    });\r\n    listener.on(\"succeeded\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event.operationId === \"function\") {\r\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\r\n        }\r\n        else {\r\n            // fallback -- correlation will not work here\r\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true });\r\n        }\r\n    });\r\n    listener.on(\"failed\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event.operationId === \"function\") {\r\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\r\n        }\r\n        else {\r\n            // fallback -- correlation will not work here\r\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false });\r\n        }\r\n    });\r\n    return originalMongo;\r\n};\r\nvar mongodb3PatchFunction = function (originalMongo) {\r\n    var listener = originalMongo.instrument();\r\n    var eventMap = {};\r\n    var contextMap = {};\r\n    listener.on(\"started\", function (event) {\r\n        if (eventMap[event.requestId]) {\r\n            // Note: Mongo can generate 2 completely separate requests\r\n            // which share the same requestId, if a certain race condition is triggered.\r\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\r\n            return;\r\n        }\r\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\r\n        eventMap[event.requestId] = __assign(__assign({}, event), { time: new Date() });\r\n    });\r\n    listener.on(\"succeeded\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\r\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\r\n            delete contextMap[event.requestId];\r\n        }\r\n    });\r\n    listener.on(\"failed\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\r\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\r\n            delete contextMap[event.requestId];\r\n        }\r\n    });\r\n    return originalMongo;\r\n};\r\n// In mongodb 3.3.0, mongodb-core was merged into mongodb, so the same patching\r\n// can be used here. this.s.pool was changed to this.s.coreTopology.s.pool\r\nvar mongodbcorePatchFunction = function (originalMongo) {\r\n    var originalConnect = originalMongo.Server.prototype.connect;\r\n    originalMongo.Server.prototype.connect = function contextPreservingConnect() {\r\n        var ret = originalConnect.apply(this, arguments);\r\n        // Messages sent to mongo progress through a pool\r\n        // This can result in context getting mixed between different responses\r\n        // so we wrap the callbacks to restore appropriate state\r\n        var originalWrite = this.s.coreTopology.s.pool.write;\r\n        this.s.coreTopology.s.pool.write = function contextPreservingWrite() {\r\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\r\n            if (typeof arguments[cbidx] === \"function\") {\r\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\r\n            }\r\n            return originalWrite.apply(this, arguments);\r\n        };\r\n        // Logout is a special case, it doesn't call the write function but instead\r\n        // directly calls into connection.write\r\n        var originalLogout = this.s.coreTopology.s.pool.logout;\r\n        this.s.coreTopology.s.pool.logout = function contextPreservingLogout() {\r\n            if (typeof arguments[1] === \"function\") {\r\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\r\n            }\r\n            return originalLogout.apply(this, arguments);\r\n        };\r\n        return ret;\r\n    };\r\n    return originalMongo;\r\n};\r\nvar mongodb330PatchFunction = function (originalMongo) {\r\n    mongodbcorePatchFunction(originalMongo); // apply mongodb-core patches\r\n    var listener = originalMongo.instrument();\r\n    var eventMap = {};\r\n    var contextMap = {};\r\n    listener.on(\"started\", function (event) {\r\n        if (eventMap[event.requestId]) {\r\n            // Note: Mongo can generate 2 completely separate requests\r\n            // which share the same requestId, if a certain race condition is triggered.\r\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\r\n            return;\r\n        }\r\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\r\n        eventMap[event.requestId] = event;\r\n    });\r\n    listener.on(\"succeeded\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\r\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\r\n            delete contextMap[event.requestId];\r\n        }\r\n    });\r\n    listener.on(\"failed\", function (event) {\r\n        var startedData = eventMap[event.requestId];\r\n        if (startedData) {\r\n            delete eventMap[event.requestId];\r\n        }\r\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\r\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\r\n            delete contextMap[event.requestId];\r\n        }\r\n    });\r\n    return originalMongo;\r\n};\r\nexports.mongo2 = {\r\n    versionSpecifier: \">= 2.0.0 <= 3.0.5\",\r\n    patch: mongodbPatchFunction\r\n};\r\nexports.mongo3 = {\r\n    versionSpecifier: \"> 3.0.5 < 3.3.0\",\r\n    patch: mongodb3PatchFunction\r\n};\r\nexports.mongo330 = {\r\n    versionSpecifier: \">= 3.3.0 < 4.0.0\",\r\n    patch: mongodb330PatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo2);\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo3);\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo330);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mongodb.pub.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.mysql = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar path = require(\"path\");\r\nvar mysqlPatchFunction = function (originalMysql, originalMysqlPath) {\r\n    // The `name` passed in here is for debugging purposes,\r\n    // to help distinguish which object is being patched.\r\n    var patchObjectFunction = function (obj, name) {\r\n        return function (func, cbWrapper) {\r\n            var originalFunc = obj[func];\r\n            if (originalFunc) {\r\n                obj[func] = function mysqlContextPreserver() {\r\n                    // Find the callback, if there is one\r\n                    var cbidx = arguments.length - 1;\r\n                    for (var i = arguments.length - 1; i >= 0; --i) {\r\n                        if (typeof arguments[i] === \"function\") {\r\n                            cbidx = i;\r\n                            break;\r\n                        }\r\n                        else if (typeof arguments[i] !== \"undefined\") {\r\n                            break;\r\n                        }\r\n                    }\r\n                    var cb = arguments[cbidx];\r\n                    var resultContainer = { result: null, startTime: null, startDate: null };\r\n                    if (typeof cb === \"function\") {\r\n                        // Preserve context on the callback.\r\n                        // If this is one of the functions that we want to track,\r\n                        // then wrap the callback with the tracking wrapper\r\n                        if (cbWrapper) {\r\n                            resultContainer.startTime = process.hrtime();\r\n                            resultContainer.startDate = new Date();\r\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cbWrapper(resultContainer, cb));\r\n                        }\r\n                        else {\r\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cb);\r\n                        }\r\n                    }\r\n                    var result = originalFunc.apply(this, arguments);\r\n                    resultContainer.result = result;\r\n                    return result;\r\n                };\r\n            }\r\n        };\r\n    };\r\n    var patchClassMemberFunction = function (classObject, name) {\r\n        return patchObjectFunction(classObject.prototype, name + \".prototype\");\r\n    };\r\n    var connectionCallbackFunctions = [\r\n        \"connect\", \"changeUser\",\r\n        \"ping\", \"statistics\", \"end\"\r\n    ];\r\n    var connectionClass = require(path.dirname(originalMysqlPath) + \"/lib/Connection\");\r\n    connectionCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(connectionClass, \"Connection\")(value); });\r\n    // Connection.createQuery is a static method\r\n    patchObjectFunction(connectionClass, \"Connection\")(\"createQuery\", function (resultContainer, cb) {\r\n        return function (err) {\r\n            var hrDuration = process.hrtime(resultContainer.startTime);\r\n            /* tslint:disable-next-line:no-bitwise */\r\n            var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\r\n            diagnostic_channel_1.channel.publish(\"mysql\", { query: resultContainer.result, callbackArgs: arguments, err: err, duration: duration, time: resultContainer.startDate });\r\n            cb.apply(this, arguments);\r\n        };\r\n    });\r\n    var poolCallbackFunctions = [\r\n        \"_enqueueCallback\"\r\n    ];\r\n    var poolClass = require(path.dirname(originalMysqlPath) + \"/lib/Pool\");\r\n    poolCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(poolClass, \"Pool\")(value); });\r\n    return originalMysql;\r\n};\r\nexports.mysql = {\r\n    versionSpecifier: \">= 2.0.0 < 3.0.0\",\r\n    patch: mysqlPatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mysql\", exports.mysql);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mysql.pub.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.postgresPool1 = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nfunction postgresPool1PatchFunction(originalPgPool) {\r\n    var originalConnect = originalPgPool.prototype.connect;\r\n    originalPgPool.prototype.connect = function connect(callback) {\r\n        if (callback) {\r\n            arguments[0] = diagnostic_channel_1.channel.bindToContext(callback);\r\n        }\r\n        return originalConnect.apply(this, arguments);\r\n    };\r\n    return originalPgPool;\r\n}\r\nexports.postgresPool1 = {\r\n    versionSpecifier: \">= 1.0.0 < 3.0.0\",\r\n    patch: postgresPool1PatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg-pool\", exports.postgresPool1);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=pg-pool.pub.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.postgres = exports.postgres6 = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar events_1 = require(\"events\");\r\nvar publisherName = \"postgres\";\r\nfunction postgres6PatchFunction(originalPg, originalPgPath) {\r\n    var originalClientQuery = originalPg.Client.prototype.query;\r\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\r\n    // wherever the callback is passed, find it, save it, and remove it from the call\r\n    // to the the original .query() function\r\n    originalPg.Client.prototype.query = function query(config, values, callback) {\r\n        var data = {\r\n            query: {},\r\n            database: {\r\n                host: this.connectionParameters.host,\r\n                port: this.connectionParameters.port\r\n            },\r\n            result: null,\r\n            error: null,\r\n            duration: 0,\r\n            time: new Date()\r\n        };\r\n        var start = process.hrtime();\r\n        var queryResult;\r\n        function patchCallback(cb) {\r\n            if (cb && cb[diagnosticOriginalFunc]) {\r\n                cb = cb[diagnosticOriginalFunc];\r\n            }\r\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\r\n                var end = process.hrtime(start);\r\n                data.result = res && { rowCount: res.rowCount, command: res.command };\r\n                data.error = err;\r\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\r\n                diagnostic_channel_1.channel.publish(publisherName, data);\r\n                // emulate weird internal behavior in pg@6\r\n                // on success, the callback is called *before* query events are emitted\r\n                // on failure, the callback is called *instead of* the query emitting events\r\n                // with no events, that means no promises (since the promise is resolved/rejected in an event handler)\r\n                // since we are always inserting ourselves as a callback, we have to restore the original\r\n                // behavior if the user didn't provide one themselves\r\n                if (err) {\r\n                    if (cb) {\r\n                        return cb.apply(this, arguments);\r\n                    }\r\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\r\n                        queryResult.emit(\"error\", err);\r\n                    }\r\n                }\r\n                else if (cb) {\r\n                    cb.apply(this, arguments);\r\n                }\r\n            });\r\n            try {\r\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\r\n                return trackingCallback;\r\n            }\r\n            catch (e) {\r\n                // this should never happen, but bailout in case it does\r\n                return cb;\r\n            }\r\n        }\r\n        // this function takes too many variations of arguments.\r\n        // this patches any provided callback or creates a new callback if one wasn't provided.\r\n        // since the callback is always called (if provided) in addition to always having a Promisified\r\n        // EventEmitter returned (well, sometimes -- see above), its safe to insert a callback if none was given\r\n        try {\r\n            if (typeof config === \"string\") {\r\n                if (values instanceof Array) {\r\n                    data.query.preparable = {\r\n                        text: config,\r\n                        args: values\r\n                    };\r\n                    callback = patchCallback(callback);\r\n                }\r\n                else {\r\n                    data.query.text = config;\r\n                    // pg v6 will, for some reason, accept both\r\n                    // client.query(\"...\", undefined, () => {...})\r\n                    // **and**\r\n                    // client.query(\"...\", () => {...});\r\n                    // Internally, precedence is given to the callback argument\r\n                    if (callback) {\r\n                        callback = patchCallback(callback);\r\n                    }\r\n                    else {\r\n                        values = patchCallback(values);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (typeof config.name === \"string\") {\r\n                    data.query.plan = config.name;\r\n                }\r\n                else if (config.values instanceof Array) {\r\n                    data.query.preparable = {\r\n                        text: config.text,\r\n                        args: config.values\r\n                    };\r\n                }\r\n                else {\r\n                    data.query.text = config.text;\r\n                }\r\n                if (callback) {\r\n                    callback = patchCallback(callback);\r\n                }\r\n                else if (values) {\r\n                    values = patchCallback(values);\r\n                }\r\n                else {\r\n                    config.callback = patchCallback(config.callback);\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // if our logic here throws, bail out and just let pg do its thing\r\n            return originalClientQuery.apply(this, arguments);\r\n        }\r\n        arguments[0] = config;\r\n        arguments[1] = values;\r\n        arguments[2] = callback;\r\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\r\n        queryResult = originalClientQuery.apply(this, arguments);\r\n        return queryResult;\r\n    };\r\n    return originalPg;\r\n}\r\nfunction postgresLatestPatchFunction(originalPg, originalPgPath) {\r\n    var originalClientQuery = originalPg.Client.prototype.query;\r\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\r\n    // wherever the callback is passed, find it, save it, and remove it from the call\r\n    // to the the original .query() function\r\n    originalPg.Client.prototype.query = function query(config, values, callback) {\r\n        var _this = this;\r\n        var _a, _b;\r\n        var callbackProvided = !!callback; // Starting in pg@7.x+, Promise is returned only if !callbackProvided\r\n        var data = {\r\n            query: {},\r\n            database: {\r\n                host: this.connectionParameters.host,\r\n                port: this.connectionParameters.port\r\n            },\r\n            result: null,\r\n            error: null,\r\n            duration: 0,\r\n            time: new Date()\r\n        };\r\n        var queryResult;\r\n        var start = process.hrtime();\r\n        function patchCallback(cb) {\r\n            if (cb && cb[diagnosticOriginalFunc]) {\r\n                cb = cb[diagnosticOriginalFunc];\r\n            }\r\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\r\n                var end = process.hrtime(start);\r\n                data.result = res && { rowCount: res.rowCount, command: res.command };\r\n                data.error = err;\r\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\r\n                diagnostic_channel_1.channel.publish(publisherName, data);\r\n                if (err) {\r\n                    if (cb) {\r\n                        return cb.apply(this, arguments);\r\n                    }\r\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\r\n                        queryResult.emit(\"error\", err);\r\n                    }\r\n                }\r\n                else if (cb) {\r\n                    cb.apply(this, arguments);\r\n                }\r\n            });\r\n            try {\r\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\r\n                return trackingCallback;\r\n            }\r\n            catch (e) {\r\n                // this should never happen, but bailout in case it does\r\n                return cb;\r\n            }\r\n        }\r\n        // Only try to wrap the callback if it is a function. We want to keep the same\r\n        // behavior of returning a promise only if no callback is provided. Wrapping\r\n        // a nonfunction makes it a function and pg will interpret it as a callback\r\n        try {\r\n            if (typeof config === \"string\") {\r\n                if (values instanceof Array) {\r\n                    data.query.preparable = {\r\n                        text: config,\r\n                        args: values\r\n                    };\r\n                    callbackProvided = typeof callback === \"function\";\r\n                    callback = callbackProvided ? patchCallback(callback) : callback;\r\n                }\r\n                else {\r\n                    data.query.text = config;\r\n                    if (callback) {\r\n                        callbackProvided = typeof callback === \"function\";\r\n                        callback = callbackProvided ? patchCallback(callback) : callback;\r\n                    }\r\n                    else {\r\n                        callbackProvided = typeof values === \"function\";\r\n                        values = callbackProvided ? patchCallback(values) : values;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (typeof config.name === \"string\") {\r\n                    data.query.plan = config.name;\r\n                }\r\n                else if (config.values instanceof Array) {\r\n                    data.query.preparable = {\r\n                        text: config.text,\r\n                        args: config.values\r\n                    };\r\n                }\r\n                else if (config.cursor) {\r\n                    data.query.text = (_a = config.cursor) === null || _a === void 0 ? void 0 : _a.text;\r\n                }\r\n                else {\r\n                    data.query.text = config.text;\r\n                }\r\n                if (callback) {\r\n                    callbackProvided = typeof callback === \"function\";\r\n                    callback = patchCallback(callback);\r\n                }\r\n                else if (values) {\r\n                    callbackProvided = typeof values === \"function\";\r\n                    values = callbackProvided ? patchCallback(values) : values;\r\n                }\r\n                else {\r\n                    callbackProvided = typeof config.callback === \"function\";\r\n                    config.callback = callbackProvided ? patchCallback(config.callback) : config.callback;\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // if our logic here throws, bail out and just let pg do its thing\r\n            return originalClientQuery.apply(this, arguments);\r\n        }\r\n        arguments[0] = config;\r\n        arguments[1] = values;\r\n        arguments[2] = callback;\r\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\r\n        try {\r\n            queryResult = originalClientQuery.apply(this, arguments);\r\n        }\r\n        catch (err) {\r\n            patchCallback()(err, undefined);\r\n            throw err;\r\n        }\r\n        if (!callbackProvided) {\r\n            if ((queryResult instanceof Promise)) {\r\n                return queryResult\r\n                    // pass resolved promise after publishing the event\r\n                    .then(function (result) {\r\n                    patchCallback()(undefined, result);\r\n                    return new _this._Promise(function (resolve, reject) {\r\n                        resolve(result);\r\n                    });\r\n                })\r\n                    // pass along rejected promise after publishing the error\r\n                    .catch(function (error) {\r\n                    patchCallback()(error, undefined);\r\n                    return new _this._Promise(function (resolve, reject) {\r\n                        reject(error);\r\n                    });\r\n                });\r\n            }\r\n            // Result could be a Cursor, QueryStream or Readable Stream\r\n            else {\r\n                var command = queryResult.text ? queryResult.text : \"\";\r\n                if (queryResult.cursor) {\r\n                    command = (_b = queryResult.cursor) === null || _b === void 0 ? void 0 : _b.text;\r\n                }\r\n                if (command) {\r\n                    var res = {\r\n                        command: command,\r\n                        rowCount: 0,\r\n                    };\r\n                    patchCallback()(undefined, res);\r\n                }\r\n            }\r\n        }\r\n        return queryResult;\r\n    };\r\n    return originalPg;\r\n}\r\nexports.postgres6 = {\r\n    versionSpecifier: \"6.*\",\r\n    patch: postgres6PatchFunction\r\n};\r\nexports.postgres = {\r\n    versionSpecifier: \">=7.* <=8.*\",\r\n    patch: postgresLatestPatchFunction,\r\n    publisherName: publisherName\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres6);\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=pg.pub.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.redis = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar redisPatchFunction = function (originalRedis) {\r\n    var originalSend = originalRedis.RedisClient.prototype.internal_send_command;\r\n    // Note: This is mixing together both context tracking and dependency tracking\r\n    originalRedis.RedisClient.prototype.internal_send_command = function (commandObj) {\r\n        if (commandObj) {\r\n            var cb_1 = commandObj.callback;\r\n            if (!cb_1 || !cb_1.pubsubBound) {\r\n                var address_1 = this.address;\r\n                var startTime_1 = process.hrtime();\r\n                var startDate_1 = new Date();\r\n                // Note: augmenting the callback on internal_send_command is correct for context\r\n                // tracking, but may be too low-level for dependency tracking. There are some 'errors'\r\n                // which higher levels expect in some cases\r\n                // However, the only other option is to intercept every individual command.\r\n                commandObj.callback = diagnostic_channel_1.channel.bindToContext(function (err, result) {\r\n                    var hrDuration = process.hrtime(startTime_1);\r\n                    /* tslint:disable-next-line:no-bitwise */\r\n                    var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\r\n                    diagnostic_channel_1.channel.publish(\"redis\", { duration: duration, address: address_1, commandObj: commandObj, err: err, result: result, time: startDate_1 });\r\n                    if (typeof cb_1 === \"function\") {\r\n                        cb_1.apply(this, arguments);\r\n                    }\r\n                });\r\n                commandObj.callback.pubsubBound = true;\r\n            }\r\n        }\r\n        return originalSend.call(this, commandObj);\r\n    };\r\n    return originalRedis;\r\n};\r\nexports.redis = {\r\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\r\n    patch: redisPatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"redis\", exports.redis);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=redis.pub.js.map", "\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.tedious = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar tediousPatchFunction = function (originalTedious) {\r\n    var originalMakeRequest = originalTedious.Connection.prototype.makeRequest;\r\n    originalTedious.Connection.prototype.makeRequest = function makeRequest() {\r\n        function getPatchedCallback(origCallback) {\r\n            var start = process.hrtime();\r\n            var data = {\r\n                query: {},\r\n                database: {\r\n                    host: null,\r\n                    port: null\r\n                },\r\n                result: null,\r\n                error: null,\r\n                duration: 0\r\n            };\r\n            return diagnostic_channel_1.channel.bindToContext(function (err, rowCount, rows) {\r\n                var end = process.hrtime(start);\r\n                data = __assign(__assign({}, data), { database: {\r\n                        host: this.connection.config.server,\r\n                        port: this.connection.config.options.port\r\n                    }, result: !err && { rowCount: rowCount, rows: rows }, query: {\r\n                        text: this.parametersByName.statement.value\r\n                    }, error: err, duration: Math.ceil((end[0] * 1e3) + (end[1] / 1e6)) });\r\n                diagnostic_channel_1.channel.publish(\"tedious\", data);\r\n                origCallback.call(this, err, rowCount, rows);\r\n            });\r\n        }\r\n        var request = arguments[0];\r\n        arguments[0].callback = getPatchedCallback(request.callback);\r\n        originalMakeRequest.apply(this, arguments);\r\n    };\r\n    return originalTedious;\r\n};\r\nexports.tedious = {\r\n    versionSpecifier: \">= 6.0.0 < 9.0.0\",\r\n    patch: tediousPatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"tedious\", exports.tedious);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=tedious.pub.js.map", "\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.winston2 = exports.winston3 = void 0;\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\n// register a \"filter\" with each logger that publishes the data about to be logged\r\nvar winston2PatchFunction = function (originalWinston) {\r\n    var originalLog = originalWinston.Logger.prototype.log;\r\n    var curLevels;\r\n    var loggingFilter = function (level, message, meta) {\r\n        var levelKind;\r\n        if (curLevels === originalWinston.config.npm.levels) {\r\n            levelKind = \"npm\";\r\n        }\r\n        else if (curLevels === originalWinston.config.syslog.levels) {\r\n            levelKind = \"syslog\";\r\n        }\r\n        else {\r\n            levelKind = \"unknown\";\r\n        }\r\n        diagnostic_channel_1.channel.publish(\"winston\", { level: level, message: message, meta: meta, levelKind: levelKind });\r\n        return message;\r\n    };\r\n    // whenever someone logs, ensure our filter comes last\r\n    originalWinston.Logger.prototype.log = function log() {\r\n        curLevels = this.levels;\r\n        if (!this.filters || this.filters.length === 0) {\r\n            this.filters = [loggingFilter];\r\n        }\r\n        else if (this.filters[this.filters.length - 1] !== loggingFilter) {\r\n            this.filters = this.filters.filter(function (f) { return f !== loggingFilter; });\r\n            this.filters.push(loggingFilter);\r\n        }\r\n        return originalLog.apply(this, arguments);\r\n    };\r\n    return originalWinston;\r\n};\r\nvar winston3PatchFunction = function (originalWinston) {\r\n    var mapLevelToKind = function (winston, level) {\r\n        var levelKind;\r\n        if (winston.config.npm.levels[level] != null) {\r\n            levelKind = \"npm\";\r\n        }\r\n        else if (winston.config.syslog.levels[level] != null) {\r\n            levelKind = \"syslog\";\r\n        }\r\n        else {\r\n            levelKind = \"unknown\";\r\n        }\r\n        return levelKind;\r\n    };\r\n    var AppInsightsTransport = /** @class */ (function (_super) {\r\n        __extends(AppInsightsTransport, _super);\r\n        function AppInsightsTransport(winston, opts) {\r\n            var _this = _super.call(this, opts) || this;\r\n            _this.winston = winston;\r\n            return _this;\r\n        }\r\n        AppInsightsTransport.prototype.log = function (info, callback) {\r\n            // tslint:disable-next-line:prefer-const - try to obtain level from Symbol(level) afterwards\r\n            var message = info.message, level = info.level, meta = info.meta, splat = __rest(info, [\"message\", \"level\", \"meta\"]);\r\n            level = typeof Symbol[\"for\"] === \"function\" ? info[Symbol[\"for\"](\"level\")] : level; // Symbol(level) is uncolorized, so prefer getting it from here\r\n            message = info instanceof Error ? info : message; // Winston places Errors at info, strings at info.message\r\n            var levelKind = mapLevelToKind(this.winston, level);\r\n            meta = meta || {}; // Winston _somtimes_ puts metadata inside meta, so start from here\r\n            for (var key in splat) {\r\n                if (splat.hasOwnProperty(key)) {\r\n                    meta[key] = splat[key];\r\n                }\r\n            }\r\n            diagnostic_channel_1.channel.publish(\"winston\", { message: message, level: level, levelKind: levelKind, meta: meta });\r\n            callback();\r\n        };\r\n        return AppInsightsTransport;\r\n    }(originalWinston.Transport));\r\n    // Patch this function\r\n    function patchedConfigure() {\r\n        // Grab highest sev logging level in case of custom logging levels\r\n        var levels = originalWinston.config.npm.levels;\r\n        if (arguments && arguments[0] && arguments[0].levels) {\r\n            levels = arguments[0].levels;\r\n        }\r\n        var lastLevel;\r\n        for (var level in levels) {\r\n            if (levels.hasOwnProperty(level)) {\r\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\r\n            }\r\n        }\r\n        this.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\r\n    }\r\n    var origCreate = originalWinston.createLogger;\r\n    originalWinston.createLogger = function patchedCreate() {\r\n        // Grab highest sev logging level in case of custom logging levels\r\n        var levels = originalWinston.config.npm.levels;\r\n        if (arguments && arguments[0] && arguments[0].levels) {\r\n            levels = arguments[0].levels;\r\n        }\r\n        var lastLevel;\r\n        for (var level in levels) {\r\n            if (levels.hasOwnProperty(level)) {\r\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\r\n            }\r\n        }\r\n        // Add custom app insights transport to the end\r\n        // Remark: Configure is not available until after createLogger()\r\n        // and the Logger prototype is not exported in winston 3.x, so\r\n        // patch both createLogger and configure. Could also call configure\r\n        // again after createLogger, but that would cause configure to be called\r\n        // twice per create.\r\n        var result = origCreate.apply(this, arguments);\r\n        result.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\r\n        var origConfigure = result.configure;\r\n        result.configure = function () {\r\n            origConfigure.apply(this, arguments);\r\n            patchedConfigure.apply(this, arguments);\r\n        };\r\n        return result;\r\n    };\r\n    var origRootConfigure = originalWinston.configure;\r\n    originalWinston.configure = function () {\r\n        origRootConfigure.apply(this, arguments);\r\n        patchedConfigure.apply(this, arguments);\r\n    };\r\n    originalWinston.add(new AppInsightsTransport(originalWinston));\r\n    return originalWinston;\r\n};\r\nexports.winston3 = {\r\n    versionSpecifier: \"3.x\",\r\n    patch: winston3PatchFunction\r\n};\r\nexports.winston2 = {\r\n    versionSpecifier: \"2.x\",\r\n    patch: winston2PatchFunction\r\n};\r\nfunction enable() {\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston2);\r\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston3);\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=winston.pub.js.map", "\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.enable = exports.tedious = exports.pgPool = exports.pg = exports.winston = exports.redis = exports.mysql = exports.mongodb = exports.mongodbCore = exports.console = exports.bunyan = exports.azuresdk = void 0;\r\nvar azuresdk = require(\"./azure-coretracing.pub\");\r\nexports.azuresdk = azuresdk;\r\nvar bunyan = require(\"./bunyan.pub\");\r\nexports.bunyan = bunyan;\r\nvar consolePub = require(\"./console.pub\");\r\nexports.console = consolePub;\r\nvar mongodbCore = require(\"./mongodb-core.pub\");\r\nexports.mongodbCore = mongodbCore;\r\nvar mongodb = require(\"./mongodb.pub\");\r\nexports.mongodb = mongodb;\r\nvar mysql = require(\"./mysql.pub\");\r\nexports.mysql = mysql;\r\nvar pgPool = require(\"./pg-pool.pub\");\r\nexports.pgPool = pgPool;\r\nvar pg = require(\"./pg.pub\");\r\nexports.pg = pg;\r\nvar redis = require(\"./redis.pub\");\r\nexports.redis = redis;\r\nvar tedious = require(\"./tedious.pub\");\r\nexports.tedious = tedious;\r\nvar winston = require(\"./winston.pub\");\r\nexports.winston = winston;\r\nfunction enable() {\r\n    bunyan.enable();\r\n    consolePub.enable();\r\n    mongodbCore.enable();\r\n    mongodb.enable();\r\n    mysql.enable();\r\n    pg.enable();\r\n    pgPool.enable();\r\n    redis.enable();\r\n    winston.enable();\r\n    azuresdk.enable();\r\n    tedious.enable();\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=index.js.map", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\n\r\n// Don't reference modules from these directly. Use only for types.\r\n// This is to avoid requiring the actual module if the NO_DIAGNOSTIC_CHANNEL env is present\r\nimport * as DiagChannelPublishers from \"diagnostic-channel-publishers\";\r\nimport * as DiagChannel from \"diagnostic-channel\";\r\nimport { AsyncScopeManager } from \"../AsyncHooksScopeManager\";\r\nimport Logging = require(\"../../Library/Logging\");\r\nimport { JsonConfig } from \"../../Library/JsonConfig\";\r\n\r\nexport const IsInitialized = !JsonConfig.getInstance().noDiagnosticChannel;\r\nconst TAG = \"DiagnosticChannel\";\r\n\r\nif (IsInitialized) {\r\n    const publishers: typeof DiagChannelPublishers = require(\"diagnostic-channel-publishers\");\r\n    const individualOptOuts: string = JsonConfig.getInstance().noPatchModules;\r\n    const unpatchedModules = individualOptOuts.split(\",\");\r\n    const modules: {[key: string] : any} = {\r\n        bunyan: publishers.bunyan,\r\n        console: publishers.console,\r\n        mongodb: publishers.mongodb,\r\n        mongodbCore: publishers.mongodbCore,\r\n        mysql: publishers.mysql,\r\n        redis: publishers.redis,\r\n        pg: publishers.pg,\r\n        pgPool: publishers.pgPool,\r\n        winston: publishers.winston,\r\n        azuresdk: publishers.azuresdk\r\n    };\r\n    for (const mod in modules) {\r\n        if (unpatchedModules.indexOf(mod) === -1) {\r\n            modules[mod].enable();\r\n            Logging.info(TAG, `Subscribed to ${mod} events`);\r\n        }\r\n    }\r\n    if (unpatchedModules.length > 0) {\r\n        Logging.info(TAG, \"Some modules will not be patched\", unpatchedModules);\r\n    }\r\n} else {\r\n    Logging.info(TAG, \"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set\");\r\n}\r\n\r\nexport function registerContextPreservation(cb: (cb: Function) => Function) {\r\n    if (!IsInitialized) {\r\n        return;\r\n    }\r\n    const diagChannel = (require(\"diagnostic-channel\") as typeof DiagChannel);\r\n    diagChannel.channel.addContextPreservation(cb);\r\n}\r\n", "export = {\r\n\r\n    /**\r\n     * Request-Context header\r\n     */\r\n    requestContextHeader: \"request-context\",\r\n\r\n    /**\r\n     * Source instrumentation header that is added by an application while making http\r\n     * requests and retrieved by the other application when processing incoming requests.\r\n     */\r\n    requestContextSourceKey: \"appId\",\r\n\r\n    /**\r\n     * Target instrumentation header that is added to the response and retrieved by the\r\n     * calling application when processing incoming responses.\r\n     */\r\n    requestContextTargetKey: \"appId\",\r\n\r\n    /**\r\n     * Request-Id header\r\n     */\r\n    requestIdHeader: \"request-id\",\r\n\r\n    /**\r\n     * Legacy Header containing the id of the immediate caller\r\n     */\r\n    parentIdHeader: \"x-ms-request-id\",\r\n\r\n    /**\r\n     * Legacy Header containing the correlation id that kept the same for every telemetry item\r\n     * across transactions\r\n     */\r\n    rootIdHeader: \"x-ms-request-root-id\",\r\n\r\n    /**\r\n     * Correlation-Context header\r\n     *\r\n     * Not currently actively used, but the contents should be passed from incoming to outgoing requests\r\n     */\r\n    correlationContextHeader: \"correlation-context\",\r\n\r\n    /**\r\n     * W3C distributed tracing protocol header\r\n     */\r\n    traceparentHeader: \"traceparent\",\r\n\r\n    /**\r\n     * W3C distributed tracing protocol state header\r\n     */\r\n    traceStateHeader: \"tracestate\"\r\n}\r\n", "import http = require(\"http\");\r\nimport https = require(\"https\");\r\nimport url = require(\"url\");\r\nimport constants = require(\"constants\");\r\n\r\nimport Logging = require(\"./Logging\");\r\nimport Config = require(\"./Config\");\r\nimport TelemetryClient = require(\"../Library/TelemetryClient\");\r\nimport RequestResponseHeaders = require(\"./RequestResponseHeaders\");\r\nimport { HttpRequest } from \"../Library/Functions\";\r\nimport { JsonConfig } from \"./JsonConfig\";\r\n\r\n\r\nclass Util {\r\n    private static _useKeepAlive = !JsonConfig.getInstance().noHttpAgentKeepAlive;\r\n    private static _listenerAttached = false;\r\n\r\n    public static MAX_PROPERTY_LENGTH = 8192;\r\n    public static keepAliveAgent: http.Agent = new https.Agent(<any>{\r\n        keepAlive: true,\r\n        maxSockets: 25,\r\n        secureOptions: constants.SSL_OP_NO_SSLv2 | constants.SSL_OP_NO_SSLv3 |\r\n            constants.SSL_OP_NO_TLSv1 | constants.SSL_OP_NO_TLSv1_1\r\n    });\r\n    public static tlsRestrictedAgent: http.Agent = new https.Agent(<any>{\r\n        secureOptions: constants.SSL_OP_NO_SSLv2 | constants.SSL_OP_NO_SSLv3 |\r\n            constants.SSL_OP_NO_TLSv1 | constants.SSL_OP_NO_TLSv1_1\r\n    });\r\n    public static isNodeExit = false;\r\n\r\n    public constructor() {\r\n        Util._addCloseHandler();\r\n    }\r\n\r\n    /**\r\n     * helper method to access userId and sessionId cookie\r\n     */\r\n    public static getCookie(name: string, cookie: string) {\r\n        var value = \"\";\r\n        if (name && name.length && typeof cookie === \"string\") {\r\n            var cookieName = name + \"=\";\r\n            var cookies = cookie.split(\";\");\r\n            for (var i = 0; i < cookies.length; i++) {\r\n                var cookie = cookies[i];\r\n                cookie = Util.trim(cookie);\r\n                if (cookie && cookie.indexOf(cookieName) === 0) {\r\n                    value = cookie.substring(cookieName.length, cookies[i].length);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * helper method to trim strings (IE8 does not implement String.prototype.trim)\r\n     */\r\n    public static trim(str: string): string {\r\n        if (typeof str === \"string\") {\r\n            return str.replace(/^\\s+|\\s+$/g, \"\");\r\n        } else {\r\n            return \"\";\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Convert an array of int32 to Base64 (no '==' at the end).\r\n     * MSB first.\r\n     */\r\n    public static int32ArrayToBase64(array: number[]) {\r\n        let toChar = (v: number, i: number) =>\r\n            String.fromCharCode((v >> i) & 0xFF);\r\n        let int32AsString = (v: number) =>\r\n            toChar(v, 24) + toChar(v, 16) + toChar(v, 8) + toChar(v, 0);\r\n        let x = array.map(int32AsString).join(\"\");\r\n        const b = Buffer.from ? Buffer.from(x, \"binary\") : new Buffer(x, \"binary\");\r\n        let s = b.toString(\"base64\");\r\n        return s.substr(0, s.indexOf(\"=\"));\r\n    }\r\n\r\n    /**\r\n     * generate a random 32bit number (-0x80000000..0x7FFFFFFF).\r\n     */\r\n    public static random32() {\r\n        return (0x100000000 * Math.random()) | 0;\r\n    }\r\n\r\n    /**\r\n     * generate a random 32bit number (0x00000000..0xFFFFFFFF).\r\n     */\r\n    public static randomu32() {\r\n        return Util.random32() + 0x80000000;\r\n    }\r\n\r\n    /**\r\n     * generate W3C-compatible trace id\r\n     * https://github.com/w3c/distributed-tracing/blob/master/trace_context/HTTP_HEADER_FORMAT.md#trace-id\r\n     */\r\n    public static w3cTraceId() {\r\n        var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\r\n\r\n        // rfc4122 version 4 UUID without dashes and with lowercase letters\r\n        var oct = \"\", tmp;\r\n        for (var a = 0; a < 4; a++) {\r\n            tmp = Util.random32();\r\n            oct +=\r\n                hexValues[tmp & 0xF] +\r\n                hexValues[tmp >> 4 & 0xF] +\r\n                hexValues[tmp >> 8 & 0xF] +\r\n                hexValues[tmp >> 12 & 0xF] +\r\n                hexValues[tmp >> 16 & 0xF] +\r\n                hexValues[tmp >> 20 & 0xF] +\r\n                hexValues[tmp >> 24 & 0xF] +\r\n                hexValues[tmp >> 28 & 0xF];\r\n        }\r\n\r\n        // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\r\n        var clockSequenceHi = hexValues[8 + (Math.random() * 4) | 0];\r\n        return oct.substr(0, 8) + oct.substr(9, 4) + \"4\" + oct.substr(13, 3) + clockSequenceHi + oct.substr(16, 3) + oct.substr(19, 12);\r\n    }\r\n\r\n    public static w3cSpanId() {\r\n        return Util.w3cTraceId().substring(16);\r\n    }\r\n\r\n    public static isValidW3CId(id: string): boolean {\r\n        return id.length === 32 && id !== \"00000000000000000000000000000000\";\r\n    }\r\n\r\n    /**\r\n     * Check if an object is of type Array\r\n     */\r\n    public static isArray(obj: any): boolean {\r\n        return Object.prototype.toString.call(obj) === \"[object Array]\";\r\n    }\r\n\r\n    /**\r\n     * Check if an object is of type Error\r\n     */\r\n    public static isError(obj: any): boolean {\r\n        return Object.prototype.toString.call(obj) === \"[object Error]\";\r\n    }\r\n\r\n    public static isPrimitive(input: any): boolean {\r\n        const propType = typeof input;\r\n        return propType === \"string\" || propType === \"number\" || propType === \"boolean\";\r\n    }\r\n\r\n    /**\r\n     * Check if an object is of type Date\r\n     */\r\n    public static isDate(obj: any): boolean {\r\n        return Object.prototype.toString.call(obj) === \"[object Date]\";\r\n    }\r\n\r\n    /**\r\n     * Convert ms to c# time span format\r\n     */\r\n    public static msToTimeSpan(totalms: number): string {\r\n        if (isNaN(totalms) || totalms < 0) {\r\n            totalms = 0;\r\n        }\r\n\r\n        var sec = ((totalms / 1000) % 60).toFixed(7).replace(/0{0,4}$/, \"\");\r\n        var min = \"\" + Math.floor(totalms / (1000 * 60)) % 60;\r\n        var hour = \"\" + Math.floor(totalms / (1000 * 60 * 60)) % 24;\r\n        var days = Math.floor(totalms / (1000 * 60 * 60 * 24));\r\n\r\n        sec = sec.indexOf(\".\") < 2 ? \"0\" + sec : sec;\r\n        min = min.length < 2 ? \"0\" + min : min;\r\n        hour = hour.length < 2 ? \"0\" + hour : hour;\r\n        var daysText = days > 0 ? days + \".\" : \"\";\r\n\r\n        return daysText + hour + \":\" + min + \":\" + sec;\r\n    }\r\n\r\n    /**\r\n     * Using JSON.stringify, by default Errors do not serialize to something useful:\r\n     * Simplify a generic Node Error into a simpler map for customDimensions\r\n     * Custom errors can still implement toJSON to override this functionality\r\n     */\r\n    protected static extractError(err: Error): { message: string, code: string } {\r\n        // Error is often subclassed so may have code OR id properties:\r\n        // https://nodejs.org/api/errors.html#errors_error_code\r\n        const looseError = err as any;\r\n        return {\r\n            message: err.message,\r\n            code: looseError.code || looseError.id || \"\"\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Manually call toJSON if available to pre-convert the value.\r\n     * If a primitive is returned, then the consumer of this function can skip JSON.stringify.\r\n     * This avoids double escaping of quotes for Date objects, for example.\r\n     */\r\n    protected static extractObject(origProperty: any): any {\r\n        if (origProperty instanceof Error) {\r\n            return Util.extractError(origProperty);\r\n        }\r\n        if (typeof origProperty.toJSON === \"function\") {\r\n            return origProperty.toJSON();\r\n        }\r\n        return origProperty;\r\n    }\r\n\r\n    /**\r\n     * Validate that an object is of type { [key: string]: string }\r\n     */\r\n    public static validateStringMap(obj: any): { [key: string]: string } {\r\n        if (typeof obj !== \"object\") {\r\n            Logging.info(\"Invalid properties dropped from payload\");\r\n            return;\r\n        }\r\n        const map: { [key: string]: string } = {};\r\n        for (let field in obj) {\r\n            let property: string = \"\";\r\n            const origProperty: any = obj[field];\r\n            const propType = typeof origProperty;\r\n\r\n            if (Util.isPrimitive(origProperty)) {\r\n                property = origProperty.toString();\r\n            } else if (origProperty === null || propType === \"undefined\") {\r\n                property = \"\";\r\n            } else if (propType === \"function\") {\r\n                Logging.info(\"key: \" + field + \" was function; will not serialize\");\r\n                continue;\r\n            } else {\r\n                const stringTarget = Util.isArray(origProperty) ? origProperty : Util.extractObject(origProperty);\r\n                try {\r\n                    if (Util.isPrimitive(stringTarget)) {\r\n                        property = stringTarget;\r\n                    } else {\r\n                        property = JSON.stringify(stringTarget);\r\n                    }\r\n                } catch (e) {\r\n                    property = origProperty.constructor.name.toString() + \" (Error: \" + e.message + \")\";\r\n                    Logging.info(\"key: \" + field + \", could not be serialized\");\r\n                }\r\n            }\r\n\r\n            map[field] = property.substring(0, Util.MAX_PROPERTY_LENGTH);\r\n        }\r\n        return map;\r\n    }\r\n\r\n\r\n    /**\r\n     * Checks if a request url is not on a excluded domain list\r\n     * and if it is safe to add correlation headers\r\n     */\r\n    public static canIncludeCorrelationHeader(client: TelemetryClient, requestUrl: string) {\r\n        let excludedDomains = client && client.config && client.config.correlationHeaderExcludedDomains;\r\n        if (!excludedDomains || excludedDomains.length == 0 || !requestUrl) {\r\n            return true;\r\n        }\r\n\r\n        for (let i = 0; i < excludedDomains.length; i++) {\r\n            let regex = new RegExp(excludedDomains[i].replace(/\\./g, \"\\.\").replace(/\\*/g, \".*\"));\r\n            try {\r\n                if (regex.test(new url.URL(requestUrl).hostname)) {\r\n                    return false;\r\n                }\r\n            }\r\n            catch (ex) {\r\n                // Ignore errors\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public static getCorrelationContextTarget(response: http.ClientResponse | http.ServerRequest | HttpRequest, key: string) {\r\n        const contextHeaders = response.headers && response.headers[RequestResponseHeaders.requestContextHeader];\r\n        if (contextHeaders) {\r\n            const keyValues = (<any>contextHeaders).split(\",\");\r\n            for (let i = 0; i < keyValues.length; ++i) {\r\n                const keyValue = keyValues[i].split(\"=\");\r\n                if (keyValue.length == 2 && keyValue[0] == key) {\r\n                    return keyValue[1];\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Generate request\r\n     *\r\n     * Proxify the request creation to handle proxy http\r\n     *\r\n     * @param {string} requestUrl url endpoint\r\n     * @param {Object} requestOptions Request option\r\n     * @param {Function} requestCallback callback on request\r\n     * @param {boolean} useProxy Use proxy URL from config\r\n     * @param {boolean} useAgent Set Http Agent in request\r\n     * @returns {http.ClientRequest} request object\r\n     */\r\n    public static makeRequest(\r\n        config: Config,\r\n        requestUrl: string,\r\n        requestOptions: http.RequestOptions | https.RequestOptions,\r\n        requestCallback: (res: http.IncomingMessage) => void,\r\n        useProxy = true,\r\n        useAgent = true): http.ClientRequest {\r\n\r\n        if (requestUrl && requestUrl.indexOf(\"//\") === 0) {\r\n            requestUrl = \"https:\" + requestUrl;\r\n        }\r\n\r\n        var requestUrlParsed = new url.URL(requestUrl);\r\n        var options = {\r\n            ...requestOptions,\r\n            host: requestUrlParsed.hostname,\r\n            port: requestUrlParsed.port,\r\n            path: requestUrlParsed.pathname\r\n        };\r\n\r\n        var proxyUrl: string = undefined;\r\n        if (useProxy) {\r\n            if (requestUrlParsed.protocol === \"https:\") {\r\n                proxyUrl = config.proxyHttpsUrl || undefined;\r\n            }\r\n            if (requestUrlParsed.protocol === \"http:\") {\r\n                proxyUrl = config.proxyHttpUrl || undefined;\r\n            }\r\n            if (proxyUrl) {\r\n                if (proxyUrl.indexOf(\"//\") === 0) {\r\n                    proxyUrl = \"http:\" + proxyUrl;\r\n                }\r\n                try {\r\n                    var proxyUrlParsed = new url.URL(proxyUrl);\r\n                    // https is not supported at the moment\r\n                    if (proxyUrlParsed.protocol === \"https:\") {\r\n                        Logging.info(\"Proxies that use HTTPS are not supported\");\r\n                        proxyUrl = undefined;\r\n                    } else {\r\n                        options = {\r\n                            ...options,\r\n                            host: proxyUrlParsed.hostname,\r\n                            port: proxyUrlParsed.port || \"80\",\r\n                            path: requestUrl,\r\n                            headers: {\r\n                                ...options.headers,\r\n                                Host: requestUrlParsed.hostname\r\n                            }\r\n                        };\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    Logging.warn(\"Wrong proxy URL provided\");\r\n                }\r\n            }\r\n        }\r\n\r\n        var isHttps = requestUrlParsed.protocol === \"https:\" && !proxyUrl;\r\n        if (useAgent) {\r\n            if (isHttps && config.httpsAgent !== undefined) {\r\n                options.agent = config.httpsAgent;\r\n            } else if (!isHttps && config.httpAgent !== undefined) {\r\n                options.agent = config.httpAgent;\r\n            } else if (isHttps) {\r\n                // HTTPS without a passed in agent. Use one that enforces our TLS rules\r\n                options.agent = Util._useKeepAlive ? Util.keepAliveAgent : Util.tlsRestrictedAgent;\r\n            }\r\n        }\r\n        if (isHttps) {\r\n            return https.request(<any>options, requestCallback);\r\n        } else {\r\n            return http.request(<any>options, requestCallback);\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Parse standard <string | string[] | number> request-context header\r\n     */\r\n    public static safeIncludeCorrelationHeader(client: TelemetryClient, request: http.ClientRequest | http.ServerResponse, correlationHeader: any) {\r\n        let header: string; // attempt to cast correlationHeader to string\r\n        if (typeof correlationHeader === \"string\") {\r\n            header = correlationHeader;\r\n        } else if (correlationHeader instanceof Array) { // string[]\r\n            header = correlationHeader.join(\",\");\r\n        } else if (correlationHeader && typeof (correlationHeader as any).toString === \"function\") {\r\n            // best effort attempt: requires well-defined toString\r\n            try {\r\n                header = (correlationHeader as any).toString();\r\n            } catch (err) {\r\n                Logging.warn(\"Outgoing request-context header could not be read. Correlation of requests may be lost.\", err, correlationHeader);\r\n            }\r\n        }\r\n\r\n        if (header) {\r\n            Util.addCorrelationIdHeaderFromString(client, request, header);\r\n        } else {\r\n            request.setHeader(\r\n                RequestResponseHeaders.requestContextHeader,\r\n                `${RequestResponseHeaders.requestContextSourceKey}=${client.config.correlationId}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns string representation of an object suitable for diagnostics logging.\r\n     */\r\n    public static dumpObj(object: any): string {\r\n        if (object) {\r\n            try {\r\n                const objectTypeDump: string = Object[\"prototype\"].toString.call(object);\r\n                let propertyValueDump: string = \"\";\r\n                if (objectTypeDump === \"[object Error]\") {\r\n                    propertyValueDump = \"{ stack: '\" + object.stack + \"', message: '\" + object.message + \"', name: '\" + object.name + \"'\";\r\n                } else {\r\n                    propertyValueDump = this.stringify(object);\r\n                }\r\n\r\n                return objectTypeDump + propertyValueDump;\r\n            }\r\n            catch (ex) {\r\n                return object.toString();\r\n            }\r\n        }\r\n    }\r\n\r\n    public static stringify(payload: any) {\r\n        try {\r\n            return JSON.stringify(payload);\r\n        } catch (error) {\r\n            Logging.warn(\"Failed to serialize payload\", error, payload);\r\n        }\r\n    }\r\n\r\n    private static addCorrelationIdHeaderFromString(client: TelemetryClient, response: http.ClientRequest | http.ServerResponse, correlationHeader: string) {\r\n        const components = correlationHeader.split(\",\");\r\n        const key = `${RequestResponseHeaders.requestContextSourceKey}=`;\r\n        const found = components.some(value => value.substring(0, key.length) === key);\r\n\r\n        if (!found) {\r\n            response.setHeader(\r\n                RequestResponseHeaders.requestContextHeader,\r\n                `${correlationHeader},${RequestResponseHeaders.requestContextSourceKey}=${client.config.correlationId}`);\r\n        }\r\n    }\r\n\r\n    private static _addCloseHandler() {\r\n        if (!Util._listenerAttached) {\r\n            process.on(\"exit\", () => {\r\n                Util.isNodeExit = true;\r\n                Util._useKeepAlive = false;\r\n            });\r\n            Util._listenerAttached = true;\r\n        }\r\n    }\r\n}\r\nexport = Util;\r\n", "import Util = require(\"./Util\");\r\nimport Config = require(\"./Config\");\r\n\r\nclass CorrelationIdManager {\r\n    public static correlationIdPrefix = \"cid-v1:\";\r\n    public static w3cEnabled = true;\r\n    public static HTTP_TIMEOUT: number = 2500; // 2.5 seconds\r\n\r\n\r\n    private static requestIdMaxLength = 1024;\r\n    private static currentRootId = Util.randomu32();\r\n\r\n    public static queryCorrelationId(config: Config, callback: (correlationId: string) => void) {\r\n        // No Op, App ID Exchange not required in SDK anymore\r\n    }\r\n\r\n    public static cancelCorrelationIdQuery(config: Config, callback: (correlationId: string) => void) {\r\n        // No Op, App ID Exchange not required in SDK anymore\r\n    }\r\n\r\n    /**\r\n     * Generate a request Id according to https://github.com/lmolkova/correlation/blob/master/hierarchical_request_id.md\r\n     * @param parentId\r\n     */\r\n    public static generateRequestId(parentId: string): string {\r\n        if (parentId) {\r\n            parentId = parentId[0] == \"|\" ? parentId : \"|\" + parentId;\r\n            if (parentId[parentId.length - 1] !== \".\") {\r\n                parentId += \".\";\r\n            }\r\n\r\n            const suffix = (CorrelationIdManager.currentRootId++).toString(16);\r\n\r\n            return CorrelationIdManager.appendSuffix(parentId, suffix, \"_\")\r\n        } else {\r\n            return CorrelationIdManager.generateRootId();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Given a hierarchical identifier of the form |X.*\r\n     * return the root identifier X\r\n     * @param id\r\n     */\r\n    public static getRootId(id: string): string {\r\n        let endIndex = id.indexOf(\".\");\r\n        if (endIndex < 0) {\r\n            endIndex = id.length;\r\n        }\r\n\r\n        const startIndex = id[0] === \"|\" ? 1 : 0;\r\n        return id.substring(startIndex, endIndex);\r\n    }\r\n\r\n    private static generateRootId(): string {\r\n        return \"|\" + Util.w3cTraceId() + \".\";\r\n    }\r\n\r\n    private static appendSuffix(parentId: string, suffix: string, delimiter: string): string {\r\n        if (parentId.length + suffix.length < CorrelationIdManager.requestIdMaxLength) {\r\n            return parentId + suffix + delimiter;\r\n        }\r\n\r\n        // Combined identifier would be too long, so we must truncate it.\r\n        // We need 9 characters of space: 8 for the overflow ID, 1 for the\r\n        // overflow delimiter '#'\r\n        let trimPosition = CorrelationIdManager.requestIdMaxLength - 9;\r\n        if (parentId.length > trimPosition) {\r\n            for (; trimPosition > 1; --trimPosition) {\r\n                const c = parentId[trimPosition - 1];\r\n                if (c === \".\" || c === \"_\") {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (trimPosition <= 1) {\r\n            // parentId is not a valid ID\r\n            return CorrelationIdManager.generateRootId();\r\n        }\r\n\r\n        suffix = Util.randomu32().toString(16);\r\n        while (suffix.length < 8) {\r\n            suffix = \"0\" + suffix;\r\n        }\r\n        return parentId.substring(0, trimPosition) + suffix + \"#\";\r\n    }\r\n}\r\n\r\nexport = CorrelationIdManager;\r\n", "import { TraceFlags } from \"@opentelemetry/api\";\r\nimport Util = require(\"./Util\");\r\nimport CorrelationIdManager = require(\"./CorrelationIdManager\");\r\n\r\n/**\r\n * Helper class to manage parsing and validation of traceparent header. Also handles hierarchical\r\n * back-compatibility headers generated from traceparent. W3C traceparent spec is documented at\r\n * https://www.w3.org/TR/trace-context/#traceparent-field\r\n */\r\nclass Traceparent {\r\n    public static DEFAULT_TRACE_FLAG =   \"01\";\r\n    public static DEFAULT_VERSION = \"00\";\r\n\r\n    public legacyRootId: string;\r\n    public parentId: string;\r\n    public spanId: string;\r\n    public traceFlag: string = Traceparent.DEFAULT_TRACE_FLAG;\r\n    public traceId: string;\r\n    public version: string = Traceparent.DEFAULT_VERSION;\r\n\r\n    constructor(traceparent?: string, parentId?: string) {\r\n        if (traceparent && typeof traceparent === \"string\") { // traceparent constructor\r\n            // If incoming request contains traceparent: parse it, set operation, parent and telemetry id accordingly. traceparent should be injected into outgoing requests. request-id should be injected in back-compat format |traceId.spanId. so that older SDKs could understand it.\r\n            if (traceparent.split(\",\").length > 1) { // If more than 1 traceparent is present, discard both\r\n                this.traceId = Util.w3cTraceId();\r\n                this.spanId = Util.w3cTraceId().substr(0, 16);\r\n            } else {\r\n                const traceparentArr = traceparent.trim().split(\"-\");\r\n                const len = traceparentArr.length;\r\n                if (len >= 4) { // traceparent must contain at least 4 fields\r\n                    this.version = traceparentArr[0];\r\n                    this.traceId = traceparentArr[1];\r\n                    this.spanId = traceparentArr[2];\r\n                    this.traceFlag = traceparentArr[3];\r\n                } else { // Discard traceparent if a field is missing\r\n                    this.traceId = Util.w3cTraceId();\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                }\r\n\r\n                // Version validation\r\n                if (!this.version.match(/^[0-9a-f]{2}$/g)) {\r\n                    this.version = Traceparent.DEFAULT_VERSION;\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                if (this.version === \"00\" && len !== 4) { // 0x00 (and perhaps future versions) require exactly 4 fields. This strict check will need to be updated on each spec release\r\n                    this.traceId = Util.w3cTraceId();\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                }\r\n                if (this.version === \"ff\") { // 0xff is forbidden, generate new traceparent\r\n                    this.version = Traceparent.DEFAULT_VERSION;\r\n                    this.traceId = Util.w3cTraceId();\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                }\r\n                if (!this.version.match(/^0[0-9a-f]$/g)) {\r\n                    this.version = Traceparent.DEFAULT_VERSION;\r\n                }\r\n\r\n                // TraceFlag validation\r\n                if (!this.traceFlag.match(/^[0-9a-f]{2}$/g)) {\r\n                    this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n\r\n                // Validate TraceId, regenerate new traceid if invalid\r\n                if (!Traceparent.isValidTraceId(this.traceId)) {\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n\r\n                // Validate Span Id, discard entire traceparent if invalid\r\n                if (!Traceparent.isValidSpanId(this.spanId)) {\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n\r\n                // Save backCompat parentId\r\n                this.parentId = this.getBackCompatRequestId();\r\n            }\r\n        } else if (parentId) { // backcompat constructor\r\n            // If incoming request contains only request-id, new traceid and spanid should be started, request-id value should be used as a parent. Root part of request-id should be stored in custom dimension on the request telemetry if root part is different from traceid. On the outgoing request side, request-id should be emitted in the |traceId.spanId. format.\r\n            this.parentId = parentId.slice(); // copy\r\n            let operationId = CorrelationIdManager.getRootId(parentId);\r\n            if (!Traceparent.isValidTraceId(operationId)) {\r\n                this.legacyRootId = operationId;\r\n                operationId = Util.w3cTraceId();\r\n            }\r\n            if (parentId.indexOf(\"|\") !== -1) {\r\n                parentId = parentId.substring(1 + parentId.substring(0, parentId.length - 1).lastIndexOf(\".\"), parentId.length - 1);\r\n            }\r\n            this.traceId = operationId;\r\n            this.spanId = parentId;\r\n        } else {\r\n            // Fallback default constructor\r\n            // if request does not contain any correlation headers, see case p2\r\n            this.traceId = Util.w3cTraceId();\r\n            this.spanId = Util.w3cTraceId().substr(0, 16);\r\n        }\r\n\r\n    }\r\n\r\n    public static isValidTraceId(id: string): boolean {\r\n        return id.match(/^[0-9a-f]{32}$/) && id !== \"00000000000000000000000000000000\";\r\n    }\r\n\r\n    public static isValidSpanId(id: string): boolean {\r\n        return id.match(/^[0-9a-f]{16}$/) && id !== \"0000000000000000\";\r\n    }\r\n\r\n    public static formatOpenTelemetryTraceFlags(traceFlags : number){\r\n        let formattedFlags = (\"0\" + traceFlags.toString(16));\r\n        return formattedFlags.substring(formattedFlags.length -2);\r\n    }\r\n\r\n    public getBackCompatRequestId(): string {\r\n        return `|${this.traceId}.${this.spanId}.`;\r\n    }\r\n\r\n    public toString(): string {\r\n        return `${this.version}-${this.traceId}-${this.spanId}-${this.traceFlag}`;\r\n    }\r\n\r\n    public updateSpanId(): void {\r\n        this.spanId = Util.w3cTraceId().substr(0, 16);\r\n    }\r\n}\r\n\r\nexport = Traceparent;\r\n", "/**\r\n * Helper class to manage parsing and strict-validation of tracestate header. W3C tracestate spec\r\n * is documented at https://www.w3.org/TR/trace-context/#header-value\r\n * @class Tracestate\r\n */\r\nclass Tracestate {\r\n    public static strict = true;\r\n\r\n    public fieldmap: string[] = [];\r\n\r\n    // if true, performs strict tracestate header checking, else just passes it along\r\n    constructor(id?: string) {\r\n        if (!id) {\r\n            return;\r\n        }\r\n        this.fieldmap = this.parseHeader(id);\r\n    }\r\n\r\n    public toString(): string {\r\n        const fieldarr = this.fieldmap;\r\n\r\n        if (!fieldarr || fieldarr.length == 0) {\r\n            return null;\r\n        }\r\n\r\n        return fieldarr.join(\", \");\r\n    }\r\n\r\n    private static validateKeyChars(key: string): boolean {\r\n        const keyParts = key.split(\"@\");\r\n        if (keyParts.length == 2) {\r\n            // Parse for tenant@vendor format\r\n            const tenant = keyParts[0].trim();\r\n            const vendor = keyParts[1].trim();\r\n            const tenantValid = Boolean(tenant.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,241}$/));\r\n            const vendorValid = Boolean(vendor.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,14}$/));\r\n            return tenantValid && vendorValid;\r\n        } else if (keyParts.length == 1) {\r\n            // Parse for standard key format\r\n            return Boolean(key.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,256}$/));\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private parseHeader(id: string): string[] {\r\n        const res: string[] = [];\r\n        const keydeduper: {[key: string]: boolean} = {};\r\n        const parts = id.split(\",\");\r\n        if (parts.length > 32) return null;\r\n        for (let rawPart of parts) {\r\n            const part = rawPart.trim(); // trim out whitespace\r\n            if (part.length === 0) {\r\n                continue; // Discard empty pairs, but keep the rest of this tracestate\r\n            }\r\n\r\n            const pair = part.split(\"=\");\r\n            // pair should contain exactly one \"=\"\r\n            if (pair.length !== 2) {\r\n                return null; // invalid pair: discard entire tracestate\r\n            }\r\n\r\n            // Validate length and charset of this key\r\n            if (!Tracestate.validateKeyChars(pair[0])) {\r\n                return null;\r\n            }\r\n\r\n            // Assert uniqueness of this key\r\n            if (keydeduper[pair[0]]) {\r\n                return null; // duplicate key: discard entire tracestate\r\n            } else {\r\n                keydeduper[pair[0]] = true\r\n            }\r\n\r\n            // All checks passed -- add this part\r\n            res.push(part);\r\n        }\r\n\r\n        return res;\r\n    }\r\n}\r\n\r\nexport = Tracestate;\r\n", "// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n    \r\n    /**\r\n     * The abstract common base of all domains.\r\n     */\r\n    class Domain\r\n    {\r\n        \r\n        constructor()\r\n        {\r\n        }\r\n    }\r\nexport = Domain;\r\n", "// THIS FILE WAS AUTOGENERATED\r\nimport Domain = require(\"./Domain\");\r\n\"use strict\";\r\n    \r\n    /**\r\n     * Instances of AvailabilityData represent the result of executing an availability test.\r\n     */\r\n    class AvailabilityData extends Domain\r\n    {\r\n        \r\n        /**\r\n         * Schema version\r\n         */\r\n        public ver: number;\r\n        \r\n        /**\r\n         * Identifier of a test run. Use it to correlate steps of test run and telemetry generated by the service.\r\n         */\r\n        public id: string;\r\n        \r\n        /**\r\n         * Name of the test that these availability results represent.\r\n         */\r\n        public name: string;\r\n        \r\n        /**\r\n         * Duration in format: DD.HH:MM:SS.MMMMMM. Must be less than 1000 days.\r\n         */\r\n        public duration: string;\r\n        \r\n        /**\r\n         * Success flag.\r\n         */\r\n        public success: boolean;\r\n        \r\n        /**\r\n         * Name of the location where the test was run from.\r\n         */\r\n        public runLocation: string;\r\n        \r\n        /**\r\n         * Diagnostic message for the result.\r\n         */\r\n        public message: string;\r\n        \r\n        /**\r\n         * Collection of custom properties.\r\n         */\r\n        public properties: any;\r\n        \r\n        /**\r\n         * Collection of custom measurements.\r\n         */\r\n        public measurements: any;\r\n        \r\n        constructor()\r\n        {\r\n            super();\r\n            \r\n            this.ver = 2;\r\n            this.properties = {};\r\n            this.measurements = {};\r\n        }\r\n    }\r\nexport = AvailabilityData;\r\n", "// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n    \r\n    /**\r\n     * Data struct to contain only C section with custom fields.\r\n     */\r\n    class Base\r\n    {\r\n        \r\n        /**\r\n         * Name of item (B section) if any. If telemetry data is derived straight from this, this should be null.\r\n         */\r\n        public baseType: string;\r\n        \r\n        constructor()\r\n        {\r\n        }\r\n    }\r\nexport = Base;\r\n", "// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\nclass ContextTagKeys {\r\n\r\n    /**\r\n     * Application version. Information in the application context fields is always about the application that is sending the telemetry.\r\n     */\r\n    public applicationVersion: string;\r\n\r\n    /**\r\n     * Unique client device id. Computer name in most cases.\r\n     */\r\n    public deviceId: string;\r\n\r\n    /**\r\n     * Device locale using <language>-<REGION> pattern, following RFC 5646. Example 'en-US'.\r\n     */\r\n    public deviceLocale: string;\r\n\r\n    /**\r\n     * Model of the device the end user of the application is using. Used for client scenarios. If this field is empty then it is derived from the user agent.\r\n     */\r\n    public deviceModel: string;\r\n\r\n    /**\r\n     * Client device OEM name taken from the browser.\r\n     */\r\n    public deviceOEMName: string;\r\n\r\n    /**\r\n     * Operating system name and version of the device the end user of the application is using. If this field is empty then it is derived from the user agent. Example 'Windows 10 Pro 10.0.10586.0'\r\n     */\r\n    public deviceOSVersion: string;\r\n\r\n    /**\r\n     * The type of the device the end user of the application is using. Used primarily to distinguish JavaScript telemetry from server side telemetry. Examples: 'PC', 'Phone', 'Browser'. 'PC' is the default value.\r\n     */\r\n    public deviceType: string;\r\n\r\n    /**\r\n     * The IP address of the client device. IPv4 and IPv6 are supported. Information in the location context fields is always about the end user. When telemetry is sent from a service, the location context is about the user that initiated the operation in the service.\r\n     */\r\n    public locationIp: string;\r\n\r\n    /**\r\n     * A unique identifier for the operation instance. The operation.id is created by either a request or a page view. All other telemetry sets this to the value for the containing request or page view. Operation.id is used for finding all the telemetry items for a specific operation instance.\r\n     */\r\n    public operationId: string;\r\n\r\n    /**\r\n     * The name (group) of the operation. The operation.name is created by either a request or a page view. All other telemetry items set this to the value for the containing request or page view. Operation.name is used for finding all the telemetry items for a group of operations (i.e. 'GET Home/Index').\r\n     */\r\n    public operationName: string;\r\n\r\n    /**\r\n     * The unique identifier of the telemetry item's immediate parent.\r\n     */\r\n    public operationParentId: string;\r\n\r\n    /**\r\n     * Name of synthetic source. Some telemetry from the application may represent a synthetic traffic. It may be web crawler indexing the web site, site availability tests or traces from diagnostic libraries like Application Insights SDK itself.\r\n     */\r\n    public operationSyntheticSource: string;\r\n\r\n    /**\r\n     * The correlation vector is a light weight vector clock which can be used to identify and order related events across clients and services.\r\n     */\r\n    public operationCorrelationVector: string;\r\n\r\n    /**\r\n     * Session ID - the instance of the user's interaction with the app. Information in the session context fields is always about the end user. When telemetry is sent from a service, the session context is about the user that initiated the operation in the service.\r\n     */\r\n    public sessionId: string;\r\n\r\n    /**\r\n     * Boolean value indicating whether the session identified by ai.session.id is first for the user or not.\r\n     */\r\n    public sessionIsFirst: string;\r\n\r\n    /**\r\n     * In multi-tenant applications this is the account ID or name which the user is acting with. Examples may be subscription ID for Azure portal or blog name blogging platform.\r\n     */\r\n    public userAccountId: string;\r\n\r\n    /**\r\n     * Anonymous user id. Represents the end user of the application. When telemetry is sent from a service, the user context is about the user that initiated the operation in the service.\r\n     */\r\n    public userId: string;\r\n\r\n    /**\r\n     * Authenticated user id. The opposite of ai.user.id, this represents the user with a friendly name. Since it's PII information it is not collected by default by most SDKs.\r\n     */\r\n    public userAuthUserId: string;\r\n\r\n    /**\r\n     * Name of the role the application is a part of. For Azure environment, this should be initialized with\r\n     * [Microsoft.WindowsAzure.ServiceRuntime.RoleEnvironment]::CurrentRoleInstance.Role.Name\r\n     * See more details here: https://dzone.com/articles/accessing-azure-role-0\r\n     * It is recommended that you initialize environment variable with this value during machine startup, and then set context field from environment variable\r\n     * appInsights.client.context.tags[appInsights.client.context.keys.cloudRole] = process.env.RoleName\r\n     */\r\n    public cloudRole: string;\r\n\r\n    /**\r\n     * Name of the instance where the application is running. For Azure environment, this should be initialized with\r\n     * [Microsoft.WindowsAzure.ServiceRuntime.RoleEnvironment]::CurrentRoleInstance.Id\r\n     * See more details here: https://dzone.com/articles/accessing-azure-role-0\r\n     * It is recommended that you initialize environment variable with this value during machine startup, and then set context field from environment variable\r\n     * appInsights.client.context.tags[appInsights.client.context.keys.cloudRoleInstance] = process.env.RoleInstanceId\r\n     */\r\n    public cloudRoleInstance: string;\r\n\r\n\r\n    /**\r\n     * SDK version. See https://github.com/microsoft/ApplicationInsights-Home/blob/master/SDK-AUTHORING.md#sdk-version-specification for information.\r\n     */\r\n    public internalSdkVersion: string;\r\n\r\n    /**\r\n     * Agent version. Used to indicate the version of StatusMonitor installed on the computer if it is used for data collection.\r\n     */\r\n    public internalAgentVersion: string;\r\n\r\n    /**\r\n     * This is the node name used for billing purposes. Use it to override the standard detection of nodes.\r\n     */\r\n    public internalNodeName: string;\r\n\r\n    constructor() {\r\n        this.applicationVersion = \"ai.application.ver\";\r\n        this.deviceId = \"ai.device.id\";\r\n        this.deviceLocale = \"ai.device.locale\";\r\n        this.deviceModel = \"ai.device.model\";\r\n        this.deviceOEMName = \"ai.device.oemName\";\r\n        this.deviceOSVersion = \"ai.device.osVersion\";\r\n        this.deviceType = \"ai.device.type\";\r\n        this.locationIp = \"ai.location.ip\";\r\n        this.operationId = \"ai.operation.id\";\r\n        this.operationName = \"ai.operation.name\";\r\n        this.operationParentId = \"ai.operation.parentId\";\r\n        this.operationSyntheticSource = \"ai.operation.syntheticSource\";\r\n        this.operationCorrelationVector = \"ai.operation.correlationVector\";\r\n        this.sessionId = \"ai.session.id\";\r\n        this.sessionIsFirst = \"ai.session.isFirst\";\r\n        this.userAccountId = \"ai.user.accountId\";\r\n        this.userId = \"ai.user.id\";\r\n        this.userAuthUserId = \"ai.user.authUserId\";\r\n        this.cloudRole = \"ai.cloud.role\";\r\n        this.cloudRoleInstance = \"ai.cloud.roleInstance\";\r\n        this.internalSdkVersion = \"ai.internal.sdkVersion\";\r\n        this.internalAgentVersion = \"ai.internal.agentVersion\";\r\n        this.internalNodeName = \"ai.internal.nodeName\";\r\n    }\r\n}\r\nexport = ContextTagKeys;\r\n", "// THIS FILE WAS AUTOGENERATED\r\nimport Base = require(\"./Base\");\r\n\"use strict\";\r\n    \r\n    /**\r\n     * Data struct to contain both B and C sections.\r\n     */\r\n    class Data<TDomain> extends Base\r\n    {\r\n        \r\n        /**\r\n         * Name of item (B section) if any. If telemetry data is derived straight from this, this should be null.\r\n         */\r\n        public baseType: string;\r\n        \r\n        /**\r\n         * Container for data item (B section).\r\n         */\r\n        public baseData: TDomain;\r\n        \r\n        constructor()\r\n        {\r\n            super();\r\n            \r\n        }\r\n    }\r\nexport = Data;\r\n", "// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n    \r\n    /**\r\n     * Type of the metric data measurement.\r\n     */\r\n    enum DataPointType\r\n    {\r\n        Measurement = 0,\r\n        Aggregation = 1,\r\n    }\r\nexport = DataPointType;\r\n", "// THIS FILE WAS AUTOGENERATED\r\nimport DataPointType = require(\"./DataPointType\");\r\n\"use strict\";\r\n\r\n/**\r\n * Metric data single measurement.\r\n */\r\nclass DataPoint {\r\n\r\n    /**\r\n     * Name of the metric.\r\n     */\r\n    public name: string;\r\n\r\n    /**\r\n     * Namespace of the metric.\r\n     */\r\n    public ns: string;\r\n\r\n    /**\r\n     * Metric type. Single measurement or the aggregated value.\r\n     */\r\n    public kind: DataPointType;\r\n\r\n    /**\r\n     * Single value for measurement. Sum of individual measurements for the aggregation.\r\n     */\r\n    public value: number;\r\n\r\n    /**\r\n     * Metric weight of the aggregated metric. Should not be set for a measurement.\r\n     */\r\n    public count: number;\r\n\r\n    /**\r\n     * Minimum value of the aggregated metric. Should not be set for a measurement.\r\n     */\r\n    public min: number;\r\n\r\n    /**\r\n     * Maximum value of the aggregated metric. Should not be set for a measurement.\r\n     */\r\n    public max: number;\r\n\r\n    /**\r\n     * Standard deviation of the aggregated metric. Should not be set for a measurement.\r\n     */\r\n    public stdDev: number;\r\n\r\n    constructor() {\r\n        this.kind = DataPointType.Measurement;\r\n    }\r\n}\r\nexport = DataPoint;\r\n", "// THIS FILE WAS AUTOGENERATED\r\nimport Base = require(\"./Base\");\r\n\"use strict\";\r\n    \r\n    /**\r\n     * System variables for a telemetry item.\r\n     */\r\n    class Envelope\r\n    {\r\n        \r\n        /**\r\n         * Envelope version. For internal use only. By assigning this the default, it will not be serialized within the payload unless changed to a value other than #1.\r\n         */\r\n        public ver: number;\r\n        \r\n        /**\r\n         * Type name of telemetry data item.\r\n         */\r\n        public name: string;\r\n        \r\n        /**\r\n         * Event date time when telemetry item was created. This is the wall clock time on the client when the event was generated. There is no guarantee that the client's time is accurate. This field must be formatted in UTC ISO 8601 format, with a trailing 'Z' character, as described publicly on https://en.wikipedia.org/wiki/ISO_8601#UTC. Note: the number of decimal seconds digits provided are variable (and unspecified). Consumers should handle this, i.e. managed code consumers should not use format 'O' for parsing as it specifies a fixed length. Example: 2009-06-15T13:45:30.0000000Z.\r\n         */\r\n        public time: string;\r\n        \r\n        /**\r\n         * Sampling rate used in application. This telemetry item represents 1 / sampleRate actual telemetry items.\r\n         */\r\n        public sampleRate: number;\r\n        \r\n        /**\r\n         * Sequence field used to track absolute order of uploaded events.\r\n         */\r\n        public seq: string;\r\n        \r\n        /**\r\n         * The application's instrumentation key. The key is typically represented as a GUID, but there are cases when it is not a guid. No code should rely on iKey being a GUID. Instrumentation key is case insensitive.\r\n         */\r\n        public iKey: string;\r\n        \r\n        /**\r\n         * Key/value collection of context properties. See ContextTagKeys for information on available properties.\r\n         */\r\n        public tags: any;\r\n        \r\n        /**\r\n         * Telemetry data item.\r\n         */\r\n        public data: Base;\r\n        \r\n        constructor()\r\n        {\r\n            this.ver = 1;\r\n            this.sampleRate = 100.0;\r\n            this.tags = {};\r\n        }\r\n    }\r\nexport = Envelope;\r\n", "// THIS FILE WAS AUTOGENERATED\r\nimport Domain = require(\"./Domain\");\r\n\"use strict\";\r\n    \r\n    /**\r\n     * Instances of Event represent structured event records that can be grouped and searched by their properties. Event data item also creates a metric of event count by name.\r\n     */\r\n    class EventData extends Domain\r\n    {\r\n        \r\n        /**\r\n         * Schema version\r\n         */\r\n        public ver: number;\r\n        \r\n        /**\r\n         * Event name. Keep it low cardinality to allow proper grouping and useful metrics.\r\n         */\r\n        public name: string;\r\n        \r\n        /**\r\n         * Collection of custom properties.\r\n         */\r\n        public properties: any;\r\n        \r\n        /**\r\n         * Collection of custom measurements.\r\n         */\r\n        public measurements: any;\r\n        \r\n        constructor()\r\n        {\r\n            super();\r\n            \r\n            this.ver = 2;\r\n            this.properties = {};\r\n            this.measurements = {};\r\n        }\r\n    }\r\nexport = EventData;\r\n", "// THIS FILE WAS AUTOGENERATED\r\nimport Domain = require(\"./Domain\");\r\nimport ExceptionDetails = require(\"./ExceptionDetails\");\r\nimport SeverityLevel = require(\"./SeverityLevel\");\r\n\"use strict\";\r\n    \r\n    /**\r\n     * An instance of Exception represents a handled or unhandled exception that occurred during execution of the monitored application.\r\n     */\r\n    class ExceptionData extends Domain\r\n    {\r\n        \r\n        /**\r\n         * Schema version\r\n         */\r\n        public ver: number;\r\n        \r\n        /**\r\n         * Exception chain - list of inner exceptions.\r\n         */\r\n        public exceptions: ExceptionDetails[];\r\n        \r\n        /**\r\n         * Severity level. Mostly used to indicate exception severity level when it is reported by logging library.\r\n         */\r\n        public severityLevel: SeverityLevel;\r\n        \r\n        /**\r\n         * Identifier of where the exception was thrown in code. Used for exceptions grouping. Typically a combination of exception type and a function from the call stack.\r\n         */\r\n        public problemId: string;\r\n        \r\n        /**\r\n         * Collection of custom properties.\r\n         */\r\n        public properties: any;\r\n        \r\n        /**\r\n         * Collection of custom measurements.\r\n         */\r\n        public measurements: any;\r\n        \r\n        constructor()\r\n        {\r\n            super();\r\n            \r\n            this.ver = 2;\r\n            this.exceptions = [];\r\n            this.properties = {};\r\n            this.measurements = {};\r\n        }\r\n    }\r\nexport = ExceptionData;\r\n", "// THIS FILE WAS AUTOGENERATED\r\nimport StackFrame = require(\"./StackFrame\");\r\n\"use strict\";\r\n    \r\n    /**\r\n     * Exception details of the exception in a chain.\r\n     */\r\n    class ExceptionDetails\r\n    {\r\n        \r\n        /**\r\n         * In case exception is nested (outer exception contains inner one), the id and outerId properties are used to represent the nesting.\r\n         */\r\n        public id: number;\r\n        \r\n        /**\r\n         * The value of outerId is a reference to an element in ExceptionDetails that represents the outer exception\r\n         */\r\n        public outerId: number;\r\n        \r\n        /**\r\n         * Exception type name.\r\n         */\r\n        public typeName: string;\r\n        \r\n        /**\r\n         * Exception message.\r\n         */\r\n        public message: string;\r\n        \r\n        /**\r\n         * Indicates if full exception stack is provided in the exception. The stack may be trimmed, such as in the case of a StackOverflow exception.\r\n         */\r\n        public hasFullStack: boolean;\r\n        \r\n        /**\r\n         * Text describing the stack. Either stack or parsedStack should have a value.\r\n         */\r\n        public stack: string;\r\n        \r\n        /**\r\n         * List of stack frames. Either stack or parsedStack should have a value.\r\n         */\r\n        public parsedStack: StackFrame[];\r\n        \r\n        constructor()\r\n        {\r\n            this.hasFullStack = true;\r\n            this.parsedStack = [];\r\n        }\r\n    }\r\nexport = ExceptionDetails;\r\n", "// THIS FILE WAS AUTOGENERATED\r\nimport Domain = require(\"./Domain\");\r\nimport SeverityLevel = require(\"./SeverityLevel\");\r\n\"use strict\";\r\n    \r\n    /**\r\n     * Instances of Message represent printf-like trace statements that are text-searched. Log4Net, NLog and other text-based log file entries are translated into intances of this type. The message does not have measurements.\r\n     */\r\n    class MessageData extends Domain\r\n    {\r\n        \r\n        /**\r\n         * Schema version\r\n         */\r\n        public ver: number;\r\n        \r\n        /**\r\n         * Trace message\r\n         */\r\n        public message: string;\r\n        \r\n        /**\r\n         * Trace severity level.\r\n         */\r\n        public severityLevel: SeverityLevel;\r\n        \r\n        /**\r\n         * Collection of custom properties.\r\n         */\r\n        public properties: any;\r\n        \r\n        constructor()\r\n        {\r\n            super();\r\n            \r\n            this.ver = 2;\r\n            this.properties = {};\r\n        }\r\n    }\r\nexport = MessageData;\r\n", "// THIS FILE WAS AUTOGENERATED\r\nimport Domain = require(\"./Domain\");\r\nimport DataPoint = require(\"./DataPoint\");\r\n\"use strict\";\r\n    \r\n    /**\r\n     * An instance of the Metric item is a list of measurements (single data points) and/or aggregations.\r\n     */\r\n    class MetricData extends Domain\r\n    {\r\n        \r\n        /**\r\n         * Schema version\r\n         */\r\n        public ver: number;\r\n        \r\n        /**\r\n         * List of metrics. Only one metric in the list is currently supported by Application Insights storage. If multiple data points were sent only the first one will be used.\r\n         */\r\n        public metrics: DataPoint[];\r\n        \r\n        /**\r\n         * Collection of custom properties.\r\n         */\r\n        public properties: any;\r\n        \r\n        constructor()\r\n        {\r\n            super();\r\n            \r\n            this.ver = 2;\r\n            this.metrics = [];\r\n            this.properties = {};\r\n        }\r\n    }\r\nexport = MetricData;\r\n", "// THIS FILE WAS AUTOGENERATED\r\nimport EventData = require(\"./EventData\");\r\n\"use strict\";\r\n    \r\n    /**\r\n     * An instance of PageView represents a generic action on a page like a button click. It is also the base type for PageView.\r\n     */\r\n    class PageViewData extends EventData\r\n    {\r\n        \r\n        /**\r\n         * Schema version\r\n         */\r\n        public ver: number;\r\n        \r\n        /**\r\n         * Request URL with all query string parameters\r\n         */\r\n        public url: string;\r\n        \r\n        /**\r\n         * Event name. Keep it low cardinality to allow proper grouping and useful metrics.\r\n         */\r\n        public name: string;\r\n        \r\n        /**\r\n         * Request duration in format: DD.HH:MM:SS.MMMMMM. For a page view (PageViewData), this is the duration. For a page view with performance information (PageViewPerfData), this is the page load time. Must be less than 1000 days.\r\n         */\r\n        public duration: string;\r\n        \r\n        /**\r\n         * Collection of custom properties.\r\n         */\r\n        public properties: any;\r\n        \r\n        /**\r\n         * Collection of custom measurements.\r\n         */\r\n        public measurements: any;\r\n        \r\n        constructor()\r\n        {\r\n            super();\r\n            \r\n            this.ver = 2;\r\n            this.properties = {};\r\n            this.measurements = {};\r\n        }\r\n    }\r\nexport = PageViewData;\r\n", "// THIS FILE WAS AUTOGENERATED\r\nimport Domain = require(\"./Domain\");\r\n\"use strict\";\r\n    \r\n    /**\r\n     * An instance of Remote Dependency represents an interaction of the monitored component with a remote component/service like SQL or an HTTP endpoint.\r\n     */\r\n    class RemoteDependencyData extends Domain\r\n    {\r\n        \r\n        /**\r\n         * Schema version\r\n         */\r\n        public ver: number;\r\n        \r\n        /**\r\n         * Name of the command initiated with this dependency call. Low cardinality value. Examples are stored procedure name and URL path template.\r\n         */\r\n        public name: string;\r\n        \r\n        /**\r\n         * Identifier of a dependency call instance. Used for correlation with the request telemetry item corresponding to this dependency call.\r\n         */\r\n        public id: string;\r\n        \r\n        /**\r\n         * Result code of a dependency call. Examples are SQL error code and HTTP status code.\r\n         */\r\n        public resultCode: string;\r\n        \r\n        /**\r\n         * Request duration in format: DD.HH:MM:SS.MMMMMM. Must be less than 1000 days.\r\n         */\r\n        public duration: string;\r\n        \r\n        /**\r\n         * Indication of successfull or unsuccessfull call.\r\n         */\r\n        public success: boolean;\r\n        \r\n        /**\r\n         * Command initiated by this dependency call. Examples are SQL statement and HTTP URL's with all query parameters.\r\n         */\r\n        public data: string;\r\n        \r\n        /**\r\n         * Target site of a dependency call. Examples are server name, host address.\r\n         */\r\n        public target: string;\r\n        \r\n        /**\r\n         * Dependency type name. Very low cardinality value for logical grouping of dependencies and interpretation of other fields like commandName and resultCode. Examples are SQL, Azure table, and HTTP.\r\n         */\r\n        public type: string;\r\n        \r\n        /**\r\n         * Collection of custom properties.\r\n         */\r\n        public properties: any;\r\n        \r\n        /**\r\n         * Collection of custom measurements.\r\n         */\r\n        public measurements: any;\r\n        \r\n        constructor()\r\n        {\r\n            super();\r\n            \r\n            this.ver = 2;\r\n            this.success = true;\r\n            this.properties = {};\r\n            this.measurements = {};\r\n        }\r\n    }\r\nexport = RemoteDependencyData;\r\n", "// THIS FILE WAS AUTOGENERATED\r\nimport Domain = require(\"./Domain\");\r\n\"use strict\";\r\n    \r\n    /**\r\n     * An instance of Request represents completion of an external request to the application to do work and contains a summary of that request execution and the results.\r\n     */\r\n    class RequestData extends Domain\r\n    {\r\n        \r\n        /**\r\n         * Schema version\r\n         */\r\n        public ver: number;\r\n        \r\n        /**\r\n         * Identifier of a request call instance. Used for correlation between request and other telemetry items.\r\n         */\r\n        public id: string;\r\n        \r\n        /**\r\n         * Source of the request. Examples are the instrumentation key of the caller or the ip address of the caller.\r\n         */\r\n        public source: string;\r\n        \r\n        /**\r\n         * Name of the request. Represents code path taken to process request. Low cardinality value to allow better grouping of requests. For HTTP requests it represents the HTTP method and URL path template like 'GET /values/{id}'.\r\n         */\r\n        public name: string;\r\n        \r\n        /**\r\n         * Request duration in format: DD.HH:MM:SS.MMMMMM. Must be less than 1000 days.\r\n         */\r\n        public duration: string;\r\n        \r\n        /**\r\n         * Result of a request execution. HTTP status code for HTTP requests.\r\n         */\r\n        public responseCode: string;\r\n        \r\n        /**\r\n         * Indication of successfull or unsuccessfull call.\r\n         */\r\n        public success: boolean;\r\n        \r\n        /**\r\n         * Request URL with all query string parameters.\r\n         */\r\n        public url: string;\r\n        \r\n        /**\r\n         * Collection of custom properties.\r\n         */\r\n        public properties: any;\r\n        \r\n        /**\r\n         * Collection of custom measurements.\r\n         */\r\n        public measurements: any;\r\n        \r\n        constructor()\r\n        {\r\n            super();\r\n            \r\n            this.ver = 2;\r\n            this.properties = {};\r\n            this.measurements = {};\r\n        }\r\n    }\r\nexport = RequestData;\r\n", "// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n    \r\n    /**\r\n     * Defines the level of severity for the event.\r\n     */\r\n    enum SeverityLevel\r\n    {\r\n        Verbose = 0,\r\n        Information = 1,\r\n        Warning = 2,\r\n        Error = 3,\r\n        Critical = 4,\r\n    }\r\nexport = SeverityLevel;\r\n", "// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n    \r\n    /**\r\n     * Stack frame information.\r\n     */\r\n    class StackFrame\r\n    {\r\n        \r\n        /**\r\n         * Level in the call stack. For the long stacks SDK may not report every function in a call stack.\r\n         */\r\n        public level: number;\r\n        \r\n        /**\r\n         * Method name.\r\n         */\r\n        public method: string;\r\n        \r\n        /**\r\n         * Name of the assembly (dll, jar, etc.) containing this function.\r\n         */\r\n        public assembly: string;\r\n        \r\n        /**\r\n         * File name or URL of the method implementation.\r\n         */\r\n        public fileName: string;\r\n        \r\n        /**\r\n         * Line number of the code implementation.\r\n         */\r\n        public line: number;\r\n        \r\n        constructor()\r\n        {\r\n        }\r\n    }\r\nexport = StackFrame;\r\n", "// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\nexport import AvailabilityData = require(\"./AvailabilityData\");\r\nexport import Base = require(\"./Base\");\r\nexport import ContextTagKeys = require(\"./ContextTagKeys\");\r\nexport import Data = require(\"./Data\");\r\nexport import DataPoint = require(\"./DataPoint\");\r\nexport import DataPointType = require(\"./DataPointType\");\r\nexport import Domain = require(\"./Domain\");\r\nexport import Envelope = require(\"./Envelope\");\r\nexport import EventData = require(\"./EventData\");\r\nexport import ExceptionData = require(\"./ExceptionData\");\r\nexport import ExceptionDetails = require(\"./ExceptionDetails\");\r\nexport import MessageData = require(\"./MessageData\");\r\nexport import MetricData = require(\"./MetricData\");\r\nexport import PageViewData = require(\"./PageViewData\");\r\nexport import RemoteDependencyData = require(\"./RemoteDependencyData\");\r\nexport import RequestData = require(\"./RequestData\");\r\nexport import SeverityLevel = require(\"./SeverityLevel\");\r\nexport import StackFrame = require(\"./StackFrame\");\r\n", "import { Domain, EventData, ExceptionData, MessageData, MetricData, PageViewData, RemoteDependencyData, RequestData } from \"./Generated\";\r\n\r\n/**\r\n * Breeze response definition.\r\n */\r\nexport interface BreezeResponse {\r\n    itemsReceived: number;\r\n    itemsAccepted: number;\r\n    errors: BreezeError[];\r\n}\r\n\r\n/**\r\n* Breeze errors.\r\n*/\r\nexport interface BreezeError {\r\n    index: number;\r\n    statusCode: number;\r\n    message: string;\r\n}\r\n\r\nexport class RemoteDependencyDataConstants {\r\n    public static TYPE_HTTP: string = \"Http\";\r\n    public static TYPE_AI: string = \"Http (tracked component)\";\r\n}\r\n\r\nexport interface ISupportProperties extends Domain {\r\n    properties: any;\r\n}\r\n\r\nexport function domainSupportsProperties(domain: Domain): domain is ISupportProperties {\r\n    return \"properties\" in domain || // Do extra typechecks in case the type supports it but properties is null/undefined\r\n        domain instanceof EventData ||\r\n        domain instanceof ExceptionData ||\r\n        domain instanceof MessageData ||\r\n        domain instanceof MetricData ||\r\n        domain instanceof PageViewData ||\r\n        domain instanceof RemoteDependencyData ||\r\n        domain instanceof RequestData;\r\n}\r\n\r\n/**\r\n * Subset of Connection String fields which this SDK can parse. Lower-typecased to\r\n * allow for case-insensitivity across field names\r\n * @type ConnectionStringKey\r\n */\r\nexport interface ConnectionString {\r\n    instrumentationkey?: string;\r\n    ingestionendpoint?: string;\r\n    liveendpoint?: string;\r\n    location?: string;\r\n    endpointsuffix?: string;\r\n\r\n    // Note: this is a node types backcompat equivalent to\r\n    // type ConnectionString = { [key in ConnectionStringKey]?: string }\r\n}\r\n\r\nexport type ConnectionStringKey = \"instrumentationkey\" | \"ingestionendpoint\" | \"liveendpoint\" | \"location\"| \"endpointsuffix\";\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=DependencyTelemetry.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=EventTelemetry.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=ExceptionTelemetry.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=MetricTelemetry.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=RequestTelemetry.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=TraceTelemetry.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=Telemetry.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=NodeHttpDependencyTelemetry.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=NodeHttpRequestTelemetry.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=AvailabilityTelemetry.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=PageViewTelemetry.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=EnvelopeTelemetry.js.map", "export type TelemetryTypeKeys = \"Event\" | \"Exception\" | \"Trace\" | \"Metric\" | \"Request\" | \"Dependency\" | \"Availability\" | \"PageView\";\r\nexport type TelemetryTypeValues =\r\n    | \"EventData\"\r\n    | \"ExceptionData\"\r\n    | \"MessageData\"\r\n    | \"MetricData\"\r\n    | \"RequestData\"\r\n    | \"RemoteDependencyData\"\r\n    | \"AvailabilityData\"\r\n    | \"PageViewData\";\r\n\r\n/**\r\n * Converts the user-friendly enumeration TelemetryType to the underlying schema baseType value\r\n * @param type Type to convert to BaseData string\r\n */\r\nexport function telemetryTypeToBaseType(type: TelemetryType): TelemetryTypeValues {\r\n    switch(type) {\r\n        case TelemetryType.Event:\r\n            return \"EventData\";\r\n        case TelemetryType.Exception:\r\n            return \"ExceptionData\";\r\n        case TelemetryType.Trace:\r\n            return \"MessageData\";\r\n        case TelemetryType.Metric:\r\n            return \"MetricData\";\r\n        case TelemetryType.Request:\r\n            return \"RequestData\";\r\n        case TelemetryType.Dependency:\r\n            return \"RemoteDependencyData\";\r\n        case TelemetryType.Availability:\r\n            return \"AvailabilityData\";\r\n        case TelemetryType.PageView:\r\n            return \"PageViewData\";\r\n    }\r\n    return undefined;\r\n}\r\n\r\n/**\r\n * Converts the schema baseType value to the user-friendly enumeration TelemetryType\r\n * @param baseType BaseData string to convert to TelemetryType\r\n */\r\nexport function baseTypeToTelemetryType(baseType: TelemetryTypeValues): TelemetryType {\r\n    switch(baseType) {\r\n        case \"EventData\":\r\n            return TelemetryType.Event;\r\n        case \"ExceptionData\":\r\n            return TelemetryType.Exception;\r\n        case \"MessageData\":\r\n            return TelemetryType.Trace;\r\n        case \"MetricData\":\r\n            return TelemetryType.Metric;\r\n        case \"RequestData\":\r\n            return TelemetryType.Request;\r\n        case \"RemoteDependencyData\":\r\n            return TelemetryType.Dependency;\r\n        case \"AvailabilityData\":\r\n            return TelemetryType.Availability;\r\n        case \"PageViewData\":\r\n            return TelemetryType.PageView;\r\n    }\r\n    return undefined;\r\n}\r\n\r\nexport const TelemetryTypeString: {[key: string]: TelemetryTypeValues} = {\r\n    Event: \"EventData\",\r\n    Exception: \"ExceptionData\",\r\n    Trace: \"MessageData\",\r\n    Metric: \"MetricData\",\r\n    Request: \"RequestData\",\r\n    Dependency: \"RemoteDependencyData\",\r\n    Availability: \"AvailabilityData\",\r\n    PageView: \"PageViewData\"\r\n}\r\n\r\n/**\r\n * Telemetry types supported by this SDK\r\n */\r\nexport enum TelemetryType {\r\n    Event,\r\n    Exception,\r\n    Trace,\r\n    Metric,\r\n    Request,\r\n    Dependency,\r\n    Availability,\r\n    PageView\r\n}\r\n\r\nexport interface Identified {\r\n    id?: string;\r\n}\r\n", "export * from \"./DependencyTelemetry\";\r\nexport * from \"./EventTelemetry\";\r\nexport * from \"./ExceptionTelemetry\";\r\nexport * from \"./MetricTelemetry\";\r\nexport * from \"./RequestTelemetry\";\r\nexport * from \"./TraceTelemetry\";\r\nexport * from \"./Telemetry\";\r\n\r\nexport * from \"./NodeHttpDependencyTelemetry\";\r\nexport * from \"./NodeHttpRequestTelemetry\";\r\nexport * from \"./AvailabilityTelemetry\";\r\nexport * from \"./PageViewTelemetry\";\r\n\r\nexport * from \"./EnvelopeTelemetry\";\r\nexport * from \"./TelemetryType\";", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=MetricQuickPulse.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=EnvelopeQuickPulse.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=DocumentQuickPulse.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=ExceptionDocumentQuickPulse.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=MessageDocumentQuickPulse.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=DependencyDocumentQuickPulse.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=RequestDocumentQuickPulse.js.map", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=EventDocumentQuickPulse.js.map", "export * from \"./MetricQuickPulse\";\r\nexport * from \"./EnvelopeQuickPulse\";\r\nexport * from \"./DocumentQuickPulse\";\r\nexport * from \"./ExceptionDocumentQuickPulse\";\r\nexport * from \"./MessageDocumentQuickPulse\";\r\nexport * from \"./DependencyDocumentQuickPulse\";\r\nexport * from \"./RequestDocumentQuickPulse\";\r\nexport * from \"./EventDocumentQuickPulse\";\r\n", "export * from \"./Constants\";\r\nexport * from \"./Generated\";\r\nexport * from \"./TelemetryTypes\";\r\nexport * from \"./QuickPulseTypes\";\r\n", "/**\r\n * Base class for helpers that read data from HTTP request/response objects and convert them\r\n * into the telemetry contract objects.\r\n */\r\nabstract class RequestParser {\r\n    protected method: string;\r\n    protected url: string;\r\n    protected startTime: number;\r\n    protected duration: number;\r\n    protected statusCode: number;\r\n    protected properties: { [key: string]: string };\r\n\r\n    /**\r\n     * Gets a url parsed out from request options\r\n     */\r\n    public getUrl(): string {\r\n        return this.url;\r\n    }\r\n\r\n    protected RequestParser() {\r\n        this.startTime = +new Date();\r\n    }\r\n\r\n    protected _setStatus(status: number, error: Error | string) {\r\n        let endTime = +new Date();\r\n        this.duration = endTime - this.startTime;\r\n        this.statusCode = status;\r\n\r\n        let properties: {[key: string]: string} = this.properties || {};\r\n        if (error) {\r\n            if (typeof error === \"string\") {\r\n                properties[\"error\"] = error;\r\n            } else if (error instanceof Error) {\r\n                properties[\"error\"] = error.message;\r\n            } else if (typeof error === \"object\") {\r\n                for (var key in <any>error) {\r\n                    properties[key] = (<any>error)[key] && (<any>error)[key].toString && (<any>error)[key].toString();\r\n                }\r\n            }\r\n        }\r\n\r\n        this.properties = properties;\r\n    }\r\n\r\n    protected _isSuccess() {\r\n        return (0 < this.statusCode) && (this.statusCode < 400);\r\n    }\r\n}\r\n\r\nexport = RequestParser;\r\n", "import http = require(\"http\");\r\nimport url = require(\"url\");\r\nimport net = require(\"net\");\r\n\r\nimport Contracts = require(\"../Declarations/Contracts\");\r\nimport Util = require(\"../Library/Util\");\r\nimport RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nimport RequestParser = require(\"./RequestParser\");\r\nimport CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\nimport Tracestate = require(\"../Library/Tracestate\");\r\nimport Traceparent = require(\"../Library/Traceparent\");\r\nimport { HttpRequest } from \"../Library/Functions\";\r\n\r\n\r\n/**\r\n * Helper class to read data from the request/response objects and convert them into the telemetry contract\r\n */\r\nclass HttpRequestParser extends RequestParser {\r\n    private static keys = new Contracts.ContextTagKeys();\r\n\r\n    private rawHeaders: { [key: string]: string };\r\n    private socketRemoteAddress: string;\r\n    private connectionRemoteAddress: string;\r\n    private legacySocketRemoteAddress: string;\r\n    private userAgent: string;\r\n    private sourceCorrelationId: string;\r\n    private parentId: string;\r\n    private operationId: string;\r\n    private requestId: string;\r\n    private traceparent: Traceparent;\r\n    private tracestate: Tracestate;\r\n    private legacyRootId: string; // if original operationId is not w3c compat, move it here\r\n\r\n    private correlationContextHeader: string;\r\n\r\n    constructor(request: http.IncomingMessage | HttpRequest, requestId?: string) {\r\n        super();\r\n        if (request) {\r\n            this.method = request.method;\r\n            this.url = this._getAbsoluteUrl(request);\r\n            this.startTime = +new Date();\r\n            this.socketRemoteAddress = (<any>request).socket && (<any>request).socket.remoteAddress;\r\n            this.parseHeaders(request, requestId);\r\n            if ((<any>request).connection) {\r\n                this.connectionRemoteAddress = ((<any>request).connection as net.Socket).remoteAddress;\r\n                this.legacySocketRemoteAddress = (<any>(<any>request).connection)[\"socket\"] && (<any>(<any>request).connection)[\"socket\"].remoteAddress;\r\n            }\r\n        }\r\n    }\r\n\r\n    public onError(error: Error | string, ellapsedMilliseconds?: number) {\r\n        this._setStatus(undefined, error);\r\n\r\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\r\n        if (ellapsedMilliseconds) {\r\n            this.duration = ellapsedMilliseconds;\r\n        }\r\n    }\r\n\r\n    public onResponse(response: http.ServerResponse, ellapsedMilliseconds?: number) {\r\n        this._setStatus(response.statusCode, undefined);\r\n\r\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\r\n        if (ellapsedMilliseconds) {\r\n            this.duration = ellapsedMilliseconds;\r\n        }\r\n    }\r\n\r\n    public getRequestTelemetry(baseTelemetry?: Contracts.Telemetry): Contracts.RequestTelemetry {\r\n\r\n        let name = this.method;\r\n        try {\r\n            name += \" \" + new url.URL(this.url).pathname;\r\n        }\r\n        catch (ex) { // Invalid URL\r\n            // Ignore error\r\n        }\r\n\r\n        var requestTelemetry: Contracts.RequestTelemetry & Contracts.Identified = {\r\n            id: this.requestId,\r\n            name: name,\r\n            url: this.url,\r\n            /*\r\n            See https://github.com/microsoft/ApplicationInsights-dotnet-server/blob/25d695e6a906fbe977f67be3966d25dbf1c50a79/Src/Web/Web.Shared.Net/RequestTrackingTelemetryModule.cs#L250\r\n            for reference\r\n            */\r\n            source: this.sourceCorrelationId,\r\n            duration: this.duration,\r\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\r\n            success: this._isSuccess(),\r\n            properties: this.properties\r\n        };\r\n\r\n        if (baseTelemetry && baseTelemetry.time) {\r\n            requestTelemetry.time = baseTelemetry.time;\r\n        } else if (this.startTime) {\r\n            requestTelemetry.time = new Date(this.startTime);\r\n        }\r\n\r\n        // We should keep any parameters the user passed in\r\n        // Except the fields defined above in requestTelemetry, which take priority\r\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\r\n        if (baseTelemetry) {\r\n            // Copy missing fields\r\n            for (let key in baseTelemetry) {\r\n                if (!(<any>requestTelemetry)[key]) {\r\n                    (<any>requestTelemetry)[key] = (<any>baseTelemetry)[key];\r\n                }\r\n            }\r\n            // Merge properties\r\n            if (baseTelemetry.properties) {\r\n                for (let key in baseTelemetry.properties) {\r\n                    requestTelemetry.properties[key] = baseTelemetry.properties[key];\r\n                }\r\n            }\r\n        }\r\n\r\n        return requestTelemetry;\r\n    }\r\n\r\n    public getRequestTags(tags: { [key: string]: string }): { [key: string]: string } {\r\n        // create a copy of the context for requests since client info will be used here\r\n        var newTags = <{ [key: string]: string }>{};\r\n        for (var key in tags) {\r\n            newTags[key] = tags[key];\r\n        }\r\n\r\n        // don't override tags if they are already set\r\n        newTags[HttpRequestParser.keys.locationIp] = tags[HttpRequestParser.keys.locationIp] || this._getIp();\r\n        newTags[HttpRequestParser.keys.sessionId] = tags[HttpRequestParser.keys.sessionId] || this._getId(\"ai_session\");\r\n        newTags[HttpRequestParser.keys.userId] = tags[HttpRequestParser.keys.userId] || this._getId(\"ai_user\");\r\n        newTags[HttpRequestParser.keys.userAuthUserId] = tags[HttpRequestParser.keys.userAuthUserId] || this._getId(\"ai_authUser\");\r\n        newTags[HttpRequestParser.keys.operationName] = this.getOperationName(tags);\r\n        newTags[HttpRequestParser.keys.operationParentId] = this.getOperationParentId(tags);\r\n        newTags[HttpRequestParser.keys.operationId] = this.getOperationId(tags);\r\n\r\n        return newTags;\r\n    }\r\n\r\n    public getOperationId(tags: { [key: string]: string }) {\r\n        return tags[HttpRequestParser.keys.operationId] || this.operationId;\r\n    }\r\n\r\n    public getOperationParentId(tags: { [key: string]: string }) {\r\n        return tags[HttpRequestParser.keys.operationParentId] || this.parentId || this.getOperationId(tags);\r\n    }\r\n\r\n    public getOperationName(tags: { [key: string]: string }) {\r\n        if (tags[HttpRequestParser.keys.operationName]) {\r\n            return tags[HttpRequestParser.keys.operationName];\r\n        }\r\n        let pathName = \"\";\r\n        try {\r\n            pathName = new url.URL(this.url).pathname;\r\n        }\r\n        catch (ex) { // Invalid URL\r\n            // Ignore error\r\n        }\r\n        let operationName = this.method;\r\n        if (pathName) {\r\n            operationName += \" \" + pathName;\r\n        }\r\n        return operationName;\r\n    }\r\n\r\n    public getRequestId() {\r\n        return this.requestId;\r\n    }\r\n\r\n    public getCorrelationContextHeader() {\r\n        return this.correlationContextHeader;\r\n    }\r\n\r\n    public getTraceparent() {\r\n        return this.traceparent;\r\n    }\r\n\r\n    public getTracestate() {\r\n        return this.tracestate;\r\n    }\r\n\r\n    public getLegacyRootId() {\r\n        return this.legacyRootId;\r\n    }\r\n\r\n    private _getAbsoluteUrl(request: http.IncomingMessage | HttpRequest): string {\r\n        if (!request.headers) {\r\n            return request.url;\r\n        }\r\n\r\n        var encrypted = (<any>request).connection ? ((<any>request).connection as any).encrypted : null;\r\n\r\n        var protocol = (encrypted || request.headers[\"x-forwarded-proto\"] == \"https\") ? \"https\" : \"http\";\r\n\r\n        var baseUrl = protocol + \"://\" + request.headers.host + \"/\";\r\n\r\n        var pathName = \"\";\r\n        var search = \"\";\r\n        try {\r\n            var requestUrl = new url.URL(request.url, baseUrl);\r\n            pathName = requestUrl.pathname;\r\n            search = requestUrl.search;\r\n        }\r\n        catch (ex) {\r\n            // Ignore errors\r\n        }\r\n        var absoluteUrl = url.format({\r\n            protocol: protocol,\r\n            host: request.headers.host,\r\n            pathname: pathName,\r\n            search: search\r\n        });\r\n        return absoluteUrl;\r\n    }\r\n\r\n    private _getIp() {\r\n\r\n        // regex to match ipv4 without port\r\n        // Note: including the port would cause the payload to be rejected by the data collector\r\n        var ipMatch = /[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}/;\r\n\r\n        var check = (str: string): string => {\r\n            var results = ipMatch.exec(str);\r\n            if (results) {\r\n                return results[0];\r\n            }\r\n        };\r\n\r\n        var ip = check(this.rawHeaders[\"x-forwarded-for\"])\r\n            || check(this.rawHeaders[\"x-client-ip\"])\r\n            || check(this.rawHeaders[\"x-real-ip\"])\r\n            || check(this.connectionRemoteAddress)\r\n            || check(this.socketRemoteAddress)\r\n            || check(this.legacySocketRemoteAddress);\r\n\r\n        // node v12 returns this if the address is \"localhost\"\r\n        if (!ip\r\n            && this.connectionRemoteAddress\r\n            && this.connectionRemoteAddress.substr\r\n            && this.connectionRemoteAddress.substr(0, 2) === \"::\") {\r\n            ip = \"127.0.0.1\";\r\n        }\r\n\r\n        return ip;\r\n    }\r\n\r\n    private _getId(name: string) {\r\n        var cookie = (this.rawHeaders && this.rawHeaders[\"cookie\"] &&\r\n            typeof this.rawHeaders[\"cookie\"] === \"string\" && this.rawHeaders[\"cookie\"]) || \"\";\r\n        var value = HttpRequestParser.parseId(Util.getCookie(name, cookie));\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Sets this operation's operationId, parentId, requestId (and legacyRootId, if necessary) based on this operation's traceparent\r\n     */\r\n    private setBackCompatFromThisTraceContext() {\r\n        // Set operationId\r\n        this.operationId = this.traceparent.traceId;\r\n        if (this.traceparent.legacyRootId) {\r\n            this.legacyRootId = this.traceparent.legacyRootId;\r\n        }\r\n\r\n        // Set parentId with existing spanId\r\n        this.parentId = this.traceparent.parentId;\r\n\r\n        // Update the spanId and set the current requestId\r\n        this.traceparent.updateSpanId();\r\n        this.requestId = this.traceparent.getBackCompatRequestId();\r\n    }\r\n\r\n    private parseHeaders(request: http.IncomingMessage | HttpRequest, requestId?: string) {\r\n\r\n        this.rawHeaders = request.headers || (<any>request).rawHeaders;\r\n        this.userAgent = request.headers && request.headers[\"user-agent\"];\r\n        this.sourceCorrelationId = Util.getCorrelationContextTarget(request, RequestResponseHeaders.requestContextSourceKey);\r\n\r\n        if (request.headers) {\r\n            const tracestateHeader = request.headers[RequestResponseHeaders.traceStateHeader] ? request.headers[RequestResponseHeaders.traceStateHeader].toString() : null; // w3c header\r\n            const traceparentHeader = request.headers[RequestResponseHeaders.traceparentHeader] ? request.headers[RequestResponseHeaders.traceparentHeader].toString() : null; // w3c header\r\n            const requestIdHeader = request.headers[RequestResponseHeaders.requestIdHeader] ? request.headers[RequestResponseHeaders.requestIdHeader].toString() : null; // default AI header\r\n            const legacy_parentId = request.headers[RequestResponseHeaders.parentIdHeader] ? request.headers[RequestResponseHeaders.parentIdHeader].toString() : null; // legacy AI header\r\n            const legacy_rootId = request.headers[RequestResponseHeaders.rootIdHeader] ? request.headers[RequestResponseHeaders.rootIdHeader].toString() : null; // legacy AI header\r\n\r\n            this.correlationContextHeader = request.headers[RequestResponseHeaders.correlationContextHeader] ? request.headers[RequestResponseHeaders.correlationContextHeader].toString() : null;\r\n\r\n            if (CorrelationIdManager.w3cEnabled && (traceparentHeader || tracestateHeader)) {\r\n                // Parse W3C Trace Context headers\r\n                this.traceparent = new Traceparent(traceparentHeader ? traceparentHeader.toString() : null); // new traceparent is always created from this\r\n                this.tracestate = traceparentHeader && tracestateHeader && new Tracestate(tracestateHeader ? tracestateHeader.toString() : null); // discard tracestate if no traceparent is present\r\n                this.setBackCompatFromThisTraceContext();\r\n            } else if (requestIdHeader) {\r\n                // Parse AI headers\r\n                if (CorrelationIdManager.w3cEnabled) {\r\n                    this.traceparent = new Traceparent(null, requestIdHeader);\r\n                    this.setBackCompatFromThisTraceContext();\r\n                } else {\r\n                    this.parentId = requestIdHeader;\r\n                    this.requestId = CorrelationIdManager.generateRequestId(this.parentId);\r\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\r\n                }\r\n            } else {\r\n                // Legacy fallback\r\n                if (CorrelationIdManager.w3cEnabled) {\r\n                    this.traceparent = new Traceparent();\r\n                    this.traceparent.parentId = legacy_parentId;\r\n                    this.traceparent.legacyRootId = legacy_rootId || legacy_parentId;\r\n                    this.setBackCompatFromThisTraceContext();\r\n                } else {\r\n                    this.parentId = legacy_parentId;\r\n                    this.requestId = CorrelationIdManager.generateRequestId(legacy_rootId || this.parentId);\r\n                    this.correlationContextHeader = null;\r\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\r\n                }\r\n            }\r\n\r\n            if (requestId) {\r\n                // For the scenarios that don't guarantee an AI-created context,\r\n                // override the requestId with the provided one.\r\n                this.requestId = requestId;\r\n                this.operationId = CorrelationIdManager.getRootId(this.requestId);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static parseId(cookieValue: string): string {\r\n        const cookieParts = cookieValue.split(\"|\");\r\n\r\n        if (cookieParts.length > 0) {\r\n            return cookieParts[0];\r\n        }\r\n\r\n        return \"\"; // old behavior was to return \"\" for incorrect parsing\r\n    }\r\n}\r\n\r\nexport = HttpRequestParser;\r\n", "'use strict';\n\nvar shimmer = require('shimmer');\nvar wrap    = shimmer.wrap;\nvar unwrap  = shimmer.unwrap;\n\n// Default to complaining loudly when things don't go according to plan.\n// dunderscores are boring\nvar SYMBOL = 'wrap@before';\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty(obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name);\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  });\n}\n\nfunction _process(self, listeners) {\n  var l = listeners.length;\n  for (var p = 0; p < l; p++) {\n    var listener = listeners[p];\n    // set up the listener so that onEmit can do whatever it needs\n    var before = self[SYMBOL];\n    if (typeof before === 'function') {\n      before(listener);\n    }\n    else if (Array.isArray(before)) {\n      var length = before.length;\n      for (var i = 0; i < length; i++) before[i](listener);\n    }\n  }\n}\n\nfunction _listeners(self, event) {\n  var listeners;\n  listeners = self._events && self._events[event];\n  if (!Array.isArray(listeners)) {\n    if (listeners) {\n      listeners = [listeners];\n    }\n    else {\n      listeners = [];\n    }\n  }\n\n  return listeners;\n}\n\nfunction _findAndProcess(self, event, before) {\n  var after = _listeners(self, event);\n  var unprocessed = after.filter(function(fn) { return before.indexOf(fn) === -1; });\n  if (unprocessed.length > 0) _process(self, unprocessed);\n}\n\nfunction _wrap(unwrapped, visit) {\n  if (!unwrapped) return;\n\n  var wrapped = unwrapped;\n  if (typeof unwrapped === 'function') {\n    wrapped = visit(unwrapped);\n  }\n  else if (Array.isArray(unwrapped)) {\n    wrapped = [];\n    for (var i = 0; i < unwrapped.length; i++) {\n      wrapped[i] = visit(unwrapped[i]);\n    }\n  }\n  return wrapped;\n}\n\nmodule.exports = function wrapEmitter(emitter, onAddListener, onEmit) {\n  if (!emitter || !emitter.on || !emitter.addListener ||\n      !emitter.removeListener || !emitter.emit) {\n    throw new Error(\"can only wrap real EEs\");\n  }\n\n  if (!onAddListener) throw new Error(\"must have function to run on listener addition\");\n  if (!onEmit) throw new Error(\"must have function to wrap listeners when emitting\");\n\n  /* Attach a context to a listener, and make sure that this hook stays\n   * attached to the emitter forevermore.\n   */\n  function adding(on) {\n    return function added(event, listener) {\n      var existing = _listeners(this, event).slice();\n\n      try {\n        var returned = on.call(this, event, listener);\n        _findAndProcess(this, event, existing);\n        return returned;\n      }\n      finally {\n        // old-style streaming overwrites .on and .addListener, so rewrap\n        if (!this.on.__wrapped) wrap(this, 'on', adding);\n        if (!this.addListener.__wrapped) wrap(this, 'addListener', adding);\n      }\n    };\n  }\n\n  function emitting(emit) {\n    return function emitted(event) {\n      if (!this._events || !this._events[event]) return emit.apply(this, arguments);\n\n      var unwrapped = this._events[event];\n\n      /* Ensure that if removeListener gets called, it's working with the\n       * unwrapped listeners.\n       */\n      function remover(removeListener) {\n        return function removed() {\n          this._events[event] = unwrapped;\n          try {\n            return removeListener.apply(this, arguments);\n          }\n          finally {\n            unwrapped = this._events[event];\n            this._events[event] = _wrap(unwrapped, onEmit);\n          }\n        };\n      }\n      wrap(this, 'removeListener', remover);\n\n      try {\n        /* At emit time, ensure that whatever else is going on, removeListener will\n         * still work while at the same time running whatever hooks are necessary to\n         * make sure the listener is run in the correct context.\n         */\n        this._events[event] = _wrap(unwrapped, onEmit);\n        return emit.apply(this, arguments);\n      }\n      finally {\n        /* Ensure that regardless of what happens when preparing and running the\n         * listeners, the status quo ante is restored before continuing.\n         */\n        unwrap(this, 'removeListener');\n        this._events[event] = unwrapped;\n      }\n    };\n  }\n\n  // support multiple onAddListeners\n  if (!emitter[SYMBOL]) {\n    defineProperty(emitter, SYMBOL, onAddListener);\n  }\n  else if (typeof emitter[SYMBOL] === 'function') {\n    defineProperty(emitter, SYMBOL, [emitter[SYMBOL], onAddListener]);\n  }\n  else if (Array.isArray(emitter[SYMBOL])) {\n    emitter[SYMBOL].push(onAddListener);\n  }\n\n  // only wrap the core functions once\n  if (!emitter.__wrapped) {\n    wrap(emitter, 'addListener', adding);\n    wrap(emitter, 'on',          adding);\n    wrap(emitter, 'emit',        emitting);\n\n    defineProperty(emitter, '__unwrap', function () {\n      unwrap(emitter, 'addListener');\n      unwrap(emitter, 'on');\n      unwrap(emitter, 'emit');\n      delete emitter[SYMBOL];\n      delete emitter.__wrapped;\n    });\n    defineProperty(emitter, '__wrapped', true);\n  }\n};\n", "/* eslint-disable max-len */\n'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst async_hooks = require('async_hooks');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n  this._indent = 0;\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  this.active[key] = value;\n\n  if (DEBUG_CLS_HOOKED) {\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-SET KEY:' + key + '=' + value + ' in ns:' + this.name + ' currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n  }\n\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      const asyncHooksCurrentId = async_hooks.currentId();\n      const triggerId = async_hooks.triggerAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      //debug2(indentStr + 'CONTEXT-GETTING KEY NO ACTIVE NS:' + key + '=undefined' + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n      debug2(`${indentStr}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${key}=undefined currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length}`);\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-GETTING KEY:' + key + '=' + this.active[key] + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n    debug2(`${indentStr}CONTEXT-GETTING KEY: (${this.name}) ${key}=${this.active[key]} currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} active:${util.inspect(this.active)}`);\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  // Prototype inherit existing context if created a new child context within existing context.\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-CREATED Context: (${this.name}) currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} context:${util.inspect(context, {showHidden:true, depth:2, colors:true})}`);\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} context:${util.inspect(context)}`);\n    }\n    fn(context);\n    return context;\n  } catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  } finally {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN END: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  let value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CONTEXT-runPromise BEFORE: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER then: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER catch: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    } else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    } catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    } finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-ENTER: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-EXIT: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' + util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(`NS-CREATING NAMESPACE (${name})`);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  const hook = async_hooks.createHook({\n    init(asyncId, type, triggerId, resource) {\n      currentUid = async_hooks.executionAsyncId();\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      // let initContext = namespace.active;\n      // if(!initContext && triggerId) {\n      //   let parentContext = namespace._contexts.get(triggerId);\n      //   if (parentContext) {\n      //     namespace.active = parentContext;\n      //     namespace._contexts.set(currentUid, parentContext);\n      //     if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) WITH PARENT CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      //   } else if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) MISSING CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      // }else {\n      //   namespace._contexts.set(currentUid, namespace.active);\n      //   if (DEBUG_CLS_HOOKED) {\n      //     const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //     debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //   }\n      // }\n      if(namespace.active) {\n        namespace._contexts.set(asyncId, namespace.active);\n\n        if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n        }\n      }else if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        const triggerId = async_hooks.triggerAsyncId();\n        const triggerIdContext = namespace._contexts.get(triggerId);\n        if (triggerIdContext) {\n          namespace._contexts.set(asyncId, triggerIdContext);\n          if (DEBUG_CLS_HOOKED) {\n            const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n            debug2(`${indentStr}INIT USING CONTEXT FROM TRIGGERID [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n          }\n        } else if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT MISSING CONTEXT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n        }\n      }\n\n\n      if(DEBUG_CLS_HOOKED && type === 'PROMISE'){\n        debug2(util.inspect(resource, {showHidden: true}));\n        const parentId = resource.parentId;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}INIT RESOURCE-PROMISE [${type}] (${name}) parentId:${parentId} asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n      }\n\n    },\n    before(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context;\n\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}BEFORE (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n          namespace._indent += 2;\n        }\n\n        namespace.enter(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}BEFORE MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} namespace._contexts:${util.inspect(namespace._contexts, {showHidden:true, depth:2, colors:true})}`);\n        namespace._indent += 2;\n      }\n    },\n    after(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context; // = namespace._contexts.get(currentUid);\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          namespace._indent -= 2;\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}AFTER (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n        }\n\n        namespace.exit(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        namespace._indent -= 2;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}AFTER MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n      }\n    },\n    destroy(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}DESTROY (${name}) currentUid:${currentUid} asyncId:${asyncId} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(namespace._contexts.get(currentUid))}`);\n      }\n\n      namespace._contexts.delete(asyncId);\n    }\n  });\n\n  hook.enable();\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\n//const fs = require('fs');\nfunction debug2(...args) {\n  if (DEBUG_CLS_HOOKED) {\n    //fs.writeSync(1, `${util.format(...args)}\\n`);\n    process._rawDebug(`${util.format(...args)}`);\n  }\n}\n\n/*function getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}*/\n\n\n", "'use strict';\n\nfunction NextTickWrap() {}\n\nmodule.exports = function patch() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const oldNextTick = process.nextTick;\n  process.nextTick = function () {\n    if (!state.enabled) return oldNextTick.apply(process, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback is not a function');\n    }\n\n    const handle = new NextTickWrap();\n    const uid = --state.counter;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if(didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            hooks.post.call(handle, uid, true);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      hooks.destroy.call(null, uid);\n    };\n\n    return oldNextTick.apply(process, args);\n  };\n}\n", "'use strict';\n\nfunction PromiseWrap() {}\n\nmodule.exports = function patchPromise() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const Promise = global.Promise;\n\n  /* As per ECMAScript 2015, .catch must be implemented by calling .then, as\n   * such we need needn't patch .catch as well. see:\n   * http://www.ecma-international.org/ecma-262/6.0/#sec-promise.prototype.catch\n   */\n  const oldThen = Promise.prototype.then;\n  Promise.prototype.then = wrappedThen;\n\n  function makeWrappedHandler(fn, handle, uid, isOnFulfilled) {\n    if ('function' !== typeof fn) {\n      return isOnFulfilled\n        ? makeUnhandledResolutionHandler(uid)\n        : makeUnhandledRejectionHandler(uid);\n    }\n\n    return function wrappedHandler() {\n      hooks.pre.call(handle, uid);\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        hooks.post.call(handle, uid, false);\n        hooks.destroy.call(null, uid);\n      }\n    };\n  }\n\n  function makeUnhandledResolutionHandler(uid) {\n    return function unhandledResolutionHandler(val) {\n      hooks.destroy.call(null, uid);\n      return val;\n    };\n  }\n\n  function makeUnhandledRejectionHandler(uid) {\n    return function unhandledRejectedHandler(val) {\n      hooks.destroy.call(null, uid);\n      throw val;\n    };\n  }\n\n  function wrappedThen(onFulfilled, onRejected) {\n    if (!state.enabled) return oldThen.call(this, onFulfilled, onRejected);\n\n    const handle = new PromiseWrap();\n    const uid = --state.counter;\n\n    hooks.init.call(handle, uid, 0, null, null);\n\n    return oldThen.call(\n      this,\n      makeWrappedHandler(onFulfilled, handle, uid, true),\n      makeWrappedHandler(onRejected, handle, uid, false)\n    );\n  }\n};\n", "'use strict';\n\nconst timers = require('timers');\n\nfunction TimeoutWrap() {}\nfunction IntervalWrap() {}\nfunction ImmediateWrap() {}\n\nconst timeoutMap = new Map();\nconst intervalMap = new Map();\nconst ImmediateMap = new Map();\n\nlet activeCallback = null;\nlet clearedInCallback = false;\n\nmodule.exports = function patch() {\n  patchTimer(this._hooks, this._state, 'setTimeout', 'clearTimeout', TimeoutWrap, timeoutMap, true);\n  patchTimer(this._hooks, this._state, 'setInterval', 'clearInterval', IntervalWrap, intervalMap, false);\n  patchTimer(this._hooks, this._state, 'setImmediate', 'clearImmediate', ImmediateWrap, ImmediateMap, true);\n\n  global.setTimeout = timers.setTimeout;\n  global.setInterval = timers.setInterval;\n  global.setImmediate = timers.setImmediate;\n\n  global.clearTimeout = timers.clearTimeout;\n  global.clearInterval = timers.clearInterval;\n  global.clearImmediate = timers.clearImmediate;\n};\n\nfunction patchTimer(hooks, state, setFn, clearFn, Handle, timerMap, singleCall) {\n  const oldSetFn = timers[setFn];\n  const oldClearFn = timers[clearFn];\n\n  // overwrite set[Timeout]\n  timers[setFn] = function () {\n    if (!state.enabled) return oldSetFn.apply(timers, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('\"callback\" argument must be a function');\n    }\n\n    const handle = new Handle();\n    const uid = --state.counter;\n    let timerId = undefined;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      activeCallback = timerId;\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if (didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            // call the post hook\n            hooks.post.call(handle, uid, true);\n            // setInterval won't continue\n            timerMap.delete(timerId);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      activeCallback = null;\n\n      // call the destroy hook if the callback will only be called once\n      if (singleCall || clearedInCallback) {\n        clearedInCallback = false;\n        timerMap.delete(timerId);\n        hooks.destroy.call(null, uid);\n      }\n    };\n\n    timerId = oldSetFn.apply(timers, args);\n    // Bind the timerId and uid for later use, in case the clear* function is\n    // called.\n    timerMap.set(timerId, uid);\n\n    return timerId;\n  };\n\n  // overwrite clear[Timeout]\n  timers[clearFn] = function (timerId) {\n    // If clear* was called within the timer callback, then delay the destroy\n    // event to after the post event has been called.\n    if (activeCallback === timerId && timerId !== null) {\n      clearedInCallback = true;\n    }\n    // clear should call the destroy hook. Note if timerId doesn't exists\n    // it is because asyncWrap wasn't enabled at the time.\n    else if (timerMap.has(timerId)) {\n      const uid = timerMap.get(timerId);\n      timerMap.delete(timerId);\n      hooks.destroy.call(null, uid);\n    }\n\n    oldClearFn.apply(timers, arguments);\n  };\n}\n", "{\n  \"name\": \"async-hook-jl\",\n  \"description\": \"Inspect the life of handle objects in node\",\n  \"version\": \"1.7.6\",\n  \"author\": \"Andreas Madsen <amwebdk@gmail.com>\",\n  \"main\": \"./index.js\",\n  \"scripts\": {\n    \"test\": \"node ./test/runner.js && eslint .\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://github.com/jeff-lewis/async-hook-jl.git\"\n  },\n  \"keywords\": [\n    \"async\",\n    \"async hooks\",\n    \"inspect\",\n    \"async wrap\"\n  ],\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    \"stack-chain\": \"^1.3.7\"\n  },\n  \"devDependencies\": {\n    \"async\": \"1.5.x\",\n    \"cli-color\": \"1.1.x\",\n    \"eslint\": \"^3.4.0\",\n    \"endpoint\": \"0.4.x\"\n  },\n  \"engines\": {\n    \"node\": \"^4.7 || >=6.9 || >=7.3\"\n  }\n}\n", "'use strict';\n\nconst asyncWrap = process.binding('async_wrap');\nconst TIMERWRAP = asyncWrap.Providers.TIMERWRAP;\n\nconst patchs = {\n  'nextTick': require('./patches/next-tick.js'),\n  'promise': require('./patches/promise.js'),\n  'timers': require('./patches/timers.js')\n};\n\nconst ignoreUIDs = new Set();\n\nfunction State() {\n  this.enabled = false;\n  this.counter = 0;\n}\n\nfunction Hooks() {\n  const initFns = this.initFns = [];\n  const preFns = this.preFns = [];\n  const postFns = this.postFns = [];\n  const destroyFns = this.destroyFns = [];\n\n  this.init = function (uid, provider, parentUid, parentHandle) {\n    // Ignore TIMERWRAP, since setTimeout etc. is monkey patched\n    if (provider === TIMERWRAP) {\n      ignoreUIDs.add(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of initFns) {\n      hook(uid, this, provider, parentUid, parentHandle);\n    }\n  };\n\n  this.pre = function (uid) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of preFns) {\n      hook(uid, this);\n    }\n  };\n\n  this.post = function (uid, didThrow) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of postFns) {\n      hook(uid, this, didThrow);\n    }\n  };\n\n  this.destroy = function (uid) {\n    // Cleanup the ignore list if this uid should be ignored\n    if (ignoreUIDs.has(uid)) {\n      ignoreUIDs.delete(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of destroyFns) {\n      hook(uid);\n    }\n  };\n}\n\nHooks.prototype.add = function (hooks) {\n  if (hooks.init) this.initFns.push(hooks.init);\n  if (hooks.pre) this.preFns.push(hooks.pre);\n  if (hooks.post) this.postFns.push(hooks.post);\n  if (hooks.destroy) this.destroyFns.push(hooks.destroy);\n};\n\nfunction removeElement(array, item) {\n  const index = array.indexOf(item);\n  if (index === -1) return;\n  array.splice(index, 1);\n}\n\nHooks.prototype.remove = function (hooks) {\n  if (hooks.init) removeElement(this.initFns, hooks.init);\n  if (hooks.pre) removeElement(this.preFns, hooks.pre);\n  if (hooks.post) removeElement(this.postFns, hooks.post);\n  if (hooks.destroy) removeElement(this.destroyFns, hooks.destroy);\n};\n\nfunction AsyncHook() {\n  this._state = new State();\n  this._hooks = new Hooks();\n\n  // expose version for conflict detection\n  this.version = require('./package.json').version;\n\n  // expose the Providers map\n  this.providers = asyncWrap.Providers;\n\n  // apply patches\n  for (const key of Object.keys(patchs)) {\n    patchs[key].call(this);\n  }\n\n  // setup async wrap\n  if (process.env.hasOwnProperty('NODE_ASYNC_HOOK_WARNING')) {\n    console.warn('warning: you are using async-hook-jl which is unstable.');\n  }\n  asyncWrap.setupHooks({\n    init: this._hooks.init,\n    pre: this._hooks.pre,\n    post: this._hooks.post,\n    destroy: this._hooks.destroy\n  });\n}\nmodule.exports = AsyncHook;\n\nAsyncHook.prototype.addHooks = function (hooks) {\n  this._hooks.add(hooks);\n};\n\nAsyncHook.prototype.removeHooks = function (hooks) {\n  this._hooks.remove(hooks);\n};\n\nAsyncHook.prototype.enable = function () {\n  this._state.enabled = true;\n  asyncWrap.enable();\n};\n\nAsyncHook.prototype.disable = function () {\n  this._state.enabled = false;\n  asyncWrap.disable();\n};", "{\n  \"name\": \"stack-chain\",\n  \"description\": \"API for combining call site modifiers\",\n  \"version\": \"1.3.7\",\n  \"author\": \"Andreas Madsen <amwebdk@gmail.com>\",\n  \"scripts\": {\n    \"test\": \"tap ./test/simple\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://github.com/AndreasMadsen/stack-chain.git\"\n  },\n  \"keywords\": [\n    \"stack\",\n    \"chain\",\n    \"trace\",\n    \"call site\",\n    \"concat\",\n    \"format\"\n  ],\n  \"devDependencies\": {\n    \"tap\": \"2.x.x\",\n    \"uglify-js\": \"2.5.x\"\n  },\n  \"license\": \"MIT\"\n}\n", "// Copyright 2012 the V8 project authors. All rights reserved.\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n//       copyright notice, this list of conditions and the following\n//       disclaimer in the documentation and/or other materials provided\n//       with the distribution.\n//     * Neither the name of Google Inc. nor the names of its\n//       contributors may be used to endorse or promote products derived\n//       from this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nfunction FormatErrorString(error) {\n  try {\n    return Error.prototype.toString.call(error);\n  } catch (e) {\n    try {\n      return \"<error: \" + e + \">\";\n    } catch (ee) {\n      return \"<error>\";\n    }\n  }\n}\n\nmodule.exports = function FormatStackTrace(error, frames) {\n  var lines = [];\n  lines.push(FormatErrorString(error));\n  for (var i = 0; i < frames.length; i++) {\n    var frame = frames[i];\n    var line;\n    try {\n      line = frame.toString();\n    } catch (e) {\n      try {\n        line = \"<error: \" + e + \">\";\n      } catch (ee) {\n        // Any code that reaches this point is seriously nasty!\n        line = \"<error>\";\n      }\n    }\n    lines.push(\"    at \" + line);\n  }\n  return lines.join(\"\\n\");\n};\n", "\n// use a already existing formater or fallback to the default v8 formater\nvar defaultFormater = require('./format.js');\n\n// public define API\nfunction stackChain() {\n  this.extend = new TraceModifier();\n  this.filter = new TraceModifier();\n  this.format = new StackFormater();\n  this.version = require('./package.json').version;\n}\n\n\nvar SHORTCIRCUIT_CALLSITE = false;\nstackChain.prototype.callSite = function collectCallSites(options) {\n  if (!options) options = {};\n\n  // Get CallSites\n  SHORTCIRCUIT_CALLSITE = true;\n  var obj = {};\n  Error.captureStackTrace(obj, collectCallSites);\n  var callSites = obj.stack;\n  SHORTCIRCUIT_CALLSITE = false;\n\n  // Slice\n  callSites = callSites.slice(options.slice || 0);\n\n  // Modify CallSites\n  if (options.extend) callSites = this.extend._modify(obj, callSites);\n  if (options.filter) callSites = this.filter._modify(obj, callSites);\n\n  // Done\n  return callSites;\n};\n\nvar chain = new stackChain();\n\nfunction TraceModifier() {\n  this._modifiers = [];\n}\n\nTraceModifier.prototype._modify = function (error, frames) {\n  for (var i = 0, l = this._modifiers.length; i < l; i++) {\n    frames = this._modifiers[i](error, frames);\n  }\n\n  return frames;\n};\n\nTraceModifier.prototype.attach = function (modifier) {\n  this._modifiers.push(modifier);\n};\n\nTraceModifier.prototype.deattach = function (modifier) {\n  var index = this._modifiers.indexOf(modifier);\n\n  if (index === -1) return false;\n\n  this._modifiers.splice(index, 1);\n  return true;\n};\n\nfunction StackFormater() {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n}\n\nStackFormater.prototype.replace = function (formater) {\n  if (formater) {\n    this._formater = formater;\n  } else {\n    this.restore();\n  }\n};\n\nStackFormater.prototype.restore  = function () {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n};\n\nStackFormater.prototype._backup = function () {\n  this._previous = this._formater;\n};\n\nStackFormater.prototype._roolback = function () {\n  if (this._previous === defaultFormater) {\n    this.replace(undefined);\n  } else {\n    this.replace(this._previous);\n  }\n\n  this._previous = undefined;\n};\n\n\n//\n// Set Error.prepareStackTrace thus allowing stack-chain\n// to take control of the Error().stack formating.\n//\n\n// If there already is a custom stack formater, then set\n// that as the stack-chain formater.\nif (Error.prepareStackTrace) {\n    chain.format.replace(Error.prepareStackTrace);\n}\n\nvar SHORTCIRCUIT_FORMATER = false;\nfunction prepareStackTrace(error, originalFrames) {\n  if (SHORTCIRCUIT_CALLSITE) return originalFrames;\n  if (SHORTCIRCUIT_FORMATER) return defaultFormater(error, originalFrames);\n\n  // Make a loss copy of originalFrames\n  var frames = originalFrames.concat();\n\n  // extend frames\n  frames = chain.extend._modify(error, frames);\n\n  // filter frames\n  frames = chain.filter._modify(error, frames);\n\n  // reduce frames to match Error.stackTraceLimit\n  frames = frames.slice(0, Error.stackTraceLimit);\n\n  // Set the callSite property\n  // But only if it hasn't been explicitly set, otherwise\n  // error.stack would have unintended side effects. Check also for\n  // non-extensible/sealed objects, such as those from Google's Closure Library\n  if (Object.isExtensible(error) &&\n      (Object.getOwnPropertyDescriptor(error, \"callSite\") === undefined)) {\n    error.callSite = {\n      original: originalFrames,\n      mutated: frames\n    };\n  }\n\n  // format frames\n  SHORTCIRCUIT_FORMATER = true;\n  var format = chain.format._formater(error, frames);\n  SHORTCIRCUIT_FORMATER = false;\n\n  return format;\n}\n\n// Replace the v8 stack trace creator\nObject.defineProperty(Error, 'prepareStackTrace', {\n  'get': function () {\n    return prepareStackTrace;\n  },\n\n  'set': function (formater) {\n    // If formater is prepareStackTrace it means that someone ran\n    // var old = Error.prepareStackTrace;\n    // Error.prepareStackTrace = custom\n    // new Error().stack\n    // Error.prepareStackTrace = old;\n    // The effect of this, should be that the old behaviour is restored.\n    if (formater === prepareStackTrace) {\n      chain.format._roolback();\n    }\n    // Error.prepareStackTrace was set, this means that someone is\n    // trying to take control of the Error().stack format. Make\n    // them belive they succeeded by setting them up as the stack-chain\n    // formater.\n    else {\n      chain.format._backup();\n      chain.format.replace(formater);\n    }\n  }\n});\n\n//\n// Manage call site storeage\n//\nfunction callSiteGetter() {\n  // calculate call site object\n  this.stack;\n\n  // return call site object\n  return this.callSite;\n}\n\nObject.defineProperty(Error.prototype, 'callSite', {\n  'get': callSiteGetter,\n\n  'set': function (frames) {\n    // In case callSite was set before [[getter]], just set\n    // the value\n    Object.defineProperty(this, 'callSite', {\n        value: frames,\n        writable: true,\n        configurable: true\n    });\n  },\n\n  configurable: true\n});\n\nmodule.exports = chain;\n", "// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._stackChain) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._stackChain.version === require('./package.json').version) {\n    module.exports = global._stackChain;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of stack-chain found');\n  }\n}\n// Yay, no other stack-chain copy exists, yet :/\nelse {\n  module.exports = global._stackChain = require('./stack-chain');\n}\n", "'use strict';\n\nconst AsyncHook = require('./async-hook.js');\n\n// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._asyncHook) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._asyncHook.version === require('./package.json').version) {\n    module.exports = global._asyncHook;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of async-hook-jl found');\n  }\n} else {\n  const stackChain = require('stack-chain');\n\n  // Remove callSites from this module. AsyncWrap doesn't have any callSites\n  // and the hooks are expected to be completely transparent.\n  stackChain.filter.attach(function (error, frames) {\n    return frames.filter(function (callSite) {\n      const filename = callSite.getFileName();\n      // filename is not always a string, for example in case of eval it is\n      // undefined. So check if the filename is defined.\n      return !(filename && filename.slice(0, __dirname.length) === __dirname);\n    });\n  });\n\n  module.exports = global._asyncHook = new AsyncHook();\n}", "'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst asyncHook = require('async-hook-jl');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\n//const trace = [];\n\nconst invertedProviders = [];\nfor (let key in asyncHook.providers) {\n  invertedProviders[asyncHook.providers[key]] = key;\n}\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  //trace: trace,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    SETTING KEY:' + key + '=' + value + ' in ns:' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('    GETTING KEY:' + key + '=undefined' + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n        util.inspect(this.active, true));\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    GETTING KEY:' + key + '=' + this.active[key] + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATING Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' active:' +\n      util.inspect(this.active, true, 2, true));\n  }\n\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATED Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' context:' +\n      util.inspect(context, true, 2, true));\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' BEFORE RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' AFTER RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(' BEFORE runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n      util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  ENTER ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  EXIT ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' +\n      util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CREATING NAMESPACE ' + name);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  asyncHook.addHooks({\n    init(uid, handle, provider, parentUid, parentHandle) {\n      //parentUid = parentUid || currentUid;  // Suggested usage but appears to work better for tracing modules.\n      currentUid = uid;\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      if (parentUid) {\n        namespace._contexts.set(uid, namespace._contexts.get(parentUid));\n        if (DEBUG_CLS_HOOKED) {\n          debug2('PARENTID: ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + provider);\n        }\n      } else {\n        namespace._contexts.set(currentUid, namespace.active);\n      }\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('INIT ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + invertedProviders[provider]\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n    },\n    pre(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.enter(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    post(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.exit(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    destroy(uid) {\n      currentUid = uid;\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('DESTROY ' + name + ' uid:' + uid + ' context:' + util.inspect(namespace._contexts.get(currentUid))\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n      namespace._contexts.delete(uid);\n    }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\nif (asyncHook._state && !asyncHook._state.enabled) {\n  asyncHook.enable();\n}\n\nfunction debug2(msg) {\n  if (process.env.DEBUG) {\n    process._rawDebug(msg);\n  }\n}\n\n\n/*function debug(from, ns) {\n process._rawDebug('DEBUG: ' + util.inspect({\n from: from,\n currentUid: currentUid,\n context: ns ? ns._contexts.get(currentUid) : 'no ns'\n }, true, 2, true));\n }*/\n\n\nfunction getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}\n\n\n// Add back to callstack\nif (DEBUG_CLS_HOOKED) {\n  var stackChain = require('stack-chain');\n  for (var modifier in stackChain.filter._modifiers) {\n    stackChain.filter.deattach(modifier);\n  }\n}\n", "'use strict';\n\nconst semver = require('semver');\n\n/**\n * In order to increase node version support, this loads the version of context\n * that is appropriate for the version of on nodejs that is running.\n * Node < v8 - uses AsyncWrap and async-hooks-jl\n * Node >= v8 - uses native async-hooks\n */\nif(process && semver.gte(process.versions.node, '8.0.0')){\n  module.exports = require('./context');\n}else{\n  module.exports = require('./context-legacy');\n}\n", "var wrap = require('shimmer').wrap;\n\n/*\n *\n * CONSTANTS\n *\n */\nvar HAS_CREATE_AL = 1 << 0;\nvar HAS_BEFORE_AL = 1 << 1;\nvar HAS_AFTER_AL = 1 << 2;\nvar HAS_ERROR_AL = 1 << 3;\n\n/**\n * There is one list of currently active listeners that is mutated in place by\n * addAsyncListener and removeAsyncListener. This complicates error-handling,\n * for reasons that are discussed below.\n */\nvar listeners = [];\n\n/**\n * There can be multiple listeners with the same properties, so disambiguate\n * them by assigning them an ID at creation time.\n */\nvar uid = 0;\n\n/**\n * Ensure that errors coming from within listeners are handed off to domains,\n * process._fatalException, or uncaughtException without being treated like\n * user errors.\n */\nvar inAsyncTick = false;\n\n/**\n * Because asynchronous contexts can be nested, and errors can come from anywhere\n * in the stack, a little extra work is required to keep track of where in the\n * nesting we are. Because JS arrays are frequently mutated in place\n */\nvar listenerStack = [];\n\n/**\n * The error handler on a listener can capture errors thrown during synchronous\n * execution immediately after the listener is added. To capture both\n * synchronous and asynchronous errors, the error handler just uses the\n * \"global\" list of active listeners, and the rest of the code ensures that the\n * listener list is correct by using a stack of listener lists during\n * asynchronous execution.\n */\nvar asyncCatcher;\n\n/**\n * The guts of the system -- called each time an asynchronous event happens\n * while one or more listeners are active.\n */\nvar asyncWrap;\n\n/**\n * Simple helper function that's probably faster than using Array\n * filter methods and can be inlined.\n */\nfunction union(dest, added) {\n  var destLength = dest.length;\n  var addedLength = added.length;\n  var returned = [];\n\n  if (destLength === 0 && addedLength === 0) return returned;\n\n  for (var j  = 0; j < destLength; j++) returned[j] = dest[j];\n\n  if (addedLength === 0) return returned;\n\n  for (var i = 0; i < addedLength; i++) {\n    var missing = true;\n    for (j = 0; j < destLength; j++) {\n      if (dest[j].uid === added[i].uid) {\n        missing = false;\n        break;\n      }\n    }\n    if (missing) returned.push(added[i]);\n  }\n\n  return returned;\n}\n\n/*\n * For performance, split error-handlers and asyncCatcher up into two separate\n * code paths.\n */\n\n// 0.9+\nif (process._fatalException) {\n  /**\n   * Error handlers on listeners can throw, the catcher needs to be able to\n   * discriminate between exceptions thrown by user code, and exceptions coming\n   * from within the catcher itself. Use a global to keep track of which state\n   * the catcher is currently in.\n   */\n  var inErrorTick = false;\n\n  /**\n   * Throwing always happens synchronously. If the current array of values for\n   * the current list of asyncListeners is put in a module-scoped variable right\n   * before a call that can throw, it will always be correct when the error\n   * handlers are run.\n   */\n  var errorValues;\n\n  asyncCatcher = function asyncCatcher(er) {\n    var length = listeners.length;\n    if (inErrorTick || length === 0) return false;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    inErrorTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n\n      var value = errorValues && errorValues[listener.uid];\n      handled = listener.error(value, er) || handled;\n    }\n    inErrorTick = false;\n\n    /* Test whether there are any listener arrays on the stack. In the case of\n     * synchronous throws when the listener is active, there may have been\n     * none pushed yet.\n     */\n    if (listenerStack.length > 0) listeners = listenerStack.pop();\n    errorValues = undefined;\n\n    return handled && !inAsyncTick;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      // put the current values where the catcher can see them\n      errorValues = values;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned = original.apply(this, arguments);\n\n      /*\n       * after handlers (not run if original throws)\n       */\n      inAsyncTick = true;\n      for (i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_AFTER_AL) > 0) {\n          list[i].after(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // back to the previous listener list on the stack\n      listeners = listenerStack.pop();\n      errorValues = undefined;\n\n      return returned;\n    };\n  };\n\n  wrap(process, '_fatalException', function (_fatalException) {\n    return function _asyncFatalException(er) {\n      return asyncCatcher(er) || _fatalException(er);\n    };\n  });\n}\n// 0.8 and below\nelse {\n  /**\n   * If an error handler in asyncWrap throws, the process must die. Under 0.8\n   * and earlier the only way to put a bullet through the head of the process\n   * is to rethrow from inside the exception handler, so rethrow and set\n   * errorThrew to tell the uncaughtHandler what to do.\n   */\n  var errorThrew = false;\n\n  /**\n   * Under Node 0.8, this handler *only* handles synchronously thrown errors.\n   * This simplifies it, which almost but not quite makes up for the hit taken\n   * by putting everything in a try-catch.\n   */\n  asyncCatcher = function uncaughtCatcher(er) {\n    // going down hard\n    if (errorThrew) throw er;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    var length = listeners.length;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n      handled = listener.error(null, er) || handled;\n    }\n\n    /* Rethrow if one of the before / after handlers fire, which will bring the\n     * process down immediately.\n     */\n    if (!handled && inAsyncTick) throw er;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      /*jshint maxdepth:4*/\n\n      // after() handlers don't run if threw\n      var threw = false;\n\n      // ...unless the error is handled\n      var handled = false;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned;\n      try {\n        returned = original.apply(this, arguments);\n      }\n      catch (er) {\n        threw = true;\n        for (var i = 0; i < length; ++i) {\n          if ((listeners[i].flags & HAS_ERROR_AL) == 0) continue;\n          try {\n            handled = listeners[i].error(values[list[i].uid], er) || handled;\n          }\n          catch (x) {\n            errorThrew = true;\n            throw x;\n          }\n        }\n\n        if (!handled) {\n          // having an uncaughtException handler here alters crash semantics\n          process.removeListener('uncaughtException', asyncCatcher);\n          process._originalNextTick(function () {\n            process.addListener('uncaughtException', asyncCatcher);\n          });\n\n          throw er;\n        }\n      }\n      finally {\n        /*\n         * after handlers (not run if original throws)\n         */\n        if (!threw || handled) {\n          inAsyncTick = true;\n          for (i = 0; i < length; ++i) {\n            if ((list[i].flags & HAS_AFTER_AL) > 0) {\n              list[i].after(this, values[list[i].uid]);\n            }\n          }\n          inAsyncTick = false;\n        }\n\n        // back to the previous listener list on the stack\n        listeners = listenerStack.pop();\n      }\n\n\n      return returned;\n    };\n  };\n\n  // will be the first to fire if async-listener is the first module loaded\n  process.addListener('uncaughtException', asyncCatcher);\n}\n\n// for performance in the case where there are no handlers, just the listener\nfunction simpleWrap(original, list, length) {\n  inAsyncTick = true;\n  for (var i = 0; i < length; ++i) {\n    var listener = list[i];\n    if (listener.create) listener.create(listener.data);\n  }\n  inAsyncTick = false;\n\n  // still need to make sure nested async calls are made in the context\n  // of the listeners active at their creation\n  return function () {\n    listenerStack.push(listeners);\n    listeners = union(list, listeners);\n\n    var returned = original.apply(this, arguments);\n\n    listeners = listenerStack.pop();\n\n    return returned;\n  };\n}\n\n/**\n * Called each time an asynchronous function that's been monkeypatched in\n * index.js is called. If there are no listeners, return the function\n * unwrapped.  If there are any asyncListeners and any of them have callbacks,\n * pass them off to asyncWrap for later use, otherwise just call the listener.\n */\nfunction wrapCallback(original) {\n  var length = listeners.length;\n\n  // no context to capture, so avoid closure creation\n  if (length === 0) return original;\n\n  // capture the active listeners as of when the wrapped function was called\n  var list = listeners.slice();\n\n  for (var i = 0; i < length; ++i) {\n    if (list[i].flags > 0) return asyncWrap(original, list, length);\n  }\n\n  return simpleWrap(original, list, length);\n}\n\nfunction AsyncListener(callbacks, data) {\n  if (typeof callbacks.create === 'function') {\n    this.create = callbacks.create;\n    this.flags |= HAS_CREATE_AL;\n  }\n\n  if (typeof callbacks.before === 'function') {\n    this.before = callbacks.before;\n    this.flags |= HAS_BEFORE_AL;\n  }\n\n  if (typeof callbacks.after === 'function') {\n    this.after = callbacks.after;\n    this.flags |= HAS_AFTER_AL;\n  }\n\n  if (typeof callbacks.error === 'function') {\n    this.error = callbacks.error;\n    this.flags |= HAS_ERROR_AL;\n  }\n\n  this.uid = ++uid;\n  this.data = data === undefined ? null : data;\n}\nAsyncListener.prototype.create = undefined;\nAsyncListener.prototype.before = undefined;\nAsyncListener.prototype.after  = undefined;\nAsyncListener.prototype.error  = undefined;\nAsyncListener.prototype.data   = undefined;\nAsyncListener.prototype.uid    = 0;\nAsyncListener.prototype.flags  = 0;\n\nfunction createAsyncListener(callbacks, data) {\n  if (typeof callbacks !== 'object' || !callbacks) {\n    throw new TypeError('callbacks argument must be an object');\n  }\n\n  if (callbacks instanceof AsyncListener) {\n    return callbacks;\n  }\n  else {\n    return new AsyncListener(callbacks, data);\n  }\n}\n\nfunction addAsyncListener(callbacks, data) {\n  var listener;\n  if (!(callbacks instanceof AsyncListener)) {\n    listener = createAsyncListener(callbacks, data);\n  }\n  else {\n    listener = callbacks;\n  }\n\n  // Make sure the listener isn't already in the list.\n  var registered = false;\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      registered = true;\n      break;\n    }\n  }\n\n  if (!registered) listeners.push(listener);\n\n  return listener;\n}\n\nfunction removeAsyncListener(listener) {\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      listeners.splice(i, 1);\n      break;\n    }\n  }\n}\n\nprocess.createAsyncListener = createAsyncListener;\nprocess.addAsyncListener    = addAsyncListener;\nprocess.removeAsyncListener = removeAsyncListener;\n\nmodule.exports = wrapCallback;\n", "'use strict';\n\nmodule.exports = (Promise, ensureAslWrapper) => {\n  // Updates to this class should also be applied to the the ES3 version\n  // in index.js.\n  return class WrappedPromise extends Promise {\n    constructor(executor) {\n      var context, args;\n      super(wrappedExecutor);\n      var promise = this;\n\n      try {\n        executor.apply(context, args);\n      } catch (err) {\n        args[1](err);\n      }\n\n      return promise;\n      function wrappedExecutor(resolve, reject) {\n        context = this;\n        args = [wrappedResolve, wrappedReject];\n\n        // These wrappers create a function that can be passed a function and an argument to\n        // call as a continuation from the resolve or reject.\n        function wrappedResolve(val) {\n          ensureAslWrapper(promise, false);\n          return resolve(val);\n        }\n\n        function wrappedReject(val) {\n          ensureAslWrapper(promise, false);\n          return reject(val);\n        }\n      }\n    }\n  }\n};\n", "'use strict';\n\nif (process.addAsyncListener) throw new Error(\"Don't require polyfill unless needed\");\n\nvar shimmer      = require('shimmer')\n  , semver       = require('semver')\n  , wrap         = shimmer.wrap\n  , massWrap     = shimmer.massWrap\n  , wrapCallback = require('./glue.js')\n  , util         = require('util')\n  ;\n\nvar v6plus = semver.gte(process.version, '6.0.0');\nvar v7plus = semver.gte(process.version, '7.0.0');\nvar v8plus = semver.gte(process.version, '8.0.0');\nvar v11plus = semver.gte(process.version, '11.0.0');\n\nvar net = require('net');\n\n// From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\nif (v7plus && !net._normalizeArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2017/03/09\n  net._normalizeArgs = function (args) {\n    if (args.length === 0) {\n      return [{}, null];\n    }\n\n    var arg0 = args[0];\n    var options = {};\n    if (typeof arg0 === 'object' && arg0 !== null) {\n      // (options[...][, cb])\n      options = arg0;\n    } else if (isPipeName(arg0)) {\n      // (path[...][, cb])\n      options.path = arg0;\n    } else {\n      // ([port][, host][...][, cb])\n      options.port = arg0;\n      if (args.length > 1 && typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    if (typeof cb !== 'function')\n      return [options, null];\n    else\n      return [options, cb];\n  }\n} else if (!v7plus && !net._normalizeConnectArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2013/10/30\n  net._normalizeConnectArgs = function (args) {\n    var options = {};\n\n    function toNumber(x) { return (x = Number(x)) >= 0 ? x : false; }\n\n    if (typeof args[0] === 'object' && args[0] !== null) {\n      // connect(options, [cb])\n      options = args[0];\n    }\n    else if (typeof args[0] === 'string' && toNumber(args[0]) === false) {\n      // connect(path, [cb]);\n      options.path = args[0];\n    }\n    else {\n      // connect(port, [host], [cb])\n      options.port = args[0];\n      if (typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    return typeof cb === 'function' ? [options, cb] : [options];\n  };\n}\n\n// In https://github.com/nodejs/node/pull/11796 `_listen2` was renamed\n// `_setUpListenHandle`. It's still aliased as `_listen2`, and currently the\n// Node internals still call the alias - but who knows for how long. So better\n// make sure we use the new name instead if available.\nif ('_setUpListenHandle' in net.Server.prototype) {\n  wrap(net.Server.prototype, '_setUpListenHandle', wrapSetUpListenHandle);\n} else {\n  wrap(net.Server.prototype, '_listen2', wrapSetUpListenHandle);\n}\n\nfunction wrapSetUpListenHandle(original) {\n  return function () {\n    this.on('connection', function (socket) {\n      if (socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n      }\n    });\n\n    try {\n      return original.apply(this, arguments);\n    }\n    finally {\n      // the handle will only not be set in cases where there has been an error\n      if (this._handle && this._handle.onconnection) {\n        this._handle.onconnection = wrapCallback(this._handle.onconnection);\n      }\n    }\n  };\n}\n\nfunction patchOnRead(ctx) {\n  if (ctx && ctx._handle) {\n    var handle = ctx._handle;\n    if (!handle._originalOnread) {\n      handle._originalOnread = handle.onread;\n    }\n    handle.onread = wrapCallback(handle._originalOnread);\n  }\n}\n\nwrap(net.Socket.prototype, 'connect', function (original) {\n  return function () {\n    var args;\n    // Node core uses an internal Symbol here to guard against the edge-case\n    // where the user accidentally passes in an array. As we don't have access\n    // to this Symbol we resort to this hack where we just detect if there is a\n    // symbol or not. Checking for the number of Symbols is by no means a fool\n    // proof solution, but it catches the most basic cases.\n    if (v8plus &&\n        Array.isArray(arguments[0]) &&\n        Object.getOwnPropertySymbols(arguments[0]).length > 0) {\n      // already normalized\n      args = arguments[0];\n    } else {\n      // From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\n      args = v7plus\n        ? net._normalizeArgs(arguments)\n        : net._normalizeConnectArgs(arguments);\n    }\n    if (args[1]) args[1] = wrapCallback(args[1]);\n    var result = original.apply(this, args);\n    patchOnRead(this);\n    return result;\n  };\n});\n\nvar http = require('http');\n\n// NOTE: A rewrite occurred in 0.11 that changed the addRequest signature\n// from (req, host, port, localAddress) to (req, options)\n// Here, I use the longer signature to maintain 0.10 support, even though\n// the rest of the arguments aren't actually used\nwrap(http.Agent.prototype, 'addRequest', function (original) {\n  return function (req) {\n    var onSocket = req.onSocket;\n    req.onSocket = wrapCallback(function (socket) {\n      patchOnRead(socket);\n      return onSocket.apply(this, arguments);\n    });\n    return original.apply(this, arguments);\n  };\n});\n\nvar childProcess = require('child_process');\n\nfunction wrapChildProcess(child) {\n  if (Array.isArray(child.stdio)) {\n    child.stdio.forEach(function (socket) {\n      if (socket && socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n        wrap(socket._handle, 'close', activatorFirst);\n      }\n    });\n  }\n\n  if (child._handle) {\n    child._handle.onexit = wrapCallback(child._handle.onexit);\n  }\n}\n\n// iojs v2.0.0+\nif (childProcess.ChildProcess) {\n  wrap(childProcess.ChildProcess.prototype, 'spawn', function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(this);\n      return result;\n    };\n  });\n} else {\n  massWrap(childProcess, [\n    'execFile', // exec is implemented in terms of execFile\n    'fork',\n    'spawn'\n  ], function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(result);\n      return result;\n    };\n  });\n}\n\n// need unwrapped nextTick for use within < 0.9 async error handling\nif (!process._fatalException) {\n  process._originalNextTick = process.nextTick;\n}\n\nvar processors = [];\nif (process._nextDomainTick) processors.push('_nextDomainTick');\nif (process._tickDomainCallback) processors.push('_tickDomainCallback');\n\nmassWrap(\n  process,\n  processors,\n  activator\n);\nwrap(process, 'nextTick', activatorFirst);\n\nvar asynchronizers = [\n  'setTimeout',\n  'setInterval'\n];\nif (global.setImmediate) asynchronizers.push('setImmediate');\n\nvar timers = require('timers');\nvar patchGlobalTimers = global.setTimeout === timers.setTimeout;\n\nmassWrap(\n  timers,\n  asynchronizers,\n  activatorFirst\n);\n\nif (patchGlobalTimers) {\n  massWrap(\n    global,\n    asynchronizers,\n    activatorFirst\n  );\n}\n\nvar dns = require('dns');\nmassWrap(\n  dns,\n  [\n    'lookup',\n    'resolve',\n    'resolve4',\n    'resolve6',\n    'resolveCname',\n    'resolveMx',\n    'resolveNs',\n    'resolveTxt',\n    'resolveSrv',\n    'reverse'\n  ],\n  activator\n);\n\nif (dns.resolveNaptr) wrap(dns, 'resolveNaptr', activator);\n\nvar fs = require('fs');\nmassWrap(\n  fs,\n  [\n    'watch',\n    'rename',\n    'truncate',\n    'chown',\n    'fchown',\n    'chmod',\n    'fchmod',\n    'stat',\n    'lstat',\n    'fstat',\n    'link',\n    'symlink',\n    'readlink',\n    'realpath',\n    'unlink',\n    'rmdir',\n    'mkdir',\n    'readdir',\n    'close',\n    'open',\n    'utimes',\n    'futimes',\n    'fsync',\n    'write',\n    'read',\n    'readFile',\n    'writeFile',\n    'appendFile',\n    'watchFile',\n    'unwatchFile',\n    \"exists\",\n  ],\n  activator\n);\n\n// only wrap lchown and lchmod on systems that have them.\nif (fs.lchown) wrap(fs, 'lchown', activator);\nif (fs.lchmod) wrap(fs, 'lchmod', activator);\n\n// only wrap ftruncate in versions of node that have it\nif (fs.ftruncate) wrap(fs, 'ftruncate', activator);\n\n// Wrap zlib streams\nvar zlib;\ntry { zlib = require('zlib'); } catch (err) { }\nif (zlib && zlib.Deflate && zlib.Deflate.prototype) {\n  var proto = Object.getPrototypeOf(zlib.Deflate.prototype);\n  if (proto._transform) {\n    // streams2\n    wrap(proto, \"_transform\", activator);\n  }\n  else if (proto.write && proto.flush && proto.end) {\n    // plain ol' streams\n    massWrap(\n      proto,\n      [\n        'write',\n        'flush',\n        'end'\n      ],\n      activator\n    );\n  }\n}\n\n// Wrap Crypto\nvar crypto;\ntry { crypto = require('crypto'); } catch (err) { }\nif (crypto) {\n\n  var toWrap = [\n      'pbkdf2',\n      'randomBytes',\n  ];\n  if (!v11plus) {\n    toWrap.push('pseudoRandomBytes');\n  }\n\n  massWrap(crypto, toWrap, activator);\n}\n\n// It is unlikely that any userspace promise implementations have a native\n// implementation of both Promise and Promise.toString.\nvar instrumentPromise = !!global.Promise &&\n    Promise.toString() === 'function Promise() { [native code] }' &&\n    Promise.toString.toString() === 'function toString() { [native code] }';\n\n// Check that global Promise is native\nif (instrumentPromise) {\n  // shoult not use any methods that have already been wrapped\n  var promiseListener = process.addAsyncListener({\n    create: function create() {\n      instrumentPromise = false;\n    }\n  });\n\n  // should not resolve synchronously\n  global.Promise.resolve(true).then(function notSync() {\n    instrumentPromise = false;\n  });\n\n  process.removeAsyncListener(promiseListener);\n}\n\n/*\n * Native promises use the microtask queue to make all callbacks run\n * asynchronously to avoid Zalgo issues. Since the microtask queue is not\n * exposed externally, promises need to be modified in a fairly invasive and\n * complex way.\n *\n * The async boundary in promises that must be patched is between the\n * fulfillment of the promise and the execution of any callback that is waiting\n * for that fulfillment to happen. This means that we need to trigger a create\n * when resolve or reject is called and trigger before, after and error handlers\n * around the callback execution. There may be multiple callbacks for each\n * fulfilled promise, so handlers will behave similar to setInterval where\n * there may be multiple before after and error calls for each create call.\n *\n * async-listener monkeypatching has one basic entry point: `wrapCallback`.\n * `wrapCallback` should be called when create should be triggered and be\n * passed a function to wrap, which will execute the body of the async work.\n * The resolve and reject calls can be modified fairly easily to call\n * `wrapCallback`, but at the time of resolve and reject all the work to be done\n * on fulfillment may not be defined, since a call to then, chain or fetch can\n * be made even after the promise has been fulfilled. To get around this, we\n * create a placeholder function which will call a function passed into it,\n * since the call to the main work is being made from within the wrapped\n * function, async-listener will work correctly.\n *\n * There is another complication with monkeypatching Promises. Calls to then,\n * chain and catch each create new Promises that are fulfilled internally in\n * different ways depending on the return value of the callback. When the\n * callback return a Promise, the new Promise is resolved asynchronously after\n * the returned Promise has been also been resolved. When something other than\n * a promise is resolved the resolve call for the new Promise is put in the\n * microtask queue and asynchronously resolved.\n *\n * Then must be wrapped so that its returned promise has a wrapper that can be\n * used to invoke further continuations. This wrapper cannot be created until\n * after the callback has run, since the callback may return either a promise\n * or another value. Fortunately we already have a wrapper function around the\n * callback we can use (the wrapper created by resolve or reject).\n *\n * By adding an additional argument to this wrapper, we can pass in the\n * returned promise so it can have its own wrapper appended. the wrapper\n * function can the call the callback, and take action based on the return\n * value. If a promise is returned, the new Promise can proxy the returned\n * Promise's wrapper (this wrapper may not exist yet, but will by the time the\n * wrapper needs to be invoked). Otherwise, a new wrapper can be create the\n * same way as in resolve and reject. Since this wrapper is created\n * synchronously within another wrapper, it will properly appear as a\n * continuation from within the callback.\n */\n\nif (instrumentPromise) {\n  wrapPromise();\n}\n\nfunction wrapPromise() {\n  var Promise = global.Promise;\n\n  // Updates to this class should also be applied to the the ES6 version\n  // in es6-wrapped-promise.js.\n  function wrappedPromise(executor) {\n    if (!(this instanceof wrappedPromise)) {\n      return Promise(executor);\n    }\n\n    if (typeof executor !== 'function') {\n      return new Promise(executor);\n    }\n\n    var context, args;\n    var promise = new Promise(wrappedExecutor);\n    promise.__proto__ = wrappedPromise.prototype;\n\n    try {\n      executor.apply(context, args);\n    } catch (err) {\n      args[1](err);\n    }\n\n    return promise;\n\n    function wrappedExecutor(resolve, reject) {\n      context = this;\n      args = [wrappedResolve, wrappedReject];\n\n      // These wrappers create a function that can be passed a function and an argument to\n      // call as a continuation from the resolve or reject.\n      function wrappedResolve(val) {\n        ensureAslWrapper(promise, false);\n        return resolve(val);\n      }\n\n      function wrappedReject(val) {\n        ensureAslWrapper(promise, false);\n        return reject(val);\n      }\n    }\n  }\n\n  util.inherits(wrappedPromise, Promise);\n\n  wrap(Promise.prototype, 'then', wrapThen);\n  // Node.js <v7 only, alias for .then\n  if (Promise.prototype.chain) {\n    wrap(Promise.prototype, 'chain', wrapThen);\n  }\n\n  if (v6plus) {\n    global.Promise = require('./es6-wrapped-promise.js')(Promise, ensureAslWrapper);\n  } else {\n    var PromiseFunctions = [\n      'all',\n      'race',\n      'reject',\n      'resolve',\n      'accept',  // Node.js <v7 only\n      'defer'    // Node.js <v7 only\n    ];\n\n    PromiseFunctions.forEach(function(key) {\n      // don't break `in` by creating a key for undefined entries\n      if (typeof Promise[key] === 'function') {\n        wrappedPromise[key] = Promise[key];\n      }\n    });\n    global.Promise = wrappedPromise\n  }\n\n  function ensureAslWrapper(promise, overwrite) {\n    if (!promise.__asl_wrapper || overwrite) {\n      promise.__asl_wrapper = wrapCallback(propagateAslWrapper);\n    }\n  }\n\n  function propagateAslWrapper(ctx, fn, result, next) {\n    var nextResult;\n    try {\n      nextResult = fn.call(ctx, result);\n      return {returnVal: nextResult, error: false}\n    } catch (err) {\n      return {errorVal: err, error: true}\n    } finally {\n      // Wrap any resulting futures as continuations.\n      if (nextResult instanceof Promise) {\n        next.__asl_wrapper = function proxyWrapper() {\n          var aslWrapper = nextResult.__asl_wrapper || propagateAslWrapper;\n          return aslWrapper.apply(this, arguments);\n        }\n      } else {\n        ensureAslWrapper(next, true);\n      }\n    }\n  }\n\n  function wrapThen(original) {\n    return function wrappedThen() {\n      var promise = this;\n      var next = original.apply(promise, Array.prototype.map.call(arguments, bind));\n\n      next.__asl_wrapper = function proxyWrapper(ctx, fn, val, last) {\n        if (promise.__asl_wrapper) {\n          promise.__asl_wrapper(ctx, function () {}, null, next);\n          return next.__asl_wrapper(ctx, fn, val, last);\n        }\n        return propagateAslWrapper(ctx, fn, val, last);\n      }\n\n      return next;\n\n      // wrap callbacks (success, error) so that the callbacks will be called as a\n      // continuations of the resolve or reject call using the __asl_wrapper created above.\n      function bind(fn) {\n        if (typeof fn !== 'function') return fn;\n        return wrapCallback(function (val) {\n          var result = (promise.__asl_wrapper || propagateAslWrapper)(this, fn, val, next);\n          if (result.error) {\n            throw result.errorVal\n          } else {\n            return result.returnVal\n          }\n        });\n      }\n    }\n  }\n}\n\n// Shim activator for functions that have callback last\nfunction activator(fn) {\n  var fallback = function () {\n    var args;\n    var cbIdx = arguments.length - 1;\n    if (typeof arguments[cbIdx] === \"function\") {\n      args = Array(arguments.length)\n      for (var i = 0; i < arguments.length - 1; i++) {\n        args[i] = arguments[i];\n      }\n      args[cbIdx] = wrapCallback(arguments[cbIdx]);\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (a, cb) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, cb);\n      };\n    case 3:\n      return function (a, b, cb) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, cb);\n      };\n    case 4:\n      return function (a, b, c, cb) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, cb);\n      };\n    case 5:\n      return function (a, b, c, d, cb) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, cb);\n      };\n    case 6:\n      return function (a, b, c, d, e, cb) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, e, cb);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// Shim activator for functions that have callback first\nfunction activatorFirst(fn) {\n  var fallback = function () {\n    var args;\n    if (typeof arguments[0] === \"function\") {\n      args = Array(arguments.length)\n      args[0] = wrapCallback(arguments[0]);\n      for (var i = 1; i < arguments.length; i++) {\n        args[i] = arguments[i];\n      }\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (cb, a) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a);\n      };\n    case 3:\n      return function (cb, a, b) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b);\n      };\n    case 4:\n      return function (cb, a, b, c) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c);\n      };\n    case 5:\n      return function (cb, a, b, c, d) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d);\n      };\n    case 6:\n      return function (cb, a, b, c, d, e) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d, e);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// taken from node master on 2017/03/09\nfunction toNumber(x) {\n  return (x = Number(x)) >= 0 ? x : false;\n}\n\n// taken from node master on 2017/03/09\nfunction isPipeName(s) {\n  return typeof s === 'string' && toNumber(s) === false;\n}\n", "'use strict';\n\nvar assert      = require('assert');\nvar wrapEmitter = require('emitter-listener');\n\n/*\n *\n * CONSTANTS\n *\n */\nvar CONTEXTS_SYMBOL = 'cls@contexts';\nvar ERROR_SYMBOL = 'error@context';\n\n// load polyfill if native support is unavailable\nif (!process.addAsyncListener) require('async-listener');\n\nfunction Namespace(name) {\n  this.name   = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set   = [];\n  this.id     = null;\n}\n\nNamespace.prototype.set = function (key, value) {\n  if (!this.active) {\n    throw new Error(\"No context available. ns.run() or ns.bind() must be called first.\");\n  }\n\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function (key) {\n  if (!this.active) return undefined;\n\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function () {\n  return Object.create(this.active);\n};\n\nNamespace.prototype.run = function (fn) {\n  var context = this.createContext();\n  this.enter(context);\n  try {\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function (fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\nNamespace.prototype.bind = function (fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  var self = this;\n  return function () {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function (context) {\n  assert.ok(context, \"context must be provided for entering\");\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function (context) {\n  assert.ok(context, \"context must be provided for exiting\");\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, \"can't remove top context\");\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  var index = this._set.lastIndexOf(context);\n\n  assert.ok(index >= 0, \"context not currently entered; can't exit\");\n  assert.ok(index,      \"can't remove top context\");\n\n  this._set.splice(index, 1);\n};\n\nNamespace.prototype.bindEmitter = function (emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, \"can only bind real EEs\");\n\n  var namespace  = this;\n  var thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) return;\n    if (!listener[CONTEXTS_SYMBOL]) listener[CONTEXTS_SYMBOL] = Object.create(null);\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace : namespace,\n      context   : namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) return unwrapped;\n\n    var wrapped  = unwrapped;\n    var contexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(contexts).forEach(function (name) {\n      var thunk = contexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function (exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction get(name) {\n  return process.namespaces[name];\n}\n\nfunction create(name) {\n  assert.ok(name, \"namespace must be given a name!\");\n\n  var namespace = new Namespace(name);\n  namespace.id = process.addAsyncListener({\n    create : function () { return namespace.active; },\n    before : function (context, storage) { if (storage) namespace.enter(storage); },\n    after  : function (context, storage) { if (storage) namespace.exit(storage); },\n    error  : function (storage) { if (storage) namespace.exit(storage); }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroy(name) {\n  var namespace = get(name);\n\n  assert.ok(namespace,    \"can't delete nonexistent namespace!\");\n  assert.ok(namespace.id, \"don't assign to process.namespaces directly!\");\n\n  process.removeAsyncListener(namespace.id);\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroy(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\nif (!process.namespaces) reset(); // call immediately to set up\n\nmodule.exports = {\n  getNamespace     : get,\n  createNamespace  : create,\n  destroyNamespace : destroy,\n  reset            : reset\n};\n", "import events = require(\"events\");\r\nimport Logging = require(\"../Library/Logging\");\r\nimport * as DiagChannel from \"./diagnostic-channel/initialization\";\r\nimport * as azureFunctionsTypes from \"../Library/Functions\";\r\n\r\n// Don't reference modules from these directly. Use only for types.\r\nimport * as cls from \"cls-hooked\";\r\nimport * as http from \"http\";\r\nimport Traceparent = require(\"../Library/Traceparent\");\r\nimport Tracestate = require(\"../Library/Tracestate\");\r\nimport HttpRequestParser = require(\"./HttpRequestParser\");\r\nimport { SpanContext } from \"@opentelemetry/api\";\r\nimport { Span } from \"@opentelemetry/sdk-trace-base\";\r\nimport Util = require(\"../Library/Util\");\r\n\r\nexport interface CustomProperties {\r\n    /**\r\n     * Get a custom property from the correlation context\r\n     */\r\n    getProperty(key: string): string;\r\n    /**\r\n     * Store a custom property in the correlation context.\r\n     * Do not store sensitive information here.\r\n     * Properties stored here are exposed via outgoing HTTP headers for correlating data cross-component.\r\n     * The characters ',' and '=' are disallowed within keys or values.\r\n     */\r\n    setProperty(key: string, value: string): void;\r\n}\r\n\r\nexport interface PrivateCustomProperties extends CustomProperties {\r\n    addHeaderData(header: string): void;\r\n    serializeToHeader(): string;\r\n}\r\n\r\nexport interface CorrelationContext {\r\n    operation: {\r\n        name: string;\r\n        id: string;\r\n        parentId: string; // Always used for dependencies, may be ignored in favor of incoming headers for requests\r\n        traceparent?: Traceparent; // w3c context trace\r\n        tracestate?: Tracestate; // w3c context state\r\n    };\r\n\r\n    /** Do not store sensitive information here.\r\n     *  Properties here are exposed via outgoing HTTP headers for correlating data cross-component.\r\n     */\r\n    customProperties: CustomProperties\r\n}\r\n\r\nexport class CorrelationContextManager {\r\n    private static enabled: boolean = false;\r\n    private static hasEverEnabled: boolean = false;\r\n    private static forceClsHooked: boolean = undefined; // true: use cls-hooked, false: use cls, undefined: choose based on node version\r\n    private static session: cls.Namespace;\r\n    private static cls: typeof cls;\r\n    private static CONTEXT_NAME = \"ApplicationInsights-Context\";\r\n\r\n    /**\r\n     *  Provides the current Context.\r\n     *  The context is the most recent one entered into for the current\r\n     *  logical chain of execution, including across asynchronous calls.\r\n     */\r\n    public static getCurrentContext(): CorrelationContext | null {\r\n        if (!CorrelationContextManager.enabled) {\r\n            return null;\r\n        }\r\n        const context = CorrelationContextManager.session.get(CorrelationContextManager.CONTEXT_NAME);\r\n\r\n        if (context === undefined) { // cast undefined to null\r\n            return null;\r\n        }\r\n        return context;\r\n    }\r\n\r\n    /**\r\n     *  A helper to generate objects conforming to the CorrelationContext interface\r\n     */\r\n    public static generateContextObject(operationId: string, parentId?: string, operationName?: string, correlationContextHeader?: string, traceparent?: Traceparent, tracestate?: Tracestate): CorrelationContext {\r\n        parentId = parentId || operationId;\r\n\r\n        if (this.enabled) {\r\n            return {\r\n                operation: {\r\n                    name: operationName,\r\n                    id: operationId,\r\n                    parentId: parentId,\r\n                    traceparent,\r\n                    tracestate\r\n                },\r\n                customProperties: new CustomPropertiesImpl(correlationContextHeader)\r\n            };\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public static spanToContextObject(spanContext: SpanContext, parentId?: string, name?: string): CorrelationContext {\r\n        const traceContext = new Traceparent();\r\n        traceContext.traceId = spanContext.traceId;\r\n        traceContext.spanId = spanContext.spanId;\r\n        traceContext.traceFlag = Traceparent.formatOpenTelemetryTraceFlags(spanContext.traceFlags) || Traceparent.DEFAULT_TRACE_FLAG;\r\n        traceContext.parentId = parentId;\r\n        return CorrelationContextManager.generateContextObject(traceContext.traceId, traceContext.parentId, name, null, traceContext);\r\n    }\r\n\r\n    /**\r\n     *  Runs a function inside a given Context.\r\n     *  All logical children of the execution path that entered this Context\r\n     *  will receive this Context object on calls to GetCurrentContext.\r\n     */\r\n    public static runWithContext(context: CorrelationContext, fn: () => any): any {\r\n        if (CorrelationContextManager.enabled) {\r\n            try {\r\n                return CorrelationContextManager.session.bind(fn, { [CorrelationContextManager.CONTEXT_NAME]: context })();\r\n            }\r\n            catch (error) {\r\n                Logging.warn(\"Error binding to session context\", Util.dumpObj(error));\r\n            }\r\n        }\r\n        return fn();\r\n    }\r\n\r\n    /**\r\n     * Wrapper for cls-hooked bindEmitter method\r\n     */\r\n    public static wrapEmitter(emitter: events.EventEmitter): void {\r\n        if (CorrelationContextManager.enabled) {\r\n            try {\r\n                CorrelationContextManager.session.bindEmitter(emitter);\r\n            }\r\n            catch (error) {\r\n                Logging.warn(\"Error binding to session context\", Util.dumpObj(error));\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  Patches a callback to restore the correct Context when getCurrentContext\r\n     *  is run within it. This is necessary if automatic correlation fails to work\r\n     *  with user-included libraries.\r\n     *\r\n     *  The supplied callback will be given the same context that was present for\r\n     *  the call to wrapCallback.  */\r\n    public static wrapCallback<T extends Function>(fn: T, context?: CorrelationContext): T {\r\n        if (CorrelationContextManager.enabled) {\r\n            try {\r\n                return CorrelationContextManager.session.bind(fn, context ? {\r\n                    [CorrelationContextManager.CONTEXT_NAME]: context\r\n                } : undefined);\r\n            }\r\n            catch (error) {\r\n                Logging.warn(\"Error binding to session context\", Util.dumpObj(error));\r\n            }\r\n        }\r\n        return fn;\r\n    }\r\n\r\n    /**\r\n     *  Enables the CorrelationContextManager.\r\n     */\r\n    public static enable(forceClsHooked?: boolean) {\r\n        if (this.enabled) {\r\n            return;\r\n        }\r\n\r\n        if (!this.isNodeVersionCompatible()) {\r\n            this.enabled = false;\r\n            return;\r\n        }\r\n        if (!CorrelationContextManager.hasEverEnabled) {\r\n            this.forceClsHooked = forceClsHooked;\r\n            this.hasEverEnabled = true;\r\n\r\n            if (typeof this.cls === \"undefined\") {\r\n                if ((CorrelationContextManager.forceClsHooked === true) || (CorrelationContextManager.forceClsHooked === undefined && CorrelationContextManager.shouldUseClsHooked())) {\r\n                    this.cls = require(\"cls-hooked\");\r\n                } else {\r\n                    this.cls = require(\"continuation-local-storage\");\r\n                }\r\n            }\r\n\r\n            CorrelationContextManager.session = this.cls.createNamespace(\"AI-CLS-Session\");\r\n\r\n            DiagChannel.registerContextPreservation((cb) => {\r\n                try {\r\n                    return CorrelationContextManager.session.bind(cb);\r\n                }\r\n                catch (error) {\r\n                    Logging.warn(\"Error binding to session context\", Util.dumpObj(error));\r\n                }\r\n            });\r\n        }\r\n\r\n        this.enabled = true;\r\n    }\r\n\r\n    /**\r\n     * Create new correlation context.\r\n     */\r\n    public static startOperation(\r\n        input: azureFunctionsTypes.Context | (http.IncomingMessage | azureFunctionsTypes.HttpRequest) | SpanContext | Span,\r\n        request?: azureFunctionsTypes.HttpRequest | string)\r\n        : CorrelationContext | null {\r\n        const traceContext = input && (input as azureFunctionsTypes.Context).traceContext || null;\r\n        const span = input && (input as Span).spanContext ? input as Span : null;\r\n        const spanContext = input && (input as SpanContext).traceId ? input as SpanContext : null;\r\n        const headers = input && (input as http.IncomingMessage | azureFunctionsTypes.HttpRequest).headers;\r\n\r\n        // OpenTelemetry Span\r\n        if (span) {\r\n            return this.spanToContextObject(span.spanContext(), span.parentSpanId, span.name);\r\n        }\r\n\r\n        // OpenTelemetry SpanContext\r\n        if (spanContext) {\r\n            return this.spanToContextObject(spanContext, `|${spanContext.traceId}.${spanContext.spanId}.`, typeof request === \"string\" ? request : \"\");\r\n        }\r\n\r\n        let operationName = typeof request === \"string\" ? request : \"\";\r\n\r\n        // AzFunction TraceContext\r\n        if (traceContext) {\r\n            let traceparent = null;\r\n            let tracestate = null;\r\n            operationName = traceContext.attributes[\"OperationName\"] || operationName;\r\n            if (request) {\r\n                let azureFnRequest = request as azureFunctionsTypes.HttpRequest;\r\n                if (azureFnRequest.headers) {\r\n                    if (azureFnRequest.headers.traceparent) {\r\n                        traceparent = new Traceparent(azureFnRequest.headers.traceparent);\r\n                    } else if (azureFnRequest.headers[\"request-id\"]) {\r\n                        traceparent = new Traceparent(null, azureFnRequest.headers[\"request-id\"]);\r\n                    }\r\n                    if (azureFnRequest.headers.tracestate) {\r\n                        tracestate = new Tracestate(azureFnRequest.headers.tracestate);\r\n                    }\r\n                }\r\n            }\r\n            if (!traceparent) {\r\n                traceparent = new Traceparent(traceContext.traceparent);\r\n            }\r\n            if (!tracestate) {\r\n                tracestate = new Tracestate(traceContext.tracestate);\r\n            }\r\n\r\n            let correlationContextHeader = undefined;\r\n            if (typeof request === \"object\") {\r\n                const parser = new HttpRequestParser(request);\r\n                correlationContextHeader = parser.getCorrelationContextHeader();\r\n                operationName = parser.getOperationName({});\r\n            }\r\n            const correlationContext = CorrelationContextManager.generateContextObject(\r\n                traceparent.traceId,\r\n                traceparent.parentId,\r\n                operationName,\r\n                correlationContextHeader,\r\n                traceparent,\r\n                tracestate\r\n            );\r\n\r\n            return correlationContext;\r\n        }\r\n\r\n        // No TraceContext available, parse as http.IncomingMessage\r\n        if (headers) {\r\n            const traceparent = new Traceparent(headers.traceparent ? headers.traceparent.toString() : null);\r\n            const tracestate = new Tracestate(headers.tracestate ? headers.tracestate.toString() : null);\r\n            const parser = new HttpRequestParser(input as http.IncomingMessage | azureFunctionsTypes.HttpRequest);\r\n            const correlationContext = CorrelationContextManager.generateContextObject(\r\n                traceparent.traceId,\r\n                traceparent.parentId,\r\n                parser.getOperationName({}),\r\n                parser.getCorrelationContextHeader(),\r\n                traceparent,\r\n                tracestate\r\n            );\r\n\r\n            return correlationContext;\r\n        }\r\n\r\n        Logging.warn(\"startOperation was called with invalid arguments\", arguments);\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     *  Disables the CorrelationContextManager.\r\n     */\r\n    public static disable() {\r\n        this.enabled = false;\r\n    }\r\n\r\n    /**\r\n     * Reset the namespace\r\n     */\r\n    public static reset() {\r\n        if (CorrelationContextManager.hasEverEnabled) {\r\n            CorrelationContextManager.session = null;\r\n            CorrelationContextManager.session = this.cls.createNamespace(\"AI-CLS-Session\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  Reports if CorrelationContextManager is able to run in this environment\r\n     */\r\n    public static isNodeVersionCompatible() {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        return parseInt(nodeVer[0]) > 3 || (parseInt(nodeVer[0]) > 2 && parseInt(nodeVer[1]) > 2);\r\n\r\n    }\r\n\r\n    /**\r\n     * We only want to use cls-hooked when it uses async_hooks api (8.2+), else\r\n     * use async-listener (plain -cls)\r\n     */\r\n    public static shouldUseClsHooked() {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        return (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 2);\r\n    }\r\n\r\n    /**\r\n     * A TypeError is triggered by cls-hooked for node [8.0, 8.2)\r\n     * @internal Used in tests only\r\n     */\r\n    public static canUseClsHooked() {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        var greater800 = (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 0);\r\n        var less820 = (parseInt(nodeVer[0]) < 8) || (parseInt(nodeVer[0]) <= 8 && parseInt(nodeVer[1]) < 2)\r\n        var greater470 = parseInt(nodeVer[0]) > 4 || (parseInt(nodeVer[0]) >= 4 && parseInt(nodeVer[1]) >= 7) // cls-hooked requires node 4.7+\r\n        return !(greater800 && less820) && greater470;\r\n    }\r\n}\r\n\r\nclass CustomPropertiesImpl implements PrivateCustomProperties {\r\n    private static bannedCharacters = /[,=]/;\r\n    private props: { key: string, value: string }[] = [];\r\n\r\n    public constructor(header: string) {\r\n        this.addHeaderData(header);\r\n    }\r\n\r\n    public addHeaderData(header?: string) {\r\n        const keyvals = header ? header.split(\", \") : [];\r\n        this.props = keyvals.map((keyval) => {\r\n            const parts = keyval.split(\"=\");\r\n            return { key: parts[0], value: parts[1] };\r\n        }).concat(this.props);\r\n    }\r\n\r\n    public serializeToHeader() {\r\n        return this.props.map((keyval) => {\r\n            return `${keyval.key}=${keyval.value}`\r\n        }).join(\", \");\r\n    }\r\n\r\n    public getProperty(prop: string) {\r\n        for (let i = 0; i < this.props.length; ++i) {\r\n            const keyval = this.props[i]\r\n            if (keyval.key === prop) {\r\n                return keyval.value;\r\n            }\r\n        }\r\n        return;\r\n    }\r\n\r\n    // TODO: Strictly according to the spec, properties which are recieved from\r\n    // an incoming request should be left untouched, while we may add our own new\r\n    // properties. The logic here will need to change to track that.\r\n    public setProperty(prop: string, val: string) {\r\n        if (CustomPropertiesImpl.bannedCharacters.test(prop) || CustomPropertiesImpl.bannedCharacters.test(val)) {\r\n            Logging.warn(\"Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: \" + prop + \" and value: \" + val);\r\n            return;\r\n        }\r\n        for (let i = 0; i < this.props.length; ++i) {\r\n            const keyval = this.props[i];\r\n            if (keyval.key === prop) {\r\n                keyval.value = val;\r\n                return;\r\n            }\r\n        }\r\n        this.props.push({ key: prop, value: val });\r\n    }\r\n}", "import Contracts = require(\"./Contracts\")\r\n\r\nexport const APPLICATION_INSIGHTS_SDK_VERSION = \"2.7.0\";\r\nexport const DEFAULT_BREEZE_ENDPOINT = \"https://dc.services.visualstudio.com\";\r\nexport const DEFAULT_LIVEMETRICS_ENDPOINT = \"https://rt.services.visualstudio.com\";\r\nexport const DEFAULT_LIVEMETRICS_HOST = \"rt.services.visualstudio.com\";\r\n\r\nexport enum QuickPulseCounter {\r\n    // Memory\r\n    COMMITTED_BYTES = \"\\\\Memory\\\\Committed Bytes\",\r\n\r\n    // CPU\r\n    PROCESSOR_TIME = \"\\\\Processor(_Total)\\\\% Processor Time\",\r\n\r\n    // Request\r\n    REQUEST_RATE = \"\\\\ApplicationInsights\\\\Requests\\/Sec\",\r\n    REQUEST_FAILURE_RATE = \"\\\\ApplicationInsights\\\\Requests Failed\\/Sec\",\r\n    REQUEST_DURATION = \"\\\\ApplicationInsights\\\\Request Duration\",\r\n\r\n    // Dependency\r\n    DEPENDENCY_RATE = \"\\\\ApplicationInsights\\\\Dependency Calls\\/Sec\",\r\n    DEPENDENCY_FAILURE_RATE = \"\\\\ApplicationInsights\\\\Dependency Calls Failed\\/Sec\",\r\n    DEPENDENCY_DURATION = \"\\\\ApplicationInsights\\\\Dependency Call Duration\",\r\n\r\n    // Exception\r\n    EXCEPTION_RATE = \"\\\\ApplicationInsights\\\\Exceptions\\/Sec\"\r\n}\r\n\r\nexport enum PerformanceCounter {\r\n    // Memory\r\n    PRIVATE_BYTES = \"\\\\Process(??APP_WIN32_PROC??)\\\\Private Bytes\",\r\n    AVAILABLE_BYTES = \"\\\\Memory\\\\Available Bytes\",\r\n\r\n    // CPU\r\n    PROCESSOR_TIME = \"\\\\Processor(_Total)\\\\% Processor Time\",\r\n    PROCESS_TIME = \"\\\\Process(??APP_WIN32_PROC??)\\\\% Processor Time\",\r\n\r\n    // Requests\r\n    REQUEST_RATE = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Requests/Sec\",\r\n    REQUEST_DURATION = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Request Execution Time\"\r\n}\r\n\r\nexport enum MetricId {\r\n    REQUESTS_DURATION = \"requests/duration\",\r\n    DEPENDENCIES_DURATION = \"dependencies/duration\",\r\n    EXCEPTIONS_COUNT = \"exceptions/count\",\r\n    TRACES_COUNT = \"traces/count\",\r\n}\r\n\r\n/**\r\n * Map a PerformanceCounter/QuickPulseCounter to a QuickPulseCounter. If no mapping exists, mapping is *undefined*\r\n */\r\nexport const PerformanceToQuickPulseCounter: { [key: string]: QuickPulseCounter } = {\r\n    [PerformanceCounter.PROCESSOR_TIME]: QuickPulseCounter.PROCESSOR_TIME,\r\n    [PerformanceCounter.REQUEST_RATE]: QuickPulseCounter.REQUEST_RATE,\r\n    [PerformanceCounter.REQUEST_DURATION]: QuickPulseCounter.REQUEST_DURATION,\r\n\r\n    // Remap quick pulse only counters\r\n    [QuickPulseCounter.COMMITTED_BYTES]: QuickPulseCounter.COMMITTED_BYTES,\r\n    [QuickPulseCounter.REQUEST_FAILURE_RATE]: QuickPulseCounter.REQUEST_FAILURE_RATE,\r\n    [QuickPulseCounter.DEPENDENCY_RATE]: QuickPulseCounter.DEPENDENCY_RATE,\r\n    [QuickPulseCounter.DEPENDENCY_FAILURE_RATE]: QuickPulseCounter.DEPENDENCY_FAILURE_RATE,\r\n    [QuickPulseCounter.DEPENDENCY_DURATION]: QuickPulseCounter.DEPENDENCY_DURATION,\r\n    [QuickPulseCounter.EXCEPTION_RATE]: QuickPulseCounter.EXCEPTION_RATE\r\n};\r\n\r\n// Note: Explicitly define these types instead of using enum due to\r\n// potential 'export enum' issues with typescript < 2.0.\r\nexport type QuickPulseDocumentType = \"Event\" | \"Exception\" | \"Trace\" | \"Metric\" | \"Request\" | \"RemoteDependency\" | \"Availability\" | \"PageView\";\r\nexport type QuickPulseType =\r\n    | \"EventTelemetryDocument\"\r\n    | \"ExceptionTelemetryDocument\"\r\n    | \"TraceTelemetryDocument\"\r\n    | \"MetricTelemetryDocument\"\r\n    | \"RequestTelemetryDocument\"\r\n    | \"DependencyTelemetryDocument\"\r\n    | \"AvailabilityTelemetryDocument\"\r\n    | \"PageViewTelemetryDocument\";\r\n\r\nexport const QuickPulseDocumentType: { [key in Contracts.TelemetryTypeKeys]: QuickPulseDocumentType } = {\r\n    Event: \"Event\",\r\n    Exception: \"Exception\",\r\n    Trace: \"Trace\",\r\n    Metric: \"Metric\",\r\n    Request: \"Request\",\r\n    Dependency: \"RemoteDependency\",\r\n    Availability: \"Availability\",\r\n    PageView: \"PageView\"\r\n};\r\n\r\nexport const QuickPulseType: { [key in Contracts.TelemetryTypeKeys]: QuickPulseType } = {\r\n    Event: \"EventTelemetryDocument\",\r\n    Exception: \"ExceptionTelemetryDocument\",\r\n    Trace: \"TraceTelemetryDocument\",\r\n    Metric: \"MetricTelemetryDocument\",\r\n    Request: \"RequestTelemetryDocument\",\r\n    Dependency: \"DependencyTelemetryDocument\",\r\n    Availability: \"AvailabilityTelemetryDocument\",\r\n    PageView: \"PageViewTelemetryDocument\"\r\n};\r\n\r\nexport const TelemetryTypeStringToQuickPulseType: { [key in Contracts.TelemetryTypeValues]: QuickPulseType } = {\r\n    EventData: QuickPulseType.Event,\r\n    ExceptionData: QuickPulseType.Exception,\r\n    MessageData: QuickPulseType.Trace,\r\n    MetricData: QuickPulseType.Metric,\r\n    RequestData: QuickPulseType.Request,\r\n    RemoteDependencyData: QuickPulseType.Dependency,\r\n    AvailabilityData: QuickPulseType.Availability,\r\n    PageViewData: QuickPulseType.PageView\r\n};\r\n\r\nexport const TelemetryTypeStringToQuickPulseDocumentType: { [key in Contracts.TelemetryTypeValues]: QuickPulseDocumentType } = {\r\n    EventData: QuickPulseDocumentType.Event,\r\n    ExceptionData: QuickPulseDocumentType.Exception,\r\n    MessageData: QuickPulseDocumentType.Trace,\r\n    MetricData: QuickPulseDocumentType.Metric,\r\n    RequestData: QuickPulseDocumentType.Request,\r\n    RemoteDependencyData: QuickPulseDocumentType.Dependency,\r\n    AvailabilityData: QuickPulseDocumentType.Availability,\r\n    PageViewData: QuickPulseDocumentType.PageView\r\n};\r\n\r\nexport const DependencyTypeName = {\r\n    Grpc: \"GRPC\",\r\n    Http: \"HTTP\",\r\n    InProc: \"InProc\",\r\n    Sql: \"SQL\",\r\n    QueueMessage: \"Queue Message\"\r\n}\r\n\r\nexport const HeartBeatMetricName = \"HeartbeatState\";\r\n\r\nexport const StatsbeatTelemetryName = \"Statsbeat\";\r\n\r\nexport const StatsbeatResourceProvider = {\r\n    appsvc: \"appsvc\",\r\n    functions: \"functions\",\r\n    vm: \"vm\",\r\n    unknown: \"unknown\"\r\n}\r\n\r\nexport const StatsbeatAttach = {\r\n    codeless: \"codeless\",\r\n    sdk: \"sdk\"\r\n}\r\n\r\nexport const StatsbeatCounter = {\r\n    REQUEST_SUCCESS: \"Request Success Count\",\r\n    REQUEST_FAILURE: \"Request Failure Count\",\r\n    REQUEST_DURATION: \"Request Duration\",\r\n    RETRY_COUNT: \"Retry Count\",\r\n    THROTTLE_COUNT: \"Throttle Count\",\r\n    EXCEPTION_COUNT: \"Exception Count\",\r\n    ATTACH: \"Attach\",\r\n    FEATURE: \"Feature\"\r\n}\r\n\r\nexport enum StatsbeatFeature {\r\n    NONE = 0,\r\n    DISK_RETRY = 1,\r\n    AAD_HANDLING = 2,\r\n    WEB_SNIPPET = 4,\r\n}\r\n\r\nexport enum StatsbeatInstrumentation {\r\n    NONE = 0,\r\n    AZURE_CORE_TRACING = 1,\r\n    MONGODB = 2,\r\n    MYSQL = 4,\r\n    REDIS = 8,\r\n    POSTGRES = 16,\r\n    BUNYAN = 32,\r\n    WINSTON = 64,\r\n    CONSOLE = 128,\r\n}\r\n\r\nexport enum StatsbeatFeatureType {\r\n    Feature,\r\n    Instrumentation,\r\n}\r\n\r\nexport enum StatsbeatNetworkCategory {\r\n    Breeze,\r\n    Quickpulse,\r\n}\r\n\r\n//Azure SDK Span Attributes\r\nexport const AzNamespace = \"az.namespace\";\r\nexport const MicrosoftEventHub = \"Microsoft.EventHub\";\r\nexport const MessageBusDestination = \"message_bus.destination\";\r\n\r\n/**\r\n * AI enqueued time attribute.\r\n * @internal\r\n */\r\n export const ENQUEUED_TIME = \"enqueuedTime\";\r\n /**\r\n  * AI time since enqueued attribute.\r\n  * @internal\r\n  */\r\n export const TIME_SINCE_ENQUEUED = \"timeSinceEnqueued\";\r\n\r\n export const WEB_INSTRUMENTATION_DEFAULT_SOURCE= \"https://js.monitor.azure.com/scripts/b/ai\";\r\n export const WEB_INSTRUMENTATION_DEPRECATED_SOURCE= \"https://az416426.vo.msecnd.net/scripts/b/ai\";", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nimport TelemetryClient = require(\"../../Library/TelemetryClient\");\r\nimport { SeverityLevel } from \"../../Declarations/Contracts\";\r\nimport { StatsbeatInstrumentation } from \"../../Declarations/Constants\";\r\n\r\nimport { channel, IStandardEvent, trueFilter } from \"diagnostic-channel\";\r\n\r\nimport { console as consolePub } from \"diagnostic-channel-publishers\";\r\n\r\nlet clients: TelemetryClient[] = [];\r\n\r\nconst subscriber = (event: IStandardEvent<consolePub.IConsoleData>) => {\r\n    let message = event.data.message as Error | string;\r\n    clients.forEach((client) => {\r\n        if (message instanceof Error && !client.config.enableLoggerErrorToTrace) {\r\n            client.trackException({ exception: message });\r\n        }\r\n        else if(message instanceof Error) {\r\n            // If logging errors as traces return the error as a string and mark severity as error\r\n            client.trackTrace({ message: message.toString(), severity: (event.data.stderr ? SeverityLevel.Error : SeverityLevel.Information) });\r\n        } else {\r\n            // Message can have a trailing newline\r\n            if (message.lastIndexOf(\"\\n\") == message.length - 1) {\r\n                message = message.substring(0, message.length - 1);\r\n            }\r\n            client.trackTrace({ message: message, severity: (event.data.stderr ? SeverityLevel.Warning : SeverityLevel.Information) });\r\n        }\r\n    });\r\n};\r\n\r\nexport function enable(enabled: boolean, client: TelemetryClient) {\r\n    if (enabled) {\r\n        let clientFound = clients.find(c => c == client);\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            channel.subscribe<consolePub.IConsoleData>(\"console\", subscriber, trueFilter, (module, version) => {\r\n                let statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(StatsbeatInstrumentation.CONSOLE);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    } else {\r\n        clients = clients.filter((c) => c != client);\r\n        if (clients.length === 0) {\r\n            channel.unsubscribe(\"console\", subscriber);\r\n        }\r\n    }\r\n}\r\n\r\nexport function dispose() {\r\n    channel.unsubscribe(\"console\", subscriber);\r\n    clients = [];\r\n}\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nimport TelemetryClient = require(\"../../Library/TelemetryClient\");\r\nimport { SeverityLevel } from \"../../Declarations/Contracts\";\r\nimport { StatsbeatInstrumentation } from \"../../Declarations/Constants\";\r\n\r\nimport { channel, IStandardEvent, trueFilter } from \"diagnostic-channel\";\r\n\r\nimport { bunyan } from \"diagnostic-channel-publishers\";\r\n\r\nlet clients: TelemetryClient[] = [];\r\n\r\n// Mapping from bunyan levels defined at https://github.com/trentm/node-bunyan/blob/master/lib/bunyan.js#L256\r\nconst bunyanToAILevelMap: { [key: number]: number } = {\r\n    10: SeverityLevel.Verbose,\r\n    20: SeverityLevel.Verbose,\r\n    30: SeverityLevel.Information,\r\n    40: SeverityLevel.Warning,\r\n    50: SeverityLevel.Error,\r\n    60: SeverityLevel.Critical\r\n};\r\n\r\nconst subscriber = (event: IStandardEvent<bunyan.IBunyanData>) => {\r\n    let message = event.data.result as string;\r\n    const AIlevel = bunyanToAILevelMap[event.data.level];\r\n    clients.forEach((client) => {\r\n        try {\r\n            // Try to parse message as Bunyan log is JSON\r\n            let log: any = JSON.parse(message);\r\n            if (log.err) {\r\n                let bunyanError = new Error(log.err.message);\r\n                bunyanError.name = log.err.name;\r\n                bunyanError.stack = log.err.stack;\r\n                if (client.config.enableLoggerErrorToTrace) {\r\n                    client.trackTrace({ message: message, severity: AIlevel });\r\n                    return;\r\n                }\r\n                client.trackException({ exception: bunyanError });\r\n                return;\r\n            }\r\n        }\r\n        catch (err) {\r\n            // Ignore error\r\n        }\r\n        client.trackTrace({ message: message, severity: AIlevel });\r\n    });\r\n};\r\n\r\nexport function enable(enabled: boolean, client: TelemetryClient) {\r\n    if (enabled) {\r\n        let clientFound = clients.find(c => c == client);\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            channel.subscribe<bunyan.IBunyanData>(\"bunyan\", subscriber, trueFilter, (module, version) => {\r\n                let statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(StatsbeatInstrumentation.BUNYAN);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    } else {\r\n        clients = clients.filter((c) => c != client);\r\n        if (clients.length === 0) {\r\n            channel.unsubscribe(\"bunyan\", subscriber);\r\n        }\r\n    }\r\n}\r\n\r\nexport function dispose() {\r\n    channel.unsubscribe(\"bunyan\", subscriber);\r\n    clients = [];\r\n}\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nimport TelemetryClient = require(\"../../Library/TelemetryClient\");\r\nimport { StatsbeatInstrumentation } from \"../../Declarations/Constants\";\r\nimport { SeverityLevel } from \"../../Declarations/Contracts\";\r\n\r\nimport { channel, IStandardEvent, trueFilter } from \"diagnostic-channel\";\r\n\r\nimport { winston } from \"diagnostic-channel-publishers\";\r\n\r\nlet clients: TelemetryClient[] = [];\r\n\r\nconst winstonToAILevelMap: { [key: string]: (og: string) => number } = {\r\n    syslog(og: string) {\r\n        const map: { [key: string]: number } = {\r\n            emerg: SeverityLevel.Critical,\r\n            alert: SeverityLevel.Critical,\r\n            crit: SeverityLevel.Critical,\r\n            error: SeverityLevel.Error,\r\n            warning: SeverityLevel.Warning,\r\n            notice: SeverityLevel.Information,\r\n            info: SeverityLevel.Information,\r\n            debug: SeverityLevel.Verbose\r\n        };\r\n\r\n        return map[og] === undefined ? SeverityLevel.Information : map[og];\r\n    },\r\n    npm(og: string) {\r\n        const map: { [key: string]: number } = {\r\n            error: SeverityLevel.Error,\r\n            warn: SeverityLevel.Warning,\r\n            info: SeverityLevel.Information,\r\n            verbose: SeverityLevel.Verbose,\r\n            debug: SeverityLevel.Verbose,\r\n            silly: SeverityLevel.Verbose\r\n        };\r\n\r\n        return map[og] === undefined ? SeverityLevel.Information : map[og];\r\n    },\r\n    unknown(og: string) {\r\n        return SeverityLevel.Information;\r\n    }\r\n};\r\n\r\nconst subscriber = (event: IStandardEvent<winston.IWinstonData>) => {\r\n    const message = event.data.message as Error | string;\r\n    const AIlevel = winstonToAILevelMap[event.data.levelKind](event.data.level);\r\n    clients.forEach((client) => {\r\n        if (message instanceof Error && !client.config.enableLoggerErrorToTrace) {\r\n            client.trackException({\r\n                exception: message,\r\n                properties: event.data.meta\r\n            });    \r\n        } else if (message instanceof Error) {\r\n            client.trackTrace({\r\n                message: message.toString(),\r\n                severity: AIlevel,\r\n                properties: event.data.meta\r\n            });\r\n        } else {\r\n            client.trackTrace({\r\n                message: message,\r\n                severity: AIlevel,\r\n                properties: event.data.meta\r\n            });\r\n        }\r\n    });\r\n};\r\n\r\nexport function enable(enabled: boolean, client: TelemetryClient) {\r\n    if (enabled) {\r\n        let clientFound = clients.find(c => c == client);\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            channel.subscribe<winston.IWinstonData>(\"winston\", subscriber, trueFilter, (module, version) => {\r\n                let statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(StatsbeatInstrumentation.WINSTON);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    } else {\r\n        clients = clients.filter((c) => c != client);\r\n        if (clients.length === 0) {\r\n            channel.unsubscribe(\"winston\", subscriber);\r\n        }\r\n    }\r\n}\r\n\r\nexport function dispose() {\r\n    channel.unsubscribe(\"winston\", subscriber);\r\n    clients = [];\r\n}", "import TelemetryClient = require(\"../Library/TelemetryClient\");\r\n\r\nimport * as DiagChannel from \"./diagnostic-channel/initialization\";\r\n\r\nclass AutoCollectConsole {\r\n    public static originalMethods: {[name: string]: (message?: any, ...optionalParams: any[]) => void};\r\n\r\n    public static INSTANCE: AutoCollectConsole;\r\n    private static _methodNames = [\"debug\", \"info\", \"log\", \"warn\", \"error\"];\r\n\r\n    private _client: TelemetryClient;\r\n    private _isInitialized: boolean;\r\n\r\n    constructor(client: TelemetryClient) {\r\n        if(!!AutoCollectConsole.INSTANCE) {\r\n            throw new Error(\"Console logging adapter tracking should be configured from the applicationInsights object\");\r\n        }\r\n\r\n        this._client = client;\r\n        AutoCollectConsole.INSTANCE = this;\r\n    }\r\n\r\n    public enable(isEnabled: boolean, collectConsoleLog: boolean) {\r\n        if (DiagChannel.IsInitialized) {\r\n            require(\"./diagnostic-channel/console.sub\").enable(isEnabled && collectConsoleLog, this._client);\r\n            require(\"./diagnostic-channel/bunyan.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/winston.sub\").enable(isEnabled, this._client);\r\n        }\r\n    }\r\n\r\n    public isInitialized() {\r\n        return this._isInitialized;\r\n    }\r\n\r\n    public dispose() {\r\n        AutoCollectConsole.INSTANCE = null;\r\n        this.enable(false, false);\r\n    }\r\n}\r\n\r\nexport = AutoCollectConsole;\r\n", "import Contracts = require(\"../Declarations/Contracts\");\r\nimport TelemetryClient = require(\"../Library/TelemetryClient\");\r\n\r\n\r\nclass AutoCollectExceptions {\r\n\r\n    public static INSTANCE: AutoCollectExceptions = null;\r\n    public static UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME = \"uncaughtExceptionMonitor\";\r\n    public static UNCAUGHT_EXCEPTION_HANDLER_NAME = \"uncaughtException\";\r\n    public static UNHANDLED_REJECTION_HANDLER_NAME = \"unhandledRejection\";\r\n\r\n    private static _RETHROW_EXIT_MESSAGE = \"Application Insights Rethrow Exception Handler\";\r\n    private static _FALLBACK_ERROR_MESSAGE = \"A promise was rejected without providing an error. Application Insights generated this error stack for you.\";\r\n    private static _canUseUncaughtExceptionMonitor = false;\r\n    private _exceptionListenerHandle: (reThrow: boolean, error: Error) => void;\r\n    private _rejectionListenerHandle: (reThrow: boolean, error: Error) => void;\r\n    private _client: TelemetryClient;\r\n    private _isInitialized: boolean;\r\n\r\n    constructor(client: TelemetryClient) {\r\n        if (!!AutoCollectExceptions.INSTANCE) {\r\n            throw new Error(\"Exception tracking should be configured from the applicationInsights object\");\r\n        }\r\n\r\n        AutoCollectExceptions.INSTANCE = this;\r\n        this._client = client;\r\n\r\n        // Only use for 13.7.0+\r\n        const nodeVer = process.versions.node.split(\".\");\r\n        AutoCollectExceptions._canUseUncaughtExceptionMonitor = parseInt(nodeVer[0]) > 13 || (parseInt(nodeVer[0]) === 13 && parseInt(nodeVer[1]) >= 7);\r\n    }\r\n\r\n    public isInitialized() {\r\n        return this._isInitialized;\r\n    }\r\n\r\n    public enable(isEnabled: boolean) {\r\n        if (isEnabled) {\r\n            this._isInitialized = true;\r\n            if (!this._exceptionListenerHandle) {\r\n                // For scenarios like Promise.reject(), an error won't be passed to the handle. Create a placeholder\r\n                // error for these scenarios.\r\n                var handle = (reThrow: boolean, name: string, error: Error = new Error(AutoCollectExceptions._FALLBACK_ERROR_MESSAGE)) => {\r\n                    let exceptionTelemetry: Contracts.ExceptionTelemetry = { exception: error };\r\n                    // Add full error in context so it could used in telemetryProcessors\r\n                    exceptionTelemetry.contextObjects = {};\r\n                    exceptionTelemetry.contextObjects[\"Error\"] = error;\r\n                    this._client.trackException(exceptionTelemetry);\r\n                    this._client.flush({ isAppCrashing: true });\r\n                    // only rethrow when we are the only listener\r\n                    if (reThrow && name && (<any>process).listeners(name).length === 1) {\r\n                        console.error(error);\r\n                        process.exit(1);\r\n                    }\r\n                };\r\n\r\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\r\n                    // Node.js >= 13.7.0, use uncaughtExceptionMonitor. It handles both promises and exceptions\r\n                    this._exceptionListenerHandle = handle.bind(this, false, undefined); // never rethrows\r\n                    (<any>process).on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\r\n                } else {\r\n                    this._exceptionListenerHandle = handle.bind(this, true, AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME);\r\n                    this._rejectionListenerHandle = handle.bind(this, false, undefined); // never rethrows\r\n                    (<any>process).on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\r\n                    (<any>process).on(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\r\n                }\r\n            }\r\n\r\n        } else {\r\n            if (this._exceptionListenerHandle) {\r\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\r\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\r\n                } else {\r\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\r\n                    process.removeListener(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\r\n                }\r\n                this._exceptionListenerHandle = undefined;\r\n                this._rejectionListenerHandle = undefined;\r\n                delete this._exceptionListenerHandle;\r\n                delete this._rejectionListenerHandle;\r\n            }\r\n        }\r\n    }\r\n\r\n    public dispose() {\r\n        AutoCollectExceptions.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport = AutoCollectExceptions;\r\n", "import os = require(\"os\");\r\n\r\nimport TelemetryClient = require(\"../Library/TelemetryClient\");\r\nimport Constants = require(\"../Declarations/Constants\");\r\n\r\nclass AutoCollectPerformance {\r\n\r\n    public static INSTANCE: AutoCollectPerformance;\r\n\r\n    private static _totalRequestCount: number = 0;\r\n    private static _totalFailedRequestCount: number = 0;\r\n    private static _totalDependencyCount: number = 0;\r\n    private static _totalFailedDependencyCount: number = 0;\r\n    private static _totalExceptionCount: number = 0;\r\n    private static _intervalDependencyExecutionTime: number = 0;\r\n    private static _intervalRequestExecutionTime: number = 0;\r\n\r\n    private _lastIntervalRequestExecutionTime: number = 0; // the sum of durations which took place during from app start until last interval\r\n    private _lastIntervalDependencyExecutionTime: number = 0;\r\n    private _enableLiveMetricsCounters: boolean;\r\n    private _collectionInterval: number;\r\n    private _client: TelemetryClient;\r\n    private _handle: NodeJS.Timer;\r\n    private _isEnabled: boolean;\r\n    private _isInitialized: boolean;\r\n    private _lastAppCpuUsage: { user: number, system: number };\r\n    private _lastHrtime: number[];\r\n    private _lastCpus: { model: string; speed: number; times: { user: number; nice: number; sys: number; idle: number; irq: number; }; }[];\r\n    private _lastDependencies: { totalDependencyCount: number; totalFailedDependencyCount: number; time: number; };\r\n    private _lastRequests: { totalRequestCount: number; totalFailedRequestCount: number; time: number; };\r\n    private _lastExceptions: { totalExceptionCount: number, time: number };\r\n\r\n    /**\r\n     * @param enableLiveMetricsCounters - enable sending additional live metrics information (dependency metrics, exception metrics, committed memory)\r\n     */\r\n    constructor(client: TelemetryClient, collectionInterval = 60000, enableLiveMetricsCounters = false) {\r\n        if (!AutoCollectPerformance.INSTANCE) {\r\n            AutoCollectPerformance.INSTANCE = this;\r\n        }\r\n\r\n        this._lastRequests = { totalRequestCount: 0, totalFailedRequestCount: 0, time: 0 };\r\n        this._lastDependencies = { totalDependencyCount: 0, totalFailedDependencyCount: 0, time: 0 };\r\n        this._lastExceptions = { totalExceptionCount: 0,time: 0 };\r\n        this._isInitialized = false;\r\n        this._client = client;\r\n        this._collectionInterval = collectionInterval;\r\n        this._enableLiveMetricsCounters = enableLiveMetricsCounters;\r\n    }\r\n\r\n    public enable(isEnabled: boolean, collectionInterval?: number) {\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n\r\n        if (isEnabled) {\r\n            if (!this._handle) {\r\n                this._lastCpus = os.cpus();\r\n                this._lastRequests = {\r\n                    totalRequestCount: AutoCollectPerformance._totalRequestCount,\r\n                    totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\r\n                    time: +new Date\r\n                };\r\n                this._lastDependencies = {\r\n                    totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\r\n                    totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\r\n                    time: +new Date\r\n                };\r\n                this._lastExceptions = {\r\n                    totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\r\n                    time: +new Date\r\n                };\r\n\r\n                if (typeof (process as any).cpuUsage === \"function\") {\r\n                    this._lastAppCpuUsage = (process as any).cpuUsage();\r\n                }\r\n                this._lastHrtime = process.hrtime();\r\n                this._collectionInterval = collectionInterval || this._collectionInterval;\r\n                this._handle = setInterval(() => this.trackPerformance(), this._collectionInterval);\r\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n        } else {\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = undefined;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static countRequest(duration: number | string, success: boolean) {\r\n        let durationMs: number;\r\n        if (!AutoCollectPerformance.isEnabled()) {\r\n            return;\r\n        }\r\n\r\n        if (typeof duration === \"string\") {\r\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\r\n            durationMs = +new Date(\"1970-01-01T\" + duration + \"Z\"); // convert to num ms, returns NaN if wrong\r\n        } else if (typeof duration === \"number\") {\r\n            durationMs = duration;\r\n        } else {\r\n            return;\r\n        }\r\n\r\n        AutoCollectPerformance._intervalRequestExecutionTime += durationMs;\r\n        if (success === false) {\r\n            AutoCollectPerformance._totalFailedRequestCount++;\r\n        }\r\n        AutoCollectPerformance._totalRequestCount++;\r\n    }\r\n\r\n    public static countException() {\r\n        AutoCollectPerformance._totalExceptionCount++;\r\n    }\r\n\r\n    public static countDependency(duration: number | string, success: boolean) {\r\n        let durationMs: number;\r\n        if (!AutoCollectPerformance.isEnabled()) {\r\n            return;\r\n        }\r\n\r\n        if (typeof duration === \"string\") {\r\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\r\n            durationMs = +new Date(\"1970-01-01T\" + duration + \"Z\"); // convert to num ms, returns NaN if wrong\r\n        } else if (typeof duration === \"number\") {\r\n            durationMs = duration;\r\n        } else {\r\n            return;\r\n        }\r\n\r\n        AutoCollectPerformance._intervalDependencyExecutionTime += durationMs;\r\n        if (success === false) {\r\n            AutoCollectPerformance._totalFailedDependencyCount++;\r\n        }\r\n        AutoCollectPerformance._totalDependencyCount++;\r\n    }\r\n\r\n    public isInitialized() {\r\n        return this._isInitialized;\r\n    }\r\n\r\n    public static isEnabled() {\r\n        return AutoCollectPerformance.INSTANCE && AutoCollectPerformance.INSTANCE._isEnabled;\r\n    }\r\n\r\n    public trackPerformance() {\r\n        this._trackCpu();\r\n        this._trackMemory();\r\n        this._trackNetwork();\r\n        this._trackDependencyRate();\r\n        this._trackExceptionRate();\r\n    }\r\n\r\n    private _trackCpu() {\r\n        // this reports total ms spent in each category since the OS was booted, to calculate percent it is necessary\r\n        // to find the delta since the last measurement\r\n        var cpus = os.cpus();\r\n        if (cpus && cpus.length && this._lastCpus && cpus.length === this._lastCpus.length) {\r\n            var totalUser = 0;\r\n            var totalSys = 0;\r\n            var totalNice = 0;\r\n            var totalIdle = 0;\r\n            var totalIrq = 0;\r\n            for (var i = 0; !!cpus && i < cpus.length; i++) {\r\n                var cpu = cpus[i];\r\n                var lastCpu = this._lastCpus[i];\r\n\r\n                var name = \"% cpu(\" + i + \") \";\r\n                var model = cpu.model;\r\n                var speed = cpu.speed;\r\n                var times = cpu.times;\r\n                var lastTimes = lastCpu.times;\r\n\r\n                // user cpu time (or) % CPU time spent in user space\r\n                var user = (times.user - lastTimes.user) || 0;\r\n                totalUser += user;\r\n\r\n                // system cpu time (or) % CPU time spent in kernel space\r\n                var sys = (times.sys - lastTimes.sys) || 0;\r\n                totalSys += sys;\r\n\r\n                // user nice cpu time (or) % CPU time spent on low priority processes\r\n                var nice = (times.nice - lastTimes.nice) || 0;\r\n                totalNice += nice;\r\n\r\n                // idle cpu time (or) % CPU time spent idle\r\n                var idle = (times.idle - lastTimes.idle) || 0;\r\n                totalIdle += idle;\r\n\r\n                // irq (or) % CPU time spent servicing/handling hardware interrupts\r\n                var irq = (times.irq - lastTimes.irq) || 0;\r\n                totalIrq += irq;\r\n            }\r\n\r\n            // Calculate % of total cpu time (user + system) this App Process used (Only supported by node v6.1.0+)\r\n            let appCpuPercent: number = undefined;\r\n            if (typeof (process as any).cpuUsage === \"function\") {\r\n                const appCpuUsage = (process as any).cpuUsage();\r\n                const hrtime = process.hrtime();\r\n\r\n                const totalApp = ((appCpuUsage.user - this._lastAppCpuUsage.user) + (appCpuUsage.system - this._lastAppCpuUsage.system)) || 0;\r\n\r\n                if (typeof this._lastHrtime !== \"undefined\" && this._lastHrtime.length === 2) {\r\n                    const elapsedTime = ((hrtime[0] - this._lastHrtime[0]) * 1e6 + (hrtime[1] - this._lastHrtime[1]) / 1e3) || 0; // convert to microseconds\r\n\r\n                    appCpuPercent = 100 * totalApp / (elapsedTime * cpus.length);\r\n                }\r\n\r\n                // Set previous\r\n                this._lastAppCpuUsage = appCpuUsage;\r\n                this._lastHrtime = hrtime;\r\n            }\r\n\r\n            var combinedTotal = (totalUser + totalSys + totalNice + totalIdle + totalIrq) || 1;\r\n\r\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESSOR_TIME, value: ((combinedTotal - totalIdle) / combinedTotal) * 100 });\r\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESS_TIME, value: appCpuPercent || ((totalUser / combinedTotal) * 100) });\r\n        }\r\n\r\n        this._lastCpus = cpus;\r\n    }\r\n\r\n    private _trackMemory() {\r\n        var freeMem = os.freemem();\r\n        var usedMem = process.memoryUsage().rss;\r\n        var committedMemory = os.totalmem() - freeMem;\r\n        this._client.trackMetric({ name: Constants.PerformanceCounter.PRIVATE_BYTES, value: usedMem });\r\n        this._client.trackMetric({ name: Constants.PerformanceCounter.AVAILABLE_BYTES, value: freeMem });\r\n\r\n        // Only supported by quickpulse service\r\n        if (this._enableLiveMetricsCounters) {\r\n            this._client.trackMetric({ name: Constants.QuickPulseCounter.COMMITTED_BYTES, value: committedMemory });\r\n        }\r\n    }\r\n\r\n    private _trackNetwork() {\r\n        // track total request counters\r\n        var lastRequests = this._lastRequests;\r\n        var requests = {\r\n            totalRequestCount: AutoCollectPerformance._totalRequestCount,\r\n            totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\r\n            time: +new Date\r\n        };\r\n\r\n        var intervalRequests = (requests.totalRequestCount - lastRequests.totalRequestCount) || 0;\r\n        var intervalFailedRequests = (requests.totalFailedRequestCount - lastRequests.totalFailedRequestCount) || 0;\r\n        var elapsedMs = requests.time - lastRequests.time;\r\n        var elapsedSeconds = elapsedMs / 1000;\r\n        var averageRequestExecutionTime = ((AutoCollectPerformance._intervalRequestExecutionTime - this._lastIntervalRequestExecutionTime) / intervalRequests) || 0; // default to 0 in case no requests in this interval\r\n        this._lastIntervalRequestExecutionTime = AutoCollectPerformance._intervalRequestExecutionTime // reset\r\n\r\n        if (elapsedMs > 0) {\r\n            var requestsPerSec = intervalRequests / elapsedSeconds;\r\n            var failedRequestsPerSec = intervalFailedRequests / elapsedSeconds;\r\n\r\n            this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_RATE, value: requestsPerSec });\r\n\r\n            // Only send duration to live metrics if it has been updated!\r\n            if (!this._enableLiveMetricsCounters || intervalRequests > 0) {\r\n                this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_DURATION, value: averageRequestExecutionTime });\r\n            }\r\n\r\n            // Only supported by quickpulse service\r\n            if (this._enableLiveMetricsCounters) {\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.REQUEST_FAILURE_RATE, value: failedRequestsPerSec });\r\n            }\r\n        }\r\n\r\n        this._lastRequests = requests;\r\n    }\r\n\r\n    // Static counter is accumulated externally. Report the rate to client here\r\n    // Note: This is currently only used with QuickPulse client\r\n    private _trackDependencyRate() {\r\n        if (this._enableLiveMetricsCounters) {\r\n            var lastDependencies = this._lastDependencies;\r\n            var dependencies = {\r\n                totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\r\n                totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\r\n                time: +new Date\r\n            };\r\n\r\n            var intervalDependencies = (dependencies.totalDependencyCount - lastDependencies.totalDependencyCount) || 0;\r\n            var intervalFailedDependencies = (dependencies.totalFailedDependencyCount - lastDependencies.totalFailedDependencyCount) || 0;\r\n            var elapsedMs = dependencies.time - lastDependencies.time;\r\n            var elapsedSeconds = elapsedMs / 1000;\r\n            var averageDependencyExecutionTime = ((AutoCollectPerformance._intervalDependencyExecutionTime - this._lastIntervalDependencyExecutionTime) / intervalDependencies) || 0;\r\n            this._lastIntervalDependencyExecutionTime = AutoCollectPerformance._intervalDependencyExecutionTime // reset\r\n\r\n            if (elapsedMs > 0) {\r\n                var dependenciesPerSec = intervalDependencies / elapsedSeconds;\r\n                var failedDependenciesPerSec = intervalFailedDependencies / elapsedSeconds;\r\n\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_RATE, value: dependenciesPerSec });\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_FAILURE_RATE, value: failedDependenciesPerSec });\r\n\r\n                // redundant check for livemetrics, but kept for consistency w/ requests\r\n                // Only send duration to live metrics if it has been updated!\r\n                if (!this._enableLiveMetricsCounters || intervalDependencies > 0) {\r\n                    this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_DURATION, value: averageDependencyExecutionTime });\r\n                }\r\n            }\r\n            this._lastDependencies = dependencies;\r\n        }\r\n    }\r\n\r\n    // Static counter is accumulated externally. Report the rate to client here\r\n    // Note: This is currently only used with QuickPulse client\r\n    private _trackExceptionRate() {\r\n        if (this._enableLiveMetricsCounters) {\r\n            var lastExceptions = this._lastExceptions;\r\n            var exceptions = {\r\n                totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\r\n                time: +new Date\r\n            };\r\n\r\n            var intervalExceptions = (exceptions.totalExceptionCount - lastExceptions.totalExceptionCount) || 0;\r\n            var elapsedMs = exceptions.time - lastExceptions.time;\r\n            var elapsedSeconds = elapsedMs / 1000;\r\n\r\n            if (elapsedMs > 0) {\r\n                var exceptionsPerSec = intervalExceptions / elapsedSeconds;\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.EXCEPTION_RATE, value: exceptionsPerSec });\r\n            }\r\n            this._lastExceptions = exceptions;\r\n        }\r\n    }\r\n\r\n    public dispose() {\r\n        AutoCollectPerformance.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    }\r\n}\r\n\r\nexport = AutoCollectPerformance;\r\n", "import { MetricBaseDimensions } from \"./AggregatedMetricDimensions\";\r\n\r\nexport class AggregatedMetricCounter {\r\n\r\n    public time: number;\r\n\r\n    public lastTime: number;\r\n\r\n    public totalCount: number;\r\n\r\n    public lastTotalCount: number;\r\n\r\n    public intervalExecutionTime: number;\r\n\r\n    public lastIntervalExecutionTime: number;\r\n\r\n    public dimensions: MetricBaseDimensions;\r\n\r\n    constructor(dimensions: MetricBaseDimensions) {\r\n        this.dimensions = dimensions;\r\n        this.totalCount = 0;\r\n        this.lastTotalCount = 0;\r\n        this.intervalExecutionTime = 0;\r\n        this.lastTime = +new Date;\r\n        this.lastIntervalExecutionTime = 0;\r\n    }\r\n}\r\n\r\n", "export interface MetricBaseDimensions {\r\n    cloudRoleInstance?: string;\r\n    cloudRoleName?: string\r\n}\r\n\r\nexport interface MetricDependencyDimensions extends MetricBaseDimensions {\r\n    dependencyType?: string;\r\n    dependencyTarget?: string;\r\n    dependencySuccess?: boolean;\r\n    dependencyResultCode?: string;\r\n    operationSynthetic?: string;\r\n}\r\n\r\nexport interface MetricRequestDimensions extends MetricBaseDimensions {\r\n    requestSuccess?: boolean;\r\n    requestResultCode?: string;\r\n    operationSynthetic?: string;\r\n}\r\n\r\nexport interface MetricExceptionDimensions extends MetricBaseDimensions {\r\n}\r\n\r\nexport interface MetricTraceDimensions extends MetricBaseDimensions {\r\n    traceSeverityLevel?: string;\r\n}\r\n\r\nexport type MetricDimensionTypeKeys = \"cloudRoleInstance\" | \"cloudRoleName\" | \"requestSuccess\" | \"requestResultCode\"\r\n    | \"dependencyType\" | \"dependencyTarget\" | \"dependencySuccess\" | \"dependencyResultCode\" | \"traceSeverityLevel\" | \"operationSynthetic\";\r\n\r\n// Names expected in Breeze side for dimensions\r\nexport const PreaggregatedMetricPropertyNames: { [key in MetricDimensionTypeKeys]: string } = {\r\n    cloudRoleInstance: \"cloud/roleInstance\",\r\n    cloudRoleName: \"cloud/roleName\",\r\n    operationSynthetic: \"operation/synthetic\",\r\n    requestSuccess: \"Request.Success\",\r\n    requestResultCode: \"request/resultCode\",\r\n    dependencyType: \"Dependency.Type\",\r\n    dependencyTarget: \"dependency/target\",\r\n    dependencySuccess: \"Dependency.Success\",\r\n    dependencyResultCode: \"dependency/resultCode\",\r\n    traceSeverityLevel: \"trace/severityLevel\"\r\n};\r\n", "import TelemetryClient = require(\"../Library/TelemetryClient\");\r\nimport Constants = require(\"../Declarations/Constants\");\r\n\r\nimport { AggregatedMetric } from \"../Declarations/Metrics/AggregatedMetric\";\r\nimport { AggregatedMetricCounter } from \"../Declarations/Metrics/AggregatedMetricCounters\";\r\nimport {\r\n    MetricBaseDimensions,\r\n    MetricDependencyDimensions,\r\n    MetricExceptionDimensions,\r\n    MetricRequestDimensions,\r\n    MetricTraceDimensions,\r\n    PreaggregatedMetricPropertyNames,\r\n    MetricDimensionTypeKeys\r\n} from \"../Declarations/Metrics/AggregatedMetricDimensions\";\r\nimport * as Contracts from \"../Declarations/Contracts\";\r\n\r\n\r\nclass AutoCollectPreAggregatedMetrics {\r\n\r\n    public static INSTANCE: AutoCollectPreAggregatedMetrics;\r\n    private _collectionInterval: number;\r\n    private _client: TelemetryClient;\r\n    private _handle: NodeJS.Timer;\r\n    private _isEnabled: boolean;\r\n    private _isInitialized: boolean;\r\n\r\n    private static _dependencyCountersCollection: Array<AggregatedMetricCounter>;\r\n    private static _requestCountersCollection: Array<AggregatedMetricCounter>;\r\n    private static _exceptionCountersCollection: Array<AggregatedMetricCounter>;\r\n    private static _traceCountersCollection: Array<AggregatedMetricCounter>;\r\n\r\n    /**\r\n     * @param client - Telemetry Client\r\n     * @param collectionInterval - Metric collection interval in ms\r\n     */\r\n    constructor(client: TelemetryClient, collectionInterval = 60000) {\r\n        if (!AutoCollectPreAggregatedMetrics.INSTANCE) {\r\n            AutoCollectPreAggregatedMetrics.INSTANCE = this;\r\n        }\r\n\r\n        this._isInitialized = false;\r\n        AutoCollectPreAggregatedMetrics._dependencyCountersCollection = [];\r\n        AutoCollectPreAggregatedMetrics._requestCountersCollection = [];\r\n        AutoCollectPreAggregatedMetrics._exceptionCountersCollection = [];\r\n        AutoCollectPreAggregatedMetrics._traceCountersCollection = [];\r\n        this._client = client;\r\n        this._collectionInterval = collectionInterval;\r\n    }\r\n\r\n    public enable(isEnabled: boolean, collectionInterval?: number) {\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n\r\n        if (isEnabled) {\r\n            if (!this._handle) {\r\n                this._collectionInterval = collectionInterval || this._collectionInterval;\r\n                this._handle = setInterval(() => this.trackPreAggregatedMetrics(), this._collectionInterval);\r\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n        } else {\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = undefined;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static countException(dimensions: MetricExceptionDimensions) {\r\n        if (!AutoCollectPreAggregatedMetrics.isEnabled()) {\r\n            return;\r\n        }\r\n        let counter: AggregatedMetricCounter = AutoCollectPreAggregatedMetrics._getAggregatedCounter(dimensions, this._exceptionCountersCollection);\r\n        counter.totalCount++;\r\n    }\r\n\r\n    public static countTrace(dimensions: MetricTraceDimensions) {\r\n        if (!AutoCollectPreAggregatedMetrics.isEnabled()) {\r\n            return;\r\n        }\r\n        let counter: AggregatedMetricCounter = AutoCollectPreAggregatedMetrics._getAggregatedCounter(dimensions, this._traceCountersCollection);\r\n        counter.totalCount++;\r\n    }\r\n\r\n    public static countRequest(duration: number | string, dimensions: MetricRequestDimensions) {\r\n        if (!AutoCollectPreAggregatedMetrics.isEnabled()) {\r\n            return;\r\n        }\r\n        let durationMs: number;\r\n        let counter: AggregatedMetricCounter = AutoCollectPreAggregatedMetrics._getAggregatedCounter(dimensions, this._requestCountersCollection);\r\n        if (typeof duration === \"string\") {\r\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\r\n            durationMs = +new Date(\"1970-01-01T\" + duration + \"Z\"); // convert to num ms, returns NaN if wrong\r\n        } else if (typeof duration === \"number\") {\r\n            durationMs = duration;\r\n        } else {\r\n            return;\r\n        }\r\n        counter.intervalExecutionTime += durationMs;\r\n        counter.totalCount++;\r\n    }\r\n\r\n    public static countDependency(duration: number | string, dimensions: MetricDependencyDimensions) {\r\n        if (!AutoCollectPreAggregatedMetrics.isEnabled()) {\r\n            return;\r\n        }\r\n        let counter: AggregatedMetricCounter = AutoCollectPreAggregatedMetrics._getAggregatedCounter(dimensions, this._dependencyCountersCollection);\r\n        let durationMs: number;\r\n        if (typeof duration === \"string\") {\r\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\r\n            durationMs = +new Date(\"1970-01-01T\" + duration + \"Z\"); // convert to num ms, returns NaN if wrong\r\n        } else if (typeof duration === \"number\") {\r\n            durationMs = duration;\r\n        } else {\r\n            return;\r\n        }\r\n        counter.intervalExecutionTime += durationMs;\r\n        counter.totalCount++;\r\n    }\r\n\r\n    public isInitialized() {\r\n        return this._isInitialized;\r\n    }\r\n\r\n    public static isEnabled() {\r\n        return AutoCollectPreAggregatedMetrics.INSTANCE && AutoCollectPreAggregatedMetrics.INSTANCE._isEnabled;\r\n    }\r\n\r\n    public trackPreAggregatedMetrics() {\r\n        this._trackRequestMetrics();\r\n        this._trackDependencyMetrics();\r\n        this._trackExceptionMetrics();\r\n        this._trackTraceMetrics();\r\n    }\r\n\r\n    private static _getAggregatedCounter(dimensions: MetricBaseDimensions, counterCollection: Array<AggregatedMetricCounter>): AggregatedMetricCounter {\r\n        let notMatch = false;\r\n        // Check if counter with specified dimensions is available\r\n        for (let i = 0; i < counterCollection.length; i++) {\r\n            // Same object\r\n            if (dimensions === counterCollection[i].dimensions) {\r\n                return counterCollection[i];\r\n            }\r\n            // Diferent number of keys skip\r\n            if (Object.keys(dimensions).length !== Object.keys(counterCollection[i].dimensions).length) {\r\n                continue;\r\n            }\r\n            // Check dimension values\r\n            for (let dim in dimensions) {\r\n                if ((<any>dimensions)[dim] != (<any>counterCollection[i].dimensions)[dim]) {\r\n                    notMatch = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!notMatch) { // Found\r\n                return counterCollection[i];\r\n            }\r\n            notMatch = false;\r\n        }\r\n        // Create a new one if not found\r\n        let newCounter = new AggregatedMetricCounter(dimensions);\r\n        counterCollection.push(newCounter);\r\n        return newCounter;\r\n    }\r\n\r\n    private _trackRequestMetrics() {\r\n        for (let i = 0; i < AutoCollectPreAggregatedMetrics._requestCountersCollection.length; i++) {\r\n            var currentCounter = AutoCollectPreAggregatedMetrics._requestCountersCollection[i];\r\n            currentCounter.time = +new Date;\r\n            var intervalRequests = (currentCounter.totalCount - currentCounter.lastTotalCount) || 0;\r\n            var elapsedMs = currentCounter.time - currentCounter.lastTime;\r\n            var averageRequestExecutionTime = ((currentCounter.intervalExecutionTime - currentCounter.lastIntervalExecutionTime) / intervalRequests) || 0;\r\n            currentCounter.lastIntervalExecutionTime = currentCounter.intervalExecutionTime; // reset\r\n            if (elapsedMs > 0 && intervalRequests > 0) {\r\n                this._trackPreAggregatedMetric({\r\n                    name: \"Server response time\",\r\n                    dimensions: currentCounter.dimensions,\r\n                    value: averageRequestExecutionTime,\r\n                    count: intervalRequests,\r\n                    aggregationInterval: elapsedMs,\r\n                    metricType: Constants.MetricId.REQUESTS_DURATION\r\n                });\r\n            }\r\n            // Set last counters\r\n            currentCounter.lastTotalCount = currentCounter.totalCount;\r\n            currentCounter.lastTime = currentCounter.time;\r\n        }\r\n    }\r\n\r\n    private _trackDependencyMetrics() {\r\n        for (let i = 0; i < AutoCollectPreAggregatedMetrics._dependencyCountersCollection.length; i++) {\r\n            var currentCounter = AutoCollectPreAggregatedMetrics._dependencyCountersCollection[i];\r\n            currentCounter.time = +new Date;\r\n            var intervalDependencies = (currentCounter.totalCount - currentCounter.lastTotalCount) || 0;\r\n            var elapsedMs = currentCounter.time - currentCounter.lastTime;\r\n            var averageDependencyExecutionTime = ((currentCounter.intervalExecutionTime - currentCounter.lastIntervalExecutionTime) / intervalDependencies) || 0;\r\n            currentCounter.lastIntervalExecutionTime = currentCounter.intervalExecutionTime; // reset\r\n            if (elapsedMs > 0 && intervalDependencies > 0) {\r\n                this._trackPreAggregatedMetric({\r\n                    name: \"Dependency duration\",\r\n                    dimensions: currentCounter.dimensions,\r\n                    value: averageDependencyExecutionTime,\r\n                    count: intervalDependencies,\r\n                    aggregationInterval: elapsedMs,\r\n                    metricType: Constants.MetricId.DEPENDENCIES_DURATION\r\n                });\r\n            }\r\n            // Set last counters\r\n            currentCounter.lastTotalCount = currentCounter.totalCount;\r\n            currentCounter.lastTime = currentCounter.time;\r\n        }\r\n    }\r\n\r\n    private _trackExceptionMetrics() {\r\n        for (let i = 0; i < AutoCollectPreAggregatedMetrics._exceptionCountersCollection.length; i++) {\r\n            var currentCounter = AutoCollectPreAggregatedMetrics._exceptionCountersCollection[i];\r\n            currentCounter.time = +new Date;\r\n            var intervalExceptions = (currentCounter.totalCount - currentCounter.lastTotalCount) || 0;\r\n            var elapsedMs = currentCounter.time - currentCounter.lastTime;\r\n            if (elapsedMs > 0 && intervalExceptions > 0) {\r\n                this._trackPreAggregatedMetric({\r\n                    name: \"Exceptions\",\r\n                    dimensions: currentCounter.dimensions,\r\n                    value: intervalExceptions,\r\n                    count: intervalExceptions,\r\n                    aggregationInterval: elapsedMs,\r\n                    metricType: Constants.MetricId.EXCEPTIONS_COUNT\r\n                });\r\n            }\r\n            // Set last counters\r\n            currentCounter.lastTotalCount = currentCounter.totalCount;\r\n            currentCounter.lastTime = currentCounter.time;\r\n        }\r\n    }\r\n\r\n    private _trackTraceMetrics() {\r\n        for (let i = 0; i < AutoCollectPreAggregatedMetrics._traceCountersCollection.length; i++) {\r\n            var currentCounter = AutoCollectPreAggregatedMetrics._traceCountersCollection[i];\r\n            currentCounter.time = +new Date;\r\n            var intervalTraces = (currentCounter.totalCount - currentCounter.lastTotalCount) || 0;\r\n            var elapsedMs = currentCounter.time - currentCounter.lastTime;\r\n            if (elapsedMs > 0 && intervalTraces > 0) {\r\n                this._trackPreAggregatedMetric({\r\n                    name: \"Traces\",\r\n                    dimensions: currentCounter.dimensions,\r\n                    value: intervalTraces,\r\n                    count: intervalTraces,\r\n                    aggregationInterval: elapsedMs,\r\n                    metricType: Constants.MetricId.TRACES_COUNT\r\n                });\r\n            }\r\n            // Set last counters\r\n            currentCounter.lastTotalCount = currentCounter.totalCount;\r\n            currentCounter.lastTime = currentCounter.time;\r\n        }\r\n    }\r\n\r\n    private _trackPreAggregatedMetric(metric: AggregatedMetric) {\r\n        // Build metric properties\r\n        let metricProperties: any = {};\r\n        for (let dim in metric.dimensions) {\r\n            metricProperties[PreaggregatedMetricPropertyNames[dim as MetricDimensionTypeKeys]] = metric.dimensions[dim];\r\n        }\r\n        metricProperties = {\r\n            ...metricProperties,\r\n            \"_MS.MetricId\": metric.metricType,\r\n            \"_MS.AggregationIntervalMs\": String(metric.aggregationInterval),\r\n            \"_MS.IsAutocollected\": \"True\"\r\n        };\r\n\r\n        let telemetry: Contracts.MetricTelemetry = {\r\n            name: metric.name,\r\n            value: metric.value,\r\n            count: metric.count,\r\n            properties: metricProperties,\r\n            kind: \"Aggregation\"\r\n        };\r\n        this._client.trackMetric(telemetry);\r\n    }\r\n\r\n    public dispose() {\r\n        AutoCollectPreAggregatedMetrics.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    }\r\n}\r\n\r\nexport = AutoCollectPreAggregatedMetrics;\r\n", "import os = require(\"os\");\r\nimport fs = require(\"fs\");\r\nimport path = require(\"path\");\r\n\r\nimport Contracts = require(\"../Declarations/Contracts\");\r\nimport { APPLICATION_INSIGHTS_SDK_VERSION } from \"../Declarations/Constants\";\r\nimport Logging = require(\"./Logging\");\r\n\r\nclass Context {\r\n\r\n    public keys: Contracts.ContextTagKeys;\r\n    public tags: { [key: string]: string };\r\n    public static DefaultRoleName: string = \"Web\";\r\n    public static appVersion: { [path: string]: string } = {};\r\n    public static sdkVersion: string = null;\r\n\r\n    constructor(packageJsonPath?: string) {\r\n        this.keys = new Contracts.ContextTagKeys();\r\n        this.tags = <{ [key: string]: string }>{};\r\n\r\n        this._loadApplicationContext(packageJsonPath);\r\n        this._loadDeviceContext();\r\n        this._loadInternalContext();\r\n    }\r\n\r\n    private _loadApplicationContext(packageJsonPath?: string) {\r\n        try {\r\n            packageJsonPath = packageJsonPath || path.resolve(__dirname, \"../../../../package.json\");\r\n            if (!Context.appVersion[packageJsonPath]) {\r\n                Context.appVersion[packageJsonPath] = \"unknown\";\r\n                let packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\r\n                if (packageJson && typeof packageJson.version === \"string\") {\r\n                    Context.appVersion[packageJsonPath] = packageJson.version;\r\n                }\r\n            }\r\n            this.tags[this.keys.applicationVersion] = Context.appVersion[packageJsonPath];\r\n        }\r\n        catch (exception) {\r\n            Logging.info(\"Failed to read app version: \", exception);\r\n        }\r\n    }\r\n\r\n    private _loadDeviceContext() {\r\n\r\n        let cloudRoleInstance = os && os.hostname();\r\n        let cloudRole = Context.DefaultRoleName;\r\n\r\n        // Try to get more accurate roleName and instance when running in Azure\r\n        if (process.env.WEBSITE_SITE_NAME) { // Azure Web apps and Functions\r\n            cloudRole = process.env.WEBSITE_SITE_NAME;\r\n        }\r\n        if (process.env.WEBSITE_INSTANCE_ID) {\r\n            cloudRoleInstance = process.env.WEBSITE_INSTANCE_ID;\r\n        }\r\n\r\n        this.tags[this.keys.deviceId] = \"\";\r\n        this.tags[this.keys.cloudRoleInstance] = cloudRoleInstance;\r\n        this.tags[this.keys.deviceOSVersion] = os && (os.type() + \" \" + os.release());\r\n        this.tags[this.keys.cloudRole] = cloudRole;\r\n\r\n        // not yet supported tags\r\n        this.tags[\"ai.device.osArchitecture\"] = os && os.arch();\r\n        this.tags[\"ai.device.osPlatform\"] = os && os.platform();\r\n    }\r\n\r\n    private _loadInternalContext() {\r\n        Context.sdkVersion = APPLICATION_INSIGHTS_SDK_VERSION;\r\n        this.tags[this.keys.internalSdkVersion] = \"node:\" + Context.sdkVersion;\r\n    }\r\n}\r\n\r\nexport = Context;\r\n", "import crypto = require(\"crypto\");\r\nimport os = require(\"os\");\r\nimport TelemetryClient = require(\"../Library/TelemetryClient\");\r\nimport Constants = require(\"../Declarations/Constants\");\r\nimport Config = require(\"../Library/Config\");\r\nimport Context = require(\"../Library/Context\");\r\n\r\nclass HeartBeat {\r\n\r\n    public static INSTANCE: HeartBeat;\r\n\r\n    private _collectionInterval: number = 900000;\r\n    private _client: TelemetryClient;\r\n    private _handle: NodeJS.Timer | null;\r\n    private _isEnabled: boolean;\r\n    private _isInitialized: boolean;\r\n    private _uniqueProcessId: string;\r\n\r\n    constructor(client: TelemetryClient) {\r\n        if (!HeartBeat.INSTANCE) {\r\n            HeartBeat.INSTANCE = this;\r\n        }\r\n        this._isInitialized = false;\r\n        this._client = client;\r\n    }\r\n\r\n    public enable(isEnabled: boolean) {\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n\r\n        if (isEnabled) {\r\n            if (!this._handle) {\r\n                this._handle = setInterval(() => this.trackHeartBeat(this._client.config, () => { }), this._collectionInterval);\r\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n        } else {\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    public isInitialized() {\r\n        return this._isInitialized;\r\n    }\r\n\r\n    public static isEnabled() {\r\n        return HeartBeat.INSTANCE && HeartBeat.INSTANCE._isEnabled;\r\n    }\r\n\r\n    public trackHeartBeat(config: Config, callback: () => void) {\r\n        let properties: { [key: string]: string } = {};\r\n        const sdkVersion = Context.sdkVersion; // \"node\" or \"node-nativeperf\"\r\n        properties[\"sdkVersion\"] = sdkVersion;\r\n        properties[\"osType\"] = os.type();\r\n        properties[\"osVersion\"] = os.release();\r\n        //  Random GUID that would help in analysis when app has stopped and restarted.\r\n        if (!this._uniqueProcessId) {\r\n            this._uniqueProcessId = crypto.randomBytes(16).toString(\"hex\");\r\n        }\r\n        properties[\"processSessionId\"] = this._uniqueProcessId;\r\n\r\n        if (process.env.WEBSITE_SITE_NAME) {\r\n            properties[\"appSrv_SiteName\"] = process.env.WEBSITE_SITE_NAME;\r\n        }\r\n        if (process.env.WEBSITE_HOME_STAMPNAME) {\r\n            properties[\"appSrv_wsStamp\"] = process.env.WEBSITE_HOME_STAMPNAME;\r\n        }\r\n        if (process.env.WEBSITE_HOSTNAME) {\r\n            properties[\"appSrv_wsHost\"] = process.env.WEBSITE_HOSTNAME;\r\n        }\r\n        if (process.env.WEBSITE_OWNER_NAME) {\r\n            properties[\"appSrv_wsOwner\"] = process.env.WEBSITE_OWNER_NAME;\r\n        }\r\n        if (process.env.WEBSITE_RESOURCE_GROUP) {\r\n            properties[\"appSrv_ResourceGroup\"] = process.env.WEBSITE_RESOURCE_GROUP;\r\n        }\r\n        if (process.env.WEBSITE_SLOT_NAME) {\r\n            properties[\"appSrv_SlotName\"] = process.env.WEBSITE_SLOT_NAME;\r\n        }\r\n        this._client.trackMetric({ name: Constants.HeartBeatMetricName, value: 0, properties: properties });\r\n        callback();\r\n    }\r\n\r\n    public dispose() {\r\n        HeartBeat.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    }\r\n}\r\n\r\nexport = HeartBeat;\r\n", "import zlib = require(\"zlib\");\r\nimport { promisify } from \"util\";\r\nimport http = require(\"http\");\r\n\r\n// currently support the following encoding types\r\nexport enum contentEncodingMethod {\r\n    GZIP = \"gzip\",\r\n    DEFLATE = \"deflate\",\r\n    BR = \"br\"\r\n}\r\n\r\n//current supported encoding types\r\nexport const bufferEncodingTypes = [\"utf8\",\"utf16le\",\"latin1\",\"base64\",\"hex\",\"ascii\",\"binary\",\"ucs2\"];\r\n\r\n//for node version under 10, Brotli compression is not supported.\r\nexport const isBrotliSupperted = (): boolean => {\r\n    const majVer = process.versions.node.split(\".\")[0];\r\n    return parseInt(majVer) >= 10;\r\n}\r\n\r\nexport const gzipAsync = promisify(zlib.gzip);\r\nexport const gunzipAsync = promisify(zlib.gunzip);\r\nexport const deflateAsync = promisify(zlib.deflate);\r\nexport const inflateAsync = promisify(zlib.inflate);\r\n\r\nexport const getBrotliCompressAsync = (zlibObject: any): Function => {\r\n    let isMajorVer = isBrotliSupperted();\r\n    if (isMajorVer && typeof zlibObject.brotliCompress === \"function\") {\r\n        return promisify(zlibObject.brotliCompress);\r\n    }\r\n    return null;\r\n}\r\n\r\nexport const getBrotliCompressSync = (zlibObject: any): Function => {\r\n    let isMajorVer = isBrotliSupperted();\r\n    if (isMajorVer && typeof zlibObject.brotliCompressSync === \"function\") {\r\n        return zlibObject.brotliCompressSync;\r\n    }\r\n    return null;\r\n}\r\n\r\nexport const getBrotliDecompressAsync = (zlibObject: any): Function => {\r\n    let isMajorVer = isBrotliSupperted();\r\n    if (isMajorVer && typeof zlibObject.brotliDecompress === \"function\") {\r\n        return promisify(zlibObject.brotliDecompress);\r\n    }\r\n    return null;\r\n}\r\n\r\nexport const getBrotliDecompressSync = (zlibObject: any): Function => {\r\n    let isMajorVer = isBrotliSupperted();\r\n    if (isMajorVer && typeof zlibObject.brotliDecompressSync === \"function\") {\r\n        return zlibObject.brotliDecompressSync;\r\n    }\r\n    return null;\r\n}\r\n\r\nexport const isBufferType = (buffer: Buffer, type?:string): boolean => {\r\n    let encodingType = type? type:\"utf8\";\r\n    let result = false;\r\n    if (Buffer.isEncoding(encodingType)) {\r\n        let newBuffer = Buffer.from(buffer.toString(encodingType),encodingType);\r\n        result = newBuffer.toJSON().data.toString() === buffer.toJSON().data.toString();\r\n    }\r\n    \r\n    return result;\r\n}\r\n\r\nexport const findBufferEncodingType = (buffer: Buffer): string =>  {\r\n    let bufferType = null;\r\n    for (let key in bufferEncodingTypes) {\r\n        let type = bufferEncodingTypes[key]\r\n        if (Buffer.isEncoding(type) && isBufferType(buffer, type) ) {\r\n            bufferType = type;\r\n            break;\r\n        }\r\n    }\r\n    return bufferType;\r\n}\r\n\r\nexport const isSupportedContentEncoding = (encodingMethod: string): contentEncodingMethod => {\r\n    let encodingType = null;\r\n    switch (encodingMethod) {\r\n        case \"gzip\":\r\n            encodingType = contentEncodingMethod.GZIP;\r\n            break;\r\n        case \"br\":\r\n            encodingType = contentEncodingMethod.BR;\r\n            break;\r\n        case \"deflate\":\r\n            encodingType = contentEncodingMethod.DEFLATE;\r\n            break;\r\n        default:\r\n    }\r\n    return encodingType;\r\n}\r\n\r\n// mutiple content-encoding is not supported\r\n// for mutiple content-encoding, this method will return any empty array\r\nexport const getContentEncodingFromHeaders = (response: http.ServerResponse): contentEncodingMethod[] => {\r\n    let headers: contentEncodingMethod[] = [];\r\n    let contentEncodingHeaders = response.getHeader(\"Content-Encoding\");\r\n    if (!contentEncodingHeaders) return null;\r\n    if (typeof contentEncodingHeaders === \"string\") {\r\n        let supportedContentEncoding = isSupportedContentEncoding(contentEncodingHeaders);\r\n        if (supportedContentEncoding) { headers.push(supportedContentEncoding); }\r\n    }\r\n    return headers;\r\n}\r\n\r\nexport const insertSnippetByIndex = (index: number, html: string, snippet: string): string => {\r\n    if (index < 0) return null;\r\n    let newHtml = null;\r\n    let subStart = html.substring(0, index);\r\n    let subEnd = html.substring(index);\r\n    newHtml = subStart + \"<script type=\\\"text/javascript\\\">\" + snippet + \"</script>\" + subEnd;\r\n    return newHtml;\r\n}\r\n\r\nexport const isContentTypeHeaderHtml = (response: http.ServerResponse): boolean => {\r\n    let isHtml = false;\r\n    let contentType = response.getHeader(\"Content-Type\");\r\n    if (contentType) {\r\n        if (typeof contentType === \"string\") {\r\n            isHtml = contentType.indexOf(\"html\") >= 0;\r\n        } else {\r\n            isHtml = contentType.toString().indexOf(\"html\") >= 0;\r\n        }\r\n    }\r\n    return isHtml;\r\n}\r\n\r\n", "export const isWindows = (): boolean => {\r\n    return  process.platform === \"win32\";\r\n}\r\n\r\nexport const isLinux = (): boolean => {\r\n    return  process.platform === \"linux\";\r\n}\r\n\r\nexport const isWebApp = (): boolean => {\r\n    return process.env.WEBSITE_SITE_NAME? true : false;\r\n}\r\n\r\nexport const isFunctionApp = (): boolean => {\r\n    return process.env.FUNCTIONS_WORKER_RUNTIME? true : false;\r\n}\r\n\r\n/**\r\n * Get prefix for OS\r\n * Windows system: \"w\"\r\n * Linux system: \"l\"\r\n * non-Windows and non-Linux system: \"u\" (unknown)\r\n */\r\nexport const getOsPrefix = (): string => {\r\n    return isWindows()? \"w\" : isLinux()? \"l\" : \"u\";\r\n}\r\n\r\n/**\r\n * TODO: add vm resource provider\r\n * Get prefix resource provider, vm will considered as \"unknown RP\"\r\n * Web App: \"a\"\r\n * Function App: \"f\"\r\n * non-Web and non-Function APP: \"u\" (unknown)\r\n */\r\nexport const getResourceProvider = (): string => {\r\n    return isWebApp()? \"a\" : isFunctionApp()? \"f\" : \"u\";\r\n}\r\n", "import { ConnectionString, ConnectionStringKey } from \"../Declarations/Contracts\";\r\nimport Constants = require(\"../Declarations/Constants\");\r\n\r\nclass ConnectionStringParser {\r\n    private static _FIELDS_SEPARATOR = \";\";\r\n    private static _FIELD_KEY_VALUE_SEPARATOR = \"=\";\r\n\r\n    public static parse(connectionString?: string): ConnectionString {\r\n        if (!connectionString) {\r\n            return {};\r\n        }\r\n\r\n        const kvPairs = connectionString.split(ConnectionStringParser._FIELDS_SEPARATOR);\r\n\r\n        const result: ConnectionString = kvPairs.reduce((fields: ConnectionString, kv: string) => {\r\n            const kvParts = kv.split(ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR);\r\n\r\n            if (kvParts.length === 2) { // only save fields with valid formats\r\n                const key = kvParts[0].toLowerCase() as ConnectionStringKey;\r\n                const value = kvParts[1];\r\n                fields[key] = value as string;\r\n            }\r\n            return fields;\r\n        }, {});\r\n\r\n        if (Object.keys(result).length > 0) {\r\n            // this is a valid connection string, so parse the results\r\n\r\n            if (result.endpointsuffix) {\r\n                // use endpoint suffix where overrides are not provided\r\n                const locationPrefix = result.location ? result.location + \".\" : \"\";\r\n                result.ingestionendpoint = result.ingestionendpoint || (\"https://\" + locationPrefix + \"dc.\" + result.endpointsuffix);\r\n                result.liveendpoint = result.liveendpoint || (\"https://\" + locationPrefix + \"live.\" + result.endpointsuffix);\r\n            }\r\n\r\n            // apply the default endpoints\r\n            result.ingestionendpoint = result.ingestionendpoint || Constants.DEFAULT_BREEZE_ENDPOINT;\r\n            result.liveendpoint = result.liveendpoint || Constants.DEFAULT_LIVEMETRICS_ENDPOINT;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public static isIkeyValid(iKey: string): boolean {\r\n        if (!iKey || iKey == \"\") return false;\r\n        const UUID_Regex = \"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$\";\r\n        const regexp = new RegExp(UUID_Regex);\r\n        return regexp.test(iKey);\r\n    }\r\n}\r\n\r\nexport = ConnectionStringParser;\r\n", "/*!\n * Application Insights JavaScript SDK - Web Snippet, 1.0.1\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.Microsoft = global.Microsoft || {}, global.Microsoft[\"ApplicationInsights-Web-Snippet\"] = global.Microsoft[\"ApplicationInsights-Web-Snippet\"] || {})));\n})(this, (function (exports) { 'use strict';\n\n\tvar webSnippet = \"!function(T,l,y){var S=T.location,k=\\\"script\\\",D=\\\"instrumentationKey\\\",C=\\\"ingestionendpoint\\\",I=\\\"disableExceptionTracking\\\",E=\\\"ai.device.\\\",b=\\\"toLowerCase\\\",w=\\\"crossOrigin\\\",N=\\\"POST\\\",e=\\\"appInsightsSDK\\\",t=y.name||\\\"appInsights\\\";(y.name||T[e])&&(T[e]=t);var n=T[t]||function(d){var g=!1,f=!1,m={initialize:!0,queue:[],sv:\\\"5\\\",version:2,config:d};function v(e,t){var n={},a=\\\"Browser\\\";return n[E+\\\"id\\\"]=a[b](),n[E+\\\"type\\\"]=a,n[\\\"ai.operation.name\\\"]=S&&S.pathname||\\\"_unknown_\\\",n[\\\"ai.internal.sdkVersion\\\"]=\\\"javascript:snippet_\\\"+(m.sv||m.version),{time:function(){var e=new Date;function t(e){var t=\\\"\\\"+e;return 1===t.length&&(t=\\\"0\\\"+t),t}return e.getUTCFullYear()+\\\"-\\\"+t(1+e.getUTCMonth())+\\\"-\\\"+t(e.getUTCDate())+\\\"T\\\"+t(e.getUTCHours())+\\\":\\\"+t(e.getUTCMinutes())+\\\":\\\"+t(e.getUTCSeconds())+\\\".\\\"+((e.getUTCMilliseconds()/1e3).toFixed(3)+\\\"\\\").slice(2,5)+\\\"Z\\\"}(),iKey:e,name:\\\"Microsoft.ApplicationInsights.\\\"+e.replace(/-/g,\\\"\\\")+\\\".\\\"+t,sampleRate:100,tags:n,data:{baseData:{ver:2}}}}var h=d.url||y.src;if(h){function a(e){var t,n,a,i,r,o,s,c,u,p,l;g=!0,m.queue=[],f||(f=!0,t=h,s=function(){var e={},t=d.connectionString;if(t)for(var n=t.split(\\\";\\\"),a=0;a<n.length;a++){var i=n[a].split(\\\"=\\\");2===i.length&&(e[i[0][b]()]=i[1])}if(!e[C]){var r=e.endpointsuffix,o=r?e.location:null;e[C]=\\\"https://\\\"+(o?o+\\\".\\\":\\\"\\\")+\\\"dc.\\\"+(r||\\\"services.visualstudio.com\\\")}return e}(),c=s[D]||d[D]||\\\"\\\",u=s[C],p=u?u+\\\"/v2/track\\\":d.endpointUrl,(l=[]).push((n=\\\"SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)\\\",a=t,i=p,(o=(r=v(c,\\\"Exception\\\")).data).baseType=\\\"ExceptionData\\\",o.baseData.exceptions=[{typeName:\\\"SDKLoadFailed\\\",message:n.replace(/\\\\./g,\\\"-\\\"),hasFullStack:!1,stack:n+\\\"\\\\nSnippet failed to load [\\\"+a+\\\"] -- Telemetry is disabled\\\\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\\\\nHost: \\\"+(S&&S.pathname||\\\"_unknown_\\\")+\\\"\\\\nEndpoint: \\\"+i,parsedStack:[]}],r)),l.push(function(e,t,n,a){var i=v(c,\\\"Message\\\"),r=i.data;r.baseType=\\\"MessageData\\\";var o=r.baseData;return o.message=\\'AI (Internal): 99 message:\\\"\\'+(\\\"SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) (\\\"+n+\\\")\\\").replace(/\\\\\\\"/g,\\\"\\\")+\\'\\\"\\',o.properties={endpoint:a},i}(0,0,t,p)),function(e,t){if(JSON){var n=T.fetch;if(n&&!y.useXhr)n(t,{method:N,body:JSON.stringify(e),mode:\\\"cors\\\"});else if(XMLHttpRequest){var a=new XMLHttpRequest;a.open(N,t),a.setRequestHeader(\\\"Content-type\\\",\\\"application/json\\\"),a.send(JSON.stringify(e))}}}(l,p))}function i(e,t){f||setTimeout(function(){!t&&m.core||a()},500)}var e=function(){var n=l.createElement(k);n.src=h;var e=y[w];return!e&&\\\"\\\"!==e||\\\"undefined\\\"==n[w]||(n[w]=e),n.onload=i,n.onerror=a,n.onreadystatechange=function(e,t){\\\"loaded\\\"!==n.readyState&&\\\"complete\\\"!==n.readyState||i(0,t)},n}();y.ld<0?l.getElementsByTagName(\\\"head\\\")[0].appendChild(e):setTimeout(function(){l.getElementsByTagName(k)[0].parentNode.appendChild(e)},y.ld||0)}try{m.cookie=l.cookie}catch(p){}function t(e){for(;e.length;)!function(t){m[t]=function(){var e=arguments;g||m.queue.push(function(){m[t].apply(m,e)})}}(e.pop())}var n=\\\"track\\\",r=\\\"TrackPage\\\",o=\\\"TrackEvent\\\";t([n+\\\"Event\\\",n+\\\"PageView\\\",n+\\\"Exception\\\",n+\\\"Trace\\\",n+\\\"DependencyData\\\",n+\\\"Metric\\\",n+\\\"PageViewPerformance\\\",\\\"start\\\"+r,\\\"stop\\\"+r,\\\"start\\\"+o,\\\"stop\\\"+o,\\\"addTelemetryInitializer\\\",\\\"setAuthenticatedUserContext\\\",\\\"clearAuthenticatedUserContext\\\",\\\"flush\\\"]),m.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4};var s=(d.extensionConfig||{}).ApplicationInsightsAnalytics||{};if(!0!==d[I]&&!0!==s[I]){var c=\\\"onerror\\\";t([\\\"_\\\"+c]);var u=T[c];T[c]=function(e,t,n,a,i){var r=u&&u(e,t,n,a,i);return!0!==r&&m[\\\"_\\\"+c]({message:e,url:t,lineNumber:n,columnNumber:a,error:i}),r},d.autoExceptionInstrumented=!0}return m}(y.cfg);function a(){y.onInit&&y.onInit(n)}(T[t]=n).queue&&0===n.queue.length?(n.queue.push(a),n.trackPageView({})):a()}(window,document,{\\r\\nsrc: \\\"https://js.monitor.azure.com/scripts/b/ai.2.min.js\\\", // The SDK URL Source\\r\\n// name: \\\"appInsights\\\", // Global SDK Instance name defaults to \\\"appInsights\\\" when not supplied\\r\\n// ld: 0, // Defines the load delay (in ms) before attempting to load the sdk. -1 = block page load and add to head. (default) = 0ms load after timeout,\\r\\n// useXhr: 1, // Use XHR instead of fetch to report failures (if available),\\r\\n// crossOrigin: \\\"anonymous\\\", // When supplied this will add the provided value as the cross origin attribute on the script tag\\r\\n// onInit: null, // Once the application insights instance has loaded and initialized this callback function will be called with 1 argument -- the sdk instance (DO NOT ADD anything to the sdk.queue -- As they won\\'t get called)\\r\\ncfg: { // Application Insights Configuration\\r\\n    instrumentationKey: \\\"INSTRUMENTATION_KEY\\\"\\r\\n}});\";\n\n\texports.webSnippet = webSnippet;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n", "import http = require(\"http\");\r\nimport https = require(\"https\");\r\nimport zlib = require(\"zlib\");\r\n\r\nimport Logging = require(\"../Library/Logging\");\r\nimport TelemetryClient = require(\"../Library/TelemetryClient\");\r\nimport snippetInjectionHelper = require(\"../Library/SnippetInjectionHelper\");\r\nimport prefixHelper = require(\"../Library/PrefixHelper\");\r\nimport Statsbeat = require(\"./Statsbeat\");\r\nimport Constants = require(\"../Declarations/Constants\");\r\nimport ConnectionStringParser = require(\"../Library/ConnectionStringParser\");\r\nimport {webSnippet} from \"@microsoft/applicationinsights-web-snippet\";\r\nimport {IWebInstrumentationConfig} from \"../Declarations/Interfaces\";\r\n\r\n\r\nclass WebSnippet {\r\n\r\n    public static INSTANCE: WebSnippet;\r\n\r\n    private static _snippet: string;\r\n    private static _aiUrl: string;\r\n    private static _aiDeprecatedUrl: string;\r\n    private _isEnabled: boolean;\r\n    private _isInitialized: boolean;\r\n    private _isIkeyValid: boolean = true;\r\n    private _statsbeat: Statsbeat;\r\n    private _webInstrumentationIkey: string;\r\n    private _clientWebInstrumentationConfig: IWebInstrumentationConfig[];\r\n    private _clientWebInstrumentationSrc: string;\r\n\r\n    constructor(client: TelemetryClient) {\r\n        if (!!WebSnippet.INSTANCE) {\r\n            throw new Error(\"Web snippet injection should be configured from the applicationInsights object\");\r\n        }\r\n\r\n        WebSnippet.INSTANCE = this;\r\n        // AI URL used to validate if snippet already included\r\n        WebSnippet._aiUrl = Constants.WEB_INSTRUMENTATION_DEFAULT_SOURCE;\r\n        WebSnippet._aiDeprecatedUrl = Constants.WEB_INSTRUMENTATION_DEPRECATED_SOURCE;\r\n\r\n        let clientWebIkey = this._getWebSnippetIkey(client.config?.webInstrumentationConnectionString);\r\n        this._webInstrumentationIkey = clientWebIkey || client.config.instrumentationKey;\r\n        this._clientWebInstrumentationConfig = client.config.webInstrumentationConfig;\r\n        this._clientWebInstrumentationSrc = client.config.webInstrumentationSrc;\r\n\r\n        this._statsbeat = client.getStatsbeat();\r\n    }\r\n\r\n    public enable(isEnabled: boolean, webInstrumentationConnectionString?: string ) {\r\n        this._isEnabled = isEnabled;\r\n        this._webInstrumentationIkey = this._getWebSnippetIkey(webInstrumentationConnectionString) || this._webInstrumentationIkey;\r\n        WebSnippet._snippet = this._getWebInstrumentationReplacedStr();\r\n\r\n        if (this._isEnabled && !this._isInitialized && this._isIkeyValid) {\r\n            if (this._statsbeat) {\r\n                this._statsbeat.addFeature(Constants.StatsbeatFeature.WEB_SNIPPET);\r\n            }\r\n            this._initialize();\r\n        } else if (!this._isEnabled) {\r\n            if (this._statsbeat) {\r\n                this._statsbeat.removeFeature(Constants.StatsbeatFeature.WEB_SNIPPET);\r\n            }\r\n        }\r\n    }\r\n\r\n    public isInitialized() {\r\n        return this._isInitialized;\r\n    }\r\n\r\n    private _getWebSnippetIkey(connectionString: string) {\r\n        let iKey = null;\r\n        try {\r\n            const csCode = ConnectionStringParser.parse(connectionString);\r\n            const iKeyCode = csCode.instrumentationkey || \"\";\r\n            if (!ConnectionStringParser.isIkeyValid(iKeyCode)) {\r\n                this._isIkeyValid = false;\r\n                Logging.info(\"Invalid web Instrumentation connection string, web Instrumentation is not enabled.\");\r\n            } else {\r\n                this._isIkeyValid = true;\r\n                iKey = iKeyCode;\r\n            }\r\n        } catch (err) {\r\n            Logging.info(\"get web snippet ikey error: \" + err);\r\n        }\r\n        return iKey;\r\n    }\r\n\r\n    private _getWebInstrumentationReplacedStr() {\r\n        let configStr = this._getClientWebInstrumentationConfigStr(this._clientWebInstrumentationConfig);\r\n        let osStr = prefixHelper.getOsPrefix();\r\n        let rpStr = prefixHelper.getResourceProvider();\r\n        let snippetReplacedStr = `${this._webInstrumentationIkey}\\\",\\r\\n${configStr} disableIkeyDeprecationMessage: true,\\r\\n sdkExtension: \\\"${rpStr}${osStr}d_n_`;\r\n        let replacedSnippet = webSnippet.replace(\"INSTRUMENTATION_KEY\", snippetReplacedStr);\r\n        if (this._clientWebInstrumentationSrc) {\r\n            return replacedSnippet.replace(`${Constants.WEB_INSTRUMENTATION_DEFAULT_SOURCE}.2.min.js`,this._clientWebInstrumentationSrc);\r\n        }\r\n        return replacedSnippet;\r\n    }\r\n\r\n    // Do not use string replace here, because double quote should be kept.\r\n    // we want to transfer all values of config to the web snippet in the following way:\r\n    // cfg: {\r\n    //      config1: \"config1 string value\",\r\n    //      config2: true,\r\n    //      config3: 1,\r\n    //      ...\r\n    //}});\r\n    private _getClientWebInstrumentationConfigStr(config: IWebInstrumentationConfig[]) {\r\n        let configStr = \"\";\r\n        try {\r\n            if (config != undefined && config.length > 0) {\r\n                config.forEach((item) =>{\r\n                    let key = item.name;\r\n                    if (key === undefined) return;\r\n                    let val = item.value;\r\n                    let entry = \"\";\r\n                    // NOTE: users should convert object/function to string themselves\r\n                    // Type \"function\" and \"object\" will be skipped!\r\n                    switch(typeof val) {\r\n                        case \"function\":\r\n                            break;\r\n                        case \"object\":\r\n                            break;\r\n                        case \"string\":\r\n                            entry = ` ${key}: \\\"${val}\\\",\\r\\n`;\r\n                            configStr += entry;\r\n                            break;\r\n                        default:\r\n                            entry = ` ${key}: ${val},\\r\\n`;\r\n                            configStr += entry;\r\n                            break;\r\n                    }\r\n                    \r\n                });\r\n            }\r\n\r\n        } catch (e) {\r\n            // if has any errors here, web Instrumentation will be disabled.\r\n            this._isEnabled = false;\r\n            Logging.info(\"Parse client web instrumentation error. Web Instrumentation is disabled\");\r\n        }\r\n        return configStr;\r\n    }\r\n\r\n    private _initialize() {\r\n        this._isInitialized = true;\r\n        const originalHttpServer = http.createServer;\r\n        const originalHttpsServer = https.createServer;\r\n        var isEnabled = this._isEnabled;\r\n\r\n        http.createServer = (requestListener?: (request: http.IncomingMessage, response: http.ServerResponse) => void) => {\r\n            const originalRequestListener = requestListener;\r\n            if (originalRequestListener) {\r\n                requestListener = (request: http.IncomingMessage, response: http.ServerResponse) => {\r\n                    // Patch response write method\r\n                    let originalResponseWrite = response.write;\r\n                    let isGetRequest = request.method == \"GET\";\r\n                    response.write = function wrap(a: Buffer | string, b?: Function | string, c?:  Function | string) {\r\n                        //only patch GET request\r\n                        try {\r\n                            if (isEnabled && isGetRequest) {\r\n                                let headers =  snippetInjectionHelper.getContentEncodingFromHeaders(response);\r\n                                let writeBufferType = undefined;\r\n                                if (typeof b === \"string\") {\r\n                                    writeBufferType = b;\r\n                                }\r\n                                if (headers === null || headers === undefined) {\r\n                                    if (WebSnippet.INSTANCE.ValidateInjection(response, a)) {\r\n                                        arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(response, a, undefined, writeBufferType);\r\n                                    }\r\n                                } else if (headers.length) {\r\n                                    let encodeType = headers[0];\r\n                                    arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(response, a, encodeType);\r\n                                }\r\n                            }\r\n                        } catch (err) {\r\n                            Logging.warn(\"Inject snippet error: \"+ err);\r\n                        }\r\n                        return originalResponseWrite.apply(response, arguments);\r\n                    }\r\n\r\n                    // Patch response end method for cases when HTML is added there\r\n                    let originalResponseEnd = response.end;\r\n\r\n                    response.end = function wrap(a?: Buffer | string | any, b?: Function | string, c?: Function) {\r\n                        if (isEnabled && isGetRequest) {\r\n                            try {\r\n                                if (isEnabled && isGetRequest) {\r\n                                    let headers =  snippetInjectionHelper.getContentEncodingFromHeaders(response);\r\n                                    let endBufferType = undefined;\r\n                                    if (typeof b === \"string\") {\r\n                                        endBufferType = b;\r\n                                    }\r\n                                    if (headers === null || headers === undefined) {\r\n                                        if (WebSnippet.INSTANCE.ValidateInjection(response, a)) {\r\n                                            arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(response, a, undefined, endBufferType);\r\n                                        }\r\n                                    } else if (headers.length) {\r\n                                        let encodeType = headers[0];\r\n                                        arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(response, a, encodeType);\r\n                                    }\r\n                                }\r\n                            } catch (err) {\r\n                                Logging.warn(\"Inject snipet error: \"+ err);\r\n                            }\r\n                        }\r\n                        return originalResponseEnd.apply(response, arguments);\r\n                    }\r\n\r\n                    return originalRequestListener(request, response);\r\n                }\r\n            }\r\n            return originalHttpServer(requestListener);\r\n        }\r\n\r\n        https.createServer = function(options,httpsRequestListener) {\r\n            const originalHttpsRequestListener = httpsRequestListener;\r\n            if (originalHttpsRequestListener) {\r\n                httpsRequestListener = function (req, res) {\r\n                    let isGetHttpsRequest = req.method == \"GET\";\r\n                    let originalHttpsResponseWrite = res.write;\r\n                    let originalHttpsResponseEnd = res.end;\r\n                    res.write = function wrap(a: Buffer | string | any, b?:Function | string, c?: Function) {\r\n                        try {\r\n                            if (isEnabled && isGetHttpsRequest) {\r\n                                let headers =  snippetInjectionHelper.getContentEncodingFromHeaders(res);\r\n                                let writeBufferType = undefined;\r\n                                if (typeof b === \"string\") {\r\n                                    writeBufferType = b;\r\n                                }\r\n                                if (headers === null || headers === undefined) {\r\n                                    if (WebSnippet.INSTANCE.ValidateInjection(res, a)) {\r\n                                        arguments[0] = this.InjectWebSnippet(res, a, undefined, writeBufferType);\r\n                                    }\r\n                                } else if (headers.length) {\r\n                                    let encodeType = headers[0];\r\n                                    arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(res, a, encodeType);\r\n                                }\r\n                            }\r\n                        } catch (err) {\r\n                            Logging.warn(\"Inject snippet error: \"+ err);\r\n                        }\r\n                        return originalHttpsResponseWrite.apply(res,arguments);\r\n                    }\r\n\r\n                    res.end = function wrap(a: Buffer | string | any, b?:Function | string, c?: Function) {\r\n                        try {\r\n                            if (isEnabled && isGetHttpsRequest) {\r\n                                let headers =  snippetInjectionHelper.getContentEncodingFromHeaders(res);\r\n                                let endBufferType = undefined;\r\n                                if (typeof b === \"string\") {\r\n                                    endBufferType = b;\r\n                                }\r\n                                if (headers === null || headers === undefined) {\r\n                                    if (WebSnippet.INSTANCE.ValidateInjection(res, a)) {\r\n                                        arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(res, a, undefined, endBufferType);\r\n                                    }\r\n                                } else if (headers.length) {\r\n                                    let encodeType = headers[0];\r\n                                    arguments[0] = WebSnippet.INSTANCE.InjectWebSnippet(res, a, encodeType);\r\n                                }\r\n                            }\r\n                        } catch (err) {\r\n                            Logging.warn(\"Inject snippet error: \"+ err);\r\n                        }\r\n                        return originalHttpsResponseEnd.apply(res,arguments);\r\n\r\n                    }\r\n                    return originalHttpsRequestListener(req,res);\r\n                }\r\n                return originalHttpsServer(options, httpsRequestListener);\r\n\r\n            }\r\n          \r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Validate response and try to inject Web snippet\r\n     */\r\n    public ValidateInjection(response: http.ServerResponse, input: string | Buffer): boolean {\r\n        try {\r\n            if (!response || !input || response.statusCode != 200) return false;\r\n            let isContentHtml =  snippetInjectionHelper.isContentTypeHeaderHtml(response);\r\n            if (!isContentHtml) return false;\r\n            let inputStr = input.slice().toString();\r\n            if (inputStr.indexOf(\"<head>\") >= 0 && inputStr.indexOf(\"</head>\") >= 0) {\r\n                // Check if snippet not already present looking for AI Web SDK URL\r\n                if (inputStr.indexOf(WebSnippet._aiUrl) < 0 && inputStr.indexOf(WebSnippet._aiDeprecatedUrl) < 0) {\r\n                    return true;\r\n                }\r\n            }\r\n        } catch (err) {\r\n            Logging.info(\"validate injections error: \" + err);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Inject Web snippet\r\n     */\r\n    public InjectWebSnippet(response: http.ServerResponse, input: string | Buffer, encodeType?: snippetInjectionHelper.contentEncodingMethod, bufferEncodeType?: string ): string | Buffer {\r\n        try {\r\n            let isCompressedBuffer = !!encodeType;\r\n            if (!isCompressedBuffer) {\r\n                let html = input.toString();\r\n                let index = html.indexOf(\"</head>\");\r\n                if (index < 0) return input;\r\n\r\n                let newHtml = snippetInjectionHelper.insertSnippetByIndex(index,html,WebSnippet._snippet);\r\n                if (typeof input === \"string\") {\r\n                    response.removeHeader(\"Content-Length\");\r\n                    input = newHtml;\r\n                    response.setHeader(\"Content-Length\", Buffer.byteLength(input));\r\n                } else if (Buffer.isBuffer(input)) {\r\n                    let bufferType = bufferEncodeType? bufferEncodeType:\"utf8\";\r\n                    let isValidBufferType = snippetInjectionHelper.isBufferType(input, bufferType);\r\n                    if (isValidBufferType) {\r\n                        response.removeHeader(\"Content-Length\");\r\n                        let encodedString = Buffer.from(newHtml).toString(bufferType);\r\n                        input = Buffer.from(encodedString,bufferType);\r\n                        response.setHeader(\"Content-Length\", input.length);\r\n                    }\r\n                }\r\n            } else {\r\n                response.removeHeader(\"Content-Length\");\r\n                input = this._getInjectedCompressBuffer(response,input as Buffer,encodeType);\r\n                response.setHeader(\"Content-Length\", input.length);\r\n            }\r\n        }\r\n        catch (ex) {\r\n            Logging.warn(\"Failed to inject web snippet and change content-lenght headers. Exception:\" + ex);\r\n        }\r\n        return input;\r\n    }\r\n\r\n    //***********************\r\n    // should NOT use sync functions here. But currently cannot get async functions to work\r\n    // because reponse.write return boolean\r\n    // and also this function do not support partial compression as well\r\n    // need more investigation\r\n    private _getInjectedCompressBuffer(response: http.ServerResponse, input: Buffer, encodeType: snippetInjectionHelper.contentEncodingMethod): Buffer {\r\n        try {\r\n            switch (encodeType) {\r\n                case snippetInjectionHelper.contentEncodingMethod.GZIP:\r\n                    let gunzipBuffer = zlib.gunzipSync(input);\r\n                    if (this.ValidateInjection(response,gunzipBuffer)) {\r\n                        let injectedGunzipBuffer = this.InjectWebSnippet(response, gunzipBuffer);\r\n                        input = zlib.gzipSync(injectedGunzipBuffer);\r\n                     }\r\n                     break;\r\n                case snippetInjectionHelper.contentEncodingMethod.DEFLATE:\r\n                    let inflateBuffer = zlib.inflateSync(input);\r\n                    if (this.ValidateInjection(response,inflateBuffer)) {\r\n                        let injectedInflateBuffer = this.InjectWebSnippet(response, inflateBuffer);\r\n                        input = zlib.deflateSync(injectedInflateBuffer);\r\n                     }\r\n                     break;\r\n                case snippetInjectionHelper.contentEncodingMethod.BR:\r\n                    let BrotliDecompressSync = snippetInjectionHelper.getBrotliDecompressSync(zlib);\r\n                    let BrotliCompressSync = snippetInjectionHelper.getBrotliCompressSync(zlib);\r\n                    if (BrotliDecompressSync && BrotliCompressSync) {\r\n                        let decompressBuffer = BrotliDecompressSync(input);\r\n                        if (this.ValidateInjection(response,decompressBuffer)) {\r\n                            let injectedDecompressBuffer = this.InjectWebSnippet(response, decompressBuffer);\r\n                            input = BrotliCompressSync(injectedDecompressBuffer);\r\n                         }\r\n                         break;\r\n                    }\r\n            }\r\n\r\n        } catch (err) {\r\n            Logging.info(\"get web injection compress buffer error: \" + err);\r\n        }\r\n        \r\n        return input;\r\n    }\r\n\r\n    public dispose() {\r\n        WebSnippet.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    }\r\n}\r\n\r\nexport = WebSnippet;\r\n", "import http = require(\"http\");\r\nimport https = require(\"https\");\r\nimport url = require(\"url\");\r\nimport Contracts = require(\"../Declarations/Contracts\");\r\nimport Util = require(\"../Library/Util\");\r\nimport RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nimport RequestParser = require(\"./RequestParser\");\r\nimport CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\n\r\n/**\r\n * Helper class to read data from the request/response objects and convert them into the telemetry contract\r\n */\r\nclass HttpDependencyParser extends RequestParser {\r\n    private correlationId: string;\r\n\r\n    constructor(requestOptions: object | string | http.RequestOptions | https.RequestOptions, request: http.ClientRequest) {\r\n        super();\r\n        if (request && (<any>request).method && requestOptions) {\r\n            // The ClientRequest.method property isn't documented, but is always there.\r\n            this.method = (<any>request).method;\r\n\r\n            this.url = HttpDependencyParser._getUrlFromRequestOptions(requestOptions, request);\r\n            this.startTime = +new Date();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Called when the ClientRequest emits an error event.\r\n     */\r\n    public onError(error: Error) {\r\n        this._setStatus(undefined, error);\r\n    }\r\n\r\n    /**\r\n     * Called when the ClientRequest emits a response event.\r\n     */\r\n    public onResponse(response: http.ClientResponse) {\r\n        this._setStatus(response.statusCode, undefined);\r\n        this.correlationId = Util.getCorrelationContextTarget(response, RequestResponseHeaders.requestContextTargetKey);\r\n    }\r\n\r\n    /**\r\n     * Gets a dependency data contract object for a completed ClientRequest.\r\n     */\r\n    public getDependencyTelemetry(baseTelemetry?: Contracts.Telemetry, dependencyId?: string): Contracts.DependencyTelemetry {\r\n        let dependencyName = this.method.toUpperCase();\r\n        let remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\r\n        let remoteDependencyTarget = \"\";\r\n        try {\r\n            let urlObject = new url.URL(this.url);\r\n            urlObject.search = undefined;\r\n            urlObject.hash = undefined;\r\n            dependencyName += \" \" + urlObject.pathname;\r\n            remoteDependencyTarget = urlObject.hostname;\r\n            if (urlObject.port) {\r\n                remoteDependencyTarget += \":\" + urlObject.port;\r\n            }\r\n\r\n        }\r\n        catch (ex) { // Invalid URL\r\n            // Ignore error\r\n        }\r\n        if (this.correlationId) {\r\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_AI;\r\n            if (this.correlationId !== CorrelationIdManager.correlationIdPrefix) {\r\n                remoteDependencyTarget += \" | \" + this.correlationId;\r\n            }\r\n        } else {\r\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\r\n        }\r\n\r\n        var dependencyTelemetry: Contracts.DependencyTelemetry & Contracts.Identified = {\r\n            id: dependencyId,\r\n            name: dependencyName,\r\n            data: this.url,\r\n            duration: this.duration,\r\n            success: this._isSuccess(),\r\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\r\n            properties: this.properties || {},\r\n            dependencyTypeName: remoteDependencyType,\r\n            target: remoteDependencyTarget\r\n        };\r\n\r\n        if (baseTelemetry && baseTelemetry.time) {\r\n            dependencyTelemetry.time = baseTelemetry.time;\r\n        } else if (this.startTime) {\r\n            dependencyTelemetry.time = new Date(this.startTime);\r\n        }\r\n\r\n        // We should keep any parameters the user passed in\r\n        // Except the fields defined above in requestTelemetry, which take priority\r\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\r\n        if (baseTelemetry) {\r\n            // Copy missing fields\r\n            for (let key in baseTelemetry) {\r\n                if (!(<any>dependencyTelemetry)[key]) {\r\n                    (<any>dependencyTelemetry)[key] = (<any>baseTelemetry)[key];\r\n                }\r\n            }\r\n            // Merge properties\r\n            if (baseTelemetry.properties) {\r\n                for (let key in baseTelemetry.properties) {\r\n                    dependencyTelemetry.properties[key] = baseTelemetry.properties[key];\r\n                }\r\n            }\r\n        }\r\n\r\n        return dependencyTelemetry;\r\n    }\r\n\r\n    /**\r\n     * Builds a URL from request options, using the same logic as http.request(). This is\r\n     * necessary because a ClientRequest object does not expose a url property.\r\n     */\r\n    private static _getUrlFromRequestOptions(options: any, request: http.ClientRequest) {\r\n        if (typeof options === \"string\") {\r\n            if (options.indexOf(\"http://\") === 0 || options.indexOf(\"https://\") === 0) {\r\n                // protocol exists, parse normally\r\n                try {\r\n                    options = new url.URL(options);\r\n                }\r\n                catch (ex) {\r\n                    // Ignore error\r\n                }\r\n            } else {\r\n                // protocol not found, insert http/https where appropriate\r\n                try {\r\n                    const parsed = new url.URL(\"http://\" + options);\r\n                    if (parsed.port === \"443\") {\r\n                        options = new url.URL(\"https://\" + options);\r\n                    } else {\r\n                        options = new url.URL(\"http://\" + options);\r\n                    }\r\n                }\r\n                catch (ex) {\r\n                    // Ignore error\r\n                }\r\n            }\r\n        } else if (options && typeof url.URL === \"function\" && options instanceof url.URL) {\r\n            return url.format(options);\r\n        } else {\r\n            // Avoid modifying the original options object.\r\n            let originalOptions = options;\r\n            options = {};\r\n            if (originalOptions) {\r\n                Object.keys(originalOptions).forEach(key => {\r\n                    options[key] = originalOptions[key];\r\n                });\r\n            }\r\n        }\r\n\r\n        // Oddly, url.format ignores path and only uses pathname and search,\r\n        // so create them from the path, if path was specified\r\n        if (options.path && options.host) {\r\n            // need to force a protocol to make parameter valid - base url is required when input is a relative url\r\n            try {\r\n                const parsedQuery = new url.URL(options.path, \"http://\" + options.host + options.path);\r\n                options.pathname = parsedQuery.pathname;\r\n                options.search = parsedQuery.search;\r\n            }\r\n            catch (ex) {\r\n                // Ignore error\r\n            }\r\n        }\r\n\r\n        // Sometimes the hostname is provided but not the host\r\n        // Add in the path when this occurs\r\n        if (options.path && options.hostname && !options.host) {\r\n            // need to force a protocol to make parameter valid - base url is required when input is a relative url\r\n            try {\r\n                const parsedQuery = new url.URL(options.path, \"http://\" + options.hostname + options.path);\r\n                options.pathname = parsedQuery.pathname;\r\n                options.search = parsedQuery.search;\r\n            }\r\n            catch (ex) {\r\n                // Ignore error\r\n            }\r\n        }\r\n\r\n        // Similarly, url.format ignores hostname and port if host is specified,\r\n        // even if host doesn't have the port, but http.request does not work\r\n        // this way. It will use the port if one is not specified in host,\r\n        // effectively treating host as hostname, but will use the port specified\r\n        // in host if it exists.\r\n        if (options.host && options.port) {\r\n            // Force a protocol so it will parse the host as the host, not path.\r\n            // It is discarded and not used, so it doesn't matter if it doesn't match\r\n            try {\r\n                const parsedHost = new url.URL(`http://${options.host}`);\r\n                if (!parsedHost.port && options.port) {\r\n                    options.hostname = options.host;\r\n                    delete options.host;\r\n                }\r\n            }\r\n            catch (ex) {\r\n                // Ignore error\r\n            }\r\n        }\r\n\r\n        // Mix in default values used by http.request and others\r\n        options.protocol = options.protocol || ((<any>request).agent && (<any>request).agent.protocol) || ((<any>request).protocol) || undefined;\r\n        options.hostname = options.hostname || \"localhost\";\r\n\r\n        return url.format(options);\r\n    }\r\n}\r\n\r\nexport = HttpDependencyParser;\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nimport { SpanKind } from \"@opentelemetry/api\";\r\nimport { hrTimeToMilliseconds } from \"@opentelemetry/core\";\r\nimport { SemanticAttributes } from \"@opentelemetry/semantic-conventions\";\r\nimport { ReadableSpan } from \"@opentelemetry/sdk-trace-base\";\r\n\r\nimport {\r\n    TIME_SINCE_ENQUEUED,\r\n    ENQUEUED_TIME,\r\n    AzNamespace,\r\n    MessageBusDestination,\r\n    MicrosoftEventHub,\r\n    DependencyTypeName\r\n} from \"../../../Declarations/Constants\";\r\nimport { DependencyTelemetry, Identified, RequestTelemetry } from \"../../../Declarations/Contracts\";\r\n\r\n/**\r\n * Average span.links[].attributes.enqueuedTime\r\n */\r\nconst getTimeSinceEnqueued = (span: ReadableSpan) => {\r\n    let countEnqueueDiffs = 0;\r\n    let sumEnqueueDiffs = 0;\r\n    const startTimeMs = hrTimeToMilliseconds(span.startTime);\r\n\r\n    span.links.forEach(({ attributes }) => {\r\n        const enqueuedTime = attributes?.[ENQUEUED_TIME] as string | number;\r\n        if (enqueuedTime) {\r\n            countEnqueueDiffs += 1;\r\n            sumEnqueueDiffs += startTimeMs - (parseFloat(enqueuedTime.toString()) || 0);\r\n        }\r\n    });\r\n\r\n    return Math.max(sumEnqueueDiffs / (countEnqueueDiffs || 1), 0);\r\n};\r\n\r\n/**\r\n * Implementation of Mapping to Azure Monitor\r\n *\r\n * https://gist.github.com/lmolkova/e4215c0f44a49ef824983382762e6b92#file-z_azure_monitor_exporter_mapping-md\r\n */\r\nexport const parseEventHubSpan = (span: ReadableSpan, telemetry: (DependencyTelemetry | RequestTelemetry) & Identified): void => {\r\n    const namespace = span.attributes[AzNamespace] as typeof MicrosoftEventHub;\r\n    const peerAddress = ((span.attributes[SemanticAttributes.NET_PEER_NAME] ||\r\n        span.attributes[\"peer.address\"] ||\r\n        \"unknown\") as string).replace(/\\/$/g, \"\"); // remove trailing \"/\"\r\n    const messageBusDestination = (span.attributes[MessageBusDestination] || \"unknown\") as string;\r\n\r\n    switch (span.kind) {\r\n        case SpanKind.CLIENT:\r\n            (<DependencyTelemetry>telemetry).dependencyTypeName = namespace;\r\n            (<DependencyTelemetry>telemetry).target = `${peerAddress}/${messageBusDestination}`;\r\n            break;\r\n        case SpanKind.PRODUCER:\r\n            (<DependencyTelemetry>telemetry).dependencyTypeName = `${DependencyTypeName.QueueMessage} | ${namespace}`;\r\n            (<DependencyTelemetry>telemetry).target = `${peerAddress}/${messageBusDestination}`;\r\n            break;\r\n        case SpanKind.CONSUMER:\r\n            (<RequestTelemetry>telemetry).source = `${peerAddress}/${messageBusDestination}`;\r\n            (<RequestTelemetry>telemetry).measurements = {\r\n                ...(<RequestTelemetry>telemetry).measurements,\r\n                [TIME_SINCE_ENQUEUED]: getTimeSinceEnqueued(span)\r\n            };\r\n            break;\r\n        default: // no op\r\n    }\r\n};", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nimport { URL } from \"url\";\r\nimport { SpanKind, SpanStatusCode, Link } from \"@opentelemetry/api\";\r\nimport { SemanticAttributes, DbSystemValues } from \"@opentelemetry/semantic-conventions\";\r\nimport { ReadableSpan } from \"@opentelemetry/sdk-trace-base\";\r\n\r\nimport * as Contracts from \"../../Declarations/Contracts\";\r\nimport * as Constants from \"../../Declarations/Constants\";\r\nimport { parseEventHubSpan } from \"./Azure/EventHub\";\r\nimport { DependencyTelemetry } from \"../../Declarations/Contracts\";\r\nimport Util = require(\"../../Library/Util\");\r\n\r\nfunction createPropertiesFromSpan(span: ReadableSpan): { [key: string]: any; } {\r\n    const properties: { [key: string]: any; } = {};\r\n    for (const key of Object.keys(span.attributes)) {\r\n        if (\r\n            !(\r\n                key.startsWith(\"http.\") ||\r\n                key.startsWith(\"rpc.\") ||\r\n                key.startsWith(\"db.\") ||\r\n                key.startsWith(\"peer.\") ||\r\n                key.startsWith(\"net.\")\r\n            )\r\n        ) {\r\n            properties[key] = span.attributes[key] as string;\r\n        }\r\n    }\r\n    const links: Array<{ operation_Id: string, id: string }> = span.links.map((link: Link) => ({\r\n        operation_Id: link.context.traceId,\r\n        id: link.context.spanId\r\n    }));\r\n    if (links.length > 0) {\r\n        properties[\"_MS.links\"] = Util.stringify(links);\r\n    }\r\n    return properties;\r\n}\r\n\r\nfunction isSqlDB(dbSystem: string) {\r\n    return (\r\n        dbSystem === DbSystemValues.DB2 ||\r\n        dbSystem === DbSystemValues.DERBY ||\r\n        dbSystem === DbSystemValues.MARIADB ||\r\n        dbSystem === DbSystemValues.MSSQL ||\r\n        dbSystem === DbSystemValues.ORACLE ||\r\n        dbSystem === DbSystemValues.SQLITE ||\r\n        dbSystem === DbSystemValues.OTHER_SQL ||\r\n        dbSystem === DbSystemValues.HSQLDB ||\r\n        dbSystem === DbSystemValues.H2\r\n    );\r\n}\r\n\r\nfunction getUrl(span: ReadableSpan): string {\r\n    const httpMethod = span.attributes[SemanticAttributes.HTTP_METHOD];\r\n    if (httpMethod) {\r\n        const httpUrl = span.attributes[SemanticAttributes.HTTP_URL];\r\n        if (httpUrl) {\r\n            return String(httpUrl);\r\n        } else {\r\n            const httpScheme = span.attributes[SemanticAttributes.HTTP_SCHEME];\r\n            const httpTarget = span.attributes[SemanticAttributes.HTTP_TARGET];\r\n            if (httpScheme && httpTarget) {\r\n                const httpHost = span.attributes[SemanticAttributes.HTTP_HOST];\r\n                if (httpHost) {\r\n                    return `${httpScheme}://${httpHost}${httpTarget}`;\r\n                } else {\r\n                    const netPeerPort = span.attributes[SemanticAttributes.NET_PEER_PORT];\r\n                    if (netPeerPort) {\r\n                        const netPeerName = span.attributes[SemanticAttributes.NET_PEER_NAME];\r\n                        if (netPeerName) {\r\n                            return `${httpScheme}://${netPeerName}:${netPeerPort}${httpTarget}`;\r\n                        } else {\r\n                            const netPeerIp = span.attributes[SemanticAttributes.NET_PEER_IP];\r\n                            if (netPeerIp) {\r\n                                return `${httpScheme}://${netPeerIp}:${netPeerPort}${httpTarget}`;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\n\r\nfunction getDependencyTarget(span: ReadableSpan): string {\r\n    const peerService = span.attributes[SemanticAttributes.PEER_SERVICE];\r\n    const httpHost = span.attributes[SemanticAttributes.HTTP_HOST];\r\n    const httpUrl = span.attributes[SemanticAttributes.HTTP_URL];\r\n    const netPeerName = span.attributes[SemanticAttributes.NET_PEER_NAME];\r\n    const netPeerIp = span.attributes[SemanticAttributes.NET_PEER_IP];\r\n    if (peerService) {\r\n        return String(peerService);\r\n    } else if (httpHost) {\r\n        return String(httpHost);\r\n    } else if (httpUrl) {\r\n        return String(httpUrl);\r\n    } else if (netPeerName) {\r\n        return String(netPeerName);\r\n    } else if (netPeerIp) {\r\n        return String(netPeerIp);\r\n    }\r\n    return \"\";\r\n}\r\n\r\nfunction createDependencyData(span: ReadableSpan): Contracts.DependencyTelemetry {\r\n    const remoteDependency: Contracts.DependencyTelemetry = {\r\n        name: span.name,\r\n        success: span.status.code != SpanStatusCode.ERROR,\r\n        resultCode: \"0\",\r\n        duration: 0,\r\n        data: \"\",\r\n        dependencyTypeName: \"\"\r\n    };\r\n    if (span.kind === SpanKind.PRODUCER) {\r\n        remoteDependency.dependencyTypeName = Constants.DependencyTypeName.QueueMessage;\r\n    }\r\n    if (span.kind === SpanKind.INTERNAL && span.parentSpanId) {\r\n        remoteDependency.dependencyTypeName = Constants.DependencyTypeName.InProc;\r\n    }\r\n\r\n    const httpMethod = span.attributes[SemanticAttributes.HTTP_METHOD];\r\n    const dbSystem = span.attributes[SemanticAttributes.DB_SYSTEM];\r\n    const rpcSystem = span.attributes[SemanticAttributes.RPC_SYSTEM];\r\n    // HTTP Dependency\r\n    if (httpMethod) {\r\n        remoteDependency.dependencyTypeName = Constants.DependencyTypeName.Http;\r\n        const httpUrl = span.attributes[SemanticAttributes.HTTP_URL];\r\n        if (httpUrl) {\r\n            var pathName = \"\";\r\n            try {\r\n                let dependencyUrl = new URL(String(httpUrl));\r\n                pathName = dependencyUrl.pathname;\r\n            }\r\n            catch (ex) {\r\n                // Ignore error\r\n            }\r\n            remoteDependency.name = `${httpMethod} ${pathName}`;\r\n        }\r\n        remoteDependency.data = getUrl(span);\r\n        const httpStatusCode = span.attributes[SemanticAttributes.HTTP_STATUS_CODE];\r\n        if (httpStatusCode) {\r\n            remoteDependency.resultCode = String(httpStatusCode);\r\n        }\r\n        let target = getDependencyTarget(span);\r\n        if (target) {\r\n            try {\r\n                // Remove default port\r\n                let portRegex = new RegExp(/(https?)(:\\/\\/.*)(:\\d+)(\\S*)/);\r\n                let res = portRegex.exec(target);\r\n                if (res != null) {\r\n                    let protocol = res[1];\r\n                    let port = res[3];\r\n                    if ((protocol == \"https\" && port == \":443\") || (protocol == \"http\" && port == \":80\")) {\r\n                        // Drop port\r\n                        target = res[1] + res[2] + res[4];\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                // Ignore error\r\n            }\r\n            remoteDependency.target = `${target}`;\r\n        }\r\n    }\r\n    // DB Dependency\r\n    else if (dbSystem) {\r\n        // TODO: Remove special logic when Azure UX supports OpenTelemetry dbSystem\r\n        if (String(dbSystem) === DbSystemValues.MYSQL) {\r\n            remoteDependency.dependencyTypeName = \"mysql\";\r\n        } else if (String(dbSystem) === DbSystemValues.POSTGRESQL) {\r\n            remoteDependency.dependencyTypeName = \"postgresql\";\r\n        } else if (String(dbSystem) === DbSystemValues.MONGODB) {\r\n            remoteDependency.dependencyTypeName = \"mongodb\";\r\n        } else if (String(dbSystem) === DbSystemValues.REDIS) {\r\n            remoteDependency.dependencyTypeName = \"redis\";\r\n        } else if (isSqlDB(String(dbSystem))) {\r\n            remoteDependency.dependencyTypeName = \"SQL\";\r\n        } else {\r\n            remoteDependency.dependencyTypeName = String(dbSystem);\r\n        }\r\n        const dbStatement = span.attributes[SemanticAttributes.DB_STATEMENT];\r\n        const dbOperation = span.attributes[SemanticAttributes.DB_OPERATION];\r\n        if (dbStatement) {\r\n            remoteDependency.data = String(dbStatement);\r\n        }\r\n        else if (dbOperation) {\r\n            remoteDependency.data = String(dbOperation);\r\n        }\r\n        let target = getDependencyTarget(span);\r\n        const dbName = span.attributes[SemanticAttributes.DB_NAME];\r\n        if (target) {\r\n            remoteDependency.target = dbName ? `${target}|${dbName}` : `${target}`;\r\n        } else {\r\n            remoteDependency.target = dbName ? `${dbName}` : `${dbSystem}`;\r\n        }\r\n    }\r\n    // grpc Dependency\r\n    else if (rpcSystem) {\r\n        remoteDependency.dependencyTypeName = Constants.DependencyTypeName.Grpc;\r\n        const grpcStatusCode = span.attributes[SemanticAttributes.RPC_GRPC_STATUS_CODE];\r\n        if (grpcStatusCode) {\r\n            remoteDependency.resultCode = String(grpcStatusCode);\r\n        }\r\n        let target = getDependencyTarget(span);\r\n        if (target) {\r\n            remoteDependency.target = `${target}`;\r\n        } else if (rpcSystem) {\r\n            remoteDependency.target = String(rpcSystem);\r\n        }\r\n    }\r\n    return remoteDependency;\r\n}\r\n\r\nfunction createRequestData(span: ReadableSpan): Contracts.RequestTelemetry {\r\n    const requestData: Contracts.RequestTelemetry = {\r\n        name: span.name,\r\n        success: span.status.code != SpanStatusCode.ERROR,\r\n        resultCode: \"0\",\r\n        duration: 0,\r\n        url: \"\",\r\n        source: undefined\r\n    };\r\n    const httpMethod = span.attributes[SemanticAttributes.HTTP_METHOD];\r\n    const grpcStatusCode = span.attributes[SemanticAttributes.RPC_GRPC_STATUS_CODE];\r\n    if (httpMethod) {\r\n        // Try to get request name for server spans\r\n        if (span.kind == SpanKind.SERVER) {\r\n            const httpRoute = span.attributes[SemanticAttributes.HTTP_ROUTE];\r\n            const httpUrl = span.attributes[SemanticAttributes.HTTP_URL];\r\n            if (httpRoute) {\r\n                requestData.name = `${httpMethod as string} ${httpRoute as string}`;\r\n            }\r\n            else if (httpUrl) {\r\n                try {\r\n                    let url = new URL(String(httpUrl));\r\n                    requestData.name = `${httpMethod} ${url.pathname}`;\r\n                }\r\n                catch (ex) {\r\n                    // Ignore error\r\n                }\r\n            }\r\n        }\r\n        requestData.url = getUrl(span);\r\n        const httpStatusCode = span.attributes[SemanticAttributes.HTTP_STATUS_CODE];\r\n        if (httpStatusCode) {\r\n            requestData.resultCode = String(httpStatusCode);\r\n        }\r\n    } else if (grpcStatusCode) {\r\n        requestData.resultCode = String(grpcStatusCode);\r\n    }\r\n    return requestData;\r\n}\r\n\r\nexport function spanToTelemetryContract(span: ReadableSpan): (Contracts.DependencyTelemetry | Contracts.RequestTelemetry) & Contracts.Identified {\r\n    let telemetry: (Contracts.DependencyTelemetry | Contracts.RequestTelemetry) & Contracts.Identified;\r\n    switch (span.kind) {\r\n        case SpanKind.CLIENT:\r\n        case SpanKind.PRODUCER:\r\n        case SpanKind.INTERNAL:\r\n            telemetry = createDependencyData(span);\r\n            break;\r\n        case SpanKind.SERVER:\r\n        case SpanKind.CONSUMER:\r\n            telemetry = createRequestData(span);\r\n            break;\r\n    }\r\n\r\n    const spanContext = span.spanContext ? span.spanContext() : (<any>span).context(); // context is available in OT API <v0.19.0\r\n    const id = `${spanContext.spanId}`;\r\n    const duration = Math.round(span.duration[0] * 1e3 + span.duration[1] / 1e6);\r\n    telemetry.id = id;\r\n    telemetry.duration = duration;\r\n    telemetry.properties = createPropertiesFromSpan(span);\r\n\r\n    // Azure SDK\r\n    if (span.attributes[Constants.AzNamespace]) {\r\n        if (span.kind === SpanKind.INTERNAL) {\r\n            (<DependencyTelemetry>telemetry).dependencyTypeName = `${Constants.DependencyTypeName.InProc} | ${span.attributes[Constants.AzNamespace]}`\r\n        }\r\n        if (span.attributes[Constants.AzNamespace] === Constants.MicrosoftEventHub) {\r\n            parseEventHubSpan(span, telemetry);\r\n        }\r\n    }\r\n    return telemetry;\r\n}\r\n", "import { SpanContext } from \"@opentelemetry/api\";\r\nimport { Span } from \"@opentelemetry/sdk-trace-base\";\r\n\r\nimport { CorrelationContextManager, CorrelationContext } from \"./CorrelationContextManager\"\r\nimport { EventEmitter } from \"events\";\r\n\r\nexport class OpenTelemetryScopeManagerWrapper {\r\n    private _activeSymbol: symbol | undefined;\r\n\r\n    public active() {\r\n        const context = CorrelationContextManager.getCurrentContext() as any;\r\n        return {\r\n            ...context,\r\n            getValue: (key: symbol) => {\r\n                // todo: lazy import activeSymbol from opentelemetry/api\r\n                if (!this._activeSymbol) {\r\n                    this._activeSymbol = key;\r\n                    return context;\r\n                }\r\n\r\n                if (key === this._activeSymbol) {\r\n                    return context;\r\n                }\r\n                return false;\r\n            },\r\n            setValue: () => { }\r\n        };\r\n    }\r\n\r\n    public with(span: Span, fn: () => any) {\r\n        const parentSpanId = span.parentSpanId;\r\n        const name = span.name;\r\n        const correlationContext = OpenTelemetryScopeManagerWrapper._spanToContext(span, parentSpanId, name);\r\n        return CorrelationContextManager.runWithContext(correlationContext, fn)();\r\n    }\r\n\r\n    public bind<T>(target: T): T {\r\n        if (typeof target === \"function\") {\r\n            return CorrelationContextManager.wrapCallback(target);\r\n        } else if (target instanceof EventEmitter) {\r\n            CorrelationContextManager.wrapEmitter(target);\r\n        }\r\n        return target;\r\n    }\r\n\r\n    public enable(): this {\r\n        CorrelationContextManager.enable();\r\n        return this;\r\n    }\r\n\r\n    public disable(): this {\r\n        CorrelationContextManager.disable();\r\n        return this;\r\n    }\r\n\r\n    private static _spanToContext(span: Span, parentSpanId?: string, name?: string): CorrelationContext {\r\n        const spanContext = span.spanContext ? span.spanContext() : (<any>span).context(); // context is available in OT API <v0.19.0\r\n        const context: SpanContext = {\r\n            ...span.spanContext(),\r\n            traceFlags: span.spanContext().traceFlags\r\n        };\r\n        let parentId = parentSpanId ? `|${spanContext.traceId}.${parentSpanId}.` : spanContext.traceId;\r\n        const aiContext = CorrelationContextManager.getCurrentContext();\r\n        if (aiContext) {\r\n            context.traceId = aiContext.operation.id;\r\n            // If parent is no available use current context\r\n            if (!parentSpanId) {\r\n                parentId = aiContext.operation.parentId;\r\n            }\r\n        }\r\n        const correlationContext = CorrelationContextManager.spanToContextObject(context, parentId, name)\r\n        return correlationContext;\r\n    }\r\n}\r\n\r\nexport const AsyncScopeManager = new OpenTelemetryScopeManagerWrapper();\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nimport { Span } from \"@opentelemetry/sdk-trace-base\";\r\nimport { SpanKind } from \"@opentelemetry/api\";\r\n\r\nimport TelemetryClient = require(\"../../Library/TelemetryClient\");\r\nimport { StatsbeatInstrumentation } from \"../../Declarations/Constants\";\r\nimport { channel, IStandardEvent, trueFilter } from \"diagnostic-channel\";\r\n\r\nimport * as SpanParser from \"./SpanParser\";\r\nimport { AsyncScopeManager } from \"../AsyncHooksScopeManager\";\r\nimport { DependencyTelemetry, RequestTelemetry } from \"../../Declarations/Contracts\";\r\n\r\nlet clients: TelemetryClient[] = [];\r\n\r\nexport const subscriber = (event: IStandardEvent<Span>) => {\r\n    try {\r\n        const span = event.data;\r\n        const telemetry = SpanParser.spanToTelemetryContract(span);\r\n        AsyncScopeManager.with(span, () => {\r\n            clients.forEach((client) => {\r\n                if (span.kind === SpanKind.SERVER || span.kind === SpanKind.CONSUMER) {\r\n                    client.trackRequest(<RequestTelemetry>telemetry);\r\n                } else if (span.kind === SpanKind.CLIENT || span.kind === SpanKind.INTERNAL || span.kind === SpanKind.PRODUCER) {\r\n                    client.trackDependency(<DependencyTelemetry>telemetry);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    catch (err) { { /** ignore errors */ } }\r\n};\r\n\r\nexport function enable(enabled: boolean, client: TelemetryClient) {\r\n    if (enabled) {\r\n        let clientFound = clients.find(c => c == client);\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            channel.subscribe<any>(\"azure-coretracing\", subscriber, trueFilter, (module, version) => {\r\n                let statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(StatsbeatInstrumentation.AZURE_CORE_TRACING);\r\n                }\r\n            });\r\n\r\n        }\r\n        clients.push(client);\r\n    } else {\r\n        clients = clients.filter((c) => c != client);\r\n        if (clients.length === 0) {\r\n            channel.unsubscribe(\"azure-coretracing\", subscriber);\r\n        }\r\n    }\r\n}\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nimport TelemetryClient = require(\"../../Library/TelemetryClient\");\r\nimport { StatsbeatInstrumentation } from \"../../Declarations/Constants\";\r\nimport { channel, IStandardEvent, trueFilter } from \"diagnostic-channel\";\r\n\r\nimport { mongodb } from \"diagnostic-channel-publishers\";\r\n\r\nlet clients: TelemetryClient[] = [];\r\n\r\nexport const subscriber = (event: IStandardEvent<mongodb.IMongoData>) => {\r\n    if (event.data.event.commandName === \"ismaster\") {\r\n        // suppress noisy ismaster commands\r\n        return;\r\n    }\r\n    clients.forEach((client) => {\r\n        const dbName = (event.data.startedData && event.data.startedData.databaseName) || \"Unknown database\";\r\n        client.trackDependency(\r\n            {\r\n                target: dbName,\r\n                data: event.data.event.commandName,\r\n                name: event.data.event.commandName,\r\n                duration: event.data.event.duration,\r\n                success: event.data.succeeded,\r\n                /* TODO: transmit result code from mongo */\r\n                resultCode: event.data.succeeded ? \"0\" : \"1\",\r\n                time: event.data.startedData.time,\r\n                dependencyTypeName: \"mongodb\"\r\n            });\r\n    });\r\n};\r\n\r\nexport function enable(enabled: boolean, client: TelemetryClient) {\r\n    if (enabled) {\r\n        let clientFound = clients.find(c => c == client);\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            channel.subscribe<mongodb.IMongoData>(\"mongodb\", subscriber, trueFilter, (module, version) => {\r\n                let statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(StatsbeatInstrumentation.MONGODB);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    } else {\r\n        clients = clients.filter((c) => c != client);\r\n        if (clients.length === 0) {\r\n            channel.unsubscribe(\"mongodb\", subscriber);\r\n        }\r\n    }\r\n}\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nimport TelemetryClient = require(\"../../Library/TelemetryClient\");\r\nimport { StatsbeatInstrumentation } from \"../../Declarations/Constants\";\r\nimport {channel, IStandardEvent, trueFilter} from \"diagnostic-channel\";\r\n\r\nimport {mysql} from \"diagnostic-channel-publishers\";\r\n\r\nlet clients: TelemetryClient[] = [];\r\n\r\nexport const subscriber = (event: IStandardEvent<mysql.IMysqlData>) => {\r\n    clients.forEach((client) => {\r\n        const queryObj = event.data.query || {};\r\n        const sqlString = queryObj.sql || \"Unknown query\";\r\n        const success = !event.data.err;\r\n\r\n        const connection = queryObj._connection || {};\r\n        const connectionConfig = connection.config || {};\r\n        const dbName = connectionConfig.socketPath ? connectionConfig.socketPath : `${connectionConfig.host || \"localhost\"}:${connectionConfig.port}`;\r\n        client.trackDependency(\r\n            {\r\n                target: dbName,\r\n                data: sqlString,\r\n                name: sqlString,\r\n                duration: event.data.duration,\r\n                success: success,\r\n                /* TODO: transmit result code from mysql */\r\n                resultCode: success? \"0\": \"1\",\r\n                time: event.data.time,\r\n                dependencyTypeName: \"mysql\"\r\n            });\r\n    });\r\n};\r\n\r\nexport function enable(enabled: boolean, client: TelemetryClient) {\r\n    if (enabled) {\r\n        let clientFound = clients.find(c => c == client);\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            channel.subscribe<mysql.IMysqlData>(\"mysql\", subscriber, trueFilter, (module, version) => {\r\n                let statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(StatsbeatInstrumentation.MYSQL);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    } else {\r\n        clients = clients.filter((c) => c != client);\r\n        if (clients.length === 0) {\r\n            channel.unsubscribe(\"mysql\", subscriber);\r\n        }\r\n    }\r\n}\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nimport TelemetryClient = require(\"../../Library/TelemetryClient\");\r\nimport { StatsbeatInstrumentation } from \"../../Declarations/Constants\";\r\nimport { channel, IStandardEvent, trueFilter } from \"diagnostic-channel\";\r\n\r\nimport { redis } from \"diagnostic-channel-publishers\";\r\n\r\nlet clients: TelemetryClient[] = [];\r\n\r\nexport const subscriber = (event: IStandardEvent<redis.IRedisData>) => {\r\n    clients.forEach((client) => {\r\n        if (event.data.commandObj.command === \"info\") {\r\n            // We don't want to report 'info', it's irrelevant\r\n            return;\r\n        }\r\n        client.trackDependency(\r\n            {\r\n                target: event.data.address,\r\n                name: event.data.commandObj.command,\r\n                data: event.data.commandObj.command,\r\n                duration: event.data.duration,\r\n                success: !event.data.err,\r\n                /* TODO: transmit result code from redis */\r\n                resultCode: event.data.err ? \"1\" : \"0\",\r\n                time: event.data.time,\r\n                dependencyTypeName: \"redis\"\r\n            });\r\n\r\n    });\r\n};\r\n\r\nexport function enable(enabled: boolean, client: TelemetryClient) {\r\n    if (enabled) {\r\n        let clientFound = clients.find(c => c == client);\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            channel.subscribe<redis.IRedisData>(\"redis\", subscriber, trueFilter, (module, version) => {\r\n                let statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(StatsbeatInstrumentation.REDIS);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    } else {\r\n        clients = clients.filter((c) => c != client);\r\n        if (clients.length === 0) {\r\n            channel.unsubscribe(\"redis\", subscriber);\r\n        }\r\n    }\r\n}\r\n", "// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nimport TelemetryClient = require(\"../../Library/TelemetryClient\");\r\nimport { StatsbeatInstrumentation } from \"../../Declarations/Constants\";\r\nimport { channel, IStandardEvent, trueFilter } from \"diagnostic-channel\";\r\n\r\nimport { pg } from \"diagnostic-channel-publishers\";\r\n\r\nlet clients: TelemetryClient[] = [];\r\n\r\nexport const subscriber = (event: IStandardEvent<pg.IPostgresData>) => {\r\n    clients.forEach((client) => {\r\n        const q = event.data.query;\r\n        const sql = (q.preparable && q.preparable.text) || q.plan || q.text || \"unknown query\";\r\n        const success = !event.data.error;\r\n        const conn = `${event.data.database.host}:${event.data.database.port}`;\r\n        client.trackDependency({\r\n            target: conn,\r\n            data: sql,\r\n            name: sql,\r\n            duration: event.data.duration,\r\n            success: success,\r\n            resultCode: success ? \"0\" : \"1\",\r\n            time: event.data.time,\r\n            dependencyTypeName: \"postgres\"\r\n        });\r\n    });\r\n};\r\n\r\nexport function enable(enabled: boolean, client: TelemetryClient) {\r\n    if (enabled) {\r\n        let clientFound = clients.find(c => c == client);\r\n        if (clientFound) {\r\n            return;\r\n        }\r\n        if (clients.length === 0) {\r\n            channel.subscribe<pg.IPostgresData>(\"postgres\", subscriber, trueFilter, (module, version) => {\r\n                let statsbeat = client.getStatsbeat();\r\n                if (statsbeat) {\r\n                    statsbeat.addInstrumentation(StatsbeatInstrumentation.POSTGRES);\r\n                }\r\n            });\r\n        }\r\n        clients.push(client);\r\n    } else {\r\n        clients = clients.filter((c) => c != client);\r\n        if (clients.length === 0) {\r\n            channel.unsubscribe(\"postgres\", subscriber);\r\n        }\r\n    }\r\n}\r\n", "import http = require(\"http\");\r\nimport https = require(\"https\");\r\nimport Contracts = require(\"../Declarations/Contracts\");\r\nimport TelemetryClient = require(\"../Library/TelemetryClient\");\r\nimport Logging = require(\"../Library/Logging\");\r\nimport Util = require(\"../Library/Util\");\r\nimport RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nimport HttpDependencyParser = require(\"./HttpDependencyParser\");\r\nimport { CorrelationContextManager, PrivateCustomProperties } from \"./CorrelationContextManager\";\r\nimport Traceparent = require(\"../Library/Traceparent\");\r\nimport * as DiagChannel from \"./diagnostic-channel/initialization\";\r\nimport CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\n\r\nclass AutoCollectHttpDependencies {\r\n    public static disableCollectionRequestOption = \"disableAppInsightsAutoCollection\";\r\n\r\n    public static INSTANCE: AutoCollectHttpDependencies;\r\n\r\n    private static requestNumber = 1;\r\n    private static alreadyAutoCollectedFlag = \"_appInsightsAutoCollected\";\r\n\r\n    private _client: TelemetryClient;\r\n    private _isEnabled: boolean;\r\n    private _isInitialized: boolean;\r\n\r\n    constructor(client: TelemetryClient) {\r\n        if (!!AutoCollectHttpDependencies.INSTANCE) {\r\n            throw new Error(\"Client request tracking should be configured from the applicationInsights object\");\r\n        }\r\n\r\n        AutoCollectHttpDependencies.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n\r\n    public enable(isEnabled: boolean) {\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._initialize();\r\n        }\r\n        if (DiagChannel.IsInitialized) {\r\n            require(\"./diagnostic-channel/azure-coretracing.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/mongodb.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/mysql.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/redis.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/postgres.sub\").enable(isEnabled, this._client);\r\n        }\r\n    }\r\n\r\n    public isInitialized() {\r\n        return this._isInitialized;\r\n    }\r\n\r\n    private _initialize() {\r\n        this._isInitialized = true;\r\n\r\n        const originalRequest = http.request;\r\n        const originalHttpsRequest = https.request;\r\n\r\n        const clientRequestPatch = (request: http.ClientRequest, options: string | URL | http.RequestOptions | https.RequestOptions) => {\r\n            try {\r\n                var shouldCollect = !(<any>options)[AutoCollectHttpDependencies.disableCollectionRequestOption] &&\r\n                    !(<any>request)[AutoCollectHttpDependencies.alreadyAutoCollectedFlag];\r\n\r\n                // If someone else patched traceparent headers onto this request\r\n                let userAgentHeader = null;\r\n\r\n                // Azure SDK special handling\r\n                if ((<any>options).headers) {\r\n                    userAgentHeader = (<any>options).headers[\"User-Agent\"] || (<any>options).headers[\"user-agent\"];\r\n                    if (userAgentHeader && userAgentHeader.toString().indexOf(\"azsdk-js\") !== -1) {\r\n                        shouldCollect = false;\r\n                    }\r\n                }\r\n\r\n                if (request && options && shouldCollect) {\r\n                    CorrelationContextManager.wrapEmitter(request);\r\n                    if (this._isEnabled) {\r\n                        // Mark as auto collected\r\n                        (<any>request)[AutoCollectHttpDependencies.alreadyAutoCollectedFlag] = true;\r\n\r\n                        // If there is no context create one, this apply when no request is triggering the dependency\r\n                        if (!CorrelationContextManager.getCurrentContext()) {\r\n                            // Create correlation context and wrap execution\r\n                            let operationId = null;\r\n                            if (CorrelationIdManager.w3cEnabled) {\r\n                                let traceparent = new Traceparent();\r\n                                operationId = traceparent.traceId;\r\n                            }\r\n                            else {\r\n                                let requestId = CorrelationIdManager.generateRequestId(null);\r\n                                operationId = CorrelationIdManager.getRootId(requestId);\r\n                            }\r\n                            let correlationContext = CorrelationContextManager.generateContextObject(operationId);\r\n                            CorrelationContextManager.runWithContext(correlationContext, () => {\r\n                                AutoCollectHttpDependencies.trackRequest(this._client, { options: options, request: request });\r\n                            });\r\n                        }\r\n                        else {\r\n                            AutoCollectHttpDependencies.trackRequest(this._client, { options: options, request: request });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            catch (err) {\r\n                Logging.warn(\"Failed to generate dependency telemetry.\", Util.dumpObj(err));\r\n            }\r\n\r\n        };\r\n\r\n        // On node >= v0.11.12 and < 9.0 (excluding 8.9.0) https.request just calls http.request (with additional options).\r\n        // On node < 0.11.12, 8.9.0, and 9.0 > https.request is handled separately\r\n        // Patch both and leave a flag to not double-count on versions that just call through\r\n        // We add the flag to both http and https to protect against strange double collection in other scenarios\r\n        http.request = (options, ...requestArgs: any[]) => {\r\n            const request: http.ClientRequest = originalRequest.call(http, options, ...requestArgs);\r\n            clientRequestPatch(request, options);\r\n            return request;\r\n        };\r\n\r\n        https.request = (options, ...requestArgs: any[]) => {\r\n            const request: http.ClientRequest = originalHttpsRequest.call(https, options, ...requestArgs);\r\n            clientRequestPatch(request, options);\r\n            return request;\r\n        };\r\n\r\n        // Node 8 calls http.request from http.get using a local reference!\r\n        // We have to patch .get manually in this case and can't just assume request is enough\r\n        // We have to replace the entire method in this case. We can't call the original.\r\n        // This is because calling the original will give us no chance to set headers as it internally does .end().\r\n        http.get = (options, ...requestArgs: any[]) => {\r\n            const request: http.ClientRequest = http.request.call(http, options, ...requestArgs);\r\n            request.end();\r\n            return request;\r\n        };\r\n        https.get = (options, ...requestArgs: any[]) => {\r\n            const request: http.ClientRequest = https.request.call(https, options, ...requestArgs);\r\n            request.end();\r\n            return request;\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Tracks an outgoing request. Because it may set headers this method must be called before\r\n     * writing content to or ending the request.\r\n     */\r\n    public static trackRequest(client: TelemetryClient, telemetry: Contracts.NodeHttpDependencyTelemetry) {\r\n        if (!telemetry.options || !telemetry.request || !client) {\r\n            Logging.info(\"AutoCollectHttpDependencies.trackRequest was called with invalid parameters: \", !telemetry.options, !telemetry.request, !client);\r\n            return;\r\n        }\r\n\r\n        let requestParser = new HttpDependencyParser(telemetry.options, telemetry.request);\r\n\r\n        const currentContext = CorrelationContextManager.getCurrentContext();\r\n        let uniqueRequestId: string;\r\n        let uniqueTraceparent: string;\r\n        if (currentContext && currentContext.operation && currentContext.operation.traceparent && Traceparent.isValidTraceId(currentContext.operation.traceparent.traceId)) {\r\n            currentContext.operation.traceparent.updateSpanId();\r\n            uniqueRequestId = currentContext.operation.traceparent.getBackCompatRequestId();\r\n        } else if (CorrelationIdManager.w3cEnabled) {\r\n            // Start an operation now so that we can include the w3c headers in the outgoing request\r\n            const traceparent = new Traceparent();\r\n            uniqueTraceparent = traceparent.toString();\r\n            uniqueRequestId = traceparent.getBackCompatRequestId();\r\n        } else {\r\n            uniqueRequestId = currentContext && currentContext.operation && (currentContext.operation.parentId + AutoCollectHttpDependencies.requestNumber++ + \".\");\r\n        }\r\n\r\n        // Add the source correlationId to the request headers, if a value was not already provided.\r\n        // The getHeader/setHeader methods aren't available on very old Node versions, and\r\n        // are not included in the v0.10 type declarations currently used. So check if the\r\n        // methods exist before invoking them.\r\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl()) && telemetry.request.getHeader && telemetry.request.setHeader) {\r\n            if (client.config && client.config.correlationId) {\r\n                // getHeader returns \"any\" type in newer versions of node. In basic scenarios, this will be <string | string[] | number>, but could be modified to anything else via middleware\r\n                const correlationHeader = <any>telemetry.request.getHeader(RequestResponseHeaders.requestContextHeader)\r\n                try {\r\n                    Util.safeIncludeCorrelationHeader(client, telemetry.request, correlationHeader);\r\n                } catch (err) {\r\n                    Logging.warn(\"Request-Context header could not be set. Correlation of requests may be lost\", err);\r\n                }\r\n\r\n                if (currentContext && currentContext.operation) {\r\n                    try {\r\n                        telemetry.request.setHeader(RequestResponseHeaders.requestIdHeader, uniqueRequestId);\r\n                        // Also set legacy headers\r\n                        if (!client.config.ignoreLegacyHeaders) {\r\n                            telemetry.request.setHeader(RequestResponseHeaders.parentIdHeader, currentContext.operation.id);\r\n                            telemetry.request.setHeader(RequestResponseHeaders.rootIdHeader, uniqueRequestId);\r\n                        }\r\n\r\n                        // Set W3C headers, if available\r\n                        if (uniqueTraceparent || currentContext.operation.traceparent) {\r\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, uniqueTraceparent || currentContext.operation.traceparent.toString());\r\n                        } else if (CorrelationIdManager.w3cEnabled) {\r\n                            // should never get here since we set uniqueTraceparent above for the w3cEnabled scenario\r\n                            const traceparent = new Traceparent().toString();\r\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, traceparent);\r\n                        }\r\n                        if (currentContext.operation.tracestate) {\r\n                            const tracestate = currentContext.operation.tracestate.toString();\r\n                            if (tracestate) {\r\n                                telemetry.request.setHeader(RequestResponseHeaders.traceStateHeader, tracestate);\r\n                            }\r\n                        }\r\n\r\n                        const correlationContextHeader = (<PrivateCustomProperties>currentContext.customProperties).serializeToHeader();\r\n                        if (correlationContextHeader) {\r\n                            telemetry.request.setHeader(RequestResponseHeaders.correlationContextHeader, correlationContextHeader);\r\n                        }\r\n                    } catch (err) {\r\n                        Logging.warn(\"Correlation headers could not be set. Correlation of requests may be lost.\", err);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Collect dependency telemetry about the request when it finishes.\r\n        if (telemetry.request.on) {\r\n            telemetry.request.on(\"response\", (response: http.ClientResponse) => {\r\n                if (telemetry.isProcessed) {\r\n                    return;\r\n                }\r\n                telemetry.isProcessed = true;\r\n                requestParser.onResponse(response);\r\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\r\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\r\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\r\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\r\n                dependencyTelemetry.contextObjects[\"http.ClientResponse\"] = response;\r\n\r\n                client.trackDependency(dependencyTelemetry);\r\n            });\r\n            telemetry.request.on(\"error\", (error: Error) => {\r\n                if (telemetry.isProcessed) {\r\n                    return;\r\n                }\r\n                telemetry.isProcessed = true;\r\n                requestParser.onError(error);\r\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\r\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\r\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\r\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\r\n                dependencyTelemetry.contextObjects[\"Error\"] = error;\r\n\r\n                client.trackDependency(dependencyTelemetry);\r\n            });\r\n            telemetry.request.on(\"abort\", () => {\r\n                if (telemetry.isProcessed) {\r\n                    return;\r\n                }\r\n                telemetry.isProcessed = true;\r\n                requestParser.onError(new Error(\"The request has been aborted and the network socket has closed.\"));\r\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\r\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\r\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\r\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\r\n\r\n                client.trackDependency(dependencyTelemetry);\r\n            });\r\n        }\r\n    }\r\n\r\n    public dispose() {\r\n        AutoCollectHttpDependencies.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    }\r\n}\r\n\r\nexport = AutoCollectHttpDependencies;\r\n", "import http = require(\"http\");\r\nimport https = require(\"https\");\r\n\r\nimport Contracts = require(\"../Declarations/Contracts\");\r\nimport TelemetryClient = require(\"../Library/TelemetryClient\");\r\nimport Logging = require(\"../Library/Logging\");\r\nimport Util = require(\"../Library/Util\");\r\nimport RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nimport HttpRequestParser = require(\"./HttpRequestParser\");\r\nimport { CorrelationContextManager, CorrelationContext, PrivateCustomProperties } from \"./CorrelationContextManager\";\r\nimport AutoCollectPerformance = require(\"./Performance\");\r\n\r\nclass AutoCollectHttpRequests {\r\n\r\n    public static INSTANCE: AutoCollectHttpRequests;\r\n    private static HANDLER_READY: boolean = false;\r\n\r\n    private static alreadyAutoCollectedFlag = \"_appInsightsAutoCollected\";\r\n\r\n    private _client: TelemetryClient;\r\n    private _isEnabled: boolean;\r\n    private _isInitialized: boolean;\r\n    private _isAutoCorrelating: boolean;\r\n\r\n    constructor(client: TelemetryClient) {\r\n        if (!!AutoCollectHttpRequests.INSTANCE) {\r\n            throw new Error(\"Server request tracking should be configured from the applicationInsights object\");\r\n        }\r\n\r\n        AutoCollectHttpRequests.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n\r\n    public enable(isEnabled: boolean) {\r\n        this._isEnabled = isEnabled;\r\n\r\n        // Autocorrelation requires automatic monitoring of incoming server requests\r\n        // Disabling autocollection but enabling autocorrelation will still enable\r\n        // request monitoring but will not produce request events\r\n        if ((this._isAutoCorrelating || this._isEnabled || AutoCollectPerformance.isEnabled()) && !this._isInitialized) {\r\n            this.useAutoCorrelation(this._isAutoCorrelating);\r\n            this._initialize();\r\n        }\r\n    }\r\n\r\n    public useAutoCorrelation(isEnabled: boolean, forceClsHooked?: boolean) {\r\n        if (isEnabled && !this._isAutoCorrelating) {\r\n            CorrelationContextManager.enable(forceClsHooked);\r\n        } else if (!isEnabled && this._isAutoCorrelating) {\r\n            CorrelationContextManager.disable();\r\n        }\r\n        this._isAutoCorrelating = isEnabled;\r\n    }\r\n\r\n    public isInitialized() {\r\n        return this._isInitialized;\r\n    }\r\n\r\n    public isAutoCorrelating() {\r\n        return this._isAutoCorrelating;\r\n    }\r\n\r\n    private _generateCorrelationContext(requestParser: HttpRequestParser): CorrelationContext {\r\n        if (!this._isAutoCorrelating) {\r\n            return;\r\n        }\r\n\r\n        return CorrelationContextManager.generateContextObject(\r\n            requestParser.getOperationId(this._client.context.tags),\r\n            requestParser.getRequestId(),\r\n            requestParser.getOperationName(this._client.context.tags),\r\n            requestParser.getCorrelationContextHeader(),\r\n            requestParser.getTraceparent(),\r\n            requestParser.getTracestate()\r\n        );\r\n    }\r\n\r\n    private _registerRequest(request: http.ServerRequest, response: http.ServerResponse, onRequest: Function) {\r\n        // Set up correlation context\r\n        const requestParser = new HttpRequestParser(request);\r\n        const correlationContext = this._generateCorrelationContext(requestParser);\r\n\r\n        // Note: Check for if correlation is enabled happens within this method.\r\n        // If not enabled, function will directly call the callback.\r\n        CorrelationContextManager.runWithContext(correlationContext, () => {\r\n            if (this._isEnabled) {\r\n                // Mark as auto collected\r\n                (<any>request)[AutoCollectHttpRequests.alreadyAutoCollectedFlag] = true;\r\n\r\n                // Auto collect request\r\n                AutoCollectHttpRequests.trackRequest(this._client, { request: request, response: response }, requestParser);\r\n            }\r\n\r\n            if (typeof onRequest === \"function\") {\r\n                onRequest(request, response);\r\n            }\r\n        });\r\n    }\r\n\r\n    private _initialize() {\r\n        this._isInitialized = true;\r\n\r\n        // Avoid the creation of multiple handler on http(s).createServer\r\n        if (AutoCollectHttpRequests.HANDLER_READY) {\r\n            return;\r\n        }\r\n\r\n        AutoCollectHttpRequests.HANDLER_READY = true;\r\n\r\n        const wrapOnRequestHandler: Function = (onRequest?: Function) => {\r\n            if (!onRequest) {\r\n                return undefined;\r\n            }\r\n            if (typeof onRequest !== \"function\") {\r\n                throw new Error(\"onRequest handler must be a function\");\r\n            }\r\n            return (request: http.ServerRequest, response: http.ServerResponse) => {\r\n                CorrelationContextManager.wrapEmitter(request);\r\n                CorrelationContextManager.wrapEmitter(response);\r\n                const shouldCollect: boolean = request && !(<any>request)[AutoCollectHttpRequests.alreadyAutoCollectedFlag];\r\n\r\n                if (request && shouldCollect) {\r\n                    AutoCollectHttpRequests.INSTANCE?._registerRequest(request, response, onRequest)\r\n                } else {\r\n                    if (typeof onRequest === \"function\") {\r\n                        onRequest(request, response);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        // The `http.createServer` function will instantiate a new http.Server object.\r\n        // Inside the Server's constructor, it is using addListener to register the\r\n        // onRequest handler. So there are two ways to inject the wrapped onRequest handler:\r\n        // 1) Overwrite Server.prototype.addListener (and .on()) globally and not patching\r\n        //    the http.createServer call. Or\r\n        // 2) Overwrite the http.createServer method and add a patched addListener to the\r\n        //    fresh server instance. This seems more stable for possible future changes as\r\n        //    it also covers the case where the Server might not use addListener to manage\r\n        //    the callback internally.\r\n        //    And also as long as the constructor uses addListener to add the handle, it is\r\n        //    ok to patch the addListener after construction only. Because if we would patch\r\n        //    the prototype one and the createServer method, we would wrap the handler twice\r\n        //    in case of the constructor call.\r\n        const wrapServerEventHandler: Function = (server: (http.Server | https.Server)) => {\r\n            const originalAddListener = server.addListener.bind(server);\r\n            server.addListener = (eventType: string, eventHandler: Function) => {\r\n                switch (eventType) {\r\n                    case \"request\":\r\n                    case \"checkContinue\":\r\n                        return originalAddListener(eventType, wrapOnRequestHandler(eventHandler));\r\n                    default:\r\n                        return originalAddListener(eventType, eventHandler);\r\n                }\r\n            };\r\n            // on is an alias to addListener only\r\n            server.on = server.addListener;\r\n        };\r\n\r\n        const originalHttpServer: any = http.createServer;\r\n\r\n        // options parameter was added in Node.js v9.6.0, v8.12.0\r\n        // function createServer(requestListener?: RequestListener): Server;\r\n        // function createServer(options: ServerOptions, requestListener?: RequestListener): Server;\r\n        http.createServer = (param1?: Object, param2?: Function) => {\r\n            // todo: get a pointer to the server so the IP address can be read from server.address\r\n            if (param2 && typeof param2 === \"function\") {\r\n                const server: http.Server = originalHttpServer(param1, wrapOnRequestHandler(param2));\r\n                wrapServerEventHandler(server);\r\n                return server;\r\n            }\r\n            else {\r\n                const server: http.Server = originalHttpServer(wrapOnRequestHandler(param1));\r\n                wrapServerEventHandler(server);\r\n                return server;\r\n            }\r\n        };\r\n\r\n        const originalHttpsServer = https.createServer;\r\n        https.createServer = (options: https.ServerOptions, onRequest?: Function) => {\r\n            const server: https.Server = originalHttpsServer(options, wrapOnRequestHandler(onRequest));\r\n            wrapServerEventHandler(server);\r\n            return server;\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Tracks a request synchronously (doesn't wait for response 'finish' event)\r\n     */\r\n    public static trackRequestSync(client: TelemetryClient, telemetry: Contracts.NodeHttpRequestTelemetry) {\r\n        if (!telemetry.request || !telemetry.response || !client) {\r\n            Logging.info(\"AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\r\n            return;\r\n        }\r\n        telemetry.isProcessed = false;\r\n        AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\r\n\r\n        // store data about the request\r\n        var correlationContext = CorrelationContextManager.getCurrentContext();\r\n        var requestParser = new HttpRequestParser(telemetry.request, (correlationContext && correlationContext.operation.parentId));\r\n\r\n        // Overwrite correlation context with request parser results\r\n        if (correlationContext) {\r\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\r\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\r\n            correlationContext.operation.parentId = requestParser.getRequestId() || correlationContext.operation.parentId;\r\n            (<PrivateCustomProperties>correlationContext.customProperties).addHeaderData(requestParser.getCorrelationContextHeader());\r\n        }\r\n\r\n        AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, telemetry.duration, telemetry.error);\r\n    }\r\n\r\n    /**\r\n     * Tracks a request by listening to the response 'finish' event\r\n     */\r\n    public static trackRequest(client: TelemetryClient, telemetry: Contracts.NodeHttpRequestTelemetry, _requestParser?: HttpRequestParser) {\r\n        if (!telemetry.request || !telemetry.response || !client) {\r\n            Logging.info(\"AutoCollectHttpRequests.trackRequest was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\r\n            return;\r\n        }\r\n        telemetry.isProcessed = false;\r\n        // store data about the request\r\n        var correlationContext = CorrelationContextManager.getCurrentContext();\r\n        var requestParser = _requestParser || new HttpRequestParser(telemetry.request, correlationContext && correlationContext.operation.parentId);\r\n\r\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl())) {\r\n            AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\r\n        }\r\n\r\n        // Overwrite correlation context with request parser results (if not an automatic track. we've already precalculated the correlation context in that case)\r\n        if (correlationContext && !_requestParser) {\r\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\r\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\r\n            correlationContext.operation.parentId = requestParser.getOperationParentId(client.context.tags) || correlationContext.operation.parentId;\r\n            (<PrivateCustomProperties>correlationContext.customProperties).addHeaderData(requestParser.getCorrelationContextHeader());\r\n        }\r\n\r\n        // response listeners\r\n        if (telemetry.response.once) {\r\n            telemetry.response.once(\"finish\", () => {\r\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, null);\r\n            });\r\n        }\r\n\r\n        // track a failed request if an error is emitted\r\n        if (telemetry.request.on) {\r\n            telemetry.request.on(\"error\", (error: any) => {\r\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, error);\r\n            });\r\n        }\r\n\r\n        // track an aborted request if an aborted event is emitted\r\n        // Newer versions of Node.js runtime will trigger error event as well, we need to ensure telemetry is not generated multiple times\r\n        if (telemetry.request.on) {\r\n            telemetry.request.on(\"aborted\", () => {\r\n                const errorMessage = \"The request has been aborted and the network socket has closed.\";\r\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, errorMessage);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add the target correlationId to the response headers, if not already provided.\r\n     */\r\n    private static addResponseCorrelationIdHeader(client: TelemetryClient, response: http.ServerResponse) {\r\n        if (client.config && client.config.correlationId &&\r\n            response.getHeader && response.setHeader && !(<any>response).headersSent) {\r\n            const correlationHeader = <any>response.getHeader(RequestResponseHeaders.requestContextHeader);\r\n            Util.safeIncludeCorrelationHeader(client, response, correlationHeader);\r\n        }\r\n    }\r\n\r\n    private static endRequest(client: TelemetryClient, requestParser: HttpRequestParser, telemetry: Contracts.NodeHttpRequestTelemetry, ellapsedMilliseconds?: number, error?: any) {\r\n        if (telemetry.isProcessed) {\r\n            return;\r\n        }\r\n        telemetry.isProcessed = true;\r\n        if (error) {\r\n            requestParser.onError(error, ellapsedMilliseconds);\r\n        } else {\r\n            requestParser.onResponse(telemetry.response, ellapsedMilliseconds);\r\n        }\r\n\r\n        var requestTelemetry = requestParser.getRequestTelemetry(telemetry);\r\n\r\n        requestTelemetry.tagOverrides = requestParser.getRequestTags(client.context.tags);\r\n        if (telemetry.tagOverrides) {\r\n            for (let key in telemetry.tagOverrides) {\r\n                requestTelemetry.tagOverrides[key] = telemetry.tagOverrides[key];\r\n            }\r\n        }\r\n\r\n        const legacyRootId = requestParser.getLegacyRootId();\r\n        if (legacyRootId) {\r\n            requestTelemetry.properties[\"ai_legacyRootId\"] = legacyRootId;\r\n        }\r\n\r\n        requestTelemetry.contextObjects = requestTelemetry.contextObjects || {};\r\n        requestTelemetry.contextObjects[\"http.ServerRequest\"] = telemetry.request;\r\n        requestTelemetry.contextObjects[\"http.ServerResponse\"] = telemetry.response;\r\n\r\n        client.trackRequest(requestTelemetry);\r\n    }\r\n\r\n    public dispose() {\r\n        AutoCollectHttpRequests.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n        CorrelationContextManager.disable();\r\n        this._isAutoCorrelating = false;\r\n    }\r\n}\r\n\r\nexport = AutoCollectHttpRequests;\r\n", "import os = require(\"os\");\r\nimport Contracts = require(\"../Declarations/Contracts\")\r\nimport Constants = require(\"../Declarations/Constants\");\r\nimport Util = require(\"./Util\")\r\nimport Config = require(\"./Config\");\r\nimport Context = require(\"./Context\");\r\nimport Logging = require(\"./Logging\");\r\n\r\nvar StreamId = Util.w3cTraceId(); // Create a guid\r\n\r\nclass QuickPulseEnvelopeFactory {\r\n    private static keys = new Contracts.ContextTagKeys();\r\n\r\n    public static createQuickPulseEnvelope(metrics: Contracts.MetricQuickPulse[], documents: Contracts.DocumentQuickPulse[], config: Config, context: Context): Contracts.EnvelopeQuickPulse {\r\n        const machineName = (os && typeof os.hostname === \"function\"\r\n            && os.hostname()) || \"Unknown\"; // Note: os.hostname() was added in node v0.3.3\r\n        const instance = (context.tags\r\n            && context.keys\r\n            && context.keys.cloudRoleInstance\r\n            && context.tags[context.keys.cloudRoleInstance]) || machineName;\r\n\r\n        const roleName = (context.tags\r\n            && context.keys\r\n            && context.keys.cloudRole\r\n            && context.tags[context.keys.cloudRole]) || null;\r\n\r\n        var envelope: Contracts.EnvelopeQuickPulse = {\r\n            Documents: documents.length > 0 ? documents : null,\r\n            InstrumentationKey: config.instrumentationKey || \"\",\r\n            Metrics: metrics.length > 0 ? metrics : null,\r\n            InvariantVersion: 1, //  1 -> v1 QPS protocol\r\n            Timestamp: `\\/Date(${Date.now()})\\/`,\r\n            Version: context.tags[context.keys.internalSdkVersion],\r\n            StreamId: StreamId,\r\n            MachineName: machineName,\r\n            Instance: instance,\r\n            RoleName: roleName\r\n        }\r\n\r\n        return envelope;\r\n    }\r\n\r\n    public static createQuickPulseMetric(\r\n        telemetry: Contracts.MetricTelemetry\r\n    ): Contracts.MetricQuickPulse {\r\n        var data: Contracts.MetricQuickPulse;\r\n        data = {\r\n            Name: telemetry.name, // TODO: map from MetricTelemetry name to QuickPulse name\r\n            Value: telemetry.value,\r\n            Weight: telemetry.count || 1\r\n        };\r\n        return data;\r\n    }\r\n\r\n    public static telemetryEnvelopeToQuickPulseDocument(envelope: Contracts.Envelope): Contracts.DocumentQuickPulse {\r\n        switch (envelope.data.baseType) {\r\n            case Contracts.TelemetryTypeString.Event:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseEventDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Exception:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Trace:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseTraceDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Dependency:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Request:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseRequestDocument(envelope);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private static createQuickPulseEventDocument(envelope: Contracts.Envelope): Contracts.EventDocumentQuickPulse {\r\n        const document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        const name = ((envelope.data as any).baseData as Contracts.EventData).name;\r\n        const eventDocument: Contracts.EventDocumentQuickPulse = {\r\n            ...document,\r\n            Name: name\r\n        };\r\n\r\n        return eventDocument;\r\n    }\r\n\r\n    private static createQuickPulseTraceDocument(envelope: Contracts.Envelope): Contracts.MessageDocumentQuickPulse {\r\n        const document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        const severityLevel = ((envelope.data as any).baseData as Contracts.MessageData).severityLevel || 0;\r\n        var traceDocument: Contracts.MessageDocumentQuickPulse = {\r\n            ...document,\r\n            Message: ((envelope.data as any).baseData as Contracts.MessageData).message,\r\n            SeverityLevel: Contracts.SeverityLevel[severityLevel]\r\n        }\r\n\r\n        return traceDocument;\r\n    }\r\n\r\n    private static createQuickPulseExceptionDocument(envelope: Contracts.Envelope): Contracts.ExceptionDocumentQuickPulse {\r\n        const document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        const exceptionDetails = ((envelope.data as any).baseData as Contracts.ExceptionData).exceptions;\r\n\r\n        let exception = \"\";\r\n        let exceptionMessage = \"\";\r\n        let exceptionType = \"\";\r\n\r\n        // Try to fill exception information from first error only\r\n        if (exceptionDetails && exceptionDetails.length > 0) {\r\n            // Try to grab the stack from parsedStack or stack\r\n            if (exceptionDetails[0].parsedStack && exceptionDetails[0].parsedStack.length > 0) {\r\n                exceptionDetails[0].parsedStack.forEach(err => {\r\n                    exception += err.assembly + \"\\n\";\r\n                });\r\n            } else if (exceptionDetails[0].stack && exceptionDetails[0].stack.length > 0) {\r\n                exception = exceptionDetails[0].stack;\r\n            }\r\n\r\n            exceptionMessage = exceptionDetails[0].message;\r\n            exceptionType = exceptionDetails[0].typeName;\r\n        }\r\n\r\n        var exceptionDocument = {\r\n            ...document,\r\n            Exception: exception,\r\n            ExceptionMessage: exceptionMessage,\r\n            ExceptionType: exceptionType\r\n        };\r\n        return exceptionDocument;\r\n    }\r\n\r\n    private static createQuickPulseRequestDocument(envelope: Contracts.Envelope): Contracts.RequestDocumentQuickPulse {\r\n        const document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        const baseData = (envelope.data as Contracts.Data<Contracts.RequestData>).baseData;\r\n        const requestDocument: Contracts.RequestDocumentQuickPulse = {\r\n            ...document,\r\n            Name: baseData.name,\r\n            Success: baseData.success,\r\n            Duration: baseData.duration,\r\n            ResponseCode: baseData.responseCode,\r\n            OperationName: baseData.name // TODO: is this correct?\r\n        };\r\n\r\n        return requestDocument;\r\n    }\r\n\r\n    private static createQuickPulseDependencyDocument(envelope: Contracts.Envelope): Contracts.DependencyDocumentQuickPulse {\r\n        const document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        const baseData = (envelope.data as Contracts.Data<Contracts.RemoteDependencyData>).baseData;\r\n\r\n        const dependencyDocument: Contracts.DependencyDocumentQuickPulse = {\r\n            ...document,\r\n            Name: baseData.name,\r\n            Target: baseData.target,\r\n            Success: baseData.success,\r\n            Duration: baseData.duration,\r\n            ResultCode: baseData.resultCode,\r\n            CommandName: baseData.data,\r\n            OperationName: document.OperationId,\r\n            DependencyTypeName: baseData.type\r\n        }\r\n        return dependencyDocument;\r\n    }\r\n\r\n    private static createQuickPulseDocument(envelope: Contracts.Envelope): Contracts.DocumentQuickPulse {\r\n        let documentType: Constants.QuickPulseDocumentType;\r\n        let __type: Constants.QuickPulseType;\r\n        let operationId, properties;\r\n\r\n\r\n        if (envelope.data.baseType) {\r\n            __type = Constants.TelemetryTypeStringToQuickPulseType[envelope.data.baseType as Contracts.TelemetryTypeValues];\r\n            documentType = Constants.TelemetryTypeStringToQuickPulseDocumentType[envelope.data.baseType as Contracts.TelemetryTypeValues];\r\n        } else {\r\n            // Remark: This should never be hit because createQuickPulseDocument is only called within\r\n            // valid baseType values\r\n            Logging.warn(\"Document type invalid; not sending live metric document\", envelope.data.baseType);\r\n        }\r\n\r\n        operationId = envelope.tags[QuickPulseEnvelopeFactory.keys.operationId];\r\n        properties = QuickPulseEnvelopeFactory.aggregateProperties(envelope);\r\n\r\n        var document: Contracts.DocumentQuickPulse = {\r\n            DocumentType: documentType,\r\n            __type: __type,\r\n            OperationId: operationId,\r\n            Version: \"1.0\",\r\n            Properties: properties\r\n        };\r\n\r\n        return document;\r\n    }\r\n\r\n    private static aggregateProperties(envelope: Contracts.Envelope): Contracts.IDocumentProperty[] {\r\n        const properties: Contracts.IDocumentProperty[] = [];\r\n\r\n        // Collect measurements\r\n        const meas = ((envelope.data as any).baseData).measurements || {};\r\n        for (let key in meas) {\r\n            if (meas.hasOwnProperty(key)) {\r\n                const value = meas[key];\r\n                const property: Contracts.IDocumentProperty = {key, value};\r\n                properties.push(property);\r\n            }\r\n        }\r\n\r\n        // Collect properties\r\n        const props = ((envelope.data as any).baseData).properties || {};\r\n        for (let key in props) {\r\n            if (props.hasOwnProperty(key)) {\r\n                const value = props[key];\r\n                const property: Contracts.IDocumentProperty = {key, value};\r\n                properties.push(property);\r\n            }\r\n        }\r\n\r\n        return properties;\r\n    }\r\n}\r\n\r\nexport = QuickPulseEnvelopeFactory;\r\n", "/**\r\n * @description UTC time the request was made. Expressed as the number of 100-nanosecond intervals that have elapsed since 12:00:00 midnight on January 1, 0001. This is used for clock skew calculations, so the value can never be stale (cached).\r\n *\r\n * @example\r\n * 8/5/2020 10:15:00 PM UTC => 637322625000000000\r\n * 8/5/2020 10:15:01 PM UTC => 637322625010000000\r\n *\r\n * @returns {number}\r\n */\r\nconst getTransmissionTime = (): number => {\r\n    return (Date.now() + 62135596800000) * 10000;\r\n}\r\n\r\nexport = {getTransmissionTime};\r\n", "import https = require(\"https\");\r\n\r\nimport AuthorizationHandler = require(\"./AuthorizationHandler\");\r\nimport Config = require(\"./Config\");\r\nimport AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\r\nimport Logging = require(\"./Logging\");\r\nimport QuickPulseUtil = require(\"./QuickPulseUtil\");\r\nimport Util = require(\"./Util\");\r\nimport url = require(\"url\");\r\n\r\n// Types\r\nimport * as http from \"http\";\r\nimport * as Contracts from \"../Declarations/Contracts\";\r\n\r\nconst QuickPulseConfig = {\r\n    method: \"POST\",\r\n    time: \"x-ms-qps-transmission-time\",\r\n    pollingIntervalHint: \"x-ms-qps-service-polling-interval-hint\",\r\n    endpointRedirect: \"x-ms-qps-service-endpoint-redirect-v2\",\r\n    instanceName: \"x-ms-qps-instance-name\",\r\n    streamId: \"x-ms-qps-stream-id\",\r\n    machineName: \"x-ms-qps-machine-name\",\r\n    roleName: \"x-ms-qps-role-name\",\r\n    streamid: \"x-ms-qps-stream-id\",\r\n    invariantVersion: \"x-ms-qps-invariant-version\",\r\n    subscribed: \"x-ms-qps-subscribed\"\r\n};\r\n\r\nclass QuickPulseSender {\r\n    private static TAG = \"QuickPulseSender\";\r\n    private static MAX_QPS_FAILURES_BEFORE_WARN = 25;\r\n\r\n    private _config: Config;\r\n    private _consecutiveErrors: number;\r\n    private _getAuthorizationHandler: (config: Config) => AuthorizationHandler;\r\n\r\n    constructor(config: Config, getAuthorizationHandler?: (config: Config) => AuthorizationHandler) {\r\n        this._config = config;\r\n        this._consecutiveErrors = 0;\r\n        this._getAuthorizationHandler = getAuthorizationHandler;\r\n    }\r\n\r\n    public ping(envelope: Contracts.EnvelopeQuickPulse,\r\n        redirectedHostEndpoint: string,\r\n        done: (shouldPOST?: boolean, res?: http.IncomingMessage, redirectedHost?: string, pollingIntervalHint?: number) => void\r\n    ): void {\r\n\r\n        let pingHeaders: { name: string, value: string }[] = [\r\n            { name: QuickPulseConfig.streamId, value: envelope.StreamId },\r\n            { name: QuickPulseConfig.machineName, value: envelope.MachineName },\r\n            { name: QuickPulseConfig.roleName, value: envelope.RoleName },\r\n            { name: QuickPulseConfig.instanceName, value: envelope.Instance },\r\n            { name: QuickPulseConfig.invariantVersion, value: envelope.InvariantVersion.toString() }\r\n        ];\r\n        this._submitData(envelope, redirectedHostEndpoint, done, \"ping\", pingHeaders);\r\n    }\r\n\r\n    public async post(envelope: Contracts.EnvelopeQuickPulse,\r\n        redirectedHostEndpoint: string,\r\n        done: (shouldPOST?: boolean, res?: http.IncomingMessage, redirectedHost?: string, pollingIntervalHint?: number) => void\r\n    ): Promise<void> {\r\n\r\n        // Important: When POSTing data, envelope must be an array\r\n        await this._submitData([envelope], redirectedHostEndpoint, done, \"post\");\r\n    }\r\n\r\n    private async _submitData(envelope: Contracts.EnvelopeQuickPulse | Contracts.EnvelopeQuickPulse[],\r\n        redirectedHostEndpoint: string,\r\n        done: (shouldPOST?: boolean, res?: http.IncomingMessage, redirectedHost?: string, pollingIntervalHint?: number) => void,\r\n        postOrPing: \"post\" | \"ping\",\r\n        additionalHeaders?: { name: string, value: string }[]\r\n    ): Promise<void> {\r\n\r\n        const payload = Util.stringify(envelope);\r\n        var options = {\r\n            [AutoCollectHttpDependencies.disableCollectionRequestOption]: true,\r\n            host: (redirectedHostEndpoint && redirectedHostEndpoint.length > 0) ? redirectedHostEndpoint : this._config.quickPulseHost,\r\n            method: QuickPulseConfig.method,\r\n            path: `/QuickPulseService.svc/${postOrPing}?ikey=${this._config.instrumentationKey}`,\r\n            headers: {\r\n                \"Expect\": \"100-continue\",\r\n                [QuickPulseConfig.time]: QuickPulseUtil.getTransmissionTime(), // unit = 100s of nanoseconds\r\n                \"Content-Type\": \"application\\/json\",\r\n                \"Content-Length\": Buffer.byteLength(payload)\r\n            }\r\n        };\r\n\r\n        if (additionalHeaders && additionalHeaders.length > 0) {\r\n            additionalHeaders.forEach(header => options.headers[header.name] = header.value);\r\n        }\r\n\r\n        if (postOrPing === \"post\") {\r\n            let authHandler = this._getAuthorizationHandler ? this._getAuthorizationHandler(this._config) : null;\r\n            if (authHandler) {\r\n                try {\r\n                    // Add bearer token\r\n                    await authHandler.addAuthorizationHeader(options);\r\n                }\r\n                catch (authError) {\r\n                    let notice = \"Failed to get AAD bearer token for the Application. Error:\";\r\n                    Logging.info(QuickPulseSender.TAG, notice, authError);\r\n                    // Do not send request to Quickpulse if auth fails, data will be dropped\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        // HTTPS only\r\n        if (this._config.httpsAgent) {\r\n            (<any>options).agent = this._config.httpsAgent;\r\n        } else {\r\n            (<any>options).agent = Util.tlsRestrictedAgent;\r\n        }\r\n\r\n        const req = https.request(options, (res: http.IncomingMessage) => {\r\n            if (res.statusCode == 200) {\r\n                const shouldPOSTData = res.headers[QuickPulseConfig.subscribed] === \"true\";\r\n                let redirectHeader = null;\r\n                try {\r\n                    redirectHeader = res.headers[QuickPulseConfig.endpointRedirect] ? new url.URL(res.headers[QuickPulseConfig.endpointRedirect].toString()).host : null;\r\n                } catch (error) {\r\n                    this._onError(\"Failed to parse redirect header from QuickPulse: \" + Util.dumpObj(error));\r\n                }\r\n                \r\n                const pollingIntervalHint = res.headers[QuickPulseConfig.pollingIntervalHint] ? parseInt(res.headers[QuickPulseConfig.pollingIntervalHint].toString()) : null;\r\n                this._consecutiveErrors = 0;\r\n                done(shouldPOSTData, res, redirectHeader, pollingIntervalHint);\r\n            }\r\n            else {\r\n                this._onError(\"StatusCode:\" + res.statusCode + \" StatusMessage:\" + res.statusMessage);\r\n                done();\r\n            }\r\n        });\r\n\r\n        req.on(\"error\", (error: Error) => {\r\n            this._onError(error);\r\n            done();\r\n        });\r\n\r\n        req.write(payload);\r\n        req.end();\r\n    }\r\n\r\n    private _onError(error: Error | string) {\r\n        // Unable to contact qps endpoint.\r\n        // Do nothing for now.\r\n        this._consecutiveErrors++;\r\n        // LOG every error, but WARN instead when X number of consecutive errors occur\r\n        let notice = \"Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:\";\r\n        if (this._consecutiveErrors % QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN === 0) {\r\n            notice = `Live Metrics endpoint could not be reached ${this._consecutiveErrors} consecutive times. Most recent error:`;\r\n            Logging.warn(QuickPulseSender.TAG, notice, error);\r\n        } else {\r\n            // Potentially transient error, do not change the ping/post state yet.\r\n            Logging.info(QuickPulseSender.TAG, notice, error);\r\n        }\r\n    }\r\n}\r\n\r\nexport = QuickPulseSender;", "import AuthorizationHandler = require(\"./AuthorizationHandler\");\r\nimport Logging = require(\"./Logging\");\r\nimport Config = require(\"./Config\");\r\nimport QuickPulseEnvelopeFactory = require(\"./QuickPulseEnvelopeFactory\");\r\nimport QuickPulseSender = require(\"./QuickPulseSender\");\r\nimport Constants = require(\"../Declarations/Constants\");\r\nimport Context = require(\"./Context\");\r\n\r\nimport * as http from \"http\";\r\nimport * as Contracts from \"../Declarations/Contracts\";\r\n\r\n\r\n/** State Container for sending to the QuickPulse Service */\r\nclass QuickPulseStateManager {\r\n    public config: Config;\r\n    public context: Context;\r\n    public authorizationHandler: AuthorizationHandler;\r\n\r\n    private static MAX_POST_WAIT_TIME = 20000;\r\n    private static MAX_PING_WAIT_TIME = 60000;\r\n    private static FALLBACK_INTERVAL = 60000;\r\n    private static PING_INTERVAL = 5000;\r\n    private static POST_INTERVAL = 1000;\r\n\r\n    private _isCollectingData: boolean = false;\r\n    private _sender: QuickPulseSender;\r\n    private _isEnabled: boolean;\r\n    private _lastSuccessTime: number = Date.now();\r\n    private _lastSendSucceeded: boolean = true;\r\n    private _handle: NodeJS.Timer;\r\n    private _metrics: { [name: string]: Contracts.MetricQuickPulse } = {};\r\n    private _documents: Contracts.DocumentQuickPulse[] = [];\r\n    private _collectors: { enable: (enable: boolean) => void }[] = [];\r\n    private _redirectedHost: string = null;\r\n    private _pollingIntervalHint: number = -1;\r\n\r\n    constructor(config: Config, context?: Context, getAuthorizationHandler?: (config: Config) => AuthorizationHandler) {\r\n        this.config = config;\r\n        this.context = context || new Context();\r\n        this._sender = new QuickPulseSender(this.config, getAuthorizationHandler);\r\n        this._isEnabled = false;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param collector\r\n     */\r\n    public addCollector(collector: any): void {\r\n        this._collectors.push(collector);\r\n    }\r\n\r\n    /**\r\n     * Override of TelemetryClient.trackMetric\r\n     */\r\n    public trackMetric(telemetry: Contracts.MetricTelemetry): void {\r\n        this._addMetric(telemetry);\r\n    }\r\n\r\n    /**\r\n     * Add a document to the current buffer\r\n     * @param envelope\r\n     */\r\n    public addDocument(envelope: Contracts.Envelope): void {\r\n        // Only add documents in buffer when Live Metrics is collecting data\r\n        if (this._isCollectingData) {\r\n            const document = QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument(envelope);\r\n            if (document) {\r\n                this._documents.push(document);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Enable or disable communication with QuickPulseService\r\n     * @param isEnabled\r\n     */\r\n    public enable(isEnabled: boolean): void {\r\n        if (isEnabled && !this._isEnabled) {\r\n            this._isEnabled = true;\r\n            this._goQuickPulse();\r\n        } else if (!isEnabled && this._isEnabled) {\r\n            this._isEnabled = false;\r\n            clearTimeout(this._handle);\r\n            this._handle = undefined;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Enable or disable all collectors in this instance\r\n     * @param enable\r\n     */\r\n    private enableCollectors(enable: boolean): void {\r\n        this._collectors.forEach(collector => {\r\n            collector.enable(enable)\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Add the metric to this buffer. If same metric already exists in this buffer, add weight to it\r\n     * @param telemetry\r\n     */\r\n    private _addMetric(telemetry: Contracts.MetricTelemetry) {\r\n        const { value } = telemetry;\r\n        const count = telemetry.count || 1;\r\n\r\n        let name = Constants.PerformanceToQuickPulseCounter[telemetry.name];\r\n        if (name) {\r\n            if (this._metrics[name]) {\r\n                this._metrics[name].Value = (this._metrics[name].Value * this._metrics[name].Weight + value * count) / (this._metrics[name].Weight + count);\r\n                this._metrics[name].Weight += count;\r\n            } else {\r\n                this._metrics[name] = QuickPulseEnvelopeFactory.createQuickPulseMetric(telemetry);\r\n                this._metrics[name].Name = name;\r\n                this._metrics[name].Weight = 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    private _resetQuickPulseBuffer(): void {\r\n        delete this._metrics;\r\n        this._metrics = {};\r\n        this._documents.length = 0;\r\n    }\r\n\r\n    private async _goQuickPulse(): Promise<void> {\r\n        // Create envelope from Documents and Metrics\r\n        const metrics = Object.keys(this._metrics).map(k => this._metrics[k]);\r\n        const envelope = QuickPulseEnvelopeFactory.createQuickPulseEnvelope(metrics, this._documents.slice(), this.config, this.context);\r\n\r\n        // Clear this document, metric buffer\r\n        this._resetQuickPulseBuffer();\r\n\r\n        // Send it to QuickPulseService, if collecting\r\n        if (this._isCollectingData) {\r\n            await this._post(envelope);\r\n        } else {\r\n            this._ping(envelope);\r\n        }\r\n\r\n        let pingInterval = this._pollingIntervalHint > 0 ? this._pollingIntervalHint : QuickPulseStateManager.PING_INTERVAL;\r\n        let currentTimeout = this._isCollectingData ? QuickPulseStateManager.POST_INTERVAL : pingInterval;\r\n        if (this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_POST_WAIT_TIME && !this._lastSendSucceeded) {\r\n            // Haven't posted successfully in 20 seconds, so wait 60 seconds and ping\r\n            this._isCollectingData = false;\r\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\r\n        } else if (!this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_PING_WAIT_TIME && !this._lastSendSucceeded) {\r\n            // Haven't pinged successfully in 60 seconds, so wait another 60 seconds\r\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\r\n        }\r\n        this._lastSendSucceeded = null;\r\n        this._handle = <any>setTimeout(this._goQuickPulse.bind(this), currentTimeout);\r\n        this._handle.unref(); // Don't block apps from terminating\r\n    }\r\n\r\n    private _ping(envelope: Contracts.EnvelopeQuickPulse): void {\r\n        this._sender.ping(envelope, this._redirectedHost, this._quickPulseDone.bind(this));\r\n    }\r\n\r\n    private async _post(envelope: Contracts.EnvelopeQuickPulse): Promise<void> {\r\n        await this._sender.post(envelope, this._redirectedHost, this._quickPulseDone.bind(this));\r\n    }\r\n\r\n    /**\r\n     * Change the current QPS send state. (shouldPOST == undefined) --> error, but do not change the state yet.\r\n     */\r\n    private _quickPulseDone(shouldPOST?: boolean, res?: http.IncomingMessage,\r\n        redirectedHost?: string, pollingIntervalHint?: number): void {\r\n        if (shouldPOST != undefined) {\r\n            if (this._isCollectingData !== shouldPOST) {\r\n                Logging.info(\"Live Metrics sending data\", shouldPOST);\r\n                this.enableCollectors(shouldPOST);\r\n            }\r\n            this._isCollectingData = shouldPOST;\r\n\r\n            if (redirectedHost && redirectedHost.length > 0) {\r\n                this._redirectedHost = redirectedHost;\r\n                Logging.info(\"Redirecting endpoint to: \", redirectedHost);\r\n            }\r\n\r\n            if (pollingIntervalHint && pollingIntervalHint > 0) {\r\n                this._pollingIntervalHint = pollingIntervalHint;\r\n            }\r\n\r\n            if (res && res.statusCode < 300 && res.statusCode >= 200) {\r\n                this._lastSuccessTime = Date.now();\r\n                this._lastSendSucceeded = true;\r\n            } else {\r\n                this._lastSendSucceeded = false;\r\n            }\r\n        } else {\r\n            // Received an error, keep the state as is\r\n            this._lastSendSucceeded = false;\r\n        }\r\n    }\r\n}\r\n\r\nexport = QuickPulseStateManager;", "import TelemetryClient = require(\"../Library/TelemetryClient\");\r\nimport Constants = require(\"../Declarations/Constants\");\r\nimport Context = require(\"../Library/Context\");\r\nimport Logging = require(\"../Library/Logging\");\r\nimport { IBaseConfig } from \"../Declarations/Interfaces\";\r\n\r\n/**\r\n * Interface which defines which specific extended metrics should be disabled\r\n *\r\n * @export\r\n * @interface IDisabledExtendedMetrics\r\n */\r\nexport interface IDisabledExtendedMetrics {\r\n    gc?: boolean;\r\n    heap?: boolean;\r\n    loop?: boolean;\r\n}\r\n\r\nexport class AutoCollectNativePerformance {\r\n    public static INSTANCE: AutoCollectNativePerformance;\r\n\r\n    private static _emitter: any;\r\n    private static _metricsAvailable: boolean; // is the native metrics lib installed\r\n    private _isEnabled: boolean;\r\n    private _isInitialized: boolean;\r\n    private _handle: NodeJS.Timer;\r\n    private _client: TelemetryClient;\r\n    private _disabledMetrics: IDisabledExtendedMetrics = {};\r\n\r\n    constructor(client: TelemetryClient) {\r\n        // Note: Only 1 instance of this can exist. So when we reconstruct this object,\r\n        // just disable old native instance and reset JS member variables\r\n        if (AutoCollectNativePerformance.INSTANCE) {\r\n            AutoCollectNativePerformance.INSTANCE.dispose();\r\n        }\r\n        AutoCollectNativePerformance.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n\r\n    /**\r\n     * Start instance of native metrics agent.\r\n     *\r\n     * @param {boolean} isEnabled\r\n     * @param {number} [collectionInterval=60000]\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    public enable(isEnabled: boolean, disabledMetrics: IDisabledExtendedMetrics = {}, collectionInterval = 60000): void {\r\n        if (AutoCollectNativePerformance._metricsAvailable == undefined && isEnabled && !this._isInitialized) {\r\n            // Try to require in the native-metrics library. If it's found initialize it, else do nothing and never try again.\r\n            try {\r\n                const NativeMetricsEmitters = require(\"applicationinsights-native-metrics\");\r\n                AutoCollectNativePerformance._emitter = new NativeMetricsEmitters();\r\n                AutoCollectNativePerformance._metricsAvailable = true;\r\n                Logging.info(\"Native metrics module successfully loaded!\");\r\n            } catch (err) {\r\n                // Package not available. Never try again\r\n                AutoCollectNativePerformance._metricsAvailable = false;\r\n                return;\r\n            }\r\n        }\r\n\r\n        this._isEnabled = isEnabled;\r\n        this._disabledMetrics = disabledMetrics\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n\r\n        // Enable the emitter if we were able to construct one\r\n        if (this._isEnabled && AutoCollectNativePerformance._emitter) {\r\n            // enable self\r\n            AutoCollectNativePerformance._emitter.enable(true, collectionInterval);\r\n            if (!this._handle) {\r\n                this._handle = setInterval(() => this._trackNativeMetrics(), collectionInterval);\r\n                this._handle.unref();\r\n            }\r\n        } else if (AutoCollectNativePerformance._emitter) {\r\n            // disable self\r\n            AutoCollectNativePerformance._emitter.enable(false);\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = undefined;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Cleanup this instance of AutoCollectNativePerformance\r\n     *\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    public dispose(): void {\r\n        this.enable(false);\r\n    }\r\n\r\n    /**\r\n     * Parse environment variable and overwrite isEnabled based on respective fields being set\r\n     *\r\n     * @private\r\n     * @static\r\n     * @param {(boolean | IDisabledExtendedMetrics)} collectExtendedMetrics\r\n     * @param {(IBaseConfig)} customConfig\r\n     * @returns {(boolean | IDisabledExtendedMetrics)}\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    public static parseEnabled(collectExtendedMetrics: boolean | IDisabledExtendedMetrics, customConfig: IBaseConfig): { isEnabled: boolean, disabledMetrics: IDisabledExtendedMetrics } {\r\n        const disableAll = customConfig.disableAllExtendedMetrics;\r\n        const individualOptOuts = customConfig.extendedMetricDisablers;\r\n\r\n        // case 1: disable all env var set, RETURN with isEnabled=false\r\n        if (disableAll) {\r\n            return { isEnabled: false, disabledMetrics: {} };\r\n        }\r\n\r\n        // case 2: individual env vars set, RETURN with isEnabled=true, disabledMetrics={...}\r\n        if (individualOptOuts) {\r\n            const optOutsArr = individualOptOuts.split(\",\");\r\n            const disabledMetrics: any = {};\r\n            if (optOutsArr.length > 0) {\r\n                for (const opt of optOutsArr) {\r\n                    disabledMetrics[opt] = true;\r\n                }\r\n            }\r\n\r\n            // case 2a: collectExtendedMetrics is an object, overwrite existing ones if they exist\r\n            if (typeof collectExtendedMetrics === \"object\") {\r\n                return { isEnabled: true, disabledMetrics: { ...collectExtendedMetrics, ...disabledMetrics } };\r\n            }\r\n\r\n            // case 2b: collectExtendedMetrics is a boolean, set disabledMetrics as is\r\n            return { isEnabled: collectExtendedMetrics, disabledMetrics };\r\n        }\r\n\r\n        // case 4: no env vars set, input arg is a boolean, RETURN with isEnabled=collectExtendedMetrics, disabledMetrics={}\r\n        if (typeof collectExtendedMetrics === \"boolean\") {\r\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: {} };\r\n        } else { // use else so we don't need to force typing on collectExtendedMetrics\r\n            // case 5: no env vars set, input arg is object, RETURN with isEnabled=true, disabledMetrics=collectExtendedMetrics\r\n            return { isEnabled: true, disabledMetrics: collectExtendedMetrics };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Trigger an iteration of native metrics collection\r\n     *\r\n     * @private\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    private _trackNativeMetrics() {\r\n        let shouldSendAll = true;\r\n        if (typeof this._isEnabled !== \"object\") {\r\n            shouldSendAll = this._isEnabled;\r\n        }\r\n\r\n        if (shouldSendAll) {\r\n            this._trackGarbageCollection();\r\n            this._trackEventLoop();\r\n            this._trackHeapUsage();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Tracks garbage collection stats for this interval. One custom metric is sent per type of garbage\r\n     * collection that occurred during this collection interval.\r\n     *\r\n     * @private\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    private _trackGarbageCollection(): void {\r\n        if (this._disabledMetrics.gc) {\r\n            return;\r\n        }\r\n\r\n        const gcData = AutoCollectNativePerformance._emitter.getGCData();\r\n\r\n        for (let gc in gcData) {\r\n            const metrics = gcData[gc].metrics;\r\n            const name = `${gc} Garbage Collection Duration`;\r\n            const stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\r\n            this._client.trackMetric({\r\n                name: name,\r\n                value: metrics.total,\r\n                count: metrics.count,\r\n                max: metrics.max,\r\n                min: metrics.min,\r\n                stdDev: stdDev,\r\n                tagOverrides: {\r\n                    [this._client.context.keys.internalSdkVersion]: \"node-nativeperf:\" + Context.sdkVersion\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Tracks event loop ticks per interval as a custom metric. Also included in the metric is min/max/avg\r\n     * time spent in event loop for this interval.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    private _trackEventLoop(): void {\r\n        if (this._disabledMetrics.loop) {\r\n            return;\r\n        }\r\n\r\n        const loopData = AutoCollectNativePerformance._emitter.getLoopData();\r\n        const metrics = loopData.loopUsage;\r\n        if (metrics.count == 0) {\r\n            return;\r\n        }\r\n\r\n        const name = \"Event Loop CPU Time\";\r\n        const stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\r\n        this._client.trackMetric({\r\n            name: name,\r\n            value: metrics.total,\r\n            count: metrics.count,\r\n            min: metrics.min,\r\n            max: metrics.max,\r\n            stdDev: stdDev,\r\n            tagOverrides: {\r\n                [this._client.context.keys.internalSdkVersion]: \"node-nativeperf:\" + Context.sdkVersion\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Track heap memory usage metrics as a custom metric.\r\n     *\r\n     * @private\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    private _trackHeapUsage(): void {\r\n        if (this._disabledMetrics.heap) {\r\n            return;\r\n        }\r\n\r\n        const memoryUsage = process.memoryUsage();\r\n        const { heapUsed, heapTotal, rss } = memoryUsage;\r\n\r\n        this._client.trackMetric({\r\n            name: \"Memory Usage (Heap)\",\r\n            value: heapUsed,\r\n            count: 1,\r\n            tagOverrides: {\r\n                [this._client.context.keys.internalSdkVersion]: \"node-nativeperf:\" + Context.sdkVersion\r\n            }\r\n        });\r\n        this._client.trackMetric({\r\n            name: \"Memory Total (Heap)\",\r\n            value: heapTotal,\r\n            count: 1,\r\n            tagOverrides: {\r\n                [this._client.context.keys.internalSdkVersion]: \"node-nativeperf:\" + Context.sdkVersion\r\n            }\r\n        });\r\n        this._client.trackMetric({\r\n            name: \"Memory Usage (Non-Heap)\",\r\n            value: rss - heapTotal,\r\n            count: 1,\r\n            tagOverrides: {\r\n                [this._client.context.keys.internalSdkVersion]: \"node-nativeperf:\" + Context.sdkVersion\r\n            }\r\n        });\r\n    }\r\n}\r\n", "import { Disposable, PostInvocationContext, PreInvocationContext } from \"@azure/functions-core\";\r\nimport { Context, HttpRequest, HttpResponse } from \"@azure/functions\";\r\nimport Logging = require(\"../Library/Logging\");\r\nimport TelemetryClient = require(\"../Library/TelemetryClient\");\r\nimport { CorrelationContext, CorrelationContextManager } from \"./CorrelationContextManager\";\r\n\r\n/** Node.js Azure Functions handle incoming HTTP requests before Application Insights SDK is available,\r\n * this code generate incoming request telemetry and generate correlation context to be used\r\n * by outgoing requests and other telemetry, we rely on hooks provided by Azure Functions\r\n*/\r\nexport class AzureFunctionsHook {\r\n    private _client: TelemetryClient;\r\n    private _functionsCoreModule: typeof import(\"@azure/functions-core\");\r\n    private _autoGenerateIncomingRequests: boolean;\r\n    private _preInvocationHook: Disposable;\r\n    private _postInvocationHook: Disposable;\r\n\r\n    constructor(client: TelemetryClient) {\r\n        this._client = client;\r\n        this._autoGenerateIncomingRequests = false;\r\n        try {\r\n            this._functionsCoreModule = require(\"@azure/functions-core\");\r\n            // Only v3 of Azure Functions library is supported right now. See matrix of versions here:\r\n            // https://github.com/Azure/azure-functions-nodejs-library\r\n            const funcProgModel = this._functionsCoreModule.getProgrammingModel();\r\n            if (funcProgModel.name === \"@azure/functions\" && funcProgModel.version.startsWith(\"3.\")) {\r\n                this._addPreInvocationHook();\r\n                this._addPostInvocationHook();\r\n            } else {\r\n                Logging.warn(`AzureFunctionsHook does not support model \"${funcProgModel.name}\" version \"${funcProgModel.version}\"`);\r\n            }\r\n        }\r\n        catch (error) {\r\n            Logging.info(\"AzureFunctionsHook failed to load, not running in Azure Functions\");\r\n        }\r\n    }\r\n\r\n    public enable(isEnabled: boolean) {\r\n        this._autoGenerateIncomingRequests = isEnabled;\r\n    }\r\n\r\n    public dispose() {\r\n        this.enable(false);\r\n        this._removeInvocationHooks();\r\n        this._functionsCoreModule = undefined;\r\n    }\r\n\r\n    private _addPreInvocationHook() {\r\n        if (!this._preInvocationHook) {\r\n            this._preInvocationHook = this._functionsCoreModule.registerHook(\"preInvocation\", async (preInvocationContext: PreInvocationContext) => {\r\n                const ctx: Context = <Context>preInvocationContext.invocationContext;\r\n                try {\r\n                    // Start an AI Correlation Context using the provided Function context\r\n                    let extractedContext = CorrelationContextManager.startOperation(ctx);\r\n                    if (extractedContext) { // Will be null if CorrelationContextManager is not enabled, we should not try to propagate context in that case\r\n                        extractedContext.customProperties.setProperty(\"InvocationId\", ctx.invocationId);\r\n                        if (ctx.traceContext.attributes) {\r\n                            extractedContext.customProperties.setProperty(\"ProcessId\", ctx.traceContext.attributes[\"ProcessId\"]);\r\n                            extractedContext.customProperties.setProperty(\"LogLevel\", ctx.traceContext.attributes[\"LogLevel\"]);\r\n                            extractedContext.customProperties.setProperty(\"Category\", ctx.traceContext.attributes[\"Category\"]);\r\n                            extractedContext.customProperties.setProperty(\"HostInstanceId\", ctx.traceContext.attributes[\"HostInstanceId\"]);\r\n                            extractedContext.customProperties.setProperty(\"AzFuncLiveLogsSessionId\", ctx.traceContext.attributes[\"#AzFuncLiveLogsSessionId\"]);\r\n                        }\r\n                        preInvocationContext.functionCallback = CorrelationContextManager.wrapCallback(preInvocationContext.functionCallback, extractedContext);\r\n                        if (this._isHttpTrigger(ctx) && this._autoGenerateIncomingRequests) {\r\n                            preInvocationContext.hookData.appInsightsExtractedContext = extractedContext;\r\n                            preInvocationContext.hookData.appInsightsStartTime = Date.now(); // Start trackRequest timer\r\n                        }\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    Logging.warn(\"Failed to propagate context in Azure Functions\", err);\r\n                    return;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private _addPostInvocationHook() {\r\n        if (!this._postInvocationHook) {\r\n            this._postInvocationHook = this._functionsCoreModule.registerHook(\"postInvocation\", async (postInvocationContext: PostInvocationContext) => {\r\n                try {\r\n                    if (this._autoGenerateIncomingRequests) {\r\n                        const ctx: Context = <Context>postInvocationContext.invocationContext;\r\n                        if (this._isHttpTrigger(ctx)) {\r\n                            const request: HttpRequest = postInvocationContext.inputs[0];\r\n                            if (request) {\r\n                                const startTime: number = postInvocationContext.hookData.appInsightsStartTime || Date.now();\r\n                                const response = this._getAzureFunctionResponse(postInvocationContext, ctx);\r\n                                const extractedContext: CorrelationContext | undefined = postInvocationContext.hookData.appInsightsExtractedContext;\r\n                                if (!extractedContext) {\r\n                                    this._createIncomingRequestTelemetry(request, response, startTime, null);\r\n                                }\r\n                                else {\r\n                                    CorrelationContextManager.runWithContext(extractedContext, () => {\r\n                                        this._createIncomingRequestTelemetry(request, response, startTime, extractedContext.operation.parentId);\r\n                                    });\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    Logging.warn(\"Error creating automatic incoming request in Azure Functions\", err);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private _createIncomingRequestTelemetry(request: HttpRequest, response: HttpResponse, startTime: number, parentId: string) {\r\n        let statusCode: string | number = 200; //Default\r\n        if (response) {\r\n            for (const value of [response.statusCode, response.status]) {\r\n                if (typeof value === \"number\" && Number.isInteger(value)) {\r\n                    statusCode = value;\r\n                    break;\r\n                } else if (typeof value === \"string\") {\r\n                    const parsedVal = parseInt(value);\r\n                    if (!isNaN(parsedVal)) {\r\n                        statusCode = parsedVal;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            statusCode = undefined;\r\n        }\r\n        this._client.trackRequest({\r\n            name: request.method + \" \" + request.url,\r\n            resultCode: statusCode,\r\n            success: typeof(statusCode) === \"number\" ? (0 < statusCode) && (statusCode < 400) : undefined,\r\n            url: request.url,\r\n            time: new Date(startTime),\r\n            duration: Date.now() - startTime,\r\n            id: parentId\r\n        });\r\n        this._client.flush();\r\n    }\r\n\r\n    private _getAzureFunctionResponse(postInvocationContext: PostInvocationContext, ctx: Context): HttpResponse {\r\n        const httpOutputBinding = ctx.bindingDefinitions.find(b => b.direction === \"out\" && b.type.toLowerCase() === \"http\");\r\n        if (httpOutputBinding?.name === \"$return\") {\r\n            return postInvocationContext.result;\r\n        } else if (httpOutputBinding && ctx.bindings && ctx.bindings[httpOutputBinding.name] !== undefined) {\r\n            return ctx.bindings[httpOutputBinding.name];\r\n        } else {\r\n            return ctx.res;\r\n        }\r\n    }\r\n\r\n    private _isHttpTrigger(ctx: Context) {\r\n        return ctx.bindingDefinitions.find(b => b.type?.toLowerCase() === \"httptrigger\");\r\n    }\r\n\r\n    private _removeInvocationHooks() {\r\n        if (this._preInvocationHook) {\r\n            this._preInvocationHook.dispose();\r\n            this._preInvocationHook = undefined;\r\n        }\r\n        if (this._postInvocationHook) {\r\n            this._postInvocationHook.dispose();\r\n            this._postInvocationHook = undefined;\r\n        }\r\n    }\r\n}\r\n", "import azureCoreAuth = require(\"@azure/core-auth\");\r\n\r\nimport CorrelationIdManager = require(\"./CorrelationIdManager\");\r\nimport ConnectionStringParser = require(\"./ConnectionStringParser\");\r\nimport Logging = require(\"./Logging\");\r\nimport Constants = require(\"../Declarations/Constants\");\r\nimport http = require(\"http\");\r\nimport https = require(\"https\");\r\nimport url = require(\"url\");\r\nimport { JsonConfig } from \"./JsonConfig\";\r\nimport { IConfig, IWebInstrumentationConfig } from \"../Declarations/Interfaces\";\r\nimport { DistributedTracingModes } from \"../applicationinsights\";\r\nimport { IDisabledExtendedMetrics } from \"../AutoCollection/NativePerformance\";\r\n\r\nclass Config implements IConfig {\r\n\r\n    public static ENV_azurePrefix = \"APPSETTING_\"; // Azure adds this prefix to all environment variables\r\n    public static ENV_iKey = \"APPINSIGHTS_INSTRUMENTATIONKEY\"; // This key is provided in the readme\r\n    public static legacy_ENV_iKey = \"APPINSIGHTS_INSTRUMENTATION_KEY\";\r\n    public static ENV_profileQueryEndpoint = \"APPINSIGHTS_PROFILE_QUERY_ENDPOINT\";\r\n    public static ENV_quickPulseHost = \"APPINSIGHTS_QUICKPULSE_HOST\";\r\n\r\n    // IConfig properties\r\n    public endpointUrl: string;\r\n    public maxBatchSize: number;\r\n    public maxBatchIntervalMs: number;\r\n    public disableAppInsights: boolean;\r\n    public samplingPercentage: number;\r\n    public correlationIdRetryIntervalMs: number;\r\n    public correlationHeaderExcludedDomains: string[];\r\n    public proxyHttpUrl: string;\r\n    public proxyHttpsUrl: string;\r\n    public httpAgent: http.Agent;\r\n    public httpsAgent: https.Agent;\r\n    public ignoreLegacyHeaders: boolean;\r\n    public aadTokenCredential?: azureCoreAuth.TokenCredential;\r\n    public enableAutoCollectConsole: boolean;\r\n    public enableLoggerErrorToTrace: boolean;\r\n    public enableAutoCollectExceptions: boolean;\r\n    public enableAutoCollectPerformance: boolean;\r\n    public enableAutoCollectExternalLoggers: boolean;\r\n    public enableAutoCollectPreAggregatedMetrics: boolean;\r\n    public enableAutoCollectHeartbeat: boolean;\r\n    public enableAutoCollectRequests: boolean;\r\n    public enableAutoCollectDependencies: boolean;\r\n    public enableAutoDependencyCorrelation: boolean;\r\n    public enableAutoCollectIncomingRequestAzureFunctions: boolean;\r\n    public enableSendLiveMetrics: boolean;\r\n    public enableUseDiskRetryCaching: boolean;\r\n    public enableUseAsyncHooks: boolean;\r\n    public distributedTracingMode: DistributedTracingModes;\r\n    public enableAutoCollectExtendedMetrics: boolean | IDisabledExtendedMetrics;\r\n    public enableResendInterval: number;\r\n    public enableMaxBytesOnDisk: number;\r\n    public enableInternalDebugLogging: boolean;\r\n    public enableInternalWarningLogging: boolean;\r\n    public disableAllExtendedMetrics: boolean;\r\n    public disableStatsbeat: boolean;\r\n    public extendedMetricDisablers: string;\r\n    public quickPulseHost: string;\r\n    public enableWebInstrumentation: boolean;\r\n    public webInstrumentationConfig: IWebInstrumentationConfig[];\r\n    public webInstrumentationSrc: string;\r\n    // To Be deprecated.\r\n    public enableAutoWebSnippetInjection: boolean;\r\n\r\n    public correlationId: string; // TODO: Should be private\r\n    private _connectionString: string;\r\n    private _endpointBase: string = Constants.DEFAULT_BREEZE_ENDPOINT;\r\n    private _profileQueryEndpoint: string;\r\n    private _instrumentationKey: string;\r\n    public _webInstrumentationConnectionString: string;\r\n \r\n    constructor(setupString?: string) {\r\n        // Load config values from env variables and JSON if available\r\n        this._mergeConfig();\r\n        const connectionStringEnv: string | undefined = this._connectionString;\r\n        const csCode = ConnectionStringParser.parse(setupString);\r\n        const csEnv = ConnectionStringParser.parse(connectionStringEnv);\r\n        const iKeyCode = !csCode.instrumentationkey && Object.keys(csCode).length > 0\r\n            ? null // CS was valid but instrumentation key was not provided, null and grab from env var\r\n            : setupString; // CS was invalid, so it must be an ikey\r\n\r\n        const instrumentationKeyEnv: string | undefined = this._instrumentationKey;\r\n        this.instrumentationKey = csCode.instrumentationkey || iKeyCode /* === instrumentationKey */ || csEnv.instrumentationkey || instrumentationKeyEnv;\r\n        let endpoint = `${this.endpointUrl || csCode.ingestionendpoint || csEnv.ingestionendpoint || this._endpointBase}`;\r\n        if (endpoint.endsWith(\"/\")) {\r\n            // Remove extra '/' if present\r\n            endpoint = endpoint.slice(0, -1);\r\n        }\r\n        this.endpointUrl = `${endpoint}/v2.1/track`;\r\n        this.maxBatchSize = this.maxBatchSize || 250;\r\n        this.maxBatchIntervalMs = this.maxBatchIntervalMs || 15000;\r\n        this.disableAppInsights = this.disableAppInsights || false;\r\n        this.samplingPercentage = this.samplingPercentage || 100;\r\n        this.correlationIdRetryIntervalMs = this.correlationIdRetryIntervalMs || 30 * 1000;\r\n        this.enableWebInstrumentation = this.enableWebInstrumentation || this.enableAutoWebSnippetInjection || false;\r\n        this.webInstrumentationConfig = this.webInstrumentationConfig || null;\r\n        this.enableAutoWebSnippetInjection = this.enableWebInstrumentation;\r\n        this.correlationHeaderExcludedDomains =\r\n            this.correlationHeaderExcludedDomains ||\r\n            [\r\n                \"*.core.windows.net\",\r\n                \"*.core.chinacloudapi.cn\",\r\n                \"*.core.cloudapi.de\",\r\n                \"*.core.usgovcloudapi.net\",\r\n                \"*.core.microsoft.scloud\",\r\n                \"*.core.eaglex.ic.gov\"\r\n            ];\r\n\r\n        this.ignoreLegacyHeaders = this.ignoreLegacyHeaders || false;\r\n        this.profileQueryEndpoint = csCode.ingestionendpoint || csEnv.ingestionendpoint || process.env[Config.ENV_profileQueryEndpoint] || this._endpointBase;\r\n        this.quickPulseHost = this.quickPulseHost || csCode.liveendpoint || csEnv.liveendpoint || process.env[Config.ENV_quickPulseHost] || Constants.DEFAULT_LIVEMETRICS_HOST;\r\n        this.webInstrumentationConnectionString = this.webInstrumentationConnectionString || this._webInstrumentationConnectionString || \"\";\r\n        this.webSnippetConnectionString = this.webInstrumentationConnectionString;\r\n        // Parse quickPulseHost if it starts with http(s)://\r\n        if (this.quickPulseHost.match(/^https?:\\/\\//)) {\r\n            this.quickPulseHost = new url.URL(this.quickPulseHost).host;\r\n        }\r\n    }\r\n\r\n    public set profileQueryEndpoint(endpoint: string) {\r\n        this._profileQueryEndpoint = endpoint;\r\n        this.correlationId = CorrelationIdManager.correlationIdPrefix;\r\n    }\r\n\r\n    public get profileQueryEndpoint() {\r\n        return this._profileQueryEndpoint;\r\n    }\r\n\r\n    public set instrumentationKey(iKey: string) {\r\n        if (!Config._validateInstrumentationKey(iKey)) {\r\n            Logging.warn(\"An invalid instrumentation key was provided. There may be resulting telemetry loss\", this.instrumentationKey);\r\n        }\r\n        this._instrumentationKey = iKey;\r\n    }\r\n\r\n    public get instrumentationKey(): string {\r\n        return this._instrumentationKey;\r\n    }\r\n\r\n    public set webSnippetConnectionString(connectionString: string) {\r\n        this._webInstrumentationConnectionString = connectionString;\r\n    }\r\n\r\n    public get webSnippetConnectionString(): string {\r\n        return this._webInstrumentationConnectionString;\r\n    }\r\n\r\n    public set webInstrumentationConnectionString(connectionString: string) {\r\n        this._webInstrumentationConnectionString = connectionString;\r\n    }\r\n\r\n    public get webInstrumentationConnectionString() {\r\n        return this._webInstrumentationConnectionString;\r\n    }\r\n\r\n    private _mergeConfig() {\r\n        let jsonConfig = JsonConfig.getInstance();\r\n        this._connectionString = jsonConfig.connectionString;\r\n        this._instrumentationKey = jsonConfig.instrumentationKey;\r\n        this.correlationHeaderExcludedDomains = jsonConfig.correlationHeaderExcludedDomains;\r\n        this.correlationIdRetryIntervalMs = jsonConfig.correlationIdRetryIntervalMs;\r\n        this.disableAllExtendedMetrics = jsonConfig.disableAllExtendedMetrics;\r\n        this.disableAppInsights = jsonConfig.disableAppInsights;\r\n        this.disableStatsbeat = jsonConfig.disableStatsbeat;\r\n        this.distributedTracingMode = jsonConfig.distributedTracingMode;\r\n        this.enableAutoCollectConsole = jsonConfig.enableAutoCollectConsole;\r\n        this.enableLoggerErrorToTrace = jsonConfig.enableLoggerErrorToTrace;\r\n        this.enableAutoCollectDependencies = jsonConfig.enableAutoCollectDependencies;\r\n        this.enableAutoCollectIncomingRequestAzureFunctions = jsonConfig.enableAutoCollectIncomingRequestAzureFunctions;\r\n        this.enableAutoCollectExceptions = jsonConfig.enableAutoCollectExceptions;\r\n        this.enableAutoCollectExtendedMetrics = jsonConfig.enableAutoCollectExtendedMetrics;\r\n        this.enableAutoCollectExternalLoggers = jsonConfig.enableAutoCollectExternalLoggers;\r\n        this.enableAutoCollectHeartbeat = jsonConfig.enableAutoCollectHeartbeat;\r\n        this.enableAutoCollectPerformance = jsonConfig.enableAutoCollectPerformance;\r\n        this.enableAutoCollectPreAggregatedMetrics = jsonConfig.enableAutoCollectPreAggregatedMetrics;\r\n        this.enableAutoCollectRequests = jsonConfig.enableAutoCollectRequests;\r\n        this.enableAutoDependencyCorrelation = jsonConfig.enableAutoDependencyCorrelation;\r\n        this.enableInternalDebugLogging = jsonConfig.enableInternalDebugLogging;\r\n        this.enableInternalWarningLogging = jsonConfig.enableInternalWarningLogging;\r\n        this.enableResendInterval = jsonConfig.enableResendInterval;\r\n        this.enableMaxBytesOnDisk = jsonConfig.enableMaxBytesOnDisk;\r\n        this.enableSendLiveMetrics = jsonConfig.enableSendLiveMetrics;\r\n        this.enableUseAsyncHooks = jsonConfig.enableUseAsyncHooks;\r\n        this.enableUseDiskRetryCaching = jsonConfig.enableUseDiskRetryCaching;\r\n        this.endpointUrl = jsonConfig.endpointUrl;\r\n        this.extendedMetricDisablers = jsonConfig.extendedMetricDisablers;\r\n        this.ignoreLegacyHeaders = jsonConfig.ignoreLegacyHeaders;\r\n        this.maxBatchIntervalMs = jsonConfig.maxBatchIntervalMs;\r\n        this.maxBatchSize = jsonConfig.maxBatchSize;\r\n        this.proxyHttpUrl = jsonConfig.proxyHttpUrl;\r\n        this.proxyHttpsUrl = jsonConfig.proxyHttpsUrl;\r\n        this.quickPulseHost = jsonConfig.quickPulseHost;\r\n        this.samplingPercentage = jsonConfig.samplingPercentage;\r\n        this.enableWebInstrumentation = jsonConfig.enableWebInstrumentation;\r\n        this._webInstrumentationConnectionString = jsonConfig.webInstrumentationConnectionString;\r\n        this.webInstrumentationConfig = jsonConfig.webInstrumentationConfig;\r\n        this.webInstrumentationSrc = jsonConfig.webInstrumentationSrc;\r\n    }\r\n\r\n    /**\r\n    * Validate UUID Format\r\n    * Specs taken from breeze repo\r\n    * The definition of a VALID instrumentation key is as follows:\r\n    * Not none\r\n    * Not empty\r\n    * Every character is a hex character [0-9a-f]\r\n    * 32 characters are separated into 5 sections via 4 dashes\r\n    * First section has 8 characters\r\n    * Second section has 4 characters\r\n    * Third section has 4 characters\r\n    * Fourth section has 4 characters\r\n    * Fifth section has 12 characters\r\n    */\r\n    private static _validateInstrumentationKey(iKey: string): boolean {\r\n        const UUID_Regex = \"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$\";\r\n        const regexp = new RegExp(UUID_Regex);\r\n        return regexp.test(iKey);\r\n    }\r\n}\r\n\r\nexport = Config;\r\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path=\"../shims-public.d.ts\" />\n\ntype AbortEventListener = (this: AbortSignalLike, ev?: any) => any;\n\nconst listenersMap = new WeakMap<AbortSignal, AbortEventListener[]>();\nconst abortedMap = new WeakMap<AbortSignal, boolean>();\n\n/**\n * Allows the request to be aborted upon firing of the \"abort\" event.\n * Compatible with the browser built-in AbortSignal and common polyfills.\n */\nexport interface AbortSignalLike {\n  /**\n   * Indicates if the signal has already been aborted.\n   */\n  readonly aborted: boolean;\n  /**\n   * Add new \"abort\" event listener, only support \"abort\" event.\n   */\n  addEventListener(\n    type: \"abort\",\n    listener: (this: AbortSignalLike, ev: any) => any,\n    options?: any\n  ): void;\n  /**\n   * Remove \"abort\" event listener, only support \"abort\" event.\n   */\n  removeEventListener(\n    type: \"abort\",\n    listener: (this: AbortSignalLike, ev: any) => any,\n    options?: any\n  ): void;\n}\n\n/**\n * An aborter instance implements AbortSignal interface, can abort HTTP requests.\n *\n * - Call AbortSignal.none to create a new AbortSignal instance that cannot be cancelled.\n * Use `AbortSignal.none` when you are required to pass a cancellation token but the operation\n * cannot or will not ever be cancelled.\n *\n * @example\n * Abort without timeout\n * ```ts\n * await doAsyncWork(AbortSignal.none);\n * ```\n */\nexport class AbortSignal implements AbortSignalLike {\n  constructor() {\n    listenersMap.set(this, []);\n    abortedMap.set(this, false);\n  }\n\n  /**\n   * Status of whether aborted or not.\n   *\n   * @readonly\n   */\n  public get aborted(): boolean {\n    if (!abortedMap.has(this)) {\n      throw new TypeError(\"Expected `this` to be an instance of AbortSignal.\");\n    }\n\n    return abortedMap.get(this)!;\n  }\n\n  /**\n   * Creates a new AbortSignal instance that will never be aborted.\n   *\n   * @readonly\n   */\n  public static get none(): AbortSignal {\n    return new AbortSignal();\n  }\n\n  /**\n   * onabort event listener.\n   */\n  public onabort: ((ev?: Event) => any) | null = null;\n\n  /**\n   * Added new \"abort\" event listener, only support \"abort\" event.\n   *\n   * @param _type - Only support \"abort\" event\n   * @param listener - The listener to be added\n   */\n  public addEventListener(\n    // tslint:disable-next-line:variable-name\n    _type: \"abort\",\n    listener: (this: AbortSignalLike, ev: any) => any\n  ): void {\n    if (!listenersMap.has(this)) {\n      throw new TypeError(\"Expected `this` to be an instance of AbortSignal.\");\n    }\n\n    const listeners = listenersMap.get(this)!;\n    listeners.push(listener);\n  }\n\n  /**\n   * Remove \"abort\" event listener, only support \"abort\" event.\n   *\n   * @param _type - Only support \"abort\" event\n   * @param listener - The listener to be removed\n   */\n  public removeEventListener(\n    // tslint:disable-next-line:variable-name\n    _type: \"abort\",\n    listener: (this: AbortSignalLike, ev: any) => any\n  ): void {\n    if (!listenersMap.has(this)) {\n      throw new TypeError(\"Expected `this` to be an instance of AbortSignal.\");\n    }\n\n    const listeners = listenersMap.get(this)!;\n\n    const index = listeners.indexOf(listener);\n    if (index > -1) {\n      listeners.splice(index, 1);\n    }\n  }\n\n  /**\n   * Dispatches a synthetic event to the AbortSignal.\n   */\n  dispatchEvent(_event: Event): boolean {\n    throw new Error(\n      \"This is a stub dispatchEvent implementation that should not be used.  It only exists for type-checking purposes.\"\n    );\n  }\n}\n\n/**\n * Helper to trigger an abort event immediately, the onabort and all abort event listeners will be triggered.\n * Will try to trigger abort event for all linked AbortSignal nodes.\n *\n * - If there is a timeout, the timer will be cancelled.\n * - If aborted is true, nothing will happen.\n *\n * @internal\n */\n// eslint-disable-next-line @azure/azure-sdk/ts-use-interface-parameters\nexport function abortSignal(signal: AbortSignal): void {\n  if (signal.aborted) {\n    return;\n  }\n\n  if (signal.onabort) {\n    signal.onabort.call(signal);\n  }\n\n  const listeners = listenersMap.get(signal)!;\n  if (listeners) {\n    // Create a copy of listeners so mutations to the array\n    // (e.g. via removeListener calls) don't affect the listeners\n    // we invoke.\n    listeners.slice().forEach((listener) => {\n      listener.call(signal, { type: \"abort\" });\n    });\n  }\n\n  abortedMap.set(signal, true);\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { AbortSignal, AbortSignalLike, abortSignal } from \"./AbortSignal\";\n\n/**\n * This error is thrown when an asynchronous operation has been aborted.\n * Check for this error by testing the `name` that the name property of the\n * error matches `\"AbortError\"`.\n *\n * @example\n * ```ts\n * const controller = new AbortController();\n * controller.abort();\n * try {\n *   doAsyncWork(controller.signal)\n * } catch (e) {\n *   if (e.name === 'AbortError') {\n *     // handle abort error here.\n *   }\n * }\n * ```\n */\nexport class AbortError extends Error {\n  constructor(message?: string) {\n    super(message);\n    this.name = \"AbortError\";\n  }\n}\n\n/**\n * An AbortController provides an AbortSignal and the associated controls to signal\n * that an asynchronous operation should be aborted.\n *\n * @example\n * Abort an operation when another event fires\n * ```ts\n * const controller = new AbortController();\n * const signal = controller.signal;\n * doAsyncWork(signal);\n * button.addEventListener('click', () => controller.abort());\n * ```\n *\n * @example\n * Share aborter cross multiple operations in 30s\n * ```ts\n * // Upload the same data to 2 different data centers at the same time,\n * // abort another when any of them is finished\n * const controller = AbortController.withTimeout(30 * 1000);\n * doAsyncWork(controller.signal).then(controller.abort);\n * doAsyncWork(controller.signal).then(controller.abort);\n *```\n *\n * @example\n * Cascaded aborting\n * ```ts\n * // All operations can't take more than 30 seconds\n * const aborter = Aborter.timeout(30 * 1000);\n *\n * // Following 2 operations can't take more than 25 seconds\n * await doAsyncWork(aborter.withTimeout(25 * 1000));\n * await doAsyncWork(aborter.withTimeout(25 * 1000));\n * ```\n */\nexport class AbortController {\n  private _signal: AbortSignal;\n\n  /**\n   * @param parentSignals - The AbortSignals that will signal aborted on the AbortSignal associated with this controller.\n   */\n  constructor(parentSignals?: AbortSignalLike[]);\n  /**\n   * @param parentSignals - The AbortSignals that will signal aborted on the AbortSignal associated with this controller.\n   */\n  constructor(...parentSignals: AbortSignalLike[]);\n  // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n  constructor(parentSignals?: any) {\n    this._signal = new AbortSignal();\n\n    if (!parentSignals) {\n      return;\n    }\n    // coerce parentSignals into an array\n    if (!Array.isArray(parentSignals)) {\n      // eslint-disable-next-line prefer-rest-params\n      parentSignals = arguments;\n    }\n    for (const parentSignal of parentSignals) {\n      // if the parent signal has already had abort() called,\n      // then call abort on this signal as well.\n      if (parentSignal.aborted) {\n        this.abort();\n      } else {\n        // when the parent signal aborts, this signal should as well.\n        parentSignal.addEventListener(\"abort\", () => {\n          this.abort();\n        });\n      }\n    }\n  }\n\n  /**\n   * The AbortSignal associated with this controller that will signal aborted\n   * when the abort method is called on this controller.\n   *\n   * @readonly\n   */\n  public get signal(): AbortSignal {\n    return this._signal;\n  }\n\n  /**\n   * Signal that any operations passed this controller's associated abort signal\n   * to cancel any remaining work and throw an `AbortError`.\n   */\n  abort(): void {\n    abortSignal(this._signal);\n  }\n\n  /**\n   * Creates a new AbortSignal instance that will abort after the provided ms.\n   * @param ms - Elapsed time in milliseconds to trigger an abort.\n   */\n  public static timeout(ms: number): AbortSignal {\n    const signal = new AbortSignal();\n    const timer = setTimeout(abortSignal, ms, signal);\n    // Prevent the active Timer from keeping the Node.js event loop active.\n    if (typeof timer.unref === \"function\") {\n      timer.unref();\n    }\n    return signal;\n  }\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\n/**\n * A constant that indicates whether the environment the code is running is Node.JS.\n */\nexport const isNode =\n  typeof process !== \"undefined\" && Boolean(process.version) && Boolean(process.versions?.node);\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { AbortError, AbortSignalLike } from \"@azure/abort-controller\";\n\n/**\n * Options for the createAbortablePromise function.\n */\nexport interface CreateAbortablePromiseOptions {\n  /** A function to be called if the promise was aborted */\n  cleanupBeforeAbort?: () => void;\n  /** An abort signal */\n  abortSignal?: AbortSignalLike;\n  /** An abort error message */\n  abortErrorMsg?: string;\n}\n\n/**\n * Creates an abortable promise.\n * @param buildPromise - A function that takes the resolve and reject functions as parameters.\n * @param options - The options for the abortable promise.\n * @returns A promise that can be aborted.\n */\nexport function createAbortablePromise<T>(\n  buildPromise: (\n    resolve: (value: T | PromiseLike<T>) => void,\n    reject: (reason?: any) => void\n  ) => void,\n  options?: CreateAbortablePromiseOptions\n): Promise<T> {\n  const { cleanupBeforeAbort, abortSignal, abortErrorMsg } = options ?? {};\n  return new Promise((resolve, reject) => {\n    function rejectOnAbort(): void {\n      reject(new AbortError(abortErrorMsg ?? \"The operation was aborted.\"));\n    }\n    function removeListeners(): void {\n      abortSignal?.removeEventListener(\"abort\", onAbort);\n    }\n    function onAbort(): void {\n      cleanupBeforeAbort?.();\n      removeListeners();\n      rejectOnAbort();\n    }\n    if (abortSignal?.aborted) {\n      return rejectOnAbort();\n    }\n    try {\n      buildPromise(\n        (x) => {\n          removeListeners();\n          resolve(x);\n        },\n        (x) => {\n          removeListeners();\n          reject(x);\n        }\n      );\n    } catch (err) {\n      reject(err);\n    }\n    abortSignal?.addEventListener(\"abort\", onAbort);\n  });\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { AbortSignalLike } from \"@azure/abort-controller\";\nimport { createAbortablePromise } from \"./createAbortablePromise\";\n\nconst StandardAbortMessage = \"The delay was aborted.\";\n\n/**\n * Options for support abort functionality for the delay method\n */\nexport interface DelayOptions {\n  /**\n   * The abortSignal associated with containing operation.\n   */\n  abortSignal?: AbortSignalLike;\n  /**\n   * The abort error message associated with containing operation.\n   */\n  abortErrorMsg?: string;\n}\n\n/**\n * A wrapper for setTimeout that resolves a promise after timeInMs milliseconds.\n * @param timeInMs - The number of milliseconds to be delayed.\n * @param options - The options for delay - currently abort options\n * @returns Promise that is resolved after timeInMs\n */\nexport function delay(timeInMs: number, options?: DelayOptions): Promise<void> {\n  let token: ReturnType<typeof setTimeout>;\n  const { abortSignal, abortErrorMsg } = options ?? {};\n  return createAbortablePromise(\n    (resolve) => {\n      token = setTimeout(resolve, timeInMs);\n    },\n    {\n      cleanupBeforeAbort: () => clearTimeout(token),\n      abortSignal,\n      abortErrorMsg: abortErrorMsg ?? StandardAbortMessage,\n    }\n  );\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\n/**\n * Returns a random integer value between a lower and upper bound,\n * inclusive of both bounds.\n * Note that this uses Math.random and isn't secure. If you need to use\n * this for any kind of security purpose, find a better source of random.\n * @param min - The smallest integer value allowed.\n * @param max - The largest integer value allowed.\n */\nexport function getRandomIntegerInclusive(min: number, max: number): number {\n  // Make sure inputs are integers.\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  // Pick a random offset from zero to the size of the range.\n  // Since Math.random() can never return 1, we have to make the range one larger\n  // in order to be inclusive of the maximum value after we take the floor.\n  const offset = Math.floor(Math.random() * (max - min + 1));\n  return offset + min;\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\n/**\n * A generic shape for a plain JS object.\n */\nexport type UnknownObject = { [s: string]: unknown };\n\n/**\n * Helper to determine when an input is a generic JS object.\n * @returns true when input is an object type that is not null, Array, RegExp, or Date.\n */\nexport function isObject(input: unknown): input is UnknownObject {\n  return (\n    typeof input === \"object\" &&\n    input !== null &&\n    !Array.isArray(input) &&\n    !(input instanceof RegExp) &&\n    !(input instanceof Date)\n  );\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { isObject } from \"./object\";\n\n/**\n * Typeguard for an error object shape (has name and message)\n * @param e - Something caught by a catch clause.\n */\nexport function isError(e: unknown): e is Error {\n  if (isObject(e)) {\n    const hasName = typeof e.name === \"string\";\n    const hasMessage = typeof e.message === \"string\";\n    return hasName && hasMessage;\n  }\n  return false;\n}\n\n/**\n * Given what is thought to be an error object, return the message if possible.\n * If the message is missing, returns a stringified version of the input.\n * @param e - Something thrown from a try block\n * @returns The error message or a string of the input\n */\nexport function getErrorMessage(e: unknown): string {\n  if (isError(e)) {\n    return e.message;\n  } else {\n    let stringified: string;\n    try {\n      if (typeof e === \"object\" && e) {\n        stringified = JSON.stringify(e);\n      } else {\n        stringified = String(e);\n      }\n    } catch (err: any) {\n      stringified = \"[unable to stringify input]\";\n    }\n    return `Unknown error ${stringified}`;\n  }\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { createHash, createHmac } from \"crypto\";\n\n/**\n * Generates a SHA-256 HMAC signature.\n * @param key - The HMAC key represented as a base64 string, used to generate the cryptographic HMAC hash.\n * @param stringToSign - The data to be signed.\n * @param encoding - The textual encoding to use for the returned HMAC digest.\n */\nexport async function computeSha256Hmac(\n  key: string,\n  stringToSign: string,\n  encoding: \"base64\" | \"hex\"\n): Promise<string> {\n  const decodedKey = Buffer.from(key, \"base64\");\n\n  return createHmac(\"sha256\", decodedKey).update(stringToSign).digest(encoding);\n}\n\n/**\n * Generates a SHA-256 hash.\n * @param content - The data to be included in the hash.\n * @param encoding - The textual encoding to use for the returned hash.\n */\nexport async function computeSha256Hash(\n  content: string,\n  encoding: \"base64\" | \"hex\"\n): Promise<string> {\n  return createHash(\"sha256\").update(content).digest(encoding);\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\n/**\n * Helper TypeGuard that checks if something is defined or not.\n * @param thing - Anything\n */\nexport function isDefined<T>(thing: T | undefined | null): thing is T {\n  return typeof thing !== \"undefined\" && thing !== null;\n}\n\n/**\n * Helper TypeGuard that checks if the input is an object with the specified properties.\n * @param thing - Anything.\n * @param properties - The name of the properties that should appear in the object.\n */\nexport function isObjectWithProperties<Thing, PropertyName extends string>(\n  thing: Thing,\n  properties: PropertyName[]\n): thing is Thing & Record<PropertyName, unknown> {\n  if (!isDefined(thing) || typeof thing !== \"object\") {\n    return false;\n  }\n\n  for (const property of properties) {\n    if (!objectHasProperty(thing, property)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Helper TypeGuard that checks if the input is an object with the specified property.\n * @param thing - Any object.\n * @param property - The name of the property that should appear in the object.\n */\nexport function objectHasProperty<Thing, PropertyName extends string>(\n  thing: Thing,\n  property: PropertyName\n): thing is Thing & Record<PropertyName, unknown> {\n  return (\n    isDefined(thing) && typeof thing === \"object\" && property in (thing as Record<string, unknown>)\n  );\n}\n", "var Stream = require('stream').Stream;\nvar util = require('util');\n\nmodule.exports = DelayedStream;\nfunction DelayedStream() {\n  this.source = null;\n  this.dataSize = 0;\n  this.maxDataSize = 1024 * 1024;\n  this.pauseStream = true;\n\n  this._maxDataSizeExceeded = false;\n  this._released = false;\n  this._bufferedEvents = [];\n}\nutil.inherits(DelayedStream, Stream);\n\nDelayedStream.create = function(source, options) {\n  var delayedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    delayedStream[option] = options[option];\n  }\n\n  delayedStream.source = source;\n\n  var realEmit = source.emit;\n  source.emit = function() {\n    delayedStream._handleEmit(arguments);\n    return realEmit.apply(source, arguments);\n  };\n\n  source.on('error', function() {});\n  if (delayedStream.pauseStream) {\n    source.pause();\n  }\n\n  return delayedStream;\n};\n\nObject.defineProperty(DelayedStream.prototype, 'readable', {\n  configurable: true,\n  enumerable: true,\n  get: function() {\n    return this.source.readable;\n  }\n});\n\nDelayedStream.prototype.setEncoding = function() {\n  return this.source.setEncoding.apply(this.source, arguments);\n};\n\nDelayedStream.prototype.resume = function() {\n  if (!this._released) {\n    this.release();\n  }\n\n  this.source.resume();\n};\n\nDelayedStream.prototype.pause = function() {\n  this.source.pause();\n};\n\nDelayedStream.prototype.release = function() {\n  this._released = true;\n\n  this._bufferedEvents.forEach(function(args) {\n    this.emit.apply(this, args);\n  }.bind(this));\n  this._bufferedEvents = [];\n};\n\nDelayedStream.prototype.pipe = function() {\n  var r = Stream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return r;\n};\n\nDelayedStream.prototype._handleEmit = function(args) {\n  if (this._released) {\n    this.emit.apply(this, args);\n    return;\n  }\n\n  if (args[0] === 'data') {\n    this.dataSize += args[1].length;\n    this._checkIfMaxDataSizeExceeded();\n  }\n\n  this._bufferedEvents.push(args);\n};\n\nDelayedStream.prototype._checkIfMaxDataSizeExceeded = function() {\n  if (this._maxDataSizeExceeded) {\n    return;\n  }\n\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  this._maxDataSizeExceeded = true;\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.'\n  this.emit('error', new Error(message));\n};\n", "var util = require('util');\nvar Stream = require('stream').Stream;\nvar DelayedStream = require('delayed-stream');\n\nmodule.exports = CombinedStream;\nfunction CombinedStream() {\n  this.writable = false;\n  this.readable = true;\n  this.dataSize = 0;\n  this.maxDataSize = 2 * 1024 * 1024;\n  this.pauseStreams = true;\n\n  this._released = false;\n  this._streams = [];\n  this._currentStream = null;\n  this._insideLoop = false;\n  this._pendingNext = false;\n}\nutil.inherits(CombinedStream, Stream);\n\nCombinedStream.create = function(options) {\n  var combinedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    combinedStream[option] = options[option];\n  }\n\n  return combinedStream;\n};\n\nCombinedStream.isStreamLike = function(stream) {\n  return (typeof stream !== 'function')\n    && (typeof stream !== 'string')\n    && (typeof stream !== 'boolean')\n    && (typeof stream !== 'number')\n    && (!Buffer.isBuffer(stream));\n};\n\nCombinedStream.prototype.append = function(stream) {\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n\n  if (isStreamLike) {\n    if (!(stream instanceof DelayedStream)) {\n      var newStream = DelayedStream.create(stream, {\n        maxDataSize: Infinity,\n        pauseStream: this.pauseStreams,\n      });\n      stream.on('data', this._checkDataSize.bind(this));\n      stream = newStream;\n    }\n\n    this._handleErrors(stream);\n\n    if (this.pauseStreams) {\n      stream.pause();\n    }\n  }\n\n  this._streams.push(stream);\n  return this;\n};\n\nCombinedStream.prototype.pipe = function(dest, options) {\n  Stream.prototype.pipe.call(this, dest, options);\n  this.resume();\n  return dest;\n};\n\nCombinedStream.prototype._getNext = function() {\n  this._currentStream = null;\n\n  if (this._insideLoop) {\n    this._pendingNext = true;\n    return; // defer call\n  }\n\n  this._insideLoop = true;\n  try {\n    do {\n      this._pendingNext = false;\n      this._realGetNext();\n    } while (this._pendingNext);\n  } finally {\n    this._insideLoop = false;\n  }\n};\n\nCombinedStream.prototype._realGetNext = function() {\n  var stream = this._streams.shift();\n\n\n  if (typeof stream == 'undefined') {\n    this.end();\n    return;\n  }\n\n  if (typeof stream !== 'function') {\n    this._pipeNext(stream);\n    return;\n  }\n\n  var getStream = stream;\n  getStream(function(stream) {\n    var isStreamLike = CombinedStream.isStreamLike(stream);\n    if (isStreamLike) {\n      stream.on('data', this._checkDataSize.bind(this));\n      this._handleErrors(stream);\n    }\n\n    this._pipeNext(stream);\n  }.bind(this));\n};\n\nCombinedStream.prototype._pipeNext = function(stream) {\n  this._currentStream = stream;\n\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n  if (isStreamLike) {\n    stream.on('end', this._getNext.bind(this));\n    stream.pipe(this, {end: false});\n    return;\n  }\n\n  var value = stream;\n  this.write(value);\n  this._getNext();\n};\n\nCombinedStream.prototype._handleErrors = function(stream) {\n  var self = this;\n  stream.on('error', function(err) {\n    self._emitError(err);\n  });\n};\n\nCombinedStream.prototype.write = function(data) {\n  this.emit('data', data);\n};\n\nCombinedStream.prototype.pause = function() {\n  if (!this.pauseStreams) {\n    return;\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.pause) == 'function') this._currentStream.pause();\n  this.emit('pause');\n};\n\nCombinedStream.prototype.resume = function() {\n  if (!this._released) {\n    this._released = true;\n    this.writable = true;\n    this._getNext();\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.resume) == 'function') this._currentStream.resume();\n  this.emit('resume');\n};\n\nCombinedStream.prototype.end = function() {\n  this._reset();\n  this.emit('end');\n};\n\nCombinedStream.prototype.destroy = function() {\n  this._reset();\n  this.emit('close');\n};\n\nCombinedStream.prototype._reset = function() {\n  this.writable = false;\n  this._streams = [];\n  this._currentStream = null;\n};\n\nCombinedStream.prototype._checkDataSize = function() {\n  this._updateDataSize();\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.';\n  this._emitError(new Error(message));\n};\n\nCombinedStream.prototype._updateDataSize = function() {\n  this.dataSize = 0;\n\n  var self = this;\n  this._streams.forEach(function(stream) {\n    if (!stream.dataSize) {\n      return;\n    }\n\n    self.dataSize += stream.dataSize;\n  });\n\n  if (this._currentStream && this._currentStream.dataSize) {\n    this.dataSize += this._currentStream.dataSize;\n  }\n};\n\nCombinedStream.prototype._emitError = function(err) {\n  this._reset();\n  this.emit('error', err);\n};\n", "{\n  \"application/1d-interleaved-parityfec\": {\n    \"source\": \"iana\"\n  },\n  \"application/3gpdash-qoe-report+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/3gpp-ims+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/3gpphal+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/3gpphalforms+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/a2l\": {\n    \"source\": \"iana\"\n  },\n  \"application/ace+cbor\": {\n    \"source\": \"iana\"\n  },\n  \"application/activemessage\": {\n    \"source\": \"iana\"\n  },\n  \"application/activity+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/alto-costmap+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/alto-costmapfilter+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/alto-directory+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/alto-endpointcost+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/alto-endpointcostparams+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/alto-endpointprop+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/alto-endpointpropparams+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/alto-error+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/alto-networkmap+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/alto-networkmapfilter+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/alto-updatestreamcontrol+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/alto-updatestreamparams+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/aml\": {\n    \"source\": \"iana\"\n  },\n  \"application/andrew-inset\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ez\"]\n  },\n  \"application/applefile\": {\n    \"source\": \"iana\"\n  },\n  \"application/applixware\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"aw\"]\n  },\n  \"application/at+jwt\": {\n    \"source\": \"iana\"\n  },\n  \"application/atf\": {\n    \"source\": \"iana\"\n  },\n  \"application/atfx\": {\n    \"source\": \"iana\"\n  },\n  \"application/atom+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"atom\"]\n  },\n  \"application/atomcat+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"atomcat\"]\n  },\n  \"application/atomdeleted+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"atomdeleted\"]\n  },\n  \"application/atomicmail\": {\n    \"source\": \"iana\"\n  },\n  \"application/atomsvc+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"atomsvc\"]\n  },\n  \"application/atsc-dwd+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"dwd\"]\n  },\n  \"application/atsc-dynamic-event-message\": {\n    \"source\": \"iana\"\n  },\n  \"application/atsc-held+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"held\"]\n  },\n  \"application/atsc-rdt+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/atsc-rsat+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"rsat\"]\n  },\n  \"application/atxml\": {\n    \"source\": \"iana\"\n  },\n  \"application/auth-policy+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/bacnet-xdd+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/batch-smtp\": {\n    \"source\": \"iana\"\n  },\n  \"application/bdoc\": {\n    \"compressible\": false,\n    \"extensions\": [\"bdoc\"]\n  },\n  \"application/beep+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/calendar+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/calendar+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xcs\"]\n  },\n  \"application/call-completion\": {\n    \"source\": \"iana\"\n  },\n  \"application/cals-1840\": {\n    \"source\": \"iana\"\n  },\n  \"application/captive+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/cbor\": {\n    \"source\": \"iana\"\n  },\n  \"application/cbor-seq\": {\n    \"source\": \"iana\"\n  },\n  \"application/cccex\": {\n    \"source\": \"iana\"\n  },\n  \"application/ccmp+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/ccxml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"ccxml\"]\n  },\n  \"application/cdfx+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"cdfx\"]\n  },\n  \"application/cdmi-capability\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cdmia\"]\n  },\n  \"application/cdmi-container\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cdmic\"]\n  },\n  \"application/cdmi-domain\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cdmid\"]\n  },\n  \"application/cdmi-object\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cdmio\"]\n  },\n  \"application/cdmi-queue\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cdmiq\"]\n  },\n  \"application/cdni\": {\n    \"source\": \"iana\"\n  },\n  \"application/cea\": {\n    \"source\": \"iana\"\n  },\n  \"application/cea-2018+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/cellml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/cfw\": {\n    \"source\": \"iana\"\n  },\n  \"application/city+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/clr\": {\n    \"source\": \"iana\"\n  },\n  \"application/clue+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/clue_info+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/cms\": {\n    \"source\": \"iana\"\n  },\n  \"application/cnrp+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/coap-group+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/coap-payload\": {\n    \"source\": \"iana\"\n  },\n  \"application/commonground\": {\n    \"source\": \"iana\"\n  },\n  \"application/conference-info+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/cose\": {\n    \"source\": \"iana\"\n  },\n  \"application/cose-key\": {\n    \"source\": \"iana\"\n  },\n  \"application/cose-key-set\": {\n    \"source\": \"iana\"\n  },\n  \"application/cpl+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"cpl\"]\n  },\n  \"application/csrattrs\": {\n    \"source\": \"iana\"\n  },\n  \"application/csta+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/cstadata+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/csvm+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/cu-seeme\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"cu\"]\n  },\n  \"application/cwt\": {\n    \"source\": \"iana\"\n  },\n  \"application/cybercash\": {\n    \"source\": \"iana\"\n  },\n  \"application/dart\": {\n    \"compressible\": true\n  },\n  \"application/dash+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"mpd\"]\n  },\n  \"application/dash-patch+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"mpp\"]\n  },\n  \"application/dashdelta\": {\n    \"source\": \"iana\"\n  },\n  \"application/davmount+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"davmount\"]\n  },\n  \"application/dca-rft\": {\n    \"source\": \"iana\"\n  },\n  \"application/dcd\": {\n    \"source\": \"iana\"\n  },\n  \"application/dec-dx\": {\n    \"source\": \"iana\"\n  },\n  \"application/dialog-info+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/dicom\": {\n    \"source\": \"iana\"\n  },\n  \"application/dicom+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/dicom+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/dii\": {\n    \"source\": \"iana\"\n  },\n  \"application/dit\": {\n    \"source\": \"iana\"\n  },\n  \"application/dns\": {\n    \"source\": \"iana\"\n  },\n  \"application/dns+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/dns-message\": {\n    \"source\": \"iana\"\n  },\n  \"application/docbook+xml\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"dbk\"]\n  },\n  \"application/dots+cbor\": {\n    \"source\": \"iana\"\n  },\n  \"application/dskpp+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/dssc+der\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dssc\"]\n  },\n  \"application/dssc+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xdssc\"]\n  },\n  \"application/dvcs\": {\n    \"source\": \"iana\"\n  },\n  \"application/ecmascript\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"es\",\"ecma\"]\n  },\n  \"application/edi-consent\": {\n    \"source\": \"iana\"\n  },\n  \"application/edi-x12\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/edifact\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/efi\": {\n    \"source\": \"iana\"\n  },\n  \"application/elm+json\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/elm+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/emergencycalldata.cap+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/emergencycalldata.comment+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/emergencycalldata.control+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/emergencycalldata.deviceinfo+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/emergencycalldata.ecall.msd\": {\n    \"source\": \"iana\"\n  },\n  \"application/emergencycalldata.providerinfo+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/emergencycalldata.serviceinfo+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/emergencycalldata.subscriberinfo+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/emergencycalldata.veds+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/emma+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"emma\"]\n  },\n  \"application/emotionml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"emotionml\"]\n  },\n  \"application/encaprtp\": {\n    \"source\": \"iana\"\n  },\n  \"application/epp+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/epub+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"epub\"]\n  },\n  \"application/eshop\": {\n    \"source\": \"iana\"\n  },\n  \"application/exi\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"exi\"]\n  },\n  \"application/expect-ct-report+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/express\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"exp\"]\n  },\n  \"application/fastinfoset\": {\n    \"source\": \"iana\"\n  },\n  \"application/fastsoap\": {\n    \"source\": \"iana\"\n  },\n  \"application/fdt+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"fdt\"]\n  },\n  \"application/fhir+json\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/fhir+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/fido.trusted-apps+json\": {\n    \"compressible\": true\n  },\n  \"application/fits\": {\n    \"source\": \"iana\"\n  },\n  \"application/flexfec\": {\n    \"source\": \"iana\"\n  },\n  \"application/font-sfnt\": {\n    \"source\": \"iana\"\n  },\n  \"application/font-tdpfr\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pfr\"]\n  },\n  \"application/font-woff\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/framework-attributes+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/geo+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"geojson\"]\n  },\n  \"application/geo+json-seq\": {\n    \"source\": \"iana\"\n  },\n  \"application/geopackage+sqlite3\": {\n    \"source\": \"iana\"\n  },\n  \"application/geoxacml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/gltf-buffer\": {\n    \"source\": \"iana\"\n  },\n  \"application/gml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"gml\"]\n  },\n  \"application/gpx+xml\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"gpx\"]\n  },\n  \"application/gxf\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"gxf\"]\n  },\n  \"application/gzip\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"gz\"]\n  },\n  \"application/h224\": {\n    \"source\": \"iana\"\n  },\n  \"application/held+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/hjson\": {\n    \"extensions\": [\"hjson\"]\n  },\n  \"application/http\": {\n    \"source\": \"iana\"\n  },\n  \"application/hyperstudio\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"stk\"]\n  },\n  \"application/ibe-key-request+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/ibe-pkg-reply+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/ibe-pp-data\": {\n    \"source\": \"iana\"\n  },\n  \"application/iges\": {\n    \"source\": \"iana\"\n  },\n  \"application/im-iscomposing+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/index\": {\n    \"source\": \"iana\"\n  },\n  \"application/index.cmd\": {\n    \"source\": \"iana\"\n  },\n  \"application/index.obj\": {\n    \"source\": \"iana\"\n  },\n  \"application/index.response\": {\n    \"source\": \"iana\"\n  },\n  \"application/index.vnd\": {\n    \"source\": \"iana\"\n  },\n  \"application/inkml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"ink\",\"inkml\"]\n  },\n  \"application/iotp\": {\n    \"source\": \"iana\"\n  },\n  \"application/ipfix\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ipfix\"]\n  },\n  \"application/ipp\": {\n    \"source\": \"iana\"\n  },\n  \"application/isup\": {\n    \"source\": \"iana\"\n  },\n  \"application/its+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"its\"]\n  },\n  \"application/java-archive\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"jar\",\"war\",\"ear\"]\n  },\n  \"application/java-serialized-object\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"ser\"]\n  },\n  \"application/java-vm\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"class\"]\n  },\n  \"application/javascript\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true,\n    \"extensions\": [\"js\",\"mjs\"]\n  },\n  \"application/jf2feed+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/jose\": {\n    \"source\": \"iana\"\n  },\n  \"application/jose+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/jrd+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/jscalendar+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/json\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true,\n    \"extensions\": [\"json\",\"map\"]\n  },\n  \"application/json-patch+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/json-seq\": {\n    \"source\": \"iana\"\n  },\n  \"application/json5\": {\n    \"extensions\": [\"json5\"]\n  },\n  \"application/jsonml+json\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"jsonml\"]\n  },\n  \"application/jwk+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/jwk-set+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/jwt\": {\n    \"source\": \"iana\"\n  },\n  \"application/kpml-request+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/kpml-response+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/ld+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"jsonld\"]\n  },\n  \"application/lgr+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"lgr\"]\n  },\n  \"application/link-format\": {\n    \"source\": \"iana\"\n  },\n  \"application/load-control+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/lost+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"lostxml\"]\n  },\n  \"application/lostsync+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/lpf+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/lxf\": {\n    \"source\": \"iana\"\n  },\n  \"application/mac-binhex40\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"hqx\"]\n  },\n  \"application/mac-compactpro\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"cpt\"]\n  },\n  \"application/macwriteii\": {\n    \"source\": \"iana\"\n  },\n  \"application/mads+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"mads\"]\n  },\n  \"application/manifest+json\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true,\n    \"extensions\": [\"webmanifest\"]\n  },\n  \"application/marc\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mrc\"]\n  },\n  \"application/marcxml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"mrcx\"]\n  },\n  \"application/mathematica\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ma\",\"nb\",\"mb\"]\n  },\n  \"application/mathml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"mathml\"]\n  },\n  \"application/mathml-content+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/mathml-presentation+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/mbms-associated-procedure-description+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/mbms-deregister+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/mbms-envelope+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/mbms-msk+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/mbms-msk-response+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/mbms-protection-description+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/mbms-reception-report+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/mbms-register+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/mbms-register-response+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/mbms-schedule+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/mbms-user-service-description+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/mbox\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mbox\"]\n  },\n  \"application/media-policy-dataset+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"mpf\"]\n  },\n  \"application/media_control+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/mediaservercontrol+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"mscml\"]\n  },\n  \"application/merge-patch+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/metalink+xml\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"metalink\"]\n  },\n  \"application/metalink4+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"meta4\"]\n  },\n  \"application/mets+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"mets\"]\n  },\n  \"application/mf4\": {\n    \"source\": \"iana\"\n  },\n  \"application/mikey\": {\n    \"source\": \"iana\"\n  },\n  \"application/mipc\": {\n    \"source\": \"iana\"\n  },\n  \"application/missing-blocks+cbor-seq\": {\n    \"source\": \"iana\"\n  },\n  \"application/mmt-aei+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"maei\"]\n  },\n  \"application/mmt-usd+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"musd\"]\n  },\n  \"application/mods+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"mods\"]\n  },\n  \"application/moss-keys\": {\n    \"source\": \"iana\"\n  },\n  \"application/moss-signature\": {\n    \"source\": \"iana\"\n  },\n  \"application/mosskey-data\": {\n    \"source\": \"iana\"\n  },\n  \"application/mosskey-request\": {\n    \"source\": \"iana\"\n  },\n  \"application/mp21\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"m21\",\"mp21\"]\n  },\n  \"application/mp4\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mp4s\",\"m4p\"]\n  },\n  \"application/mpeg4-generic\": {\n    \"source\": \"iana\"\n  },\n  \"application/mpeg4-iod\": {\n    \"source\": \"iana\"\n  },\n  \"application/mpeg4-iod-xmt\": {\n    \"source\": \"iana\"\n  },\n  \"application/mrb-consumer+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/mrb-publish+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/msc-ivr+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/msc-mixer+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/msword\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"doc\",\"dot\"]\n  },\n  \"application/mud+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/multipart-core\": {\n    \"source\": \"iana\"\n  },\n  \"application/mxf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mxf\"]\n  },\n  \"application/n-quads\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"nq\"]\n  },\n  \"application/n-triples\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"nt\"]\n  },\n  \"application/nasdata\": {\n    \"source\": \"iana\"\n  },\n  \"application/news-checkgroups\": {\n    \"source\": \"iana\",\n    \"charset\": \"US-ASCII\"\n  },\n  \"application/news-groupinfo\": {\n    \"source\": \"iana\",\n    \"charset\": \"US-ASCII\"\n  },\n  \"application/news-transmission\": {\n    \"source\": \"iana\"\n  },\n  \"application/nlsml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/node\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cjs\"]\n  },\n  \"application/nss\": {\n    \"source\": \"iana\"\n  },\n  \"application/oauth-authz-req+jwt\": {\n    \"source\": \"iana\"\n  },\n  \"application/oblivious-dns-message\": {\n    \"source\": \"iana\"\n  },\n  \"application/ocsp-request\": {\n    \"source\": \"iana\"\n  },\n  \"application/ocsp-response\": {\n    \"source\": \"iana\"\n  },\n  \"application/octet-stream\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"bin\",\"dms\",\"lrf\",\"mar\",\"so\",\"dist\",\"distz\",\"pkg\",\"bpk\",\"dump\",\"elc\",\"deploy\",\"exe\",\"dll\",\"deb\",\"dmg\",\"iso\",\"img\",\"msi\",\"msp\",\"msm\",\"buffer\"]\n  },\n  \"application/oda\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"oda\"]\n  },\n  \"application/odm+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/odx\": {\n    \"source\": \"iana\"\n  },\n  \"application/oebps-package+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"opf\"]\n  },\n  \"application/ogg\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"ogx\"]\n  },\n  \"application/omdoc+xml\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"omdoc\"]\n  },\n  \"application/onenote\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"onetoc\",\"onetoc2\",\"onetmp\",\"onepkg\"]\n  },\n  \"application/opc-nodeset+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/oscore\": {\n    \"source\": \"iana\"\n  },\n  \"application/oxps\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"oxps\"]\n  },\n  \"application/p21\": {\n    \"source\": \"iana\"\n  },\n  \"application/p21+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/p2p-overlay+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"relo\"]\n  },\n  \"application/parityfec\": {\n    \"source\": \"iana\"\n  },\n  \"application/passport\": {\n    \"source\": \"iana\"\n  },\n  \"application/patch-ops-error+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xer\"]\n  },\n  \"application/pdf\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"pdf\"]\n  },\n  \"application/pdx\": {\n    \"source\": \"iana\"\n  },\n  \"application/pem-certificate-chain\": {\n    \"source\": \"iana\"\n  },\n  \"application/pgp-encrypted\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"pgp\"]\n  },\n  \"application/pgp-keys\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"asc\"]\n  },\n  \"application/pgp-signature\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"asc\",\"sig\"]\n  },\n  \"application/pics-rules\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"prf\"]\n  },\n  \"application/pidf+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/pidf-diff+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/pkcs10\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"p10\"]\n  },\n  \"application/pkcs12\": {\n    \"source\": \"iana\"\n  },\n  \"application/pkcs7-mime\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"p7m\",\"p7c\"]\n  },\n  \"application/pkcs7-signature\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"p7s\"]\n  },\n  \"application/pkcs8\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"p8\"]\n  },\n  \"application/pkcs8-encrypted\": {\n    \"source\": \"iana\"\n  },\n  \"application/pkix-attr-cert\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ac\"]\n  },\n  \"application/pkix-cert\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cer\"]\n  },\n  \"application/pkix-crl\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"crl\"]\n  },\n  \"application/pkix-pkipath\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pkipath\"]\n  },\n  \"application/pkixcmp\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pki\"]\n  },\n  \"application/pls+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"pls\"]\n  },\n  \"application/poc-settings+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/postscript\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"ai\",\"eps\",\"ps\"]\n  },\n  \"application/ppsp-tracker+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/problem+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/problem+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/provenance+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"provx\"]\n  },\n  \"application/prs.alvestrand.titrax-sheet\": {\n    \"source\": \"iana\"\n  },\n  \"application/prs.cww\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cww\"]\n  },\n  \"application/prs.cyn\": {\n    \"source\": \"iana\",\n    \"charset\": \"7-BIT\"\n  },\n  \"application/prs.hpub+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/prs.nprend\": {\n    \"source\": \"iana\"\n  },\n  \"application/prs.plucker\": {\n    \"source\": \"iana\"\n  },\n  \"application/prs.rdf-xml-crypt\": {\n    \"source\": \"iana\"\n  },\n  \"application/prs.xsf+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/pskc+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"pskcxml\"]\n  },\n  \"application/pvd+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/qsig\": {\n    \"source\": \"iana\"\n  },\n  \"application/raml+yaml\": {\n    \"compressible\": true,\n    \"extensions\": [\"raml\"]\n  },\n  \"application/raptorfec\": {\n    \"source\": \"iana\"\n  },\n  \"application/rdap+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/rdf+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"rdf\",\"owl\"]\n  },\n  \"application/reginfo+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"rif\"]\n  },\n  \"application/relax-ng-compact-syntax\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"rnc\"]\n  },\n  \"application/remote-printing\": {\n    \"source\": \"iana\"\n  },\n  \"application/reputon+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/resource-lists+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"rl\"]\n  },\n  \"application/resource-lists-diff+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"rld\"]\n  },\n  \"application/rfc+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/riscos\": {\n    \"source\": \"iana\"\n  },\n  \"application/rlmi+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/rls-services+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"rs\"]\n  },\n  \"application/route-apd+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"rapd\"]\n  },\n  \"application/route-s-tsid+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"sls\"]\n  },\n  \"application/route-usd+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"rusd\"]\n  },\n  \"application/rpki-ghostbusters\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"gbr\"]\n  },\n  \"application/rpki-manifest\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mft\"]\n  },\n  \"application/rpki-publication\": {\n    \"source\": \"iana\"\n  },\n  \"application/rpki-roa\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"roa\"]\n  },\n  \"application/rpki-updown\": {\n    \"source\": \"iana\"\n  },\n  \"application/rsd+xml\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"rsd\"]\n  },\n  \"application/rss+xml\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"rss\"]\n  },\n  \"application/rtf\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"rtf\"]\n  },\n  \"application/rtploopback\": {\n    \"source\": \"iana\"\n  },\n  \"application/rtx\": {\n    \"source\": \"iana\"\n  },\n  \"application/samlassertion+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/samlmetadata+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/sarif+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/sarif-external-properties+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/sbe\": {\n    \"source\": \"iana\"\n  },\n  \"application/sbml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"sbml\"]\n  },\n  \"application/scaip+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/scim+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/scvp-cv-request\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"scq\"]\n  },\n  \"application/scvp-cv-response\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"scs\"]\n  },\n  \"application/scvp-vp-request\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"spq\"]\n  },\n  \"application/scvp-vp-response\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"spp\"]\n  },\n  \"application/sdp\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"sdp\"]\n  },\n  \"application/secevent+jwt\": {\n    \"source\": \"iana\"\n  },\n  \"application/senml+cbor\": {\n    \"source\": \"iana\"\n  },\n  \"application/senml+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/senml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"senmlx\"]\n  },\n  \"application/senml-etch+cbor\": {\n    \"source\": \"iana\"\n  },\n  \"application/senml-etch+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/senml-exi\": {\n    \"source\": \"iana\"\n  },\n  \"application/sensml+cbor\": {\n    \"source\": \"iana\"\n  },\n  \"application/sensml+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/sensml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"sensmlx\"]\n  },\n  \"application/sensml-exi\": {\n    \"source\": \"iana\"\n  },\n  \"application/sep+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/sep-exi\": {\n    \"source\": \"iana\"\n  },\n  \"application/session-info\": {\n    \"source\": \"iana\"\n  },\n  \"application/set-payment\": {\n    \"source\": \"iana\"\n  },\n  \"application/set-payment-initiation\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"setpay\"]\n  },\n  \"application/set-registration\": {\n    \"source\": \"iana\"\n  },\n  \"application/set-registration-initiation\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"setreg\"]\n  },\n  \"application/sgml\": {\n    \"source\": \"iana\"\n  },\n  \"application/sgml-open-catalog\": {\n    \"source\": \"iana\"\n  },\n  \"application/shf+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"shf\"]\n  },\n  \"application/sieve\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"siv\",\"sieve\"]\n  },\n  \"application/simple-filter+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/simple-message-summary\": {\n    \"source\": \"iana\"\n  },\n  \"application/simplesymbolcontainer\": {\n    \"source\": \"iana\"\n  },\n  \"application/sipc\": {\n    \"source\": \"iana\"\n  },\n  \"application/slate\": {\n    \"source\": \"iana\"\n  },\n  \"application/smil\": {\n    \"source\": \"iana\"\n  },\n  \"application/smil+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"smi\",\"smil\"]\n  },\n  \"application/smpte336m\": {\n    \"source\": \"iana\"\n  },\n  \"application/soap+fastinfoset\": {\n    \"source\": \"iana\"\n  },\n  \"application/soap+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/sparql-query\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"rq\"]\n  },\n  \"application/sparql-results+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"srx\"]\n  },\n  \"application/spdx+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/spirits-event+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/sql\": {\n    \"source\": \"iana\"\n  },\n  \"application/srgs\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"gram\"]\n  },\n  \"application/srgs+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"grxml\"]\n  },\n  \"application/sru+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"sru\"]\n  },\n  \"application/ssdl+xml\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"ssdl\"]\n  },\n  \"application/ssml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"ssml\"]\n  },\n  \"application/stix+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/swid+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"swidtag\"]\n  },\n  \"application/tamp-apex-update\": {\n    \"source\": \"iana\"\n  },\n  \"application/tamp-apex-update-confirm\": {\n    \"source\": \"iana\"\n  },\n  \"application/tamp-community-update\": {\n    \"source\": \"iana\"\n  },\n  \"application/tamp-community-update-confirm\": {\n    \"source\": \"iana\"\n  },\n  \"application/tamp-error\": {\n    \"source\": \"iana\"\n  },\n  \"application/tamp-sequence-adjust\": {\n    \"source\": \"iana\"\n  },\n  \"application/tamp-sequence-adjust-confirm\": {\n    \"source\": \"iana\"\n  },\n  \"application/tamp-status-query\": {\n    \"source\": \"iana\"\n  },\n  \"application/tamp-status-response\": {\n    \"source\": \"iana\"\n  },\n  \"application/tamp-update\": {\n    \"source\": \"iana\"\n  },\n  \"application/tamp-update-confirm\": {\n    \"source\": \"iana\"\n  },\n  \"application/tar\": {\n    \"compressible\": true\n  },\n  \"application/taxii+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/td+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/tei+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"tei\",\"teicorpus\"]\n  },\n  \"application/tetra_isi\": {\n    \"source\": \"iana\"\n  },\n  \"application/thraud+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"tfi\"]\n  },\n  \"application/timestamp-query\": {\n    \"source\": \"iana\"\n  },\n  \"application/timestamp-reply\": {\n    \"source\": \"iana\"\n  },\n  \"application/timestamped-data\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"tsd\"]\n  },\n  \"application/tlsrpt+gzip\": {\n    \"source\": \"iana\"\n  },\n  \"application/tlsrpt+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/tnauthlist\": {\n    \"source\": \"iana\"\n  },\n  \"application/token-introspection+jwt\": {\n    \"source\": \"iana\"\n  },\n  \"application/toml\": {\n    \"compressible\": true,\n    \"extensions\": [\"toml\"]\n  },\n  \"application/trickle-ice-sdpfrag\": {\n    \"source\": \"iana\"\n  },\n  \"application/trig\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"trig\"]\n  },\n  \"application/ttml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"ttml\"]\n  },\n  \"application/tve-trigger\": {\n    \"source\": \"iana\"\n  },\n  \"application/tzif\": {\n    \"source\": \"iana\"\n  },\n  \"application/tzif-leap\": {\n    \"source\": \"iana\"\n  },\n  \"application/ubjson\": {\n    \"compressible\": false,\n    \"extensions\": [\"ubj\"]\n  },\n  \"application/ulpfec\": {\n    \"source\": \"iana\"\n  },\n  \"application/urc-grpsheet+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/urc-ressheet+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"rsheet\"]\n  },\n  \"application/urc-targetdesc+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"td\"]\n  },\n  \"application/urc-uisocketdesc+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vcard+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vcard+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vemmi\": {\n    \"source\": \"iana\"\n  },\n  \"application/vividence.scriptfile\": {\n    \"source\": \"apache\"\n  },\n  \"application/vnd.1000minds.decision-model+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"1km\"]\n  },\n  \"application/vnd.3gpp-prose+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp-prose-pc3ch+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp-v2x-local-service-information\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.3gpp.5gnas\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.3gpp.access-transfer-events+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.bsf+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.gmop+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.gtpc\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.3gpp.interworking-data\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.3gpp.lpp\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.3gpp.mc-signalling-ear\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.3gpp.mcdata-affiliation-command+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcdata-info+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcdata-payload\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.3gpp.mcdata-service-config+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcdata-signalling\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.3gpp.mcdata-ue-config+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcdata-user-profile+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcptt-affiliation-command+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcptt-floor-request+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcptt-info+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcptt-location-info+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcptt-mbms-usage-info+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcptt-service-config+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcptt-signed+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcptt-ue-config+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcptt-ue-init-config+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcptt-user-profile+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcvideo-affiliation-command+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcvideo-affiliation-info+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcvideo-info+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcvideo-location-info+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcvideo-mbms-usage-info+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcvideo-service-config+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcvideo-transmission-request+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcvideo-ue-config+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mcvideo-user-profile+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.mid-call+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.ngap\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.3gpp.pfcp\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.3gpp.pic-bw-large\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"plb\"]\n  },\n  \"application/vnd.3gpp.pic-bw-small\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"psb\"]\n  },\n  \"application/vnd.3gpp.pic-bw-var\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pvb\"]\n  },\n  \"application/vnd.3gpp.s1ap\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.3gpp.sms\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.3gpp.sms+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.srvcc-ext+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.srvcc-info+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.state-and-event-info+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp.ussd+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp2.bcmcsinfo+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.3gpp2.sms\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.3gpp2.tcap\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"tcap\"]\n  },\n  \"application/vnd.3lightssoftware.imagescal\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.3m.post-it-notes\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pwn\"]\n  },\n  \"application/vnd.accpac.simply.aso\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"aso\"]\n  },\n  \"application/vnd.accpac.simply.imp\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"imp\"]\n  },\n  \"application/vnd.acucobol\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"acu\"]\n  },\n  \"application/vnd.acucorp\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"atc\",\"acutc\"]\n  },\n  \"application/vnd.adobe.air-application-installer-package+zip\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"air\"]\n  },\n  \"application/vnd.adobe.flash.movie\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.adobe.formscentral.fcdt\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"fcdt\"]\n  },\n  \"application/vnd.adobe.fxp\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"fxp\",\"fxpl\"]\n  },\n  \"application/vnd.adobe.partial-upload\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.adobe.xdp+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xdp\"]\n  },\n  \"application/vnd.adobe.xfdf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"xfdf\"]\n  },\n  \"application/vnd.aether.imp\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.afpc.afplinedata\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.afpc.afplinedata-pagedef\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.afpc.cmoca-cmresource\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.afpc.foca-charset\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.afpc.foca-codedfont\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.afpc.foca-codepage\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.afpc.modca\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.afpc.modca-cmtable\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.afpc.modca-formdef\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.afpc.modca-mediummap\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.afpc.modca-objectcontainer\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.afpc.modca-overlay\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.afpc.modca-pagesegment\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.age\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"age\"]\n  },\n  \"application/vnd.ah-barcode\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ahead.space\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ahead\"]\n  },\n  \"application/vnd.airzip.filesecure.azf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"azf\"]\n  },\n  \"application/vnd.airzip.filesecure.azs\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"azs\"]\n  },\n  \"application/vnd.amadeus+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.amazon.ebook\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"azw\"]\n  },\n  \"application/vnd.amazon.mobi8-ebook\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.americandynamics.acc\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"acc\"]\n  },\n  \"application/vnd.amiga.ami\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ami\"]\n  },\n  \"application/vnd.amundsen.maze+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.android.ota\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.android.package-archive\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"apk\"]\n  },\n  \"application/vnd.anki\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.anser-web-certificate-issue-initiation\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cii\"]\n  },\n  \"application/vnd.anser-web-funds-transfer-initiation\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"fti\"]\n  },\n  \"application/vnd.antix.game-component\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"atx\"]\n  },\n  \"application/vnd.apache.arrow.file\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.apache.arrow.stream\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.apache.thrift.binary\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.apache.thrift.compact\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.apache.thrift.json\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.api+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.aplextor.warrp+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.apothekende.reservation+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.apple.installer+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"mpkg\"]\n  },\n  \"application/vnd.apple.keynote\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"key\"]\n  },\n  \"application/vnd.apple.mpegurl\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"m3u8\"]\n  },\n  \"application/vnd.apple.numbers\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"numbers\"]\n  },\n  \"application/vnd.apple.pages\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pages\"]\n  },\n  \"application/vnd.apple.pkpass\": {\n    \"compressible\": false,\n    \"extensions\": [\"pkpass\"]\n  },\n  \"application/vnd.arastra.swi\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.aristanetworks.swi\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"swi\"]\n  },\n  \"application/vnd.artisan+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.artsquare\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.astraea-software.iota\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"iota\"]\n  },\n  \"application/vnd.audiograph\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"aep\"]\n  },\n  \"application/vnd.autopackage\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.avalon+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.avistar+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.balsamiq.bmml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"bmml\"]\n  },\n  \"application/vnd.balsamiq.bmpr\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.banana-accounting\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.bbf.usp.error\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.bbf.usp.msg\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.bbf.usp.msg+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.bekitzur-stech+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.bint.med-content\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.biopax.rdf+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.blink-idb-value-wrapper\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.blueice.multipass\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mpm\"]\n  },\n  \"application/vnd.bluetooth.ep.oob\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.bluetooth.le.oob\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.bmi\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"bmi\"]\n  },\n  \"application/vnd.bpf\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.bpf3\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.businessobjects\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"rep\"]\n  },\n  \"application/vnd.byu.uapi+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.cab-jscript\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.canon-cpdl\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.canon-lips\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.capasystems-pg+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.cendio.thinlinc.clientconf\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.century-systems.tcp_stream\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.chemdraw+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"cdxml\"]\n  },\n  \"application/vnd.chess-pgn\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.chipnuts.karaoke-mmd\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mmd\"]\n  },\n  \"application/vnd.ciedi\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.cinderella\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cdy\"]\n  },\n  \"application/vnd.cirpack.isdn-ext\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.citationstyles.style+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"csl\"]\n  },\n  \"application/vnd.claymore\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cla\"]\n  },\n  \"application/vnd.cloanto.rp9\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"rp9\"]\n  },\n  \"application/vnd.clonk.c4group\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"c4g\",\"c4d\",\"c4f\",\"c4p\",\"c4u\"]\n  },\n  \"application/vnd.cluetrust.cartomobile-config\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"c11amc\"]\n  },\n  \"application/vnd.cluetrust.cartomobile-config-pkg\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"c11amz\"]\n  },\n  \"application/vnd.coffeescript\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.collabio.xodocuments.document\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.collabio.xodocuments.document-template\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.collabio.xodocuments.presentation\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.collabio.xodocuments.presentation-template\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.collabio.xodocuments.spreadsheet\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.collabio.xodocuments.spreadsheet-template\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.collection+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.collection.doc+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.collection.next+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.comicbook+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/vnd.comicbook-rar\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.commerce-battelle\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.commonspace\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"csp\"]\n  },\n  \"application/vnd.contact.cmsg\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cdbcmsg\"]\n  },\n  \"application/vnd.coreos.ignition+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.cosmocaller\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cmc\"]\n  },\n  \"application/vnd.crick.clicker\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"clkx\"]\n  },\n  \"application/vnd.crick.clicker.keyboard\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"clkk\"]\n  },\n  \"application/vnd.crick.clicker.palette\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"clkp\"]\n  },\n  \"application/vnd.crick.clicker.template\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"clkt\"]\n  },\n  \"application/vnd.crick.clicker.wordbank\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"clkw\"]\n  },\n  \"application/vnd.criticaltools.wbs+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"wbs\"]\n  },\n  \"application/vnd.cryptii.pipe+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.crypto-shade-file\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.cryptomator.encrypted\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.cryptomator.vault\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ctc-posml\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pml\"]\n  },\n  \"application/vnd.ctct.ws+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.cups-pdf\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.cups-postscript\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.cups-ppd\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ppd\"]\n  },\n  \"application/vnd.cups-raster\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.cups-raw\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.curl\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.curl.car\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"car\"]\n  },\n  \"application/vnd.curl.pcurl\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"pcurl\"]\n  },\n  \"application/vnd.cyan.dean.root+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.cybank\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.cyclonedx+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.cyclonedx+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.d2l.coursepackage1p0+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/vnd.d3m-dataset\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.d3m-problem\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dart\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"dart\"]\n  },\n  \"application/vnd.data-vision.rdz\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"rdz\"]\n  },\n  \"application/vnd.datapackage+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.dataresource+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.dbf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dbf\"]\n  },\n  \"application/vnd.debian.binary-package\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dece.data\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"uvf\",\"uvvf\",\"uvd\",\"uvvd\"]\n  },\n  \"application/vnd.dece.ttml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"uvt\",\"uvvt\"]\n  },\n  \"application/vnd.dece.unspecified\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"uvx\",\"uvvx\"]\n  },\n  \"application/vnd.dece.zip\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"uvz\",\"uvvz\"]\n  },\n  \"application/vnd.denovo.fcselayout-link\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"fe_launch\"]\n  },\n  \"application/vnd.desmume.movie\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dir-bi.plate-dl-nosuffix\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dm.delegation+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.dna\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dna\"]\n  },\n  \"application/vnd.document+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.dolby.mlp\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"mlp\"]\n  },\n  \"application/vnd.dolby.mobile.1\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dolby.mobile.2\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.doremir.scorecloud-binary-document\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dpgraph\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dpg\"]\n  },\n  \"application/vnd.dreamfactory\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dfac\"]\n  },\n  \"application/vnd.drive+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.ds-keypoint\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"kpxx\"]\n  },\n  \"application/vnd.dtg.local\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dtg.local.flash\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dtg.local.html\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dvb.ait\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ait\"]\n  },\n  \"application/vnd.dvb.dvbisl+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.dvb.dvbj\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dvb.esgcontainer\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dvb.ipdcdftnotifaccess\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dvb.ipdcesgaccess\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dvb.ipdcesgaccess2\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dvb.ipdcesgpdd\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dvb.ipdcroaming\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dvb.iptv.alfec-base\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dvb.iptv.alfec-enhancement\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dvb.notif-aggregate-root+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.dvb.notif-container+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.dvb.notif-generic+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.dvb.notif-ia-msglist+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.dvb.notif-ia-registration-request+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.dvb.notif-ia-registration-response+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.dvb.notif-init+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.dvb.pfr\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dvb.service\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"svc\"]\n  },\n  \"application/vnd.dxr\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.dynageo\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"geo\"]\n  },\n  \"application/vnd.dzr\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.easykaraoke.cdgdownload\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ecdis-update\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ecip.rlp\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.eclipse.ditto+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.ecowin.chart\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mag\"]\n  },\n  \"application/vnd.ecowin.filerequest\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ecowin.fileupdate\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ecowin.series\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ecowin.seriesrequest\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ecowin.seriesupdate\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.efi.img\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.efi.iso\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.emclient.accessrequest+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.enliven\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"nml\"]\n  },\n  \"application/vnd.enphase.envoy\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.eprints.data+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.epson.esf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"esf\"]\n  },\n  \"application/vnd.epson.msf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"msf\"]\n  },\n  \"application/vnd.epson.quickanime\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"qam\"]\n  },\n  \"application/vnd.epson.salt\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"slt\"]\n  },\n  \"application/vnd.epson.ssf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ssf\"]\n  },\n  \"application/vnd.ericsson.quickcall\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.espass-espass+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/vnd.eszigno3+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"es3\",\"et3\"]\n  },\n  \"application/vnd.etsi.aoc+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.asic-e+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/vnd.etsi.asic-s+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/vnd.etsi.cug+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.iptvcommand+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.iptvdiscovery+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.iptvprofile+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.iptvsad-bc+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.iptvsad-cod+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.iptvsad-npvr+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.iptvservice+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.iptvsync+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.iptvueprofile+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.mcid+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.mheg5\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.etsi.overload-control-policy-dataset+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.pstn+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.sci+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.simservs+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.timestamp-token\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.etsi.tsl+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.etsi.tsl.der\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.eu.kasparian.car+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.eudora.data\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.evolv.ecig.profile\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.evolv.ecig.settings\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.evolv.ecig.theme\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.exstream-empower+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/vnd.exstream-package\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ezpix-album\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ez2\"]\n  },\n  \"application/vnd.ezpix-package\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ez3\"]\n  },\n  \"application/vnd.f-secure.mobile\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.familysearch.gedcom+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/vnd.fastcopy-disk-image\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.fdf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"fdf\"]\n  },\n  \"application/vnd.fdsn.mseed\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mseed\"]\n  },\n  \"application/vnd.fdsn.seed\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"seed\",\"dataless\"]\n  },\n  \"application/vnd.ffsns\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ficlab.flb+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/vnd.filmit.zfc\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.fints\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.firemonkeys.cloudcell\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.flographit\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"gph\"]\n  },\n  \"application/vnd.fluxtime.clip\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ftc\"]\n  },\n  \"application/vnd.font-fontforge-sfd\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.framemaker\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"fm\",\"frame\",\"maker\",\"book\"]\n  },\n  \"application/vnd.frogans.fnc\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"fnc\"]\n  },\n  \"application/vnd.frogans.ltf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ltf\"]\n  },\n  \"application/vnd.fsc.weblaunch\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"fsc\"]\n  },\n  \"application/vnd.fujifilm.fb.docuworks\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.fujifilm.fb.docuworks.binder\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.fujifilm.fb.docuworks.container\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.fujifilm.fb.jfi+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.fujitsu.oasys\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"oas\"]\n  },\n  \"application/vnd.fujitsu.oasys2\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"oa2\"]\n  },\n  \"application/vnd.fujitsu.oasys3\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"oa3\"]\n  },\n  \"application/vnd.fujitsu.oasysgp\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"fg5\"]\n  },\n  \"application/vnd.fujitsu.oasysprs\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"bh2\"]\n  },\n  \"application/vnd.fujixerox.art-ex\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.fujixerox.art4\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.fujixerox.ddd\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ddd\"]\n  },\n  \"application/vnd.fujixerox.docuworks\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"xdw\"]\n  },\n  \"application/vnd.fujixerox.docuworks.binder\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"xbd\"]\n  },\n  \"application/vnd.fujixerox.docuworks.container\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.fujixerox.hbpl\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.fut-misnet\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.futoin+cbor\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.futoin+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.fuzzysheet\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"fzs\"]\n  },\n  \"application/vnd.genomatix.tuxedo\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"txd\"]\n  },\n  \"application/vnd.gentics.grd+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.geo+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.geocube+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.geogebra.file\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ggb\"]\n  },\n  \"application/vnd.geogebra.slides\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.geogebra.tool\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ggt\"]\n  },\n  \"application/vnd.geometry-explorer\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"gex\",\"gre\"]\n  },\n  \"application/vnd.geonext\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"gxt\"]\n  },\n  \"application/vnd.geoplan\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"g2w\"]\n  },\n  \"application/vnd.geospace\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"g3w\"]\n  },\n  \"application/vnd.gerber\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.globalplatform.card-content-mgt\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.globalplatform.card-content-mgt-response\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.gmx\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"gmx\"]\n  },\n  \"application/vnd.google-apps.document\": {\n    \"compressible\": false,\n    \"extensions\": [\"gdoc\"]\n  },\n  \"application/vnd.google-apps.presentation\": {\n    \"compressible\": false,\n    \"extensions\": [\"gslides\"]\n  },\n  \"application/vnd.google-apps.spreadsheet\": {\n    \"compressible\": false,\n    \"extensions\": [\"gsheet\"]\n  },\n  \"application/vnd.google-earth.kml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"kml\"]\n  },\n  \"application/vnd.google-earth.kmz\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"kmz\"]\n  },\n  \"application/vnd.gov.sk.e-form+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.gov.sk.e-form+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/vnd.gov.sk.xmldatacontainer+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.grafeq\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"gqf\",\"gqs\"]\n  },\n  \"application/vnd.gridmp\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.groove-account\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"gac\"]\n  },\n  \"application/vnd.groove-help\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ghf\"]\n  },\n  \"application/vnd.groove-identity-message\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"gim\"]\n  },\n  \"application/vnd.groove-injector\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"grv\"]\n  },\n  \"application/vnd.groove-tool-message\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"gtm\"]\n  },\n  \"application/vnd.groove-tool-template\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"tpl\"]\n  },\n  \"application/vnd.groove-vcard\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"vcg\"]\n  },\n  \"application/vnd.hal+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.hal+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"hal\"]\n  },\n  \"application/vnd.handheld-entertainment+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"zmm\"]\n  },\n  \"application/vnd.hbci\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"hbci\"]\n  },\n  \"application/vnd.hc+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.hcl-bireports\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.hdt\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.heroku+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.hhe.lesson-player\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"les\"]\n  },\n  \"application/vnd.hl7cda+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/vnd.hl7v2+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/vnd.hp-hpgl\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"hpgl\"]\n  },\n  \"application/vnd.hp-hpid\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"hpid\"]\n  },\n  \"application/vnd.hp-hps\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"hps\"]\n  },\n  \"application/vnd.hp-jlyt\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"jlt\"]\n  },\n  \"application/vnd.hp-pcl\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pcl\"]\n  },\n  \"application/vnd.hp-pclxl\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pclxl\"]\n  },\n  \"application/vnd.httphone\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.hydrostatix.sof-data\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"sfd-hdstx\"]\n  },\n  \"application/vnd.hyper+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.hyper-item+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.hyperdrive+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.hzn-3d-crossword\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ibm.afplinedata\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ibm.electronic-media\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ibm.minipay\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mpy\"]\n  },\n  \"application/vnd.ibm.modcap\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"afp\",\"listafp\",\"list3820\"]\n  },\n  \"application/vnd.ibm.rights-management\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"irm\"]\n  },\n  \"application/vnd.ibm.secure-container\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"sc\"]\n  },\n  \"application/vnd.iccprofile\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"icc\",\"icm\"]\n  },\n  \"application/vnd.ieee.1905\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.igloader\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"igl\"]\n  },\n  \"application/vnd.imagemeter.folder+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/vnd.imagemeter.image+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/vnd.immervision-ivp\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ivp\"]\n  },\n  \"application/vnd.immervision-ivu\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ivu\"]\n  },\n  \"application/vnd.ims.imsccv1p1\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ims.imsccv1p2\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ims.imsccv1p3\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ims.lis.v2.result+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.ims.lti.v2.toolconsumerprofile+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.ims.lti.v2.toolproxy+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.ims.lti.v2.toolproxy.id+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.ims.lti.v2.toolsettings+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.ims.lti.v2.toolsettings.simple+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.informedcontrol.rms+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.informix-visionary\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.infotech.project\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.infotech.project+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.innopath.wamp.notification\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.insors.igm\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"igm\"]\n  },\n  \"application/vnd.intercon.formnet\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"xpw\",\"xpx\"]\n  },\n  \"application/vnd.intergeo\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"i2g\"]\n  },\n  \"application/vnd.intertrust.digibox\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.intertrust.nncp\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.intu.qbo\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"qbo\"]\n  },\n  \"application/vnd.intu.qfx\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"qfx\"]\n  },\n  \"application/vnd.iptc.g2.catalogitem+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.iptc.g2.conceptitem+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.iptc.g2.knowledgeitem+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.iptc.g2.newsitem+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.iptc.g2.newsmessage+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.iptc.g2.packageitem+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.iptc.g2.planningitem+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.ipunplugged.rcprofile\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"rcprofile\"]\n  },\n  \"application/vnd.irepository.package+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"irp\"]\n  },\n  \"application/vnd.is-xpr\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"xpr\"]\n  },\n  \"application/vnd.isac.fcs\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"fcs\"]\n  },\n  \"application/vnd.iso11783-10+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/vnd.jam\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"jam\"]\n  },\n  \"application/vnd.japannet-directory-service\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.japannet-jpnstore-wakeup\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.japannet-payment-wakeup\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.japannet-registration\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.japannet-registration-wakeup\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.japannet-setstore-wakeup\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.japannet-verification\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.japannet-verification-wakeup\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.jcp.javame.midlet-rms\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"rms\"]\n  },\n  \"application/vnd.jisp\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"jisp\"]\n  },\n  \"application/vnd.joost.joda-archive\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"joda\"]\n  },\n  \"application/vnd.jsk.isdn-ngn\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.kahootz\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ktz\",\"ktr\"]\n  },\n  \"application/vnd.kde.karbon\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"karbon\"]\n  },\n  \"application/vnd.kde.kchart\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"chrt\"]\n  },\n  \"application/vnd.kde.kformula\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"kfo\"]\n  },\n  \"application/vnd.kde.kivio\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"flw\"]\n  },\n  \"application/vnd.kde.kontour\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"kon\"]\n  },\n  \"application/vnd.kde.kpresenter\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"kpr\",\"kpt\"]\n  },\n  \"application/vnd.kde.kspread\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ksp\"]\n  },\n  \"application/vnd.kde.kword\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"kwd\",\"kwt\"]\n  },\n  \"application/vnd.kenameaapp\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"htke\"]\n  },\n  \"application/vnd.kidspiration\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"kia\"]\n  },\n  \"application/vnd.kinar\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"kne\",\"knp\"]\n  },\n  \"application/vnd.koan\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"skp\",\"skd\",\"skt\",\"skm\"]\n  },\n  \"application/vnd.kodak-descriptor\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"sse\"]\n  },\n  \"application/vnd.las\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.las.las+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.las.las+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"lasxml\"]\n  },\n  \"application/vnd.laszip\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.leap+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.liberty-request+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.llamagraphics.life-balance.desktop\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"lbd\"]\n  },\n  \"application/vnd.llamagraphics.life-balance.exchange+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"lbe\"]\n  },\n  \"application/vnd.logipipe.circuit+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/vnd.loom\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.lotus-1-2-3\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"123\"]\n  },\n  \"application/vnd.lotus-approach\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"apr\"]\n  },\n  \"application/vnd.lotus-freelance\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pre\"]\n  },\n  \"application/vnd.lotus-notes\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"nsf\"]\n  },\n  \"application/vnd.lotus-organizer\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"org\"]\n  },\n  \"application/vnd.lotus-screencam\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"scm\"]\n  },\n  \"application/vnd.lotus-wordpro\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"lwp\"]\n  },\n  \"application/vnd.macports.portpkg\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"portpkg\"]\n  },\n  \"application/vnd.mapbox-vector-tile\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mvt\"]\n  },\n  \"application/vnd.marlin.drm.actiontoken+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.marlin.drm.conftoken+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.marlin.drm.license+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.marlin.drm.mdcf\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.mason+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.maxar.archive.3tz+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"application/vnd.maxmind.maxmind-db\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.mcd\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mcd\"]\n  },\n  \"application/vnd.medcalcdata\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mc1\"]\n  },\n  \"application/vnd.mediastation.cdkey\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cdkey\"]\n  },\n  \"application/vnd.meridian-slingshot\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.mfer\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mwf\"]\n  },\n  \"application/vnd.mfmp\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mfm\"]\n  },\n  \"application/vnd.micro+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.micrografx.flo\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"flo\"]\n  },\n  \"application/vnd.micrografx.igx\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"igx\"]\n  },\n  \"application/vnd.microsoft.portable-executable\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.microsoft.windows.thumbnail-cache\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.miele+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.mif\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mif\"]\n  },\n  \"application/vnd.minisoft-hp3000-save\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.mitsubishi.misty-guard.trustweb\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.mobius.daf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"daf\"]\n  },\n  \"application/vnd.mobius.dis\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dis\"]\n  },\n  \"application/vnd.mobius.mbk\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mbk\"]\n  },\n  \"application/vnd.mobius.mqy\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mqy\"]\n  },\n  \"application/vnd.mobius.msl\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"msl\"]\n  },\n  \"application/vnd.mobius.plc\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"plc\"]\n  },\n  \"application/vnd.mobius.txf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"txf\"]\n  },\n  \"application/vnd.mophun.application\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mpn\"]\n  },\n  \"application/vnd.mophun.certificate\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mpc\"]\n  },\n  \"application/vnd.motorola.flexsuite\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.motorola.flexsuite.adsi\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.motorola.flexsuite.fis\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.motorola.flexsuite.gotap\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.motorola.flexsuite.kmr\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.motorola.flexsuite.ttc\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.motorola.flexsuite.wem\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.motorola.iprm\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.mozilla.xul+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xul\"]\n  },\n  \"application/vnd.ms-3mfdocument\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ms-artgalry\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cil\"]\n  },\n  \"application/vnd.ms-asf\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ms-cab-compressed\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cab\"]\n  },\n  \"application/vnd.ms-color.iccprofile\": {\n    \"source\": \"apache\"\n  },\n  \"application/vnd.ms-excel\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"xls\",\"xlm\",\"xla\",\"xlc\",\"xlt\",\"xlw\"]\n  },\n  \"application/vnd.ms-excel.addin.macroenabled.12\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"xlam\"]\n  },\n  \"application/vnd.ms-excel.sheet.binary.macroenabled.12\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"xlsb\"]\n  },\n  \"application/vnd.ms-excel.sheet.macroenabled.12\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"xlsm\"]\n  },\n  \"application/vnd.ms-excel.template.macroenabled.12\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"xltm\"]\n  },\n  \"application/vnd.ms-fontobject\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"eot\"]\n  },\n  \"application/vnd.ms-htmlhelp\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"chm\"]\n  },\n  \"application/vnd.ms-ims\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ims\"]\n  },\n  \"application/vnd.ms-lrm\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"lrm\"]\n  },\n  \"application/vnd.ms-office.activex+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.ms-officetheme\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"thmx\"]\n  },\n  \"application/vnd.ms-opentype\": {\n    \"source\": \"apache\",\n    \"compressible\": true\n  },\n  \"application/vnd.ms-outlook\": {\n    \"compressible\": false,\n    \"extensions\": [\"msg\"]\n  },\n  \"application/vnd.ms-package.obfuscated-opentype\": {\n    \"source\": \"apache\"\n  },\n  \"application/vnd.ms-pki.seccat\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"cat\"]\n  },\n  \"application/vnd.ms-pki.stl\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"stl\"]\n  },\n  \"application/vnd.ms-playready.initiator+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.ms-powerpoint\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"ppt\",\"pps\",\"pot\"]\n  },\n  \"application/vnd.ms-powerpoint.addin.macroenabled.12\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ppam\"]\n  },\n  \"application/vnd.ms-powerpoint.presentation.macroenabled.12\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pptm\"]\n  },\n  \"application/vnd.ms-powerpoint.slide.macroenabled.12\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"sldm\"]\n  },\n  \"application/vnd.ms-powerpoint.slideshow.macroenabled.12\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ppsm\"]\n  },\n  \"application/vnd.ms-powerpoint.template.macroenabled.12\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"potm\"]\n  },\n  \"application/vnd.ms-printdevicecapabilities+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.ms-printing.printticket+xml\": {\n    \"source\": \"apache\",\n    \"compressible\": true\n  },\n  \"application/vnd.ms-printschematicket+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.ms-project\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mpp\",\"mpt\"]\n  },\n  \"application/vnd.ms-tnef\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ms-windows.devicepairing\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ms-windows.nwprinting.oob\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ms-windows.printerpairing\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ms-windows.wsd.oob\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ms-wmdrm.lic-chlg-req\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ms-wmdrm.lic-resp\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ms-wmdrm.meter-chlg-req\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ms-wmdrm.meter-resp\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ms-word.document.macroenabled.12\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"docm\"]\n  },\n  \"application/vnd.ms-word.template.macroenabled.12\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dotm\"]\n  },\n  \"application/vnd.ms-works\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"wps\",\"wks\",\"wcm\",\"wdb\"]\n  },\n  \"application/vnd.ms-wpl\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"wpl\"]\n  },\n  \"application/vnd.ms-xpsdocument\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"xps\"]\n  },\n  \"application/vnd.msa-disk-image\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.mseq\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mseq\"]\n  },\n  \"application/vnd.msign\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.multiad.creator\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.multiad.creator.cif\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.music-niff\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.musician\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mus\"]\n  },\n  \"application/vnd.muvee.style\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"msty\"]\n  },\n  \"application/vnd.mynfc\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"taglet\"]\n  },\n  \"application/vnd.nacamar.ybrid+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.ncd.control\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ncd.reference\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.nearst.inv+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.nebumind.line\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.nervana\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.netfpx\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.neurolanguage.nlu\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"nlu\"]\n  },\n  \"application/vnd.nimn\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.nintendo.nitro.rom\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.nintendo.snes.rom\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.nitf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ntf\",\"nitf\"]\n  },\n  \"application/vnd.noblenet-directory\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"nnd\"]\n  },\n  \"application/vnd.noblenet-sealer\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"nns\"]\n  },\n  \"application/vnd.noblenet-web\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"nnw\"]\n  },\n  \"application/vnd.nokia.catalogs\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.nokia.conml+wbxml\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.nokia.conml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.nokia.iptv.config+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.nokia.isds-radio-presets\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.nokia.landmark+wbxml\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.nokia.landmark+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.nokia.landmarkcollection+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.nokia.n-gage.ac+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"ac\"]\n  },\n  \"application/vnd.nokia.n-gage.data\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ngdat\"]\n  },\n  \"application/vnd.nokia.n-gage.symbian.install\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"n-gage\"]\n  },\n  \"application/vnd.nokia.ncd\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.nokia.pcd+wbxml\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.nokia.pcd+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.nokia.radio-preset\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"rpst\"]\n  },\n  \"application/vnd.nokia.radio-presets\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"rpss\"]\n  },\n  \"application/vnd.novadigm.edm\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"edm\"]\n  },\n  \"application/vnd.novadigm.edx\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"edx\"]\n  },\n  \"application/vnd.novadigm.ext\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ext\"]\n  },\n  \"application/vnd.ntt-local.content-share\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ntt-local.file-transfer\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ntt-local.ogw_remote-access\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ntt-local.sip-ta_remote\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ntt-local.sip-ta_tcp_stream\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oasis.opendocument.chart\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"odc\"]\n  },\n  \"application/vnd.oasis.opendocument.chart-template\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"otc\"]\n  },\n  \"application/vnd.oasis.opendocument.database\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"odb\"]\n  },\n  \"application/vnd.oasis.opendocument.formula\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"odf\"]\n  },\n  \"application/vnd.oasis.opendocument.formula-template\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"odft\"]\n  },\n  \"application/vnd.oasis.opendocument.graphics\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"odg\"]\n  },\n  \"application/vnd.oasis.opendocument.graphics-template\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"otg\"]\n  },\n  \"application/vnd.oasis.opendocument.image\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"odi\"]\n  },\n  \"application/vnd.oasis.opendocument.image-template\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"oti\"]\n  },\n  \"application/vnd.oasis.opendocument.presentation\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"odp\"]\n  },\n  \"application/vnd.oasis.opendocument.presentation-template\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"otp\"]\n  },\n  \"application/vnd.oasis.opendocument.spreadsheet\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"ods\"]\n  },\n  \"application/vnd.oasis.opendocument.spreadsheet-template\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ots\"]\n  },\n  \"application/vnd.oasis.opendocument.text\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"odt\"]\n  },\n  \"application/vnd.oasis.opendocument.text-master\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"odm\"]\n  },\n  \"application/vnd.oasis.opendocument.text-template\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ott\"]\n  },\n  \"application/vnd.oasis.opendocument.text-web\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"oth\"]\n  },\n  \"application/vnd.obn\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ocf+cbor\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oci.image.manifest.v1+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oftn.l10n+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oipf.contentaccessdownload+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oipf.contentaccessstreaming+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oipf.cspg-hexbinary\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oipf.dae.svg+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oipf.dae.xhtml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oipf.mippvcontrolmessage+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oipf.pae.gem\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oipf.spdiscovery+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oipf.spdlist+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oipf.ueprofile+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oipf.userprofile+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.olpc-sugar\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"xo\"]\n  },\n  \"application/vnd.oma-scws-config\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oma-scws-http-request\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oma-scws-http-response\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oma.bcast.associated-procedure-parameter+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.bcast.drm-trigger+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.bcast.imd+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.bcast.ltkm\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oma.bcast.notification+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.bcast.provisioningtrigger\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oma.bcast.sgboot\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oma.bcast.sgdd+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.bcast.sgdu\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oma.bcast.simple-symbol-container\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oma.bcast.smartcard-trigger+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.bcast.sprov+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.bcast.stkm\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oma.cab-address-book+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.cab-feature-handler+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.cab-pcc+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.cab-subs-invite+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.cab-user-prefs+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.dcd\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oma.dcdc\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oma.dd2+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"dd2\"]\n  },\n  \"application/vnd.oma.drm.risd+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.group-usage-list+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.lwm2m+cbor\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oma.lwm2m+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.lwm2m+tlv\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oma.pal+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.poc.detailed-progress-report+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.poc.final-report+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.poc.groups+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.poc.invocation-descriptor+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.poc.optimized-progress-report+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.push\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.oma.scidm.messages+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oma.xcap-directory+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.omads-email+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/vnd.omads-file+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/vnd.omads-folder+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/vnd.omaloc-supl-init\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.onepager\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.onepagertamp\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.onepagertamx\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.onepagertat\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.onepagertatp\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.onepagertatx\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.openblox.game+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"obgx\"]\n  },\n  \"application/vnd.openblox.game-binary\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.openeye.oeb\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.openofficeorg.extension\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"oxt\"]\n  },\n  \"application/vnd.openstreetmap.data+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"osm\"]\n  },\n  \"application/vnd.opentimestamps.ots\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.openxmlformats-officedocument.custom-properties+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.customxmlproperties+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.drawing+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.drawingml.chart+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.extended-properties+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.comments+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.presentation\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"pptx\"]\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.slide\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"sldx\"]\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.slide+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.slideshow\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ppsx\"]\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.tags+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.template\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"potx\"]\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"xlsx\"]\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.template\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"xltx\"]\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.theme+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.themeoverride+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.vmldrawing\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"docx\"]\n  },\n  \"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.wordprocessingml.template\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dotx\"]\n  },\n  \"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-package.core-properties+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.openxmlformats-package.relationships+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oracle.resource+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.orange.indata\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.osa.netdeploy\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.osgeo.mapguide.package\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mgp\"]\n  },\n  \"application/vnd.osgi.bundle\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.osgi.dp\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dp\"]\n  },\n  \"application/vnd.osgi.subsystem\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"esa\"]\n  },\n  \"application/vnd.otps.ct-kip+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.oxli.countgraph\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.pagerduty+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.palm\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pdb\",\"pqa\",\"oprc\"]\n  },\n  \"application/vnd.panoply\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.paos.xml\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.patentdive\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.patientecommsdoc\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.pawaafile\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"paw\"]\n  },\n  \"application/vnd.pcos\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.pg.format\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"str\"]\n  },\n  \"application/vnd.pg.osasli\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ei6\"]\n  },\n  \"application/vnd.piaccess.application-licence\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.picsel\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"efif\"]\n  },\n  \"application/vnd.pmi.widget\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"wg\"]\n  },\n  \"application/vnd.poc.group-advertisement+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.pocketlearn\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"plf\"]\n  },\n  \"application/vnd.powerbuilder6\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pbd\"]\n  },\n  \"application/vnd.powerbuilder6-s\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.powerbuilder7\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.powerbuilder7-s\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.powerbuilder75\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.powerbuilder75-s\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.preminet\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.previewsystems.box\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"box\"]\n  },\n  \"application/vnd.proteus.magazine\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mgz\"]\n  },\n  \"application/vnd.psfs\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.publishare-delta-tree\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"qps\"]\n  },\n  \"application/vnd.pvi.ptid1\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ptid\"]\n  },\n  \"application/vnd.pwg-multiplexed\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.pwg-xhtml-print+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.qualcomm.brew-app-res\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.quarantainenet\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.quark.quarkxpress\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"qxd\",\"qxt\",\"qwd\",\"qwt\",\"qxl\",\"qxb\"]\n  },\n  \"application/vnd.quobject-quoxdocument\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.radisys.moml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.radisys.msml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.radisys.msml-audit+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.radisys.msml-audit-conf+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.radisys.msml-audit-conn+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.radisys.msml-audit-dialog+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.radisys.msml-audit-stream+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.radisys.msml-conf+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.radisys.msml-dialog+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.radisys.msml-dialog-base+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.radisys.msml-dialog-fax-detect+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.radisys.msml-dialog-fax-sendrecv+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.radisys.msml-dialog-group+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.radisys.msml-dialog-speech+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.radisys.msml-dialog-transform+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.rainstor.data\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.rapid\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.rar\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"rar\"]\n  },\n  \"application/vnd.realvnc.bed\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"bed\"]\n  },\n  \"application/vnd.recordare.musicxml\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mxl\"]\n  },\n  \"application/vnd.recordare.musicxml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"musicxml\"]\n  },\n  \"application/vnd.renlearn.rlprint\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.resilient.logic\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.restful+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.rig.cryptonote\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cryptonote\"]\n  },\n  \"application/vnd.rim.cod\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"cod\"]\n  },\n  \"application/vnd.rn-realmedia\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"rm\"]\n  },\n  \"application/vnd.rn-realmedia-vbr\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"rmvb\"]\n  },\n  \"application/vnd.route66.link66+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"link66\"]\n  },\n  \"application/vnd.rs-274x\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ruckus.download\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.s3sms\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sailingtracker.track\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"st\"]\n  },\n  \"application/vnd.sar\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sbm.cid\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sbm.mid2\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.scribus\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sealed.3df\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sealed.csf\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sealed.doc\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sealed.eml\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sealed.mht\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sealed.net\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sealed.ppt\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sealed.tiff\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sealed.xls\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sealedmedia.softseal.html\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sealedmedia.softseal.pdf\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.seemail\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"see\"]\n  },\n  \"application/vnd.seis+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.sema\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"sema\"]\n  },\n  \"application/vnd.semd\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"semd\"]\n  },\n  \"application/vnd.semf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"semf\"]\n  },\n  \"application/vnd.shade-save-file\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.shana.informed.formdata\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ifm\"]\n  },\n  \"application/vnd.shana.informed.formtemplate\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"itp\"]\n  },\n  \"application/vnd.shana.informed.interchange\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"iif\"]\n  },\n  \"application/vnd.shana.informed.package\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ipk\"]\n  },\n  \"application/vnd.shootproof+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.shopkick+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.shp\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.shx\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sigrok.session\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.simtech-mindmapper\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"twd\",\"twds\"]\n  },\n  \"application/vnd.siren+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.smaf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mmf\"]\n  },\n  \"application/vnd.smart.notebook\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.smart.teacher\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"teacher\"]\n  },\n  \"application/vnd.snesdev-page-table\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.software602.filler.form+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"fo\"]\n  },\n  \"application/vnd.software602.filler.form-xml-zip\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.solent.sdkm+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"sdkm\",\"sdkd\"]\n  },\n  \"application/vnd.spotfire.dxp\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dxp\"]\n  },\n  \"application/vnd.spotfire.sfs\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"sfs\"]\n  },\n  \"application/vnd.sqlite3\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sss-cod\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sss-dtf\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sss-ntf\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.stardivision.calc\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sdc\"]\n  },\n  \"application/vnd.stardivision.draw\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sda\"]\n  },\n  \"application/vnd.stardivision.impress\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sdd\"]\n  },\n  \"application/vnd.stardivision.math\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"smf\"]\n  },\n  \"application/vnd.stardivision.writer\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sdw\",\"vor\"]\n  },\n  \"application/vnd.stardivision.writer-global\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sgl\"]\n  },\n  \"application/vnd.stepmania.package\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"smzip\"]\n  },\n  \"application/vnd.stepmania.stepchart\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"sm\"]\n  },\n  \"application/vnd.street-stream\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sun.wadl+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"wadl\"]\n  },\n  \"application/vnd.sun.xml.calc\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sxc\"]\n  },\n  \"application/vnd.sun.xml.calc.template\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"stc\"]\n  },\n  \"application/vnd.sun.xml.draw\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sxd\"]\n  },\n  \"application/vnd.sun.xml.draw.template\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"std\"]\n  },\n  \"application/vnd.sun.xml.impress\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sxi\"]\n  },\n  \"application/vnd.sun.xml.impress.template\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sti\"]\n  },\n  \"application/vnd.sun.xml.math\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sxm\"]\n  },\n  \"application/vnd.sun.xml.writer\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sxw\"]\n  },\n  \"application/vnd.sun.xml.writer.global\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sxg\"]\n  },\n  \"application/vnd.sun.xml.writer.template\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"stw\"]\n  },\n  \"application/vnd.sus-calendar\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"sus\",\"susp\"]\n  },\n  \"application/vnd.svd\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"svd\"]\n  },\n  \"application/vnd.swiftview-ics\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.sycle+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.syft+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.symbian.install\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sis\",\"sisx\"]\n  },\n  \"application/vnd.syncml+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true,\n    \"extensions\": [\"xsm\"]\n  },\n  \"application/vnd.syncml.dm+wbxml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"extensions\": [\"bdm\"]\n  },\n  \"application/vnd.syncml.dm+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true,\n    \"extensions\": [\"xdm\"]\n  },\n  \"application/vnd.syncml.dm.notification\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.syncml.dmddf+wbxml\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.syncml.dmddf+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true,\n    \"extensions\": [\"ddf\"]\n  },\n  \"application/vnd.syncml.dmtnds+wbxml\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.syncml.dmtnds+xml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true\n  },\n  \"application/vnd.syncml.ds.notification\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.tableschema+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.tao.intent-module-archive\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"tao\"]\n  },\n  \"application/vnd.tcpdump.pcap\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pcap\",\"cap\",\"dmp\"]\n  },\n  \"application/vnd.think-cell.ppttc+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.tmd.mediaflex.api+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.tml\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.tmobile-livetv\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"tmo\"]\n  },\n  \"application/vnd.tri.onesource\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.trid.tpt\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"tpt\"]\n  },\n  \"application/vnd.triscape.mxs\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mxs\"]\n  },\n  \"application/vnd.trueapp\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"tra\"]\n  },\n  \"application/vnd.truedoc\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ubisoft.webplayer\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ufdl\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ufd\",\"ufdl\"]\n  },\n  \"application/vnd.uiq.theme\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"utz\"]\n  },\n  \"application/vnd.umajin\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"umj\"]\n  },\n  \"application/vnd.unity\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"unityweb\"]\n  },\n  \"application/vnd.uoml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"uoml\"]\n  },\n  \"application/vnd.uplanet.alert\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.uplanet.alert-wbxml\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.uplanet.bearer-choice\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.uplanet.bearer-choice-wbxml\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.uplanet.cacheop\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.uplanet.cacheop-wbxml\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.uplanet.channel\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.uplanet.channel-wbxml\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.uplanet.list\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.uplanet.list-wbxml\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.uplanet.listcmd\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.uplanet.listcmd-wbxml\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.uplanet.signal\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.uri-map\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.valve.source.material\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.vcx\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"vcx\"]\n  },\n  \"application/vnd.vd-study\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.vectorworks\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.vel+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.verimatrix.vcas\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.veritone.aion+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.veryant.thin\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.ves.encrypted\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.vidsoft.vidconference\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.visio\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"vsd\",\"vst\",\"vss\",\"vsw\"]\n  },\n  \"application/vnd.visionary\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"vis\"]\n  },\n  \"application/vnd.vividence.scriptfile\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.vsf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"vsf\"]\n  },\n  \"application/vnd.wap.sic\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.wap.slc\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.wap.wbxml\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"extensions\": [\"wbxml\"]\n  },\n  \"application/vnd.wap.wmlc\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"wmlc\"]\n  },\n  \"application/vnd.wap.wmlscriptc\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"wmlsc\"]\n  },\n  \"application/vnd.webturbo\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"wtb\"]\n  },\n  \"application/vnd.wfa.dpp\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.wfa.p2p\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.wfa.wsc\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.windows.devicepairing\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.wmc\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.wmf.bootstrap\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.wolfram.mathematica\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.wolfram.mathematica.package\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.wolfram.player\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"nbp\"]\n  },\n  \"application/vnd.wordperfect\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"wpd\"]\n  },\n  \"application/vnd.wqd\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"wqd\"]\n  },\n  \"application/vnd.wrq-hp3000-labelled\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.wt.stf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"stf\"]\n  },\n  \"application/vnd.wv.csp+wbxml\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.wv.csp+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.wv.ssp+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.xacml+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.xara\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"xar\"]\n  },\n  \"application/vnd.xfdl\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"xfdl\"]\n  },\n  \"application/vnd.xfdl.webform\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.xmi+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vnd.xmpie.cpkg\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.xmpie.dpkg\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.xmpie.plan\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.xmpie.ppkg\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.xmpie.xlim\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.yamaha.hv-dic\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"hvd\"]\n  },\n  \"application/vnd.yamaha.hv-script\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"hvs\"]\n  },\n  \"application/vnd.yamaha.hv-voice\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"hvp\"]\n  },\n  \"application/vnd.yamaha.openscoreformat\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"osf\"]\n  },\n  \"application/vnd.yamaha.openscoreformat.osfpvg+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"osfpvg\"]\n  },\n  \"application/vnd.yamaha.remote-setup\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.yamaha.smaf-audio\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"saf\"]\n  },\n  \"application/vnd.yamaha.smaf-phrase\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"spf\"]\n  },\n  \"application/vnd.yamaha.through-ngn\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.yamaha.tunnel-udpencap\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.yaoweme\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.yellowriver-custom-menu\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cmp\"]\n  },\n  \"application/vnd.youtube.yt\": {\n    \"source\": \"iana\"\n  },\n  \"application/vnd.zul\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"zir\",\"zirz\"]\n  },\n  \"application/vnd.zzazz.deck+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"zaz\"]\n  },\n  \"application/voicexml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"vxml\"]\n  },\n  \"application/voucher-cms+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/vq-rtcpxr\": {\n    \"source\": \"iana\"\n  },\n  \"application/wasm\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"wasm\"]\n  },\n  \"application/watcherinfo+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"wif\"]\n  },\n  \"application/webpush-options+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/whoispp-query\": {\n    \"source\": \"iana\"\n  },\n  \"application/whoispp-response\": {\n    \"source\": \"iana\"\n  },\n  \"application/widget\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"wgt\"]\n  },\n  \"application/winhlp\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"hlp\"]\n  },\n  \"application/wita\": {\n    \"source\": \"iana\"\n  },\n  \"application/wordperfect5.1\": {\n    \"source\": \"iana\"\n  },\n  \"application/wsdl+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"wsdl\"]\n  },\n  \"application/wspolicy+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"wspolicy\"]\n  },\n  \"application/x-7z-compressed\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"7z\"]\n  },\n  \"application/x-abiword\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"abw\"]\n  },\n  \"application/x-ace-compressed\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"ace\"]\n  },\n  \"application/x-amf\": {\n    \"source\": \"apache\"\n  },\n  \"application/x-apple-diskimage\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"dmg\"]\n  },\n  \"application/x-arj\": {\n    \"compressible\": false,\n    \"extensions\": [\"arj\"]\n  },\n  \"application/x-authorware-bin\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"aab\",\"x32\",\"u32\",\"vox\"]\n  },\n  \"application/x-authorware-map\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"aam\"]\n  },\n  \"application/x-authorware-seg\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"aas\"]\n  },\n  \"application/x-bcpio\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"bcpio\"]\n  },\n  \"application/x-bdoc\": {\n    \"compressible\": false,\n    \"extensions\": [\"bdoc\"]\n  },\n  \"application/x-bittorrent\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"torrent\"]\n  },\n  \"application/x-blorb\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"blb\",\"blorb\"]\n  },\n  \"application/x-bzip\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"bz\"]\n  },\n  \"application/x-bzip2\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"bz2\",\"boz\"]\n  },\n  \"application/x-cbr\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"cbr\",\"cba\",\"cbt\",\"cbz\",\"cb7\"]\n  },\n  \"application/x-cdlink\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"vcd\"]\n  },\n  \"application/x-cfs-compressed\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"cfs\"]\n  },\n  \"application/x-chat\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"chat\"]\n  },\n  \"application/x-chess-pgn\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"pgn\"]\n  },\n  \"application/x-chrome-extension\": {\n    \"extensions\": [\"crx\"]\n  },\n  \"application/x-cocoa\": {\n    \"source\": \"nginx\",\n    \"extensions\": [\"cco\"]\n  },\n  \"application/x-compress\": {\n    \"source\": \"apache\"\n  },\n  \"application/x-conference\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"nsc\"]\n  },\n  \"application/x-cpio\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"cpio\"]\n  },\n  \"application/x-csh\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"csh\"]\n  },\n  \"application/x-deb\": {\n    \"compressible\": false\n  },\n  \"application/x-debian-package\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"deb\",\"udeb\"]\n  },\n  \"application/x-dgc-compressed\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"dgc\"]\n  },\n  \"application/x-director\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"dir\",\"dcr\",\"dxr\",\"cst\",\"cct\",\"cxt\",\"w3d\",\"fgd\",\"swa\"]\n  },\n  \"application/x-doom\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"wad\"]\n  },\n  \"application/x-dtbncx+xml\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"ncx\"]\n  },\n  \"application/x-dtbook+xml\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"dtb\"]\n  },\n  \"application/x-dtbresource+xml\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"res\"]\n  },\n  \"application/x-dvi\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"dvi\"]\n  },\n  \"application/x-envoy\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"evy\"]\n  },\n  \"application/x-eva\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"eva\"]\n  },\n  \"application/x-font-bdf\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"bdf\"]\n  },\n  \"application/x-font-dos\": {\n    \"source\": \"apache\"\n  },\n  \"application/x-font-framemaker\": {\n    \"source\": \"apache\"\n  },\n  \"application/x-font-ghostscript\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"gsf\"]\n  },\n  \"application/x-font-libgrx\": {\n    \"source\": \"apache\"\n  },\n  \"application/x-font-linux-psf\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"psf\"]\n  },\n  \"application/x-font-pcf\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"pcf\"]\n  },\n  \"application/x-font-snf\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"snf\"]\n  },\n  \"application/x-font-speedo\": {\n    \"source\": \"apache\"\n  },\n  \"application/x-font-sunos-news\": {\n    \"source\": \"apache\"\n  },\n  \"application/x-font-type1\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"pfa\",\"pfb\",\"pfm\",\"afm\"]\n  },\n  \"application/x-font-vfont\": {\n    \"source\": \"apache\"\n  },\n  \"application/x-freearc\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"arc\"]\n  },\n  \"application/x-futuresplash\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"spl\"]\n  },\n  \"application/x-gca-compressed\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"gca\"]\n  },\n  \"application/x-glulx\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"ulx\"]\n  },\n  \"application/x-gnumeric\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"gnumeric\"]\n  },\n  \"application/x-gramps-xml\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"gramps\"]\n  },\n  \"application/x-gtar\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"gtar\"]\n  },\n  \"application/x-gzip\": {\n    \"source\": \"apache\"\n  },\n  \"application/x-hdf\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"hdf\"]\n  },\n  \"application/x-httpd-php\": {\n    \"compressible\": true,\n    \"extensions\": [\"php\"]\n  },\n  \"application/x-install-instructions\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"install\"]\n  },\n  \"application/x-iso9660-image\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"iso\"]\n  },\n  \"application/x-iwork-keynote-sffkey\": {\n    \"extensions\": [\"key\"]\n  },\n  \"application/x-iwork-numbers-sffnumbers\": {\n    \"extensions\": [\"numbers\"]\n  },\n  \"application/x-iwork-pages-sffpages\": {\n    \"extensions\": [\"pages\"]\n  },\n  \"application/x-java-archive-diff\": {\n    \"source\": \"nginx\",\n    \"extensions\": [\"jardiff\"]\n  },\n  \"application/x-java-jnlp-file\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"jnlp\"]\n  },\n  \"application/x-javascript\": {\n    \"compressible\": true\n  },\n  \"application/x-keepass2\": {\n    \"extensions\": [\"kdbx\"]\n  },\n  \"application/x-latex\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"latex\"]\n  },\n  \"application/x-lua-bytecode\": {\n    \"extensions\": [\"luac\"]\n  },\n  \"application/x-lzh-compressed\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"lzh\",\"lha\"]\n  },\n  \"application/x-makeself\": {\n    \"source\": \"nginx\",\n    \"extensions\": [\"run\"]\n  },\n  \"application/x-mie\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"mie\"]\n  },\n  \"application/x-mobipocket-ebook\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"prc\",\"mobi\"]\n  },\n  \"application/x-mpegurl\": {\n    \"compressible\": false\n  },\n  \"application/x-ms-application\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"application\"]\n  },\n  \"application/x-ms-shortcut\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"lnk\"]\n  },\n  \"application/x-ms-wmd\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"wmd\"]\n  },\n  \"application/x-ms-wmz\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"wmz\"]\n  },\n  \"application/x-ms-xbap\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"xbap\"]\n  },\n  \"application/x-msaccess\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"mdb\"]\n  },\n  \"application/x-msbinder\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"obd\"]\n  },\n  \"application/x-mscardfile\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"crd\"]\n  },\n  \"application/x-msclip\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"clp\"]\n  },\n  \"application/x-msdos-program\": {\n    \"extensions\": [\"exe\"]\n  },\n  \"application/x-msdownload\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"exe\",\"dll\",\"com\",\"bat\",\"msi\"]\n  },\n  \"application/x-msmediaview\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"mvb\",\"m13\",\"m14\"]\n  },\n  \"application/x-msmetafile\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"wmf\",\"wmz\",\"emf\",\"emz\"]\n  },\n  \"application/x-msmoney\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"mny\"]\n  },\n  \"application/x-mspublisher\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"pub\"]\n  },\n  \"application/x-msschedule\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"scd\"]\n  },\n  \"application/x-msterminal\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"trm\"]\n  },\n  \"application/x-mswrite\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"wri\"]\n  },\n  \"application/x-netcdf\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"nc\",\"cdf\"]\n  },\n  \"application/x-ns-proxy-autoconfig\": {\n    \"compressible\": true,\n    \"extensions\": [\"pac\"]\n  },\n  \"application/x-nzb\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"nzb\"]\n  },\n  \"application/x-perl\": {\n    \"source\": \"nginx\",\n    \"extensions\": [\"pl\",\"pm\"]\n  },\n  \"application/x-pilot\": {\n    \"source\": \"nginx\",\n    \"extensions\": [\"prc\",\"pdb\"]\n  },\n  \"application/x-pkcs12\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"p12\",\"pfx\"]\n  },\n  \"application/x-pkcs7-certificates\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"p7b\",\"spc\"]\n  },\n  \"application/x-pkcs7-certreqresp\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"p7r\"]\n  },\n  \"application/x-pki-message\": {\n    \"source\": \"iana\"\n  },\n  \"application/x-rar-compressed\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"rar\"]\n  },\n  \"application/x-redhat-package-manager\": {\n    \"source\": \"nginx\",\n    \"extensions\": [\"rpm\"]\n  },\n  \"application/x-research-info-systems\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"ris\"]\n  },\n  \"application/x-sea\": {\n    \"source\": \"nginx\",\n    \"extensions\": [\"sea\"]\n  },\n  \"application/x-sh\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"sh\"]\n  },\n  \"application/x-shar\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"shar\"]\n  },\n  \"application/x-shockwave-flash\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"swf\"]\n  },\n  \"application/x-silverlight-app\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"xap\"]\n  },\n  \"application/x-sql\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sql\"]\n  },\n  \"application/x-stuffit\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"sit\"]\n  },\n  \"application/x-stuffitx\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sitx\"]\n  },\n  \"application/x-subrip\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"srt\"]\n  },\n  \"application/x-sv4cpio\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sv4cpio\"]\n  },\n  \"application/x-sv4crc\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sv4crc\"]\n  },\n  \"application/x-t3vm-image\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"t3\"]\n  },\n  \"application/x-tads\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"gam\"]\n  },\n  \"application/x-tar\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"tar\"]\n  },\n  \"application/x-tcl\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"tcl\",\"tk\"]\n  },\n  \"application/x-tex\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"tex\"]\n  },\n  \"application/x-tex-tfm\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"tfm\"]\n  },\n  \"application/x-texinfo\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"texinfo\",\"texi\"]\n  },\n  \"application/x-tgif\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"obj\"]\n  },\n  \"application/x-ustar\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"ustar\"]\n  },\n  \"application/x-virtualbox-hdd\": {\n    \"compressible\": true,\n    \"extensions\": [\"hdd\"]\n  },\n  \"application/x-virtualbox-ova\": {\n    \"compressible\": true,\n    \"extensions\": [\"ova\"]\n  },\n  \"application/x-virtualbox-ovf\": {\n    \"compressible\": true,\n    \"extensions\": [\"ovf\"]\n  },\n  \"application/x-virtualbox-vbox\": {\n    \"compressible\": true,\n    \"extensions\": [\"vbox\"]\n  },\n  \"application/x-virtualbox-vbox-extpack\": {\n    \"compressible\": false,\n    \"extensions\": [\"vbox-extpack\"]\n  },\n  \"application/x-virtualbox-vdi\": {\n    \"compressible\": true,\n    \"extensions\": [\"vdi\"]\n  },\n  \"application/x-virtualbox-vhd\": {\n    \"compressible\": true,\n    \"extensions\": [\"vhd\"]\n  },\n  \"application/x-virtualbox-vmdk\": {\n    \"compressible\": true,\n    \"extensions\": [\"vmdk\"]\n  },\n  \"application/x-wais-source\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"src\"]\n  },\n  \"application/x-web-app-manifest+json\": {\n    \"compressible\": true,\n    \"extensions\": [\"webapp\"]\n  },\n  \"application/x-www-form-urlencoded\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/x-x509-ca-cert\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"der\",\"crt\",\"pem\"]\n  },\n  \"application/x-x509-ca-ra-cert\": {\n    \"source\": \"iana\"\n  },\n  \"application/x-x509-next-ca-cert\": {\n    \"source\": \"iana\"\n  },\n  \"application/x-xfig\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"fig\"]\n  },\n  \"application/x-xliff+xml\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"xlf\"]\n  },\n  \"application/x-xpinstall\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"xpi\"]\n  },\n  \"application/x-xz\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"xz\"]\n  },\n  \"application/x-zmachine\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"z1\",\"z2\",\"z3\",\"z4\",\"z5\",\"z6\",\"z7\",\"z8\"]\n  },\n  \"application/x400-bp\": {\n    \"source\": \"iana\"\n  },\n  \"application/xacml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/xaml+xml\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"xaml\"]\n  },\n  \"application/xcap-att+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xav\"]\n  },\n  \"application/xcap-caps+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xca\"]\n  },\n  \"application/xcap-diff+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xdf\"]\n  },\n  \"application/xcap-el+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xel\"]\n  },\n  \"application/xcap-error+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/xcap-ns+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xns\"]\n  },\n  \"application/xcon-conference-info+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/xcon-conference-info-diff+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/xenc+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xenc\"]\n  },\n  \"application/xhtml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xhtml\",\"xht\"]\n  },\n  \"application/xhtml-voice+xml\": {\n    \"source\": \"apache\",\n    \"compressible\": true\n  },\n  \"application/xliff+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xlf\"]\n  },\n  \"application/xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xml\",\"xsl\",\"xsd\",\"rng\"]\n  },\n  \"application/xml-dtd\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"dtd\"]\n  },\n  \"application/xml-external-parsed-entity\": {\n    \"source\": \"iana\"\n  },\n  \"application/xml-patch+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/xmpp+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/xop+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xop\"]\n  },\n  \"application/xproc+xml\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"xpl\"]\n  },\n  \"application/xslt+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xsl\",\"xslt\"]\n  },\n  \"application/xspf+xml\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"xspf\"]\n  },\n  \"application/xv+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"mxml\",\"xhvml\",\"xvml\",\"xvm\"]\n  },\n  \"application/yang\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"yang\"]\n  },\n  \"application/yang-data+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/yang-data+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/yang-patch+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/yang-patch+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"application/yin+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"yin\"]\n  },\n  \"application/zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"zip\"]\n  },\n  \"application/zlib\": {\n    \"source\": \"iana\"\n  },\n  \"application/zstd\": {\n    \"source\": \"iana\"\n  },\n  \"audio/1d-interleaved-parityfec\": {\n    \"source\": \"iana\"\n  },\n  \"audio/32kadpcm\": {\n    \"source\": \"iana\"\n  },\n  \"audio/3gpp\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"3gpp\"]\n  },\n  \"audio/3gpp2\": {\n    \"source\": \"iana\"\n  },\n  \"audio/aac\": {\n    \"source\": \"iana\"\n  },\n  \"audio/ac3\": {\n    \"source\": \"iana\"\n  },\n  \"audio/adpcm\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"adp\"]\n  },\n  \"audio/amr\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"amr\"]\n  },\n  \"audio/amr-wb\": {\n    \"source\": \"iana\"\n  },\n  \"audio/amr-wb+\": {\n    \"source\": \"iana\"\n  },\n  \"audio/aptx\": {\n    \"source\": \"iana\"\n  },\n  \"audio/asc\": {\n    \"source\": \"iana\"\n  },\n  \"audio/atrac-advanced-lossless\": {\n    \"source\": \"iana\"\n  },\n  \"audio/atrac-x\": {\n    \"source\": \"iana\"\n  },\n  \"audio/atrac3\": {\n    \"source\": \"iana\"\n  },\n  \"audio/basic\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"au\",\"snd\"]\n  },\n  \"audio/bv16\": {\n    \"source\": \"iana\"\n  },\n  \"audio/bv32\": {\n    \"source\": \"iana\"\n  },\n  \"audio/clearmode\": {\n    \"source\": \"iana\"\n  },\n  \"audio/cn\": {\n    \"source\": \"iana\"\n  },\n  \"audio/dat12\": {\n    \"source\": \"iana\"\n  },\n  \"audio/dls\": {\n    \"source\": \"iana\"\n  },\n  \"audio/dsr-es201108\": {\n    \"source\": \"iana\"\n  },\n  \"audio/dsr-es202050\": {\n    \"source\": \"iana\"\n  },\n  \"audio/dsr-es202211\": {\n    \"source\": \"iana\"\n  },\n  \"audio/dsr-es202212\": {\n    \"source\": \"iana\"\n  },\n  \"audio/dv\": {\n    \"source\": \"iana\"\n  },\n  \"audio/dvi4\": {\n    \"source\": \"iana\"\n  },\n  \"audio/eac3\": {\n    \"source\": \"iana\"\n  },\n  \"audio/encaprtp\": {\n    \"source\": \"iana\"\n  },\n  \"audio/evrc\": {\n    \"source\": \"iana\"\n  },\n  \"audio/evrc-qcp\": {\n    \"source\": \"iana\"\n  },\n  \"audio/evrc0\": {\n    \"source\": \"iana\"\n  },\n  \"audio/evrc1\": {\n    \"source\": \"iana\"\n  },\n  \"audio/evrcb\": {\n    \"source\": \"iana\"\n  },\n  \"audio/evrcb0\": {\n    \"source\": \"iana\"\n  },\n  \"audio/evrcb1\": {\n    \"source\": \"iana\"\n  },\n  \"audio/evrcnw\": {\n    \"source\": \"iana\"\n  },\n  \"audio/evrcnw0\": {\n    \"source\": \"iana\"\n  },\n  \"audio/evrcnw1\": {\n    \"source\": \"iana\"\n  },\n  \"audio/evrcwb\": {\n    \"source\": \"iana\"\n  },\n  \"audio/evrcwb0\": {\n    \"source\": \"iana\"\n  },\n  \"audio/evrcwb1\": {\n    \"source\": \"iana\"\n  },\n  \"audio/evs\": {\n    \"source\": \"iana\"\n  },\n  \"audio/flexfec\": {\n    \"source\": \"iana\"\n  },\n  \"audio/fwdred\": {\n    \"source\": \"iana\"\n  },\n  \"audio/g711-0\": {\n    \"source\": \"iana\"\n  },\n  \"audio/g719\": {\n    \"source\": \"iana\"\n  },\n  \"audio/g722\": {\n    \"source\": \"iana\"\n  },\n  \"audio/g7221\": {\n    \"source\": \"iana\"\n  },\n  \"audio/g723\": {\n    \"source\": \"iana\"\n  },\n  \"audio/g726-16\": {\n    \"source\": \"iana\"\n  },\n  \"audio/g726-24\": {\n    \"source\": \"iana\"\n  },\n  \"audio/g726-32\": {\n    \"source\": \"iana\"\n  },\n  \"audio/g726-40\": {\n    \"source\": \"iana\"\n  },\n  \"audio/g728\": {\n    \"source\": \"iana\"\n  },\n  \"audio/g729\": {\n    \"source\": \"iana\"\n  },\n  \"audio/g7291\": {\n    \"source\": \"iana\"\n  },\n  \"audio/g729d\": {\n    \"source\": \"iana\"\n  },\n  \"audio/g729e\": {\n    \"source\": \"iana\"\n  },\n  \"audio/gsm\": {\n    \"source\": \"iana\"\n  },\n  \"audio/gsm-efr\": {\n    \"source\": \"iana\"\n  },\n  \"audio/gsm-hr-08\": {\n    \"source\": \"iana\"\n  },\n  \"audio/ilbc\": {\n    \"source\": \"iana\"\n  },\n  \"audio/ip-mr_v2.5\": {\n    \"source\": \"iana\"\n  },\n  \"audio/isac\": {\n    \"source\": \"apache\"\n  },\n  \"audio/l16\": {\n    \"source\": \"iana\"\n  },\n  \"audio/l20\": {\n    \"source\": \"iana\"\n  },\n  \"audio/l24\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"audio/l8\": {\n    \"source\": \"iana\"\n  },\n  \"audio/lpc\": {\n    \"source\": \"iana\"\n  },\n  \"audio/melp\": {\n    \"source\": \"iana\"\n  },\n  \"audio/melp1200\": {\n    \"source\": \"iana\"\n  },\n  \"audio/melp2400\": {\n    \"source\": \"iana\"\n  },\n  \"audio/melp600\": {\n    \"source\": \"iana\"\n  },\n  \"audio/mhas\": {\n    \"source\": \"iana\"\n  },\n  \"audio/midi\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"mid\",\"midi\",\"kar\",\"rmi\"]\n  },\n  \"audio/mobile-xmf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mxmf\"]\n  },\n  \"audio/mp3\": {\n    \"compressible\": false,\n    \"extensions\": [\"mp3\"]\n  },\n  \"audio/mp4\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"m4a\",\"mp4a\"]\n  },\n  \"audio/mp4a-latm\": {\n    \"source\": \"iana\"\n  },\n  \"audio/mpa\": {\n    \"source\": \"iana\"\n  },\n  \"audio/mpa-robust\": {\n    \"source\": \"iana\"\n  },\n  \"audio/mpeg\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"mpga\",\"mp2\",\"mp2a\",\"mp3\",\"m2a\",\"m3a\"]\n  },\n  \"audio/mpeg4-generic\": {\n    \"source\": \"iana\"\n  },\n  \"audio/musepack\": {\n    \"source\": \"apache\"\n  },\n  \"audio/ogg\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"oga\",\"ogg\",\"spx\",\"opus\"]\n  },\n  \"audio/opus\": {\n    \"source\": \"iana\"\n  },\n  \"audio/parityfec\": {\n    \"source\": \"iana\"\n  },\n  \"audio/pcma\": {\n    \"source\": \"iana\"\n  },\n  \"audio/pcma-wb\": {\n    \"source\": \"iana\"\n  },\n  \"audio/pcmu\": {\n    \"source\": \"iana\"\n  },\n  \"audio/pcmu-wb\": {\n    \"source\": \"iana\"\n  },\n  \"audio/prs.sid\": {\n    \"source\": \"iana\"\n  },\n  \"audio/qcelp\": {\n    \"source\": \"iana\"\n  },\n  \"audio/raptorfec\": {\n    \"source\": \"iana\"\n  },\n  \"audio/red\": {\n    \"source\": \"iana\"\n  },\n  \"audio/rtp-enc-aescm128\": {\n    \"source\": \"iana\"\n  },\n  \"audio/rtp-midi\": {\n    \"source\": \"iana\"\n  },\n  \"audio/rtploopback\": {\n    \"source\": \"iana\"\n  },\n  \"audio/rtx\": {\n    \"source\": \"iana\"\n  },\n  \"audio/s3m\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"s3m\"]\n  },\n  \"audio/scip\": {\n    \"source\": \"iana\"\n  },\n  \"audio/silk\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sil\"]\n  },\n  \"audio/smv\": {\n    \"source\": \"iana\"\n  },\n  \"audio/smv-qcp\": {\n    \"source\": \"iana\"\n  },\n  \"audio/smv0\": {\n    \"source\": \"iana\"\n  },\n  \"audio/sofa\": {\n    \"source\": \"iana\"\n  },\n  \"audio/sp-midi\": {\n    \"source\": \"iana\"\n  },\n  \"audio/speex\": {\n    \"source\": \"iana\"\n  },\n  \"audio/t140c\": {\n    \"source\": \"iana\"\n  },\n  \"audio/t38\": {\n    \"source\": \"iana\"\n  },\n  \"audio/telephone-event\": {\n    \"source\": \"iana\"\n  },\n  \"audio/tetra_acelp\": {\n    \"source\": \"iana\"\n  },\n  \"audio/tetra_acelp_bb\": {\n    \"source\": \"iana\"\n  },\n  \"audio/tone\": {\n    \"source\": \"iana\"\n  },\n  \"audio/tsvcis\": {\n    \"source\": \"iana\"\n  },\n  \"audio/uemclip\": {\n    \"source\": \"iana\"\n  },\n  \"audio/ulpfec\": {\n    \"source\": \"iana\"\n  },\n  \"audio/usac\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vdvi\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vmr-wb\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.3gpp.iufp\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.4sb\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.audiokoz\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.celp\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.cisco.nse\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.cmles.radio-events\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.cns.anp1\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.cns.inf1\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.dece.audio\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"uva\",\"uvva\"]\n  },\n  \"audio/vnd.digital-winds\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"eol\"]\n  },\n  \"audio/vnd.dlna.adts\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.dolby.heaac.1\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.dolby.heaac.2\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.dolby.mlp\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.dolby.mps\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.dolby.pl2\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.dolby.pl2x\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.dolby.pl2z\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.dolby.pulse.1\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.dra\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dra\"]\n  },\n  \"audio/vnd.dts\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dts\"]\n  },\n  \"audio/vnd.dts.hd\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dtshd\"]\n  },\n  \"audio/vnd.dts.uhd\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.dvb.file\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.everad.plj\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.hns.audio\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.lucent.voice\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"lvp\"]\n  },\n  \"audio/vnd.ms-playready.media.pya\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pya\"]\n  },\n  \"audio/vnd.nokia.mobile-xmf\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.nortel.vbk\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.nuera.ecelp4800\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ecelp4800\"]\n  },\n  \"audio/vnd.nuera.ecelp7470\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ecelp7470\"]\n  },\n  \"audio/vnd.nuera.ecelp9600\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ecelp9600\"]\n  },\n  \"audio/vnd.octel.sbc\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.presonus.multitrack\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.qcelp\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.rhetorex.32kadpcm\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.rip\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"rip\"]\n  },\n  \"audio/vnd.rn-realaudio\": {\n    \"compressible\": false\n  },\n  \"audio/vnd.sealedmedia.softseal.mpeg\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.vmx.cvsd\": {\n    \"source\": \"iana\"\n  },\n  \"audio/vnd.wave\": {\n    \"compressible\": false\n  },\n  \"audio/vorbis\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"audio/vorbis-config\": {\n    \"source\": \"iana\"\n  },\n  \"audio/wav\": {\n    \"compressible\": false,\n    \"extensions\": [\"wav\"]\n  },\n  \"audio/wave\": {\n    \"compressible\": false,\n    \"extensions\": [\"wav\"]\n  },\n  \"audio/webm\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"weba\"]\n  },\n  \"audio/x-aac\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"aac\"]\n  },\n  \"audio/x-aiff\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"aif\",\"aiff\",\"aifc\"]\n  },\n  \"audio/x-caf\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"caf\"]\n  },\n  \"audio/x-flac\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"flac\"]\n  },\n  \"audio/x-m4a\": {\n    \"source\": \"nginx\",\n    \"extensions\": [\"m4a\"]\n  },\n  \"audio/x-matroska\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"mka\"]\n  },\n  \"audio/x-mpegurl\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"m3u\"]\n  },\n  \"audio/x-ms-wax\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"wax\"]\n  },\n  \"audio/x-ms-wma\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"wma\"]\n  },\n  \"audio/x-pn-realaudio\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"ram\",\"ra\"]\n  },\n  \"audio/x-pn-realaudio-plugin\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"rmp\"]\n  },\n  \"audio/x-realaudio\": {\n    \"source\": \"nginx\",\n    \"extensions\": [\"ra\"]\n  },\n  \"audio/x-tta\": {\n    \"source\": \"apache\"\n  },\n  \"audio/x-wav\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"wav\"]\n  },\n  \"audio/xm\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"xm\"]\n  },\n  \"chemical/x-cdx\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"cdx\"]\n  },\n  \"chemical/x-cif\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"cif\"]\n  },\n  \"chemical/x-cmdf\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"cmdf\"]\n  },\n  \"chemical/x-cml\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"cml\"]\n  },\n  \"chemical/x-csml\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"csml\"]\n  },\n  \"chemical/x-pdb\": {\n    \"source\": \"apache\"\n  },\n  \"chemical/x-xyz\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"xyz\"]\n  },\n  \"font/collection\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ttc\"]\n  },\n  \"font/otf\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"otf\"]\n  },\n  \"font/sfnt\": {\n    \"source\": \"iana\"\n  },\n  \"font/ttf\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"ttf\"]\n  },\n  \"font/woff\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"woff\"]\n  },\n  \"font/woff2\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"woff2\"]\n  },\n  \"image/aces\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"exr\"]\n  },\n  \"image/apng\": {\n    \"compressible\": false,\n    \"extensions\": [\"apng\"]\n  },\n  \"image/avci\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"avci\"]\n  },\n  \"image/avcs\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"avcs\"]\n  },\n  \"image/avif\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"avif\"]\n  },\n  \"image/bmp\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"bmp\"]\n  },\n  \"image/cgm\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"cgm\"]\n  },\n  \"image/dicom-rle\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"drle\"]\n  },\n  \"image/emf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"emf\"]\n  },\n  \"image/fits\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"fits\"]\n  },\n  \"image/g3fax\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"g3\"]\n  },\n  \"image/gif\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"gif\"]\n  },\n  \"image/heic\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"heic\"]\n  },\n  \"image/heic-sequence\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"heics\"]\n  },\n  \"image/heif\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"heif\"]\n  },\n  \"image/heif-sequence\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"heifs\"]\n  },\n  \"image/hej2k\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"hej2\"]\n  },\n  \"image/hsj2\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"hsj2\"]\n  },\n  \"image/ief\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ief\"]\n  },\n  \"image/jls\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"jls\"]\n  },\n  \"image/jp2\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"jp2\",\"jpg2\"]\n  },\n  \"image/jpeg\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"jpeg\",\"jpg\",\"jpe\"]\n  },\n  \"image/jph\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"jph\"]\n  },\n  \"image/jphc\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"jhc\"]\n  },\n  \"image/jpm\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"jpm\"]\n  },\n  \"image/jpx\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"jpx\",\"jpf\"]\n  },\n  \"image/jxr\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"jxr\"]\n  },\n  \"image/jxra\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"jxra\"]\n  },\n  \"image/jxrs\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"jxrs\"]\n  },\n  \"image/jxs\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"jxs\"]\n  },\n  \"image/jxsc\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"jxsc\"]\n  },\n  \"image/jxsi\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"jxsi\"]\n  },\n  \"image/jxss\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"jxss\"]\n  },\n  \"image/ktx\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ktx\"]\n  },\n  \"image/ktx2\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ktx2\"]\n  },\n  \"image/naplps\": {\n    \"source\": \"iana\"\n  },\n  \"image/pjpeg\": {\n    \"compressible\": false\n  },\n  \"image/png\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"png\"]\n  },\n  \"image/prs.btif\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"btif\"]\n  },\n  \"image/prs.pti\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pti\"]\n  },\n  \"image/pwg-raster\": {\n    \"source\": \"iana\"\n  },\n  \"image/sgi\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sgi\"]\n  },\n  \"image/svg+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"svg\",\"svgz\"]\n  },\n  \"image/t38\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"t38\"]\n  },\n  \"image/tiff\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"tif\",\"tiff\"]\n  },\n  \"image/tiff-fx\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"tfx\"]\n  },\n  \"image/vnd.adobe.photoshop\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"psd\"]\n  },\n  \"image/vnd.airzip.accelerator.azv\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"azv\"]\n  },\n  \"image/vnd.cns.inf2\": {\n    \"source\": \"iana\"\n  },\n  \"image/vnd.dece.graphic\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"uvi\",\"uvvi\",\"uvg\",\"uvvg\"]\n  },\n  \"image/vnd.djvu\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"djvu\",\"djv\"]\n  },\n  \"image/vnd.dvb.subtitle\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"sub\"]\n  },\n  \"image/vnd.dwg\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dwg\"]\n  },\n  \"image/vnd.dxf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dxf\"]\n  },\n  \"image/vnd.fastbidsheet\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"fbs\"]\n  },\n  \"image/vnd.fpx\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"fpx\"]\n  },\n  \"image/vnd.fst\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"fst\"]\n  },\n  \"image/vnd.fujixerox.edmics-mmr\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mmr\"]\n  },\n  \"image/vnd.fujixerox.edmics-rlc\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"rlc\"]\n  },\n  \"image/vnd.globalgraphics.pgb\": {\n    \"source\": \"iana\"\n  },\n  \"image/vnd.microsoft.icon\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"ico\"]\n  },\n  \"image/vnd.mix\": {\n    \"source\": \"iana\"\n  },\n  \"image/vnd.mozilla.apng\": {\n    \"source\": \"iana\"\n  },\n  \"image/vnd.ms-dds\": {\n    \"compressible\": true,\n    \"extensions\": [\"dds\"]\n  },\n  \"image/vnd.ms-modi\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mdi\"]\n  },\n  \"image/vnd.ms-photo\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"wdp\"]\n  },\n  \"image/vnd.net-fpx\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"npx\"]\n  },\n  \"image/vnd.pco.b16\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"b16\"]\n  },\n  \"image/vnd.radiance\": {\n    \"source\": \"iana\"\n  },\n  \"image/vnd.sealed.png\": {\n    \"source\": \"iana\"\n  },\n  \"image/vnd.sealedmedia.softseal.gif\": {\n    \"source\": \"iana\"\n  },\n  \"image/vnd.sealedmedia.softseal.jpg\": {\n    \"source\": \"iana\"\n  },\n  \"image/vnd.svf\": {\n    \"source\": \"iana\"\n  },\n  \"image/vnd.tencent.tap\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"tap\"]\n  },\n  \"image/vnd.valve.source.texture\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"vtf\"]\n  },\n  \"image/vnd.wap.wbmp\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"wbmp\"]\n  },\n  \"image/vnd.xiff\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"xif\"]\n  },\n  \"image/vnd.zbrush.pcx\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pcx\"]\n  },\n  \"image/webp\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"webp\"]\n  },\n  \"image/wmf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"wmf\"]\n  },\n  \"image/x-3ds\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"3ds\"]\n  },\n  \"image/x-cmu-raster\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"ras\"]\n  },\n  \"image/x-cmx\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"cmx\"]\n  },\n  \"image/x-freehand\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"fh\",\"fhc\",\"fh4\",\"fh5\",\"fh7\"]\n  },\n  \"image/x-icon\": {\n    \"source\": \"apache\",\n    \"compressible\": true,\n    \"extensions\": [\"ico\"]\n  },\n  \"image/x-jng\": {\n    \"source\": \"nginx\",\n    \"extensions\": [\"jng\"]\n  },\n  \"image/x-mrsid-image\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sid\"]\n  },\n  \"image/x-ms-bmp\": {\n    \"source\": \"nginx\",\n    \"compressible\": true,\n    \"extensions\": [\"bmp\"]\n  },\n  \"image/x-pcx\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"pcx\"]\n  },\n  \"image/x-pict\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"pic\",\"pct\"]\n  },\n  \"image/x-portable-anymap\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"pnm\"]\n  },\n  \"image/x-portable-bitmap\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"pbm\"]\n  },\n  \"image/x-portable-graymap\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"pgm\"]\n  },\n  \"image/x-portable-pixmap\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"ppm\"]\n  },\n  \"image/x-rgb\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"rgb\"]\n  },\n  \"image/x-tga\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"tga\"]\n  },\n  \"image/x-xbitmap\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"xbm\"]\n  },\n  \"image/x-xcf\": {\n    \"compressible\": false\n  },\n  \"image/x-xpixmap\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"xpm\"]\n  },\n  \"image/x-xwindowdump\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"xwd\"]\n  },\n  \"message/cpim\": {\n    \"source\": \"iana\"\n  },\n  \"message/delivery-status\": {\n    \"source\": \"iana\"\n  },\n  \"message/disposition-notification\": {\n    \"source\": \"iana\",\n    \"extensions\": [\n      \"disposition-notification\"\n    ]\n  },\n  \"message/external-body\": {\n    \"source\": \"iana\"\n  },\n  \"message/feedback-report\": {\n    \"source\": \"iana\"\n  },\n  \"message/global\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"u8msg\"]\n  },\n  \"message/global-delivery-status\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"u8dsn\"]\n  },\n  \"message/global-disposition-notification\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"u8mdn\"]\n  },\n  \"message/global-headers\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"u8hdr\"]\n  },\n  \"message/http\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"message/imdn+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"message/news\": {\n    \"source\": \"iana\"\n  },\n  \"message/partial\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"message/rfc822\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"eml\",\"mime\"]\n  },\n  \"message/s-http\": {\n    \"source\": \"iana\"\n  },\n  \"message/sip\": {\n    \"source\": \"iana\"\n  },\n  \"message/sipfrag\": {\n    \"source\": \"iana\"\n  },\n  \"message/tracking-status\": {\n    \"source\": \"iana\"\n  },\n  \"message/vnd.si.simp\": {\n    \"source\": \"iana\"\n  },\n  \"message/vnd.wfa.wsc\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"wsc\"]\n  },\n  \"model/3mf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"3mf\"]\n  },\n  \"model/e57\": {\n    \"source\": \"iana\"\n  },\n  \"model/gltf+json\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"gltf\"]\n  },\n  \"model/gltf-binary\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"glb\"]\n  },\n  \"model/iges\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"igs\",\"iges\"]\n  },\n  \"model/mesh\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"msh\",\"mesh\",\"silo\"]\n  },\n  \"model/mtl\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mtl\"]\n  },\n  \"model/obj\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"obj\"]\n  },\n  \"model/step\": {\n    \"source\": \"iana\"\n  },\n  \"model/step+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"stpx\"]\n  },\n  \"model/step+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"stpz\"]\n  },\n  \"model/step-xml+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"stpxz\"]\n  },\n  \"model/stl\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"stl\"]\n  },\n  \"model/vnd.collada+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"dae\"]\n  },\n  \"model/vnd.dwf\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dwf\"]\n  },\n  \"model/vnd.flatland.3dml\": {\n    \"source\": \"iana\"\n  },\n  \"model/vnd.gdl\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"gdl\"]\n  },\n  \"model/vnd.gs-gdl\": {\n    \"source\": \"apache\"\n  },\n  \"model/vnd.gs.gdl\": {\n    \"source\": \"iana\"\n  },\n  \"model/vnd.gtw\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"gtw\"]\n  },\n  \"model/vnd.moml+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"model/vnd.mts\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mts\"]\n  },\n  \"model/vnd.opengex\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ogex\"]\n  },\n  \"model/vnd.parasolid.transmit.binary\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"x_b\"]\n  },\n  \"model/vnd.parasolid.transmit.text\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"x_t\"]\n  },\n  \"model/vnd.pytha.pyox\": {\n    \"source\": \"iana\"\n  },\n  \"model/vnd.rosette.annotated-data-model\": {\n    \"source\": \"iana\"\n  },\n  \"model/vnd.sap.vds\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"vds\"]\n  },\n  \"model/vnd.usdz+zip\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"usdz\"]\n  },\n  \"model/vnd.valve.source.compiled-map\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"bsp\"]\n  },\n  \"model/vnd.vtu\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"vtu\"]\n  },\n  \"model/vrml\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"wrl\",\"vrml\"]\n  },\n  \"model/x3d+binary\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"x3db\",\"x3dbz\"]\n  },\n  \"model/x3d+fastinfoset\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"x3db\"]\n  },\n  \"model/x3d+vrml\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"x3dv\",\"x3dvz\"]\n  },\n  \"model/x3d+xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"x3d\",\"x3dz\"]\n  },\n  \"model/x3d-vrml\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"x3dv\"]\n  },\n  \"multipart/alternative\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"multipart/appledouble\": {\n    \"source\": \"iana\"\n  },\n  \"multipart/byteranges\": {\n    \"source\": \"iana\"\n  },\n  \"multipart/digest\": {\n    \"source\": \"iana\"\n  },\n  \"multipart/encrypted\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"multipart/form-data\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"multipart/header-set\": {\n    \"source\": \"iana\"\n  },\n  \"multipart/mixed\": {\n    \"source\": \"iana\"\n  },\n  \"multipart/multilingual\": {\n    \"source\": \"iana\"\n  },\n  \"multipart/parallel\": {\n    \"source\": \"iana\"\n  },\n  \"multipart/related\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"multipart/report\": {\n    \"source\": \"iana\"\n  },\n  \"multipart/signed\": {\n    \"source\": \"iana\",\n    \"compressible\": false\n  },\n  \"multipart/vnd.bint.med-plus\": {\n    \"source\": \"iana\"\n  },\n  \"multipart/voice-message\": {\n    \"source\": \"iana\"\n  },\n  \"multipart/x-mixed-replace\": {\n    \"source\": \"iana\"\n  },\n  \"text/1d-interleaved-parityfec\": {\n    \"source\": \"iana\"\n  },\n  \"text/cache-manifest\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"appcache\",\"manifest\"]\n  },\n  \"text/calendar\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ics\",\"ifb\"]\n  },\n  \"text/calender\": {\n    \"compressible\": true\n  },\n  \"text/cmd\": {\n    \"compressible\": true\n  },\n  \"text/coffeescript\": {\n    \"extensions\": [\"coffee\",\"litcoffee\"]\n  },\n  \"text/cql\": {\n    \"source\": \"iana\"\n  },\n  \"text/cql-expression\": {\n    \"source\": \"iana\"\n  },\n  \"text/cql-identifier\": {\n    \"source\": \"iana\"\n  },\n  \"text/css\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true,\n    \"extensions\": [\"css\"]\n  },\n  \"text/csv\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"csv\"]\n  },\n  \"text/csv-schema\": {\n    \"source\": \"iana\"\n  },\n  \"text/directory\": {\n    \"source\": \"iana\"\n  },\n  \"text/dns\": {\n    \"source\": \"iana\"\n  },\n  \"text/ecmascript\": {\n    \"source\": \"iana\"\n  },\n  \"text/encaprtp\": {\n    \"source\": \"iana\"\n  },\n  \"text/enriched\": {\n    \"source\": \"iana\"\n  },\n  \"text/fhirpath\": {\n    \"source\": \"iana\"\n  },\n  \"text/flexfec\": {\n    \"source\": \"iana\"\n  },\n  \"text/fwdred\": {\n    \"source\": \"iana\"\n  },\n  \"text/gff3\": {\n    \"source\": \"iana\"\n  },\n  \"text/grammar-ref-list\": {\n    \"source\": \"iana\"\n  },\n  \"text/html\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"html\",\"htm\",\"shtml\"]\n  },\n  \"text/jade\": {\n    \"extensions\": [\"jade\"]\n  },\n  \"text/javascript\": {\n    \"source\": \"iana\",\n    \"compressible\": true\n  },\n  \"text/jcr-cnd\": {\n    \"source\": \"iana\"\n  },\n  \"text/jsx\": {\n    \"compressible\": true,\n    \"extensions\": [\"jsx\"]\n  },\n  \"text/less\": {\n    \"compressible\": true,\n    \"extensions\": [\"less\"]\n  },\n  \"text/markdown\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"markdown\",\"md\"]\n  },\n  \"text/mathml\": {\n    \"source\": \"nginx\",\n    \"extensions\": [\"mml\"]\n  },\n  \"text/mdx\": {\n    \"compressible\": true,\n    \"extensions\": [\"mdx\"]\n  },\n  \"text/mizar\": {\n    \"source\": \"iana\"\n  },\n  \"text/n3\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true,\n    \"extensions\": [\"n3\"]\n  },\n  \"text/parameters\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\"\n  },\n  \"text/parityfec\": {\n    \"source\": \"iana\"\n  },\n  \"text/plain\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"txt\",\"text\",\"conf\",\"def\",\"list\",\"log\",\"in\",\"ini\"]\n  },\n  \"text/provenance-notation\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\"\n  },\n  \"text/prs.fallenstein.rst\": {\n    \"source\": \"iana\"\n  },\n  \"text/prs.lines.tag\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dsc\"]\n  },\n  \"text/prs.prop.logic\": {\n    \"source\": \"iana\"\n  },\n  \"text/raptorfec\": {\n    \"source\": \"iana\"\n  },\n  \"text/red\": {\n    \"source\": \"iana\"\n  },\n  \"text/rfc822-headers\": {\n    \"source\": \"iana\"\n  },\n  \"text/richtext\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"rtx\"]\n  },\n  \"text/rtf\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"rtf\"]\n  },\n  \"text/rtp-enc-aescm128\": {\n    \"source\": \"iana\"\n  },\n  \"text/rtploopback\": {\n    \"source\": \"iana\"\n  },\n  \"text/rtx\": {\n    \"source\": \"iana\"\n  },\n  \"text/sgml\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"sgml\",\"sgm\"]\n  },\n  \"text/shaclc\": {\n    \"source\": \"iana\"\n  },\n  \"text/shex\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"shex\"]\n  },\n  \"text/slim\": {\n    \"extensions\": [\"slim\",\"slm\"]\n  },\n  \"text/spdx\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"spdx\"]\n  },\n  \"text/strings\": {\n    \"source\": \"iana\"\n  },\n  \"text/stylus\": {\n    \"extensions\": [\"stylus\",\"styl\"]\n  },\n  \"text/t140\": {\n    \"source\": \"iana\"\n  },\n  \"text/tab-separated-values\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"tsv\"]\n  },\n  \"text/troff\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"t\",\"tr\",\"roff\",\"man\",\"me\",\"ms\"]\n  },\n  \"text/turtle\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"extensions\": [\"ttl\"]\n  },\n  \"text/ulpfec\": {\n    \"source\": \"iana\"\n  },\n  \"text/uri-list\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"uri\",\"uris\",\"urls\"]\n  },\n  \"text/vcard\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"vcard\"]\n  },\n  \"text/vnd.a\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.abc\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.ascii-art\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.curl\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"curl\"]\n  },\n  \"text/vnd.curl.dcurl\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"dcurl\"]\n  },\n  \"text/vnd.curl.mcurl\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"mcurl\"]\n  },\n  \"text/vnd.curl.scurl\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"scurl\"]\n  },\n  \"text/vnd.debian.copyright\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\"\n  },\n  \"text/vnd.dmclientscript\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.dvb.subtitle\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"sub\"]\n  },\n  \"text/vnd.esmertec.theme-descriptor\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\"\n  },\n  \"text/vnd.familysearch.gedcom\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ged\"]\n  },\n  \"text/vnd.ficlab.flt\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.fly\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"fly\"]\n  },\n  \"text/vnd.fmi.flexstor\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"flx\"]\n  },\n  \"text/vnd.gml\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.graphviz\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"gv\"]\n  },\n  \"text/vnd.hans\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.hgl\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.in3d.3dml\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"3dml\"]\n  },\n  \"text/vnd.in3d.spot\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"spot\"]\n  },\n  \"text/vnd.iptc.newsml\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.iptc.nitf\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.latex-z\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.motorola.reflex\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.ms-mediapackage\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.net2phone.commcenter.command\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.radisys.msml-basic-layout\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.senx.warpscript\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.si.uricatalogue\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.sosi\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.sun.j2me.app-descriptor\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"extensions\": [\"jad\"]\n  },\n  \"text/vnd.trolltech.linguist\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\"\n  },\n  \"text/vnd.wap.si\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.wap.sl\": {\n    \"source\": \"iana\"\n  },\n  \"text/vnd.wap.wml\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"wml\"]\n  },\n  \"text/vnd.wap.wmlscript\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"wmls\"]\n  },\n  \"text/vtt\": {\n    \"source\": \"iana\",\n    \"charset\": \"UTF-8\",\n    \"compressible\": true,\n    \"extensions\": [\"vtt\"]\n  },\n  \"text/x-asm\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"s\",\"asm\"]\n  },\n  \"text/x-c\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"c\",\"cc\",\"cxx\",\"cpp\",\"h\",\"hh\",\"dic\"]\n  },\n  \"text/x-component\": {\n    \"source\": \"nginx\",\n    \"extensions\": [\"htc\"]\n  },\n  \"text/x-fortran\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"f\",\"for\",\"f77\",\"f90\"]\n  },\n  \"text/x-gwt-rpc\": {\n    \"compressible\": true\n  },\n  \"text/x-handlebars-template\": {\n    \"extensions\": [\"hbs\"]\n  },\n  \"text/x-java-source\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"java\"]\n  },\n  \"text/x-jquery-tmpl\": {\n    \"compressible\": true\n  },\n  \"text/x-lua\": {\n    \"extensions\": [\"lua\"]\n  },\n  \"text/x-markdown\": {\n    \"compressible\": true,\n    \"extensions\": [\"mkd\"]\n  },\n  \"text/x-nfo\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"nfo\"]\n  },\n  \"text/x-opml\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"opml\"]\n  },\n  \"text/x-org\": {\n    \"compressible\": true,\n    \"extensions\": [\"org\"]\n  },\n  \"text/x-pascal\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"p\",\"pas\"]\n  },\n  \"text/x-processing\": {\n    \"compressible\": true,\n    \"extensions\": [\"pde\"]\n  },\n  \"text/x-sass\": {\n    \"extensions\": [\"sass\"]\n  },\n  \"text/x-scss\": {\n    \"extensions\": [\"scss\"]\n  },\n  \"text/x-setext\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"etx\"]\n  },\n  \"text/x-sfv\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"sfv\"]\n  },\n  \"text/x-suse-ymp\": {\n    \"compressible\": true,\n    \"extensions\": [\"ymp\"]\n  },\n  \"text/x-uuencode\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"uu\"]\n  },\n  \"text/x-vcalendar\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"vcs\"]\n  },\n  \"text/x-vcard\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"vcf\"]\n  },\n  \"text/xml\": {\n    \"source\": \"iana\",\n    \"compressible\": true,\n    \"extensions\": [\"xml\"]\n  },\n  \"text/xml-external-parsed-entity\": {\n    \"source\": \"iana\"\n  },\n  \"text/yaml\": {\n    \"compressible\": true,\n    \"extensions\": [\"yaml\",\"yml\"]\n  },\n  \"video/1d-interleaved-parityfec\": {\n    \"source\": \"iana\"\n  },\n  \"video/3gpp\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"3gp\",\"3gpp\"]\n  },\n  \"video/3gpp-tt\": {\n    \"source\": \"iana\"\n  },\n  \"video/3gpp2\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"3g2\"]\n  },\n  \"video/av1\": {\n    \"source\": \"iana\"\n  },\n  \"video/bmpeg\": {\n    \"source\": \"iana\"\n  },\n  \"video/bt656\": {\n    \"source\": \"iana\"\n  },\n  \"video/celb\": {\n    \"source\": \"iana\"\n  },\n  \"video/dv\": {\n    \"source\": \"iana\"\n  },\n  \"video/encaprtp\": {\n    \"source\": \"iana\"\n  },\n  \"video/ffv1\": {\n    \"source\": \"iana\"\n  },\n  \"video/flexfec\": {\n    \"source\": \"iana\"\n  },\n  \"video/h261\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"h261\"]\n  },\n  \"video/h263\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"h263\"]\n  },\n  \"video/h263-1998\": {\n    \"source\": \"iana\"\n  },\n  \"video/h263-2000\": {\n    \"source\": \"iana\"\n  },\n  \"video/h264\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"h264\"]\n  },\n  \"video/h264-rcdo\": {\n    \"source\": \"iana\"\n  },\n  \"video/h264-svc\": {\n    \"source\": \"iana\"\n  },\n  \"video/h265\": {\n    \"source\": \"iana\"\n  },\n  \"video/iso.segment\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"m4s\"]\n  },\n  \"video/jpeg\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"jpgv\"]\n  },\n  \"video/jpeg2000\": {\n    \"source\": \"iana\"\n  },\n  \"video/jpm\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"jpm\",\"jpgm\"]\n  },\n  \"video/jxsv\": {\n    \"source\": \"iana\"\n  },\n  \"video/mj2\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mj2\",\"mjp2\"]\n  },\n  \"video/mp1s\": {\n    \"source\": \"iana\"\n  },\n  \"video/mp2p\": {\n    \"source\": \"iana\"\n  },\n  \"video/mp2t\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"ts\"]\n  },\n  \"video/mp4\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"mp4\",\"mp4v\",\"mpg4\"]\n  },\n  \"video/mp4v-es\": {\n    \"source\": \"iana\"\n  },\n  \"video/mpeg\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"mpeg\",\"mpg\",\"mpe\",\"m1v\",\"m2v\"]\n  },\n  \"video/mpeg4-generic\": {\n    \"source\": \"iana\"\n  },\n  \"video/mpv\": {\n    \"source\": \"iana\"\n  },\n  \"video/nv\": {\n    \"source\": \"iana\"\n  },\n  \"video/ogg\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"ogv\"]\n  },\n  \"video/parityfec\": {\n    \"source\": \"iana\"\n  },\n  \"video/pointer\": {\n    \"source\": \"iana\"\n  },\n  \"video/quicktime\": {\n    \"source\": \"iana\",\n    \"compressible\": false,\n    \"extensions\": [\"qt\",\"mov\"]\n  },\n  \"video/raptorfec\": {\n    \"source\": \"iana\"\n  },\n  \"video/raw\": {\n    \"source\": \"iana\"\n  },\n  \"video/rtp-enc-aescm128\": {\n    \"source\": \"iana\"\n  },\n  \"video/rtploopback\": {\n    \"source\": \"iana\"\n  },\n  \"video/rtx\": {\n    \"source\": \"iana\"\n  },\n  \"video/scip\": {\n    \"source\": \"iana\"\n  },\n  \"video/smpte291\": {\n    \"source\": \"iana\"\n  },\n  \"video/smpte292m\": {\n    \"source\": \"iana\"\n  },\n  \"video/ulpfec\": {\n    \"source\": \"iana\"\n  },\n  \"video/vc1\": {\n    \"source\": \"iana\"\n  },\n  \"video/vc2\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.cctv\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.dece.hd\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"uvh\",\"uvvh\"]\n  },\n  \"video/vnd.dece.mobile\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"uvm\",\"uvvm\"]\n  },\n  \"video/vnd.dece.mp4\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.dece.pd\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"uvp\",\"uvvp\"]\n  },\n  \"video/vnd.dece.sd\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"uvs\",\"uvvs\"]\n  },\n  \"video/vnd.dece.video\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"uvv\",\"uvvv\"]\n  },\n  \"video/vnd.directv.mpeg\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.directv.mpeg-tts\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.dlna.mpeg-tts\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.dvb.file\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"dvb\"]\n  },\n  \"video/vnd.fvt\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"fvt\"]\n  },\n  \"video/vnd.hns.video\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.iptvforum.1dparityfec-1010\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.iptvforum.1dparityfec-2005\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.iptvforum.2dparityfec-1010\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.iptvforum.2dparityfec-2005\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.iptvforum.ttsavc\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.iptvforum.ttsmpeg2\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.motorola.video\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.motorola.videop\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.mpegurl\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"mxu\",\"m4u\"]\n  },\n  \"video/vnd.ms-playready.media.pyv\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"pyv\"]\n  },\n  \"video/vnd.nokia.interleaved-multimedia\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.nokia.mp4vr\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.nokia.videovoip\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.objectvideo\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.radgamettools.bink\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.radgamettools.smacker\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.sealed.mpeg1\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.sealed.mpeg4\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.sealed.swf\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.sealedmedia.softseal.mov\": {\n    \"source\": \"iana\"\n  },\n  \"video/vnd.uvvu.mp4\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"uvu\",\"uvvu\"]\n  },\n  \"video/vnd.vivo\": {\n    \"source\": \"iana\",\n    \"extensions\": [\"viv\"]\n  },\n  \"video/vnd.youtube.yt\": {\n    \"source\": \"iana\"\n  },\n  \"video/vp8\": {\n    \"source\": \"iana\"\n  },\n  \"video/vp9\": {\n    \"source\": \"iana\"\n  },\n  \"video/webm\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"webm\"]\n  },\n  \"video/x-f4v\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"f4v\"]\n  },\n  \"video/x-fli\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"fli\"]\n  },\n  \"video/x-flv\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"flv\"]\n  },\n  \"video/x-m4v\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"m4v\"]\n  },\n  \"video/x-matroska\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"mkv\",\"mk3d\",\"mks\"]\n  },\n  \"video/x-mng\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"mng\"]\n  },\n  \"video/x-ms-asf\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"asf\",\"asx\"]\n  },\n  \"video/x-ms-vob\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"vob\"]\n  },\n  \"video/x-ms-wm\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"wm\"]\n  },\n  \"video/x-ms-wmv\": {\n    \"source\": \"apache\",\n    \"compressible\": false,\n    \"extensions\": [\"wmv\"]\n  },\n  \"video/x-ms-wmx\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"wmx\"]\n  },\n  \"video/x-ms-wvx\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"wvx\"]\n  },\n  \"video/x-msvideo\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"avi\"]\n  },\n  \"video/x-sgi-movie\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"movie\"]\n  },\n  \"video/x-smv\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"smv\"]\n  },\n  \"x-conference/x-cooltalk\": {\n    \"source\": \"apache\",\n    \"extensions\": [\"ice\"]\n  },\n  \"x-shader/x-fragment\": {\n    \"compressible\": true\n  },\n  \"x-shader/x-vertex\": {\n    \"compressible\": true\n  }\n}\n", "/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n", "/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n", "module.exports = defer;\n\n/**\n * Runs provided function on next iteration of the event loop\n *\n * @param {function} fn - function to run\n */\nfunction defer(fn)\n{\n  var nextTick = typeof setImmediate == 'function'\n    ? setImmediate\n    : (\n      typeof process == 'object' && typeof process.nextTick == 'function'\n      ? process.nextTick\n      : null\n    );\n\n  if (nextTick)\n  {\n    nextTick(fn);\n  }\n  else\n  {\n    setTimeout(fn, 0);\n  }\n}\n", "var defer = require('./defer.js');\n\n// API\nmodule.exports = async;\n\n/**\n * Runs provided callback asynchronously\n * even if callback itself is not\n *\n * @param   {function} callback - callback to invoke\n * @returns {function} - augmented callback\n */\nfunction async(callback)\n{\n  var isAsync = false;\n\n  // check if async happened\n  defer(function() { isAsync = true; });\n\n  return function async_callback(err, result)\n  {\n    if (isAsync)\n    {\n      callback(err, result);\n    }\n    else\n    {\n      defer(function nextTick_callback()\n      {\n        callback(err, result);\n      });\n    }\n  };\n}\n", "// API\nmodule.exports = abort;\n\n/**\n * Aborts leftover active jobs\n *\n * @param {object} state - current state object\n */\nfunction abort(state)\n{\n  Object.keys(state.jobs).forEach(clean.bind(state));\n\n  // reset leftover jobs\n  state.jobs = {};\n}\n\n/**\n * Cleans up leftover job by invoking abort function for the provided job id\n *\n * @this  state\n * @param {string|number} key - job id to abort\n */\nfunction clean(key)\n{\n  if (typeof this.jobs[key] == 'function')\n  {\n    this.jobs[key]();\n  }\n}\n", "var async = require('./async.js')\n  , abort = require('./abort.js')\n  ;\n\n// API\nmodule.exports = iterate;\n\n/**\n * Iterates over each job object\n *\n * @param {array|object} list - array or object (named list) to iterate over\n * @param {function} iterator - iterator to run\n * @param {object} state - current job status\n * @param {function} callback - invoked when all elements processed\n */\nfunction iterate(list, iterator, state, callback)\n{\n  // store current index\n  var key = state['keyedList'] ? state['keyedList'][state.index] : state.index;\n\n  state.jobs[key] = runJob(iterator, key, list[key], function(error, output)\n  {\n    // don't repeat yourself\n    // skip secondary callbacks\n    if (!(key in state.jobs))\n    {\n      return;\n    }\n\n    // clean up jobs\n    delete state.jobs[key];\n\n    if (error)\n    {\n      // don't process rest of the results\n      // stop still active jobs\n      // and reset the list\n      abort(state);\n    }\n    else\n    {\n      state.results[key] = output;\n    }\n\n    // return salvaged results\n    callback(error, state.results);\n  });\n}\n\n/**\n * Runs iterator over provided job element\n *\n * @param   {function} iterator - iterator to invoke\n * @param   {string|number} key - key/index of the element in the list of jobs\n * @param   {mixed} item - job description\n * @param   {function} callback - invoked after iterator is done with the job\n * @returns {function|mixed} - job abort function or something else\n */\nfunction runJob(iterator, key, item, callback)\n{\n  var aborter;\n\n  // allow shortcut if iterator expects only two arguments\n  if (iterator.length == 2)\n  {\n    aborter = iterator(item, async(callback));\n  }\n  // otherwise go with full three arguments\n  else\n  {\n    aborter = iterator(item, key, async(callback));\n  }\n\n  return aborter;\n}\n", "// API\nmodule.exports = state;\n\n/**\n * Creates initial state object\n * for iteration over list\n *\n * @param   {array|object} list - list to iterate over\n * @param   {function|null} sortMethod - function to use for keys sort,\n *                                     or `null` to keep them as is\n * @returns {object} - initial state object\n */\nfunction state(list, sortMethod)\n{\n  var isNamedList = !Array.isArray(list)\n    , initState =\n    {\n      index    : 0,\n      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,\n      jobs     : {},\n      results  : isNamedList ? {} : [],\n      size     : isNamedList ? Object.keys(list).length : list.length\n    }\n    ;\n\n  if (sortMethod)\n  {\n    // sort array keys based on it's values\n    // sort object's keys just on own merit\n    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)\n    {\n      return sortMethod(list[a], list[b]);\n    });\n  }\n\n  return initState;\n}\n", "var abort = require('./abort.js')\n  , async = require('./async.js')\n  ;\n\n// API\nmodule.exports = terminator;\n\n/**\n * Terminates jobs in the attached state context\n *\n * @this  AsyncKitState#\n * @param {function} callback - final callback to invoke after termination\n */\nfunction terminator(callback)\n{\n  if (!Object.keys(this.jobs).length)\n  {\n    return;\n  }\n\n  // fast forward iteration index\n  this.index = this.size;\n\n  // abort jobs\n  abort(this);\n\n  // send back results we have so far\n  async(callback)(null, this.results);\n}\n", "var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = parallel;\n\n/**\n * Runs iterator over provided array elements in parallel\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction parallel(list, iterator, callback)\n{\n  var state = initState(list);\n\n  while (state.index < (state['keyedList'] || list).length)\n  {\n    iterate(list, iterator, state, function(error, result)\n    {\n      if (error)\n      {\n        callback(error, result);\n        return;\n      }\n\n      // looks like it's the last one\n      if (Object.keys(state.jobs).length === 0)\n      {\n        callback(null, state.results);\n        return;\n      }\n    });\n\n    state.index++;\n  }\n\n  return terminator.bind(state, callback);\n}\n", "var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = serialOrdered;\n// sorting helpers\nmodule.exports.ascending  = ascending;\nmodule.exports.descending = descending;\n\n/**\n * Runs iterator over provided sorted array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} sortMethod - custom sort function\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serialOrdered(list, iterator, sortMethod, callback)\n{\n  var state = initState(list, sortMethod);\n\n  iterate(list, iterator, state, function iteratorHandler(error, result)\n  {\n    if (error)\n    {\n      callback(error, result);\n      return;\n    }\n\n    state.index++;\n\n    // are we there yet?\n    if (state.index < (state['keyedList'] || list).length)\n    {\n      iterate(list, iterator, state, iteratorHandler);\n      return;\n    }\n\n    // done here\n    callback(null, state.results);\n  });\n\n  return terminator.bind(state, callback);\n}\n\n/*\n * -- Sort methods\n */\n\n/**\n * sort helper to sort array elements in ascending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction ascending(a, b)\n{\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n/**\n * sort helper to sort array elements in descending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction descending(a, b)\n{\n  return -1 * ascending(a, b);\n}\n", "var serialOrdered = require('./serialOrdered.js');\n\n// Public API\nmodule.exports = serial;\n\n/**\n * Runs iterator over provided array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serial(list, iterator, callback)\n{\n  return serialOrdered(list, iterator, null, callback);\n}\n", "module.exports =\n{\n  parallel      : require('./parallel.js'),\n  serial        : require('./serial.js'),\n  serialOrdered : require('./serialOrdered.js')\n};\n", "// populates missing values\nmodule.exports = function(dst, src) {\n\n  Object.keys(src).forEach(function(prop)\n  {\n    dst[prop] = dst[prop] || src[prop];\n  });\n\n  return dst;\n};\n", "var CombinedStream = require('combined-stream');\nvar util = require('util');\nvar path = require('path');\nvar http = require('http');\nvar https = require('https');\nvar parseUrl = require('url').parse;\nvar fs = require('fs');\nvar Stream = require('stream').Stream;\nvar mime = require('mime-types');\nvar asynckit = require('asynckit');\nvar populate = require('./populate.js');\n\n// Public API\nmodule.exports = FormData;\n\n// make it a Stream\nutil.inherits(FormData, CombinedStream);\n\n/**\n * Create readable \"multipart/form-data\" streams.\n * Can be used to submit forms\n * and file uploads to other web applications.\n *\n * @constructor\n * @param {Object} options - Properties to be added/overriden for FormData and CombinedStream\n */\nfunction FormData(options) {\n  if (!(this instanceof FormData)) {\n    return new FormData(options);\n  }\n\n  this._overheadLength = 0;\n  this._valueLength = 0;\n  this._valuesToMeasure = [];\n\n  CombinedStream.call(this);\n\n  options = options || {};\n  for (var option in options) {\n    this[option] = options[option];\n  }\n}\n\nFormData.LINE_BREAK = '\\r\\n';\nFormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\nFormData.prototype.append = function(field, value, options) {\n\n  options = options || {};\n\n  // allow filename as single option\n  if (typeof options == 'string') {\n    options = {filename: options};\n  }\n\n  var append = CombinedStream.prototype.append.bind(this);\n\n  // all that streamy business can't handle numbers\n  if (typeof value == 'number') {\n    value = '' + value;\n  }\n\n  // https://github.com/felixge/node-form-data/issues/38\n  if (util.isArray(value)) {\n    // Please convert your array into string\n    // the way web server expects it\n    this._error(new Error('Arrays are not supported.'));\n    return;\n  }\n\n  var header = this._multiPartHeader(field, value, options);\n  var footer = this._multiPartFooter();\n\n  append(header);\n  append(value);\n  append(footer);\n\n  // pass along options.knownLength\n  this._trackLength(header, value, options);\n};\n\nFormData.prototype._trackLength = function(header, value, options) {\n  var valueLength = 0;\n\n  // used w/ getLengthSync(), when length is known.\n  // e.g. for streaming directly from a remote server,\n  // w/ a known file a size, and not wanting to wait for\n  // incoming file to finish to get its size.\n  if (options.knownLength != null) {\n    valueLength += +options.knownLength;\n  } else if (Buffer.isBuffer(value)) {\n    valueLength = value.length;\n  } else if (typeof value === 'string') {\n    valueLength = Buffer.byteLength(value);\n  }\n\n  this._valueLength += valueLength;\n\n  // @check why add CRLF? does this account for custom/multiple CRLFs?\n  this._overheadLength +=\n    Buffer.byteLength(header) +\n    FormData.LINE_BREAK.length;\n\n  // empty or either doesn't have path or not an http response or not a stream\n  if (!value || ( !value.path && !(value.readable && value.hasOwnProperty('httpVersion')) && !(value instanceof Stream))) {\n    return;\n  }\n\n  // no need to bother with the length\n  if (!options.knownLength) {\n    this._valuesToMeasure.push(value);\n  }\n};\n\nFormData.prototype._lengthRetriever = function(value, callback) {\n\n  if (value.hasOwnProperty('fd')) {\n\n    // take read range into a account\n    // `end` = Infinity \u2013> read file till the end\n    //\n    // TODO: Looks like there is bug in Node fs.createReadStream\n    // it doesn't respect `end` options without `start` options\n    // Fix it when node fixes it.\n    // https://github.com/joyent/node/issues/7819\n    if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n\n      // when end specified\n      // no need to calculate range\n      // inclusive, starts with 0\n      callback(null, value.end + 1 - (value.start ? value.start : 0));\n\n    // not that fast snoopy\n    } else {\n      // still need to fetch file size from fs\n      fs.stat(value.path, function(err, stat) {\n\n        var fileSize;\n\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        // update final size based on the range options\n        fileSize = stat.size - (value.start ? value.start : 0);\n        callback(null, fileSize);\n      });\n    }\n\n  // or http response\n  } else if (value.hasOwnProperty('httpVersion')) {\n    callback(null, +value.headers['content-length']);\n\n  // or request stream http://github.com/mikeal/request\n  } else if (value.hasOwnProperty('httpModule')) {\n    // wait till response come back\n    value.on('response', function(response) {\n      value.pause();\n      callback(null, +response.headers['content-length']);\n    });\n    value.resume();\n\n  // something else\n  } else {\n    callback('Unknown stream');\n  }\n};\n\nFormData.prototype._multiPartHeader = function(field, value, options) {\n  // custom header specified (as string)?\n  // it becomes responsible for boundary\n  // (e.g. to handle extra CRLFs on .NET servers)\n  if (typeof options.header == 'string') {\n    return options.header;\n  }\n\n  var contentDisposition = this._getContentDisposition(value, options);\n  var contentType = this._getContentType(value, options);\n\n  var contents = '';\n  var headers  = {\n    // add custom disposition as third element or keep it two elements if not\n    'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n    // if no content type. allow it to be empty array\n    'Content-Type': [].concat(contentType || [])\n  };\n\n  // allow custom headers.\n  if (typeof options.header == 'object') {\n    populate(headers, options.header);\n  }\n\n  var header;\n  for (var prop in headers) {\n    if (!headers.hasOwnProperty(prop)) continue;\n    header = headers[prop];\n\n    // skip nullish headers.\n    if (header == null) {\n      continue;\n    }\n\n    // convert all headers to arrays.\n    if (!Array.isArray(header)) {\n      header = [header];\n    }\n\n    // add non-empty headers.\n    if (header.length) {\n      contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n    }\n  }\n\n  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n};\n\nFormData.prototype._getContentDisposition = function(value, options) {\n\n  var filename\n    , contentDisposition\n    ;\n\n  if (typeof options.filepath === 'string') {\n    // custom filepath for relative paths\n    filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n  } else if (options.filename || value.name || value.path) {\n    // custom filename take precedence\n    // formidable and the browser add a name property\n    // fs- and request- streams have path property\n    filename = path.basename(options.filename || value.name || value.path);\n  } else if (value.readable && value.hasOwnProperty('httpVersion')) {\n    // or try http response\n    filename = path.basename(value.client._httpMessage.path || '');\n  }\n\n  if (filename) {\n    contentDisposition = 'filename=\"' + filename + '\"';\n  }\n\n  return contentDisposition;\n};\n\nFormData.prototype._getContentType = function(value, options) {\n\n  // use custom content-type above all\n  var contentType = options.contentType;\n\n  // or try `name` from formidable, browser\n  if (!contentType && value.name) {\n    contentType = mime.lookup(value.name);\n  }\n\n  // or try `path` from fs-, request- streams\n  if (!contentType && value.path) {\n    contentType = mime.lookup(value.path);\n  }\n\n  // or if it's http-reponse\n  if (!contentType && value.readable && value.hasOwnProperty('httpVersion')) {\n    contentType = value.headers['content-type'];\n  }\n\n  // or guess it from the filepath or filename\n  if (!contentType && (options.filepath || options.filename)) {\n    contentType = mime.lookup(options.filepath || options.filename);\n  }\n\n  // fallback to the default content type if `value` is not simple value\n  if (!contentType && typeof value == 'object') {\n    contentType = FormData.DEFAULT_CONTENT_TYPE;\n  }\n\n  return contentType;\n};\n\nFormData.prototype._multiPartFooter = function() {\n  return function(next) {\n    var footer = FormData.LINE_BREAK;\n\n    var lastPart = (this._streams.length === 0);\n    if (lastPart) {\n      footer += this._lastBoundary();\n    }\n\n    next(footer);\n  }.bind(this);\n};\n\nFormData.prototype._lastBoundary = function() {\n  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n};\n\nFormData.prototype.getHeaders = function(userHeaders) {\n  var header;\n  var formHeaders = {\n    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n  };\n\n  for (header in userHeaders) {\n    if (userHeaders.hasOwnProperty(header)) {\n      formHeaders[header.toLowerCase()] = userHeaders[header];\n    }\n  }\n\n  return formHeaders;\n};\n\nFormData.prototype.setBoundary = function(boundary) {\n  this._boundary = boundary;\n};\n\nFormData.prototype.getBoundary = function() {\n  if (!this._boundary) {\n    this._generateBoundary();\n  }\n\n  return this._boundary;\n};\n\nFormData.prototype.getBuffer = function() {\n  var dataBuffer = new Buffer.alloc( 0 );\n  var boundary = this.getBoundary();\n\n  // Create the form content. Add Line breaks to the end of data.\n  for (var i = 0, len = this._streams.length; i < len; i++) {\n    if (typeof this._streams[i] !== 'function') {\n\n      // Add content to the buffer.\n      if(Buffer.isBuffer(this._streams[i])) {\n        dataBuffer = Buffer.concat( [dataBuffer, this._streams[i]]);\n      }else {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(this._streams[i])]);\n      }\n\n      // Add break after content.\n      if (typeof this._streams[i] !== 'string' || this._streams[i].substring( 2, boundary.length + 2 ) !== boundary) {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(FormData.LINE_BREAK)] );\n      }\n    }\n  }\n\n  // Add the footer and return the Buffer object.\n  return Buffer.concat( [dataBuffer, Buffer.from(this._lastBoundary())] );\n};\n\nFormData.prototype._generateBoundary = function() {\n  // This generates a 50 character boundary similar to those used by Firefox.\n  // They are optimized for boyer-moore parsing.\n  var boundary = '--------------------------';\n  for (var i = 0; i < 24; i++) {\n    boundary += Math.floor(Math.random() * 10).toString(16);\n  }\n\n  this._boundary = boundary;\n};\n\n// Note: getLengthSync DOESN'T calculate streams length\n// As workaround one can calculate file size manually\n// and add it as knownLength option\nFormData.prototype.getLengthSync = function() {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  // Don't get confused, there are 3 \"internal\" streams for each keyval pair\n  // so it basically checks if there is any value added to the form\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  // https://github.com/form-data/form-data/issues/40\n  if (!this.hasKnownLength()) {\n    // Some async length retrievers are present\n    // therefore synchronous length calculation is false.\n    // Please use getLength(callback) to get proper length\n    this._error(new Error('Cannot calculate proper length in synchronous way.'));\n  }\n\n  return knownLength;\n};\n\n// Public API to check if length of added values is known\n// https://github.com/form-data/form-data/issues/196\n// https://github.com/form-data/form-data/issues/262\nFormData.prototype.hasKnownLength = function() {\n  var hasKnownLength = true;\n\n  if (this._valuesToMeasure.length) {\n    hasKnownLength = false;\n  }\n\n  return hasKnownLength;\n};\n\nFormData.prototype.getLength = function(cb) {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  if (!this._valuesToMeasure.length) {\n    process.nextTick(cb.bind(this, null, knownLength));\n    return;\n  }\n\n  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function(err, values) {\n    if (err) {\n      cb(err);\n      return;\n    }\n\n    values.forEach(function(length) {\n      knownLength += length;\n    });\n\n    cb(null, knownLength);\n  });\n};\n\nFormData.prototype.submit = function(params, cb) {\n  var request\n    , options\n    , defaults = {method: 'post'}\n    ;\n\n  // parse provided url if it's string\n  // or treat it as options object\n  if (typeof params == 'string') {\n\n    params = parseUrl(params);\n    options = populate({\n      port: params.port,\n      path: params.pathname,\n      host: params.hostname,\n      protocol: params.protocol\n    }, defaults);\n\n  // use custom params\n  } else {\n\n    options = populate(params, defaults);\n    // if no port provided use default one\n    if (!options.port) {\n      options.port = options.protocol == 'https:' ? 443 : 80;\n    }\n  }\n\n  // put that good code in getHeaders to some use\n  options.headers = this.getHeaders(params.headers);\n\n  // https if specified, fallback to http in any other case\n  if (options.protocol == 'https:') {\n    request = https.request(options);\n  } else {\n    request = http.request(options);\n  }\n\n  // get content length and fire away\n  this.getLength(function(err, length) {\n    if (err && err !== 'Unknown stream') {\n      this._error(err);\n      return;\n    }\n\n    // add content length\n    if (length) {\n      request.setHeader('Content-Length', length);\n    }\n\n    this.pipe(request);\n    if (cb) {\n      var onResponse;\n\n      var callback = function (error, responce) {\n        request.removeListener('error', callback);\n        request.removeListener('response', onResponse);\n\n        return cb.call(this, error, responce);\n      };\n\n      onResponse = callback.bind(this, null);\n\n      request.on('error', callback);\n      request.on('response', onResponse);\n    }\n  }.bind(this));\n\n  return request;\n};\n\nFormData.prototype._error = function(err) {\n  if (!this.error) {\n    this.error = err;\n    this.pause();\n    this.emit('error', err);\n  }\n};\n\nFormData.prototype.toString = function () {\n  return '[object FormData]';\n};\n", "import {\n\tAgent,\n\tClientRequest,\n\tRequestOptions,\n\tAgentCallbackCallback,\n\tAgentCallbackPromise,\n\tAgentCallbackReturn\n} from './index';\n\ntype LegacyCallback = (\n\treq: ClientRequest,\n\topts: RequestOptions,\n\tfn: AgentCallbackCallback\n) => void;\n\nexport default function promisify(fn: LegacyCallback): AgentCallbackPromise {\n\treturn function(this: Agent, req: ClientRequest, opts: RequestOptions) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tfn.call(\n\t\t\t\tthis,\n\t\t\t\treq,\n\t\t\t\topts,\n\t\t\t\t(err: Error | null | undefined, rtn?: AgentCallbackReturn) => {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(rtn);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t};\n}\n", "import net from 'net';\nimport http from 'http';\nimport https from 'https';\nimport { Duplex } from 'stream';\nimport { EventEmitter } from 'events';\nimport createDebug from 'debug';\nimport promisify from './promisify';\n\nconst debug = createDebug('agent-base');\n\nfunction isAgent(v: any): v is createAgent.AgentLike {\n\treturn Boolean(v) && typeof v.addRequest === 'function';\n}\n\nfunction isSecureEndpoint(): boolean {\n\tconst { stack } = new Error();\n\tif (typeof stack !== 'string') return false;\n\treturn stack.split('\\n').some(l => l.indexOf('(https.js:') !== -1  || l.indexOf('node:https:') !== -1);\n}\n\nfunction createAgent(opts?: createAgent.AgentOptions): createAgent.Agent;\nfunction createAgent(\n\tcallback: createAgent.AgentCallback,\n\topts?: createAgent.AgentOptions\n): createAgent.Agent;\nfunction createAgent(\n\tcallback?: createAgent.AgentCallback | createAgent.AgentOptions,\n\topts?: createAgent.AgentOptions\n) {\n\treturn new createAgent.Agent(callback, opts);\n}\n\nnamespace createAgent {\n\texport interface ClientRequest extends http.ClientRequest {\n\t\t_last?: boolean;\n\t\t_hadError?: boolean;\n\t\tmethod: string;\n\t}\n\n\texport interface AgentRequestOptions {\n\t\thost?: string;\n\t\tpath?: string;\n\t\t// `port` on `http.RequestOptions` can be a string or undefined,\n\t\t// but `net.TcpNetConnectOpts` expects only a number\n\t\tport: number;\n\t}\n\n\texport interface HttpRequestOptions\n\t\textends AgentRequestOptions,\n\t\t\tOmit<http.RequestOptions, keyof AgentRequestOptions> {\n\t\tsecureEndpoint: false;\n\t}\n\n\texport interface HttpsRequestOptions\n\t\textends AgentRequestOptions,\n\t\t\tOmit<https.RequestOptions, keyof AgentRequestOptions> {\n\t\tsecureEndpoint: true;\n\t}\n\n\texport type RequestOptions = HttpRequestOptions | HttpsRequestOptions;\n\n\texport type AgentLike = Pick<createAgent.Agent, 'addRequest'> | http.Agent;\n\n\texport type AgentCallbackReturn = Duplex | AgentLike;\n\n\texport type AgentCallbackCallback = (\n\t\terr?: Error | null,\n\t\tsocket?: createAgent.AgentCallbackReturn\n\t) => void;\n\n\texport type AgentCallbackPromise = (\n\t\treq: createAgent.ClientRequest,\n\t\topts: createAgent.RequestOptions\n\t) =>\n\t\t| createAgent.AgentCallbackReturn\n\t\t| Promise<createAgent.AgentCallbackReturn>;\n\n\texport type AgentCallback = typeof Agent.prototype.callback;\n\n\texport type AgentOptions = {\n\t\ttimeout?: number;\n\t};\n\n\t/**\n\t * Base `http.Agent` implementation.\n\t * No pooling/keep-alive is implemented by default.\n\t *\n\t * @param {Function} callback\n\t * @api public\n\t */\n\texport class Agent extends EventEmitter {\n\t\tpublic timeout: number | null;\n\t\tpublic maxFreeSockets: number;\n\t\tpublic maxTotalSockets: number;\n\t\tpublic maxSockets: number;\n\t\tpublic sockets: {\n\t\t\t[key: string]: net.Socket[];\n\t\t};\n\t\tpublic freeSockets: {\n\t\t\t[key: string]: net.Socket[];\n\t\t};\n\t\tpublic requests: {\n\t\t\t[key: string]: http.IncomingMessage[];\n\t\t};\n\t\tpublic options: https.AgentOptions;\n\t\tprivate promisifiedCallback?: createAgent.AgentCallbackPromise;\n\t\tprivate explicitDefaultPort?: number;\n\t\tprivate explicitProtocol?: string;\n\n\t\tconstructor(\n\t\t\tcallback?: createAgent.AgentCallback | createAgent.AgentOptions,\n\t\t\t_opts?: createAgent.AgentOptions\n\t\t) {\n\t\t\tsuper();\n\n\t\t\tlet opts = _opts;\n\t\t\tif (typeof callback === 'function') {\n\t\t\t\tthis.callback = callback;\n\t\t\t} else if (callback) {\n\t\t\t\topts = callback;\n\t\t\t}\n\n\t\t\t// Timeout for the socket to be returned from the callback\n\t\t\tthis.timeout = null;\n\t\t\tif (opts && typeof opts.timeout === 'number') {\n\t\t\t\tthis.timeout = opts.timeout;\n\t\t\t}\n\n\t\t\t// These aren't actually used by `agent-base`, but are required\n\t\t\t// for the TypeScript definition files in `@types/node` :/\n\t\t\tthis.maxFreeSockets = 1;\n\t\t\tthis.maxSockets = 1;\n\t\t\tthis.maxTotalSockets = Infinity;\n\t\t\tthis.sockets = {};\n\t\t\tthis.freeSockets = {};\n\t\t\tthis.requests = {};\n\t\t\tthis.options = {};\n\t\t}\n\n\t\tget defaultPort(): number {\n\t\t\tif (typeof this.explicitDefaultPort === 'number') {\n\t\t\t\treturn this.explicitDefaultPort;\n\t\t\t}\n\t\t\treturn isSecureEndpoint() ? 443 : 80;\n\t\t}\n\n\t\tset defaultPort(v: number) {\n\t\t\tthis.explicitDefaultPort = v;\n\t\t}\n\n\t\tget protocol(): string {\n\t\t\tif (typeof this.explicitProtocol === 'string') {\n\t\t\t\treturn this.explicitProtocol;\n\t\t\t}\n\t\t\treturn isSecureEndpoint() ? 'https:' : 'http:';\n\t\t}\n\n\t\tset protocol(v: string) {\n\t\t\tthis.explicitProtocol = v;\n\t\t}\n\n\t\tcallback(\n\t\t\treq: createAgent.ClientRequest,\n\t\t\topts: createAgent.RequestOptions,\n\t\t\tfn: createAgent.AgentCallbackCallback\n\t\t): void;\n\t\tcallback(\n\t\t\treq: createAgent.ClientRequest,\n\t\t\topts: createAgent.RequestOptions\n\t\t):\n\t\t\t| createAgent.AgentCallbackReturn\n\t\t\t| Promise<createAgent.AgentCallbackReturn>;\n\t\tcallback(\n\t\t\treq: createAgent.ClientRequest,\n\t\t\topts: createAgent.AgentOptions,\n\t\t\tfn?: createAgent.AgentCallbackCallback\n\t\t):\n\t\t\t| createAgent.AgentCallbackReturn\n\t\t\t| Promise<createAgent.AgentCallbackReturn>\n\t\t\t| void {\n\t\t\tthrow new Error(\n\t\t\t\t'\"agent-base\" has no default implementation, you must subclass and override `callback()`'\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * Called by node-core's \"_http_client.js\" module when creating\n\t\t * a new HTTP request with this Agent instance.\n\t\t *\n\t\t * @api public\n\t\t */\n\t\taddRequest(req: ClientRequest, _opts: RequestOptions): void {\n\t\t\tconst opts: RequestOptions = { ..._opts };\n\n\t\t\tif (typeof opts.secureEndpoint !== 'boolean') {\n\t\t\t\topts.secureEndpoint = isSecureEndpoint();\n\t\t\t}\n\n\t\t\tif (opts.host == null) {\n\t\t\t\topts.host = 'localhost';\n\t\t\t}\n\n\t\t\tif (opts.port == null) {\n\t\t\t\topts.port = opts.secureEndpoint ? 443 : 80;\n\t\t\t}\n\n\t\t\tif (opts.protocol == null) {\n\t\t\t\topts.protocol = opts.secureEndpoint ? 'https:' : 'http:';\n\t\t\t}\n\n\t\t\tif (opts.host && opts.path) {\n\t\t\t\t// If both a `host` and `path` are specified then it's most\n\t\t\t\t// likely the result of a `url.parse()` call... we need to\n\t\t\t\t// remove the `path` portion so that `net.connect()` doesn't\n\t\t\t\t// attempt to open that as a unix socket file.\n\t\t\t\tdelete opts.path;\n\t\t\t}\n\n\t\t\tdelete opts.agent;\n\t\t\tdelete opts.hostname;\n\t\t\tdelete opts._defaultAgent;\n\t\t\tdelete opts.defaultPort;\n\t\t\tdelete opts.createConnection;\n\n\t\t\t// Hint to use \"Connection: close\"\n\t\t\t// XXX: non-documented `http` module API :(\n\t\t\treq._last = true;\n\t\t\treq.shouldKeepAlive = false;\n\n\t\t\tlet timedOut = false;\n\t\t\tlet timeoutId: ReturnType<typeof setTimeout> | null = null;\n\t\t\tconst timeoutMs = opts.timeout || this.timeout;\n\n\t\t\tconst onerror = (err: NodeJS.ErrnoException) => {\n\t\t\t\tif (req._hadError) return;\n\t\t\t\treq.emit('error', err);\n\t\t\t\t// For Safety. Some additional errors might fire later on\n\t\t\t\t// and we need to make sure we don't double-fire the error event.\n\t\t\t\treq._hadError = true;\n\t\t\t};\n\n\t\t\tconst ontimeout = () => {\n\t\t\t\ttimeoutId = null;\n\t\t\t\ttimedOut = true;\n\t\t\t\tconst err: NodeJS.ErrnoException = new Error(\n\t\t\t\t\t`A \"socket\" was not created for HTTP request before ${timeoutMs}ms`\n\t\t\t\t);\n\t\t\t\terr.code = 'ETIMEOUT';\n\t\t\t\tonerror(err);\n\t\t\t};\n\n\t\t\tconst callbackError = (err: NodeJS.ErrnoException) => {\n\t\t\t\tif (timedOut) return;\n\t\t\t\tif (timeoutId !== null) {\n\t\t\t\t\tclearTimeout(timeoutId);\n\t\t\t\t\ttimeoutId = null;\n\t\t\t\t}\n\t\t\t\tonerror(err);\n\t\t\t};\n\n\t\t\tconst onsocket = (socket: AgentCallbackReturn) => {\n\t\t\t\tif (timedOut) return;\n\t\t\t\tif (timeoutId != null) {\n\t\t\t\t\tclearTimeout(timeoutId);\n\t\t\t\t\ttimeoutId = null;\n\t\t\t\t}\n\n\t\t\t\tif (isAgent(socket)) {\n\t\t\t\t\t// `socket` is actually an `http.Agent` instance, so\n\t\t\t\t\t// relinquish responsibility for this `req` to the Agent\n\t\t\t\t\t// from here on\n\t\t\t\t\tdebug(\n\t\t\t\t\t\t'Callback returned another Agent instance %o',\n\t\t\t\t\t\tsocket.constructor.name\n\t\t\t\t\t);\n\t\t\t\t\t(socket as createAgent.Agent).addRequest(req, opts);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (socket) {\n\t\t\t\t\tsocket.once('free', () => {\n\t\t\t\t\t\tthis.freeSocket(socket as net.Socket, opts);\n\t\t\t\t\t});\n\t\t\t\t\treq.onSocket(socket as net.Socket);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst err = new Error(\n\t\t\t\t\t`no Duplex stream was returned to agent-base for \\`${req.method} ${req.path}\\``\n\t\t\t\t);\n\t\t\t\tonerror(err);\n\t\t\t};\n\n\t\t\tif (typeof this.callback !== 'function') {\n\t\t\t\tonerror(new Error('`callback` is not defined'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this.promisifiedCallback) {\n\t\t\t\tif (this.callback.length >= 3) {\n\t\t\t\t\tdebug('Converting legacy callback function to promise');\n\t\t\t\t\tthis.promisifiedCallback = promisify(this.callback);\n\t\t\t\t} else {\n\t\t\t\t\tthis.promisifiedCallback = this.callback;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof timeoutMs === 'number' && timeoutMs > 0) {\n\t\t\t\ttimeoutId = setTimeout(ontimeout, timeoutMs);\n\t\t\t}\n\n\t\t\tif ('port' in opts && typeof opts.port !== 'number') {\n\t\t\t\topts.port = Number(opts.port);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tdebug(\n\t\t\t\t\t'Resolving socket for %o request: %o',\n\t\t\t\t\topts.protocol,\n\t\t\t\t\t`${req.method} ${req.path}`\n\t\t\t\t);\n\t\t\t\tPromise.resolve(this.promisifiedCallback(req, opts)).then(\n\t\t\t\t\tonsocket,\n\t\t\t\t\tcallbackError\n\t\t\t\t);\n\t\t\t} catch (err) {\n\t\t\t\tPromise.reject(err).catch(callbackError);\n\t\t\t}\n\t\t}\n\n\t\tfreeSocket(socket: net.Socket, opts: AgentOptions) {\n\t\t\tdebug('Freeing socket %o %o', socket.constructor.name, opts);\n\t\t\tsocket.destroy();\n\t\t}\n\n\t\tdestroy() {\n\t\t\tdebug('Destroying agent %o', this.constructor.name);\n\t\t}\n\t}\n\n\t// So that `instanceof` works correctly\n\tcreateAgent.prototype = createAgent.Agent.prototype;\n}\n\nexport = createAgent;\n", null, null, null, null, null, null, "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { TracingContext, TracingSpan } from \"./interfaces\";\n\n/** @internal */\nexport const knownContextKeys = {\n  span: Symbol.for(\"@azure/core-tracing span\"),\n  namespace: Symbol.for(\"@azure/core-tracing namespace\"),\n};\n\n/**\n * Creates a new {@link TracingContext} with the given options.\n * @param options - A set of known keys that may be set on the context.\n * @returns A new {@link TracingContext} with the given options.\n *\n * @internal\n */\nexport function createTracingContext(options: CreateTracingContextOptions = {}): TracingContext {\n  let context: TracingContext = new TracingContextImpl(options.parentContext);\n  if (options.span) {\n    context = context.setValue(knownContextKeys.span, options.span);\n  }\n  if (options.namespace) {\n    context = context.setValue(knownContextKeys.namespace, options.namespace);\n  }\n  return context;\n}\n\n/** @internal */\nexport class TracingContextImpl implements TracingContext {\n  private _contextMap: Map<symbol, unknown>;\n  constructor(initialContext?: TracingContext) {\n    this._contextMap =\n      initialContext instanceof TracingContextImpl\n        ? new Map<symbol, unknown>(initialContext._contextMap)\n        : new Map();\n  }\n\n  setValue(key: symbol, value: unknown): TracingContext {\n    const newContext = new TracingContextImpl(this);\n    newContext._contextMap.set(key, value);\n    return newContext;\n  }\n\n  getValue(key: symbol): unknown {\n    return this._contextMap.get(key);\n  }\n\n  deleteValue(key: symbol): TracingContext {\n    const newContext = new TracingContextImpl(this);\n    newContext._contextMap.delete(key);\n    return newContext;\n  }\n}\n\n/**\n * Represents a set of items that can be set when creating a new {@link TracingContext}.\n */\nexport interface CreateTracingContextOptions {\n  /** The {@link parentContext} - the newly created context will contain all the values of the parent context unless overridden. */\n  parentContext?: TracingContext;\n  /** An initial span to set on the context. */\n  span?: TracingSpan;\n  /** The namespace to set on any child spans. */\n  namespace?: string;\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { Instrumenter, InstrumenterSpanOptions, TracingContext, TracingSpan } from \"./interfaces\";\nimport { createTracingContext } from \"./tracingContext\";\n\nexport function createDefaultTracingSpan(): TracingSpan {\n  return {\n    end: () => {\n      // noop\n    },\n    isRecording: () => false,\n    recordException: () => {\n      // noop\n    },\n    setAttribute: () => {\n      // noop\n    },\n    setStatus: () => {\n      // noop\n    },\n  };\n}\n\nexport function createDefaultInstrumenter(): Instrumenter {\n  return {\n    createRequestHeaders: (): Record<string, string> => {\n      return {};\n    },\n    parseTraceparentHeader: (): TracingContext | undefined => {\n      return undefined;\n    },\n    startSpan: (\n      _name: string,\n      spanOptions: InstrumenterSpanOptions\n    ): { span: TracingSpan; tracingContext: TracingContext } => {\n      return {\n        span: createDefaultTracingSpan(),\n        tracingContext: createTracingContext({ parentContext: spanOptions.tracingContext }),\n      };\n    },\n    withContext<\n      CallbackArgs extends unknown[],\n      Callback extends (...args: CallbackArgs) => ReturnType<Callback>\n    >(\n      _context: TracingContext,\n      callback: Callback,\n      ...callbackArgs: CallbackArgs\n    ): ReturnType<Callback> {\n      return callback(...callbackArgs);\n    },\n  };\n}\n\n/** @internal */\nlet instrumenterImplementation: Instrumenter | undefined;\n\n/**\n * Extends the Azure SDK with support for a given instrumenter implementation.\n *\n * @param instrumenter - The instrumenter implementation to use.\n */\nexport function useInstrumenter(instrumenter: Instrumenter): void {\n  instrumenterImplementation = instrumenter;\n}\n\n/**\n * Gets the currently set instrumenter, a No-Op instrumenter by default.\n *\n * @returns The currently set instrumenter\n */\nexport function getInstrumenter(): Instrumenter {\n  if (!instrumenterImplementation) {\n    instrumenterImplementation = createDefaultInstrumenter();\n  }\n  return instrumenterImplementation;\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport {\n  OperationTracingOptions,\n  OptionsWithTracingContext,\n  Resolved,\n  TracingClient,\n  TracingClientOptions,\n  TracingContext,\n  TracingSpan,\n  TracingSpanOptions,\n} from \"./interfaces\";\nimport { getInstrumenter } from \"./instrumenter\";\nimport { knownContextKeys } from \"./tracingContext\";\n\n/**\n * Creates a new tracing client.\n *\n * @param options - Options used to configure the tracing client.\n * @returns - An instance of {@link TracingClient}.\n */\nexport function createTracingClient(options: TracingClientOptions): TracingClient {\n  const { namespace, packageName, packageVersion } = options;\n\n  function startSpan<Options extends { tracingOptions?: OperationTracingOptions }>(\n    name: string,\n    operationOptions?: Options,\n    spanOptions?: TracingSpanOptions\n  ): {\n    span: TracingSpan;\n    updatedOptions: OptionsWithTracingContext<Options>;\n  } {\n    const startSpanResult = getInstrumenter().startSpan(name, {\n      ...spanOptions,\n      packageName: packageName,\n      packageVersion: packageVersion,\n      tracingContext: operationOptions?.tracingOptions?.tracingContext,\n    });\n    let tracingContext = startSpanResult.tracingContext;\n    const span = startSpanResult.span;\n    if (!tracingContext.getValue(knownContextKeys.namespace)) {\n      tracingContext = tracingContext.setValue(knownContextKeys.namespace, namespace);\n    }\n    span.setAttribute(\"az.namespace\", tracingContext.getValue(knownContextKeys.namespace));\n    const updatedOptions: OptionsWithTracingContext<Options> = Object.assign({}, operationOptions, {\n      tracingOptions: { ...operationOptions?.tracingOptions, tracingContext },\n    });\n\n    return {\n      span,\n      updatedOptions,\n    };\n  }\n\n  async function withSpan<\n    Options extends { tracingOptions?: OperationTracingOptions },\n    Callback extends (\n      updatedOptions: Options,\n      span: Omit<TracingSpan, \"end\">\n    ) => ReturnType<Callback>\n  >(\n    name: string,\n    operationOptions: Options,\n    callback: Callback,\n    spanOptions?: TracingSpanOptions\n  ): Promise<Resolved<ReturnType<Callback>>> {\n    const { span, updatedOptions } = startSpan(name, operationOptions, spanOptions);\n    try {\n      const result = await withContext(updatedOptions.tracingOptions.tracingContext, () =>\n        Promise.resolve(callback(updatedOptions, span))\n      );\n      span.setStatus({ status: \"success\" });\n      return result as ReturnType<typeof withSpan>;\n    } catch (err: any) {\n      span.setStatus({ status: \"error\", error: err });\n      throw err;\n    } finally {\n      span.end();\n    }\n  }\n\n  function withContext<\n    CallbackArgs extends unknown[],\n    Callback extends (...args: CallbackArgs) => ReturnType<Callback>\n  >(\n    context: TracingContext,\n    callback: Callback,\n    ...callbackArgs: CallbackArgs\n  ): ReturnType<Callback> {\n    return getInstrumenter().withContext(context, callback, ...callbackArgs);\n  }\n\n  /**\n   * Parses a traceparent header value into a span identifier.\n   *\n   * @param traceparentHeader - The traceparent header to parse.\n   * @returns An implementation-specific identifier for the span.\n   */\n  function parseTraceparentHeader(traceparentHeader: string): TracingContext | undefined {\n    return getInstrumenter().parseTraceparentHeader(traceparentHeader);\n  }\n\n  /**\n   * Creates a set of request headers to propagate tracing information to a backend.\n   *\n   * @param tracingContext - The context containing the span to serialize.\n   * @returns The set of headers to add to a request.\n   */\n  function createRequestHeaders(tracingContext?: TracingContext): Record<string, string> {\n    return getInstrumenter().createRequestHeaders(tracingContext);\n  }\n\n  return {\n    startSpan,\n    withSpan,\n    withContext,\n    parseTraceparentHeader,\n    createRequestHeaders,\n  };\n}\n", "import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}", "export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;", "import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;", "import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  const uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;", "import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;", "import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;", "import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport const DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport const URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}", "import crypto from 'crypto';\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('md5').update(bytes).digest();\n}\n\nexport default md5;", "import v35 from './v35.js';\nimport md5 from './md5.js';\nconst v3 = v35('v3', 0x30, md5);\nexport default v3;", "import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;", "import crypto from 'crypto';\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('sha1').update(bytes).digest();\n}\n\nexport default sha1;", "import v35 from './v35.js';\nimport sha1 from './sha1.js';\nconst v5 = v35('v5', 0x50, sha1);\nexport default v5;", "export default '00000000-0000-0000-0000-000000000000';", "import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;", "export { default as v1 } from './v1.js';\nexport { default as v3 } from './v3.js';\nexport { default as v4 } from './v4.js';\nexport { default as v5 } from './v5.js';\nexport { default as NIL } from './nil.js';\nexport { default as version } from './version.js';\nexport { default as validate } from './validate.js';\nexport { default as stringify } from './stringify.js';\nexport { default as parse } from './parse.js';", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { HttpClient, PipelineRequest, PipelineResponse, SendRequest } from \"./interfaces\";\n\n/**\n * Policies are executed in phases.\n * The execution order is:\n * 1. Serialize Phase\n * 2. Policies not in a phase\n * 3. Deserialize Phase\n * 4. Retry Phase\n * 5. Sign Phase\n */\nexport type PipelinePhase = \"Deserialize\" | \"Serialize\" | \"Retry\" | \"Sign\";\n\nconst ValidPhaseNames = new Set<PipelinePhase>([\"Deserialize\", \"Serialize\", \"Retry\", \"Sign\"]);\n\n/**\n * Options when adding a policy to the pipeline.\n * Used to express dependencies on other policies.\n */\nexport interface AddPolicyOptions {\n  /**\n   * Policies that this policy must come before.\n   */\n  beforePolicies?: string[];\n  /**\n   * Policies that this policy must come after.\n   */\n  afterPolicies?: string[];\n  /**\n   * The phase that this policy must come after.\n   */\n  afterPhase?: PipelinePhase;\n  /**\n   * The phase this policy belongs to.\n   */\n  phase?: PipelinePhase;\n}\n\n/**\n * A pipeline policy manipulates a request as it travels through the pipeline.\n * It is conceptually a middleware that is allowed to modify the request before\n * it is made as well as the response when it is received.\n */\nexport interface PipelinePolicy {\n  /**\n   * The policy name. Must be a unique string in the pipeline.\n   */\n  name: string;\n  /**\n   * The main method to implement that manipulates a request/response.\n   * @param request - The request being performed.\n   * @param next - The next policy in the pipeline. Must be called to continue the pipeline.\n   */\n  sendRequest(request: PipelineRequest, next: SendRequest): Promise<PipelineResponse>;\n}\n\n/**\n * Represents a pipeline for making a HTTP request to a URL.\n * Pipelines can have multiple policies to manage manipulating each request\n * before and after it is made to the server.\n */\nexport interface Pipeline {\n  /**\n   * Add a new policy to the pipeline.\n   * @param policy - A policy that manipulates a request.\n   * @param options - A set of options for when the policy should run.\n   */\n  addPolicy(policy: PipelinePolicy, options?: AddPolicyOptions): void;\n  /**\n   * Remove a policy from the pipeline.\n   * @param options - Options that let you specify which policies to remove.\n   */\n  removePolicy(options: { name?: string; phase?: PipelinePhase }): PipelinePolicy[];\n  /**\n   * Uses the pipeline to make a HTTP request.\n   * @param httpClient - The HttpClient that actually performs the request.\n   * @param request - The request to be made.\n   */\n  sendRequest(httpClient: HttpClient, request: PipelineRequest): Promise<PipelineResponse>;\n  /**\n   * Returns the current set of policies in the pipeline in the order in which\n   * they will be applied to the request. Later in the list is closer to when\n   * the request is performed.\n   */\n  getOrderedPolicies(): PipelinePolicy[];\n  /**\n   * Duplicates this pipeline to allow for modifying an existing one without mutating it.\n   */\n  clone(): Pipeline;\n}\n\ninterface PipelineDescriptor {\n  policy: PipelinePolicy;\n  options: AddPolicyOptions;\n}\n\ninterface PolicyGraphNode {\n  policy: PipelinePolicy;\n  dependsOn: Set<PolicyGraphNode>;\n  dependants: Set<PolicyGraphNode>;\n  afterPhase?: Phase;\n}\n\ninterface Phase {\n  name: PipelinePhase | \"None\";\n  policies: Set<PolicyGraphNode>;\n  hasRun: boolean;\n  hasAfterPolicies: boolean;\n}\n\n/**\n * A private implementation of Pipeline.\n * Do not export this class from the package.\n * @internal\n */\nclass HttpPipeline implements Pipeline {\n  private _policies: PipelineDescriptor[] = [];\n  private _orderedPolicies?: PipelinePolicy[];\n\n  private constructor(policies?: PipelineDescriptor[]) {\n    this._policies = policies?.slice(0) ?? [];\n    this._orderedPolicies = undefined;\n  }\n\n  public addPolicy(policy: PipelinePolicy, options: AddPolicyOptions = {}): void {\n    if (options.phase && options.afterPhase) {\n      throw new Error(\"Policies inside a phase cannot specify afterPhase.\");\n    }\n    if (options.phase && !ValidPhaseNames.has(options.phase)) {\n      throw new Error(`Invalid phase name: ${options.phase}`);\n    }\n    if (options.afterPhase && !ValidPhaseNames.has(options.afterPhase)) {\n      throw new Error(`Invalid afterPhase name: ${options.afterPhase}`);\n    }\n    this._policies.push({\n      policy,\n      options,\n    });\n    this._orderedPolicies = undefined;\n  }\n\n  public removePolicy(options: { name?: string; phase?: string }): PipelinePolicy[] {\n    const removedPolicies: PipelinePolicy[] = [];\n\n    this._policies = this._policies.filter((policyDescriptor) => {\n      if (\n        (options.name && policyDescriptor.policy.name === options.name) ||\n        (options.phase && policyDescriptor.options.phase === options.phase)\n      ) {\n        removedPolicies.push(policyDescriptor.policy);\n        return false;\n      } else {\n        return true;\n      }\n    });\n    this._orderedPolicies = undefined;\n\n    return removedPolicies;\n  }\n\n  public sendRequest(httpClient: HttpClient, request: PipelineRequest): Promise<PipelineResponse> {\n    const policies = this.getOrderedPolicies();\n\n    const pipeline = policies.reduceRight<SendRequest>(\n      (next, policy) => {\n        return (req: PipelineRequest) => {\n          return policy.sendRequest(req, next);\n        };\n      },\n      (req: PipelineRequest) => httpClient.sendRequest(req)\n    );\n\n    return pipeline(request);\n  }\n\n  public getOrderedPolicies(): PipelinePolicy[] {\n    if (!this._orderedPolicies) {\n      this._orderedPolicies = this.orderPolicies();\n    }\n    return this._orderedPolicies;\n  }\n\n  public clone(): Pipeline {\n    return new HttpPipeline(this._policies);\n  }\n\n  public static create(): Pipeline {\n    return new HttpPipeline();\n  }\n\n  private orderPolicies(): PipelinePolicy[] {\n    /**\n     * The goal of this method is to reliably order pipeline policies\n     * based on their declared requirements when they were added.\n     *\n     * Order is first determined by phase:\n     *\n     * 1. Serialize Phase\n     * 2. Policies not in a phase\n     * 3. Deserialize Phase\n     * 4. Retry Phase\n     * 5. Sign Phase\n     *\n     * Within each phase, policies are executed in the order\n     * they were added unless they were specified to execute\n     * before/after other policies or after a particular phase.\n     *\n     * To determine the final order, we will walk the policy list\n     * in phase order multiple times until all dependencies are\n     * satisfied.\n     *\n     * `afterPolicies` are the set of policies that must be\n     * executed before a given policy. This requirement is\n     * considered satisfied when each of the listed policies\n     * have been scheduled.\n     *\n     * `beforePolicies` are the set of policies that must be\n     * executed after a given policy. Since this dependency\n     * can be expressed by converting it into a equivalent\n     * `afterPolicies` declarations, they are normalized\n     * into that form for simplicity.\n     *\n     * An `afterPhase` dependency is considered satisfied when all\n     * policies in that phase have scheduled.\n     *\n     */\n    const result: PipelinePolicy[] = [];\n\n    // Track all policies we know about.\n    const policyMap: Map<string, PolicyGraphNode> = new Map<string, PolicyGraphNode>();\n\n    function createPhase(name: PipelinePhase | \"None\"): Phase {\n      return {\n        name,\n        policies: new Set<PolicyGraphNode>(),\n        hasRun: false,\n        hasAfterPolicies: false,\n      };\n    }\n\n    // Track policies for each phase.\n    const serializePhase = createPhase(\"Serialize\");\n    const noPhase = createPhase(\"None\");\n    const deserializePhase = createPhase(\"Deserialize\");\n    const retryPhase = createPhase(\"Retry\");\n    const signPhase = createPhase(\"Sign\");\n\n    // a list of phases in order\n    const orderedPhases = [serializePhase, noPhase, deserializePhase, retryPhase, signPhase];\n\n    // Small helper function to map phase name to each Phase\n    function getPhase(phase: PipelinePhase | undefined): Phase {\n      if (phase === \"Retry\") {\n        return retryPhase;\n      } else if (phase === \"Serialize\") {\n        return serializePhase;\n      } else if (phase === \"Deserialize\") {\n        return deserializePhase;\n      } else if (phase === \"Sign\") {\n        return signPhase;\n      } else {\n        return noPhase;\n      }\n    }\n\n    // First walk each policy and create a node to track metadata.\n    for (const descriptor of this._policies) {\n      const policy = descriptor.policy;\n      const options = descriptor.options;\n      const policyName = policy.name;\n      if (policyMap.has(policyName)) {\n        throw new Error(\"Duplicate policy names not allowed in pipeline\");\n      }\n      const node: PolicyGraphNode = {\n        policy,\n        dependsOn: new Set<PolicyGraphNode>(),\n        dependants: new Set<PolicyGraphNode>(),\n      };\n      if (options.afterPhase) {\n        node.afterPhase = getPhase(options.afterPhase);\n        node.afterPhase.hasAfterPolicies = true;\n      }\n      policyMap.set(policyName, node);\n      const phase = getPhase(options.phase);\n      phase.policies.add(node);\n    }\n\n    // Now that each policy has a node, connect dependency references.\n    for (const descriptor of this._policies) {\n      const { policy, options } = descriptor;\n      const policyName = policy.name;\n      const node = policyMap.get(policyName);\n      if (!node) {\n        throw new Error(`Missing node for policy ${policyName}`);\n      }\n\n      if (options.afterPolicies) {\n        for (const afterPolicyName of options.afterPolicies) {\n          const afterNode = policyMap.get(afterPolicyName);\n          if (afterNode) {\n            // Linking in both directions helps later\n            // when we want to notify dependants.\n            node.dependsOn.add(afterNode);\n            afterNode.dependants.add(node);\n          }\n        }\n      }\n      if (options.beforePolicies) {\n        for (const beforePolicyName of options.beforePolicies) {\n          const beforeNode = policyMap.get(beforePolicyName);\n          if (beforeNode) {\n            // To execute before another node, make it\n            // depend on the current node.\n            beforeNode.dependsOn.add(node);\n            node.dependants.add(beforeNode);\n          }\n        }\n      }\n    }\n\n    function walkPhase(phase: Phase): void {\n      phase.hasRun = true;\n      // Sets iterate in insertion order\n      for (const node of phase.policies) {\n        if (node.afterPhase && (!node.afterPhase.hasRun || node.afterPhase.policies.size)) {\n          // If this node is waiting on a phase to complete,\n          // we need to skip it for now.\n          // Even if the phase is empty, we should wait for it\n          // to be walked to avoid re-ordering policies.\n          continue;\n        }\n        if (node.dependsOn.size === 0) {\n          // If there's nothing else we're waiting for, we can\n          // add this policy to the result list.\n          result.push(node.policy);\n          // Notify anything that depends on this policy that\n          // the policy has been scheduled.\n          for (const dependant of node.dependants) {\n            dependant.dependsOn.delete(node);\n          }\n          policyMap.delete(node.policy.name);\n          phase.policies.delete(node);\n        }\n      }\n    }\n\n    function walkPhases(): void {\n      for (const phase of orderedPhases) {\n        walkPhase(phase);\n        // if the phase isn't complete\n        if (phase.policies.size > 0 && phase !== noPhase) {\n          if (!noPhase.hasRun) {\n            // Try running noPhase to see if that unblocks this phase next tick.\n            // This can happen if a phase that happens before noPhase\n            // is waiting on a noPhase policy to complete.\n            walkPhase(noPhase);\n          }\n          // Don't proceed to the next phase until this phase finishes.\n          return;\n        }\n\n        if (phase.hasAfterPolicies) {\n          // Run any policies unblocked by this phase\n          walkPhase(noPhase);\n        }\n      }\n    }\n\n    // Iterate until we've put every node in the result list.\n    let iteration = 0;\n    while (policyMap.size > 0) {\n      iteration++;\n      const initialResultLength = result.length;\n      // Keep walking each phase in order until we can order every node.\n      walkPhases();\n      // The result list *should* get at least one larger each time\n      // after the first full pass.\n      // Otherwise, we're going to loop forever.\n      if (result.length <= initialResultLength && iteration > 1) {\n        throw new Error(\"Cannot satisfy policy dependencies due to requirements cycle.\");\n      }\n    }\n\n    return result;\n  }\n}\n\n/**\n * Creates a totally empty pipeline.\n * Useful for testing or creating a custom one.\n */\nexport function createEmptyPipeline(): Pipeline {\n  return HttpPipeline.create();\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { createClientLogger } from \"@azure/logger\";\nexport const logger = createClientLogger(\"core-rest-pipeline\");\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { UnknownObject, isObject } from \"@azure/core-util\";\n\n/**\n * @internal\n */\nexport interface SanitizerOptions {\n  /**\n   * Header names whose values will be logged when logging is enabled.\n   * Defaults include a list of well-known safe headers. Any headers\n   * specified in this field will be added to that list.  Any other values will\n   * be written to logs as \"REDACTED\".\n   */\n  additionalAllowedHeaderNames?: string[];\n\n  /**\n   * Query string names whose values will be logged when logging is enabled. By default no\n   * query string values are logged.\n   */\n  additionalAllowedQueryParameters?: string[];\n}\n\nconst RedactedString = \"REDACTED\";\n\n// Make sure this list is up-to-date with the one under core/logger/Readme#Keyconcepts\nconst defaultAllowedHeaderNames = [\n  \"x-ms-client-request-id\",\n  \"x-ms-return-client-request-id\",\n  \"x-ms-useragent\",\n  \"x-ms-correlation-request-id\",\n  \"x-ms-request-id\",\n  \"client-request-id\",\n  \"ms-cv\",\n  \"return-client-request-id\",\n  \"traceparent\",\n\n  \"Access-Control-Allow-Credentials\",\n  \"Access-Control-Allow-Headers\",\n  \"Access-Control-Allow-Methods\",\n  \"Access-Control-Allow-Origin\",\n  \"Access-Control-Expose-Headers\",\n  \"Access-Control-Max-Age\",\n  \"Access-Control-Request-Headers\",\n  \"Access-Control-Request-Method\",\n  \"Origin\",\n\n  \"Accept\",\n  \"Accept-Encoding\",\n  \"Cache-Control\",\n  \"Connection\",\n  \"Content-Length\",\n  \"Content-Type\",\n  \"Date\",\n  \"ETag\",\n  \"Expires\",\n  \"If-Match\",\n  \"If-Modified-Since\",\n  \"If-None-Match\",\n  \"If-Unmodified-Since\",\n  \"Last-Modified\",\n  \"Pragma\",\n  \"Request-Id\",\n  \"Retry-After\",\n  \"Server\",\n  \"Transfer-Encoding\",\n  \"User-Agent\",\n  \"WWW-Authenticate\",\n];\n\nconst defaultAllowedQueryParameters: string[] = [\"api-version\"];\n\n/**\n * @internal\n */\nexport class Sanitizer {\n  private allowedHeaderNames: Set<string>;\n  private allowedQueryParameters: Set<string>;\n\n  constructor({\n    additionalAllowedHeaderNames: allowedHeaderNames = [],\n    additionalAllowedQueryParameters: allowedQueryParameters = [],\n  }: SanitizerOptions = {}) {\n    allowedHeaderNames = defaultAllowedHeaderNames.concat(allowedHeaderNames);\n    allowedQueryParameters = defaultAllowedQueryParameters.concat(allowedQueryParameters);\n\n    this.allowedHeaderNames = new Set(allowedHeaderNames.map((n) => n.toLowerCase()));\n    this.allowedQueryParameters = new Set(allowedQueryParameters.map((p) => p.toLowerCase()));\n  }\n\n  public sanitize(obj: unknown): string {\n    const seen = new Set<unknown>();\n    return JSON.stringify(\n      obj,\n      (key: string, value: unknown) => {\n        // Ensure Errors include their interesting non-enumerable members\n        if (value instanceof Error) {\n          return {\n            ...value,\n            name: value.name,\n            message: value.message,\n          };\n        }\n\n        if (key === \"headers\") {\n          return this.sanitizeHeaders(value as UnknownObject);\n        } else if (key === \"url\") {\n          return this.sanitizeUrl(value as string);\n        } else if (key === \"query\") {\n          return this.sanitizeQuery(value as UnknownObject);\n        } else if (key === \"body\") {\n          // Don't log the request body\n          return undefined;\n        } else if (key === \"response\") {\n          // Don't log response again\n          return undefined;\n        } else if (key === \"operationSpec\") {\n          // When using sendOperationRequest, the request carries a massive\n          // field with the autorest spec. No need to log it.\n          return undefined;\n        } else if (Array.isArray(value) || isObject(value)) {\n          if (seen.has(value)) {\n            return \"[Circular]\";\n          }\n          seen.add(value);\n        }\n\n        return value;\n      },\n      2\n    );\n  }\n\n  private sanitizeHeaders(obj: UnknownObject): UnknownObject {\n    const sanitized: UnknownObject = {};\n    for (const key of Object.keys(obj)) {\n      if (this.allowedHeaderNames.has(key.toLowerCase())) {\n        sanitized[key] = obj[key];\n      } else {\n        sanitized[key] = RedactedString;\n      }\n    }\n    return sanitized;\n  }\n\n  private sanitizeQuery(value: UnknownObject): UnknownObject {\n    if (typeof value !== \"object\" || value === null) {\n      return value;\n    }\n\n    const sanitized: UnknownObject = {};\n\n    for (const k of Object.keys(value)) {\n      if (this.allowedQueryParameters.has(k.toLowerCase())) {\n        sanitized[k] = value[k];\n      } else {\n        sanitized[k] = RedactedString;\n      }\n    }\n\n    return sanitized;\n  }\n\n  private sanitizeUrl(value: string): string {\n    if (typeof value !== \"string\" || value === null) {\n      return value;\n    }\n\n    const url = new URL(value);\n\n    if (!url.search) {\n      return value;\n    }\n\n    for (const [key] of url.searchParams) {\n      if (!this.allowedQueryParameters.has(key.toLowerCase())) {\n        url.searchParams.set(key, RedactedString);\n      }\n    }\n\n    return url.toString();\n  }\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { Debugger } from \"@azure/logger\";\nimport { PipelineRequest, PipelineResponse, SendRequest } from \"../interfaces\";\nimport { PipelinePolicy } from \"../pipeline\";\nimport { logger as coreLogger } from \"../log\";\nimport { Sanitizer } from \"../util/sanitizer\";\n\n/**\n * The programmatic identifier of the logPolicy.\n */\nexport const logPolicyName = \"logPolicy\";\n\n/**\n * Options to configure the logPolicy.\n */\nexport interface LogPolicyOptions {\n  /**\n   * Header names whose values will be logged when logging is enabled.\n   * Defaults include a list of well-known safe headers. Any headers\n   * specified in this field will be added to that list.  Any other values will\n   * be written to logs as \"REDACTED\".\n   */\n  additionalAllowedHeaderNames?: string[];\n\n  /**\n   * Query string names whose values will be logged when logging is enabled. By default no\n   * query string values are logged.\n   */\n  additionalAllowedQueryParameters?: string[];\n\n  /**\n   * The log function to use for writing pipeline logs.\n   * Defaults to core-http's built-in logger.\n   * Compatible with the `debug` library.\n   */\n  logger?: Debugger;\n}\n\n/**\n * A policy that logs all requests and responses.\n * @param options - Options to configure logPolicy.\n */\nexport function logPolicy(options: LogPolicyOptions = {}): PipelinePolicy {\n  const logger = options.logger ?? coreLogger.info;\n  const sanitizer = new Sanitizer({\n    additionalAllowedHeaderNames: options.additionalAllowedHeaderNames,\n    additionalAllowedQueryParameters: options.additionalAllowedQueryParameters,\n  });\n  return {\n    name: logPolicyName,\n    async sendRequest(request: PipelineRequest, next: SendRequest): Promise<PipelineResponse> {\n      if (!logger.enabled) {\n        return next(request);\n      }\n\n      logger(`Request: ${sanitizer.sanitize(request)}`);\n\n      const response = await next(request);\n\n      logger(`Response status code: ${response.status}`);\n      logger(`Headers: ${sanitizer.sanitize(response.headers)}`);\n\n      return response;\n    },\n  };\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { PipelineRequest, PipelineResponse, SendRequest } from \"../interfaces\";\nimport { PipelinePolicy } from \"../pipeline\";\n\n/**\n * The programmatic identifier of the redirectPolicy.\n */\nexport const redirectPolicyName = \"redirectPolicy\";\n\n/**\n * Methods that are allowed to follow redirects 301 and 302\n */\nconst allowedRedirect = [\"GET\", \"HEAD\"];\n\n/**\n * Options for how redirect responses are handled.\n */\nexport interface RedirectPolicyOptions {\n  /**\n   * The maximum number of times the redirect URL will be tried before\n   * failing.  Defaults to 20.\n   */\n  maxRetries?: number;\n}\n\n/**\n * A policy to follow Location headers from the server in order\n * to support server-side redirection.\n * In the browser, this policy is not used.\n * @param options - Options to control policy behavior.\n */\nexport function redirectPolicy(options: RedirectPolicyOptions = {}): PipelinePolicy {\n  const { maxRetries = 20 } = options;\n  return {\n    name: redirectPolicyName,\n    async sendRequest(request: PipelineRequest, next: SendRequest): Promise<PipelineResponse> {\n      const response = await next(request);\n      return handleRedirect(next, response, maxRetries);\n    },\n  };\n}\n\nasync function handleRedirect(\n  next: SendRequest,\n  response: PipelineResponse,\n  maxRetries: number,\n  currentRetries: number = 0\n): Promise<PipelineResponse> {\n  const { request, status, headers } = response;\n  const locationHeader = headers.get(\"location\");\n  if (\n    locationHeader &&\n    (status === 300 ||\n      (status === 301 && allowedRedirect.includes(request.method)) ||\n      (status === 302 && allowedRedirect.includes(request.method)) ||\n      (status === 303 && request.method === \"POST\") ||\n      status === 307) &&\n    currentRetries < maxRetries\n  ) {\n    const url = new URL(locationHeader, request.url);\n    request.url = url.toString();\n\n    // POST request with Status code 303 should be converted into a\n    // redirected GET request if the redirect url is present in the location header\n    if (status === 303) {\n      request.method = \"GET\";\n      request.headers.delete(\"Content-Length\");\n      delete request.body;\n    }\n\n    request.headers.delete(\"Authorization\");\n\n    const res = await next(request);\n    return handleRedirect(next, res, maxRetries, currentRetries + 1);\n  }\n\n  return response;\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport * as os from \"os\";\n\n/**\n * @internal\n */\nexport function getHeaderName(): string {\n  return \"User-Agent\";\n}\n\n/**\n * @internal\n */\nexport function setPlatformSpecificData(map: Map<string, string>): void {\n  map.set(\"Node\", process.version);\n  map.set(\"OS\", `(${os.arch()}-${os.type()}-${os.release()})`);\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nexport const SDK_VERSION: string = \"1.10.1\";\n\nexport const DEFAULT_RETRY_POLICY_COUNT = 3;\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { getHeaderName, setPlatformSpecificData } from \"./userAgentPlatform\";\nimport { SDK_VERSION } from \"../constants\";\n\nfunction getUserAgentString(telemetryInfo: Map<string, string>): string {\n  const parts: string[] = [];\n  for (const [key, value] of telemetryInfo) {\n    const token = value ? `${key}/${value}` : key;\n    parts.push(token);\n  }\n  return parts.join(\" \");\n}\n\n/**\n * @internal\n */\nexport function getUserAgentHeaderName(): string {\n  return getHeaderName();\n}\n\n/**\n * @internal\n */\nexport function getUserAgentValue(prefix?: string): string {\n  const runtimeInfo = new Map<string, string>();\n  runtimeInfo.set(\"core-rest-pipeline\", SDK_VERSION);\n  setPlatformSpecificData(runtimeInfo);\n  const defaultAgent = getUserAgentString(runtimeInfo);\n  const userAgentValue = prefix ? `${prefix} ${defaultAgent}` : defaultAgent;\n  return userAgentValue;\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { PipelineRequest, PipelineResponse, SendRequest } from \"../interfaces\";\nimport { PipelinePolicy } from \"../pipeline\";\nimport { getUserAgentHeaderName, getUserAgentValue } from \"../util/userAgent\";\n\nconst UserAgentHeaderName = getUserAgentHeaderName();\n\n/**\n * The programmatic identifier of the userAgentPolicy.\n */\nexport const userAgentPolicyName = \"userAgentPolicy\";\n\n/**\n * Options for adding user agent details to outgoing requests.\n */\nexport interface UserAgentPolicyOptions {\n  /**\n   * String prefix to add to the user agent for outgoing requests.\n   * Defaults to an empty string.\n   */\n  userAgentPrefix?: string;\n}\n\n/**\n * A policy that sets the User-Agent header (or equivalent) to reflect\n * the library version.\n * @param options - Options to customize the user agent value.\n */\nexport function userAgentPolicy(options: UserAgentPolicyOptions = {}): PipelinePolicy {\n  const userAgentValue = getUserAgentValue(options.userAgentPrefix);\n  return {\n    name: userAgentPolicyName,\n    async sendRequest(request: PipelineRequest, next: SendRequest): Promise<PipelineResponse> {\n      if (!request.headers.has(UserAgentHeaderName)) {\n        request.headers.set(UserAgentHeaderName, userAgentValue);\n      }\n      return next(request);\n    },\n  };\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { PipelineRequest, PipelineResponse, SendRequest } from \"../interfaces\";\nimport { PipelinePolicy } from \"../pipeline\";\n\n/**\n * The programmatic identifier of the decompressResponsePolicy.\n */\nexport const decompressResponsePolicyName = \"decompressResponsePolicy\";\n\n/**\n * A policy to enable response decompression according to Accept-Encoding header\n * https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding\n */\nexport function decompressResponsePolicy(): PipelinePolicy {\n  return {\n    name: decompressResponsePolicyName,\n    async sendRequest(request: PipelineRequest, next: SendRequest): Promise<PipelineResponse> {\n      // HEAD requests have no body\n      if (request.method !== \"HEAD\") {\n        request.headers.set(\"Accept-Encoding\", \"gzip,deflate\");\n      }\n      return next(request);\n    },\n  };\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { AbortError, AbortSignalLike } from \"@azure/abort-controller\";\nimport { PipelineResponse } from \"../interfaces\";\n\nconst StandardAbortMessage = \"The operation was aborted.\";\n\n/**\n * A wrapper for setTimeout that resolves a promise after delayInMs milliseconds.\n * @param delayInMs - The number of milliseconds to be delayed.\n * @param value - The value to be resolved with after a timeout of t milliseconds.\n * @param options - The options for delay - currently abort options\n *                  - abortSignal - The abortSignal associated with containing operation.\n *                  - abortErrorMsg - The abort error message associated with containing operation.\n * @returns Resolved promise\n */\nexport function delay<T>(\n  delayInMs: number,\n  value?: T,\n  options?: {\n    abortSignal?: AbortSignalLike;\n    abortErrorMsg?: string;\n  }\n): Promise<T | void> {\n  return new Promise((resolve, reject) => {\n    let timer: ReturnType<typeof setTimeout> | undefined = undefined;\n    let onAborted: (() => void) | undefined = undefined;\n\n    const rejectOnAbort = (): void => {\n      return reject(\n        new AbortError(options?.abortErrorMsg ? options?.abortErrorMsg : StandardAbortMessage)\n      );\n    };\n\n    const removeListeners = (): void => {\n      if (options?.abortSignal && onAborted) {\n        options.abortSignal.removeEventListener(\"abort\", onAborted);\n      }\n    };\n\n    onAborted = (): void => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n      removeListeners();\n      return rejectOnAbort();\n    };\n\n    if (options?.abortSignal && options.abortSignal.aborted) {\n      return rejectOnAbort();\n    }\n\n    timer = setTimeout(() => {\n      removeListeners();\n      resolve(value);\n    }, delayInMs);\n\n    if (options?.abortSignal) {\n      options.abortSignal.addEventListener(\"abort\", onAborted);\n    }\n  });\n}\n\n/**\n * @internal\n * @returns the parsed value or undefined if the parsed value is invalid.\n */\nexport function parseHeaderValueAsNumber(\n  response: PipelineResponse,\n  headerName: string\n): number | undefined {\n  const value = response.headers.get(headerName);\n  if (!value) return;\n  const valueAsNum = Number(value);\n  if (Number.isNaN(valueAsNum)) return;\n  return valueAsNum;\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { PipelineResponse } from \"..\";\nimport { parseHeaderValueAsNumber } from \"../util/helpers\";\nimport { RetryStrategy } from \"./retryStrategy\";\n\n/**\n * The header that comes back from Azure services representing\n * the amount of time (minimum) to wait to retry (in seconds or timestamp after which we can retry).\n */\nconst RetryAfterHeader = \"Retry-After\";\n/**\n * The headers that come back from Azure services representing\n * the amount of time (minimum) to wait to retry.\n *\n * \"retry-after-ms\", \"x-ms-retry-after-ms\" : milliseconds\n * \"Retry-After\" : seconds or timestamp\n */\nconst AllRetryAfterHeaders: string[] = [\"retry-after-ms\", \"x-ms-retry-after-ms\", RetryAfterHeader];\n\n/**\n * A response is a throttling retry response if it has a throttling status code (429 or 503),\n * as long as one of the [ \"Retry-After\" or \"retry-after-ms\" or \"x-ms-retry-after-ms\" ] headers has a valid value.\n *\n * Returns the `retryAfterInMs` value if the response is a throttling retry response.\n * If not throttling retry response, returns `undefined`.\n *\n * @internal\n */\nfunction getRetryAfterInMs(response?: PipelineResponse): number | undefined {\n  if (!(response && [429, 503].includes(response.status))) return undefined;\n  try {\n    // Headers: \"retry-after-ms\", \"x-ms-retry-after-ms\", \"Retry-After\"\n    for (const header of AllRetryAfterHeaders) {\n      const retryAfterValue = parseHeaderValueAsNumber(response, header);\n      if (retryAfterValue === 0 || retryAfterValue) {\n        // \"Retry-After\" header ==> seconds\n        // \"retry-after-ms\", \"x-ms-retry-after-ms\" headers ==> milli-seconds\n        const multiplyingFactor = header === RetryAfterHeader ? 1000 : 1;\n        return retryAfterValue * multiplyingFactor; // in milli-seconds\n      }\n    }\n\n    // RetryAfterHeader (\"Retry-After\") has a special case where it might be formatted as a date instead of a number of seconds\n    const retryAfterHeader = response.headers.get(RetryAfterHeader);\n    if (!retryAfterHeader) return;\n\n    const date = Date.parse(retryAfterHeader);\n    const diff = date - Date.now();\n    // negative diff would mean a date in the past, so retry asap with 0 milliseconds\n    return Number.isFinite(diff) ? Math.max(0, diff) : undefined;\n  } catch (e: any) {\n    return undefined;\n  }\n}\n\n/**\n * A response is a retry response if it has a throttling status code (429 or 503),\n * as long as one of the [ \"Retry-After\" or \"retry-after-ms\" or \"x-ms-retry-after-ms\" ] headers has a valid value.\n */\nexport function isThrottlingRetryResponse(response?: PipelineResponse): boolean {\n  return Number.isFinite(getRetryAfterInMs(response));\n}\n\nexport function throttlingRetryStrategy(): RetryStrategy {\n  return {\n    name: \"throttlingRetryStrategy\",\n    retry({ response }) {\n      const retryAfterInMs = getRetryAfterInMs(response);\n      if (!Number.isFinite(retryAfterInMs)) {\n        return { skipStrategy: true };\n      }\n      return {\n        retryAfterInMs,\n      };\n    },\n  };\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { PipelineResponse } from \"../interfaces\";\nimport { RestError } from \"../restError\";\nimport { getRandomIntegerInclusive } from \"@azure/core-util\";\nimport { RetryStrategy } from \"./retryStrategy\";\nimport { isThrottlingRetryResponse } from \"./throttlingRetryStrategy\";\n\n// intervals are in milliseconds\nconst DEFAULT_CLIENT_RETRY_INTERVAL = 1000;\nconst DEFAULT_CLIENT_MAX_RETRY_INTERVAL = 1000 * 64;\n\n/**\n * A retry strategy that retries with an exponentially increasing delay in these two cases:\n * - When there are errors in the underlying transport layer (e.g. DNS lookup failures).\n * - Or otherwise if the outgoing request fails (408, greater or equal than 500, except for 501 and 505).\n */\nexport function exponentialRetryStrategy(\n  options: {\n    /**\n     * The amount of delay in milliseconds between retry attempts. Defaults to 1000\n     * (1 second.) The delay increases exponentially with each retry up to a maximum\n     * specified by maxRetryDelayInMs.\n     */\n    retryDelayInMs?: number;\n\n    /**\n     * The maximum delay in milliseconds allowed before retrying an operation. Defaults\n     * to 64000 (64 seconds).\n     */\n    maxRetryDelayInMs?: number;\n\n    /**\n     * If true it won't retry if it received a system error.\n     */\n    ignoreSystemErrors?: boolean;\n\n    /**\n     * If true it won't retry if it received a non-fatal HTTP status code.\n     */\n    ignoreHttpStatusCodes?: boolean;\n  } = {}\n): RetryStrategy {\n  const retryInterval = options.retryDelayInMs ?? DEFAULT_CLIENT_RETRY_INTERVAL;\n  const maxRetryInterval = options.maxRetryDelayInMs ?? DEFAULT_CLIENT_MAX_RETRY_INTERVAL;\n\n  let retryAfterInMs = retryInterval;\n\n  return {\n    name: \"exponentialRetryStrategy\",\n    retry({ retryCount, response, responseError }) {\n      const matchedSystemError = isSystemError(responseError);\n      const ignoreSystemErrors = matchedSystemError && options.ignoreSystemErrors;\n\n      const isExponential = isExponentialRetryResponse(response);\n      const ignoreExponentialResponse = isExponential && options.ignoreHttpStatusCodes;\n      const unknownResponse = response && (isThrottlingRetryResponse(response) || !isExponential);\n\n      if (unknownResponse || ignoreExponentialResponse || ignoreSystemErrors) {\n        return { skipStrategy: true };\n      }\n\n      if (responseError && !matchedSystemError && !isExponential) {\n        return { errorToThrow: responseError };\n      }\n\n      // Exponentially increase the delay each time\n      const exponentialDelay = retryAfterInMs * Math.pow(2, retryCount);\n      // Don't let the delay exceed the maximum\n      const clampedExponentialDelay = Math.min(maxRetryInterval, exponentialDelay);\n      // Allow the final value to have some \"jitter\" (within 50% of the delay size) so\n      // that retries across multiple clients don't occur simultaneously.\n      retryAfterInMs =\n        clampedExponentialDelay / 2 + getRandomIntegerInclusive(0, clampedExponentialDelay / 2);\n      return { retryAfterInMs };\n    },\n  };\n}\n\n/**\n * A response is a retry response if it has status codes:\n * - 408, or\n * - Greater or equal than 500, except for 501 and 505.\n */\nexport function isExponentialRetryResponse(response?: PipelineResponse): boolean {\n  return Boolean(\n    response &&\n      response.status !== undefined &&\n      (response.status >= 500 || response.status === 408) &&\n      response.status !== 501 &&\n      response.status !== 505\n  );\n}\n\n/**\n * Determines whether an error from a pipeline response was triggered in the network layer.\n */\nexport function isSystemError(err?: RestError): boolean {\n  if (!err) {\n    return false;\n  }\n  return (\n    err.code === \"ETIMEDOUT\" ||\n    err.code === \"ESOCKETTIMEDOUT\" ||\n    err.code === \"ECONNREFUSED\" ||\n    err.code === \"ECONNRESET\" ||\n    err.code === \"ENOENT\"\n  );\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { PipelineRequest, PipelineResponse, SendRequest } from \"../interfaces\";\nimport { PipelinePolicy } from \"../pipeline\";\nimport { delay } from \"../util/helpers\";\nimport { createClientLogger } from \"@azure/logger\";\nimport { RetryStrategy } from \"../retryStrategies/retryStrategy\";\nimport { RestError } from \"../restError\";\nimport { AbortError } from \"@azure/abort-controller\";\nimport { AzureLogger } from \"@azure/logger\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants\";\n\nconst retryPolicyLogger = createClientLogger(\"core-rest-pipeline retryPolicy\");\n\n/**\n * The programmatic identifier of the retryPolicy.\n */\nconst retryPolicyName = \"retryPolicy\";\n\n/**\n * Options to the {@link retryPolicy}\n */\nexport interface RetryPolicyOptions {\n  /**\n   * Maximum number of retries. If not specified, it will limit to 3 retries.\n   */\n  maxRetries?: number;\n  /**\n   * Logger. If it's not provided, a default logger is used.\n   */\n  logger?: AzureLogger;\n}\n\n/**\n * retryPolicy is a generic policy to enable retrying requests when certain conditions are met\n */\nexport function retryPolicy(\n  strategies: RetryStrategy[],\n  options: RetryPolicyOptions = { maxRetries: DEFAULT_RETRY_POLICY_COUNT }\n): PipelinePolicy {\n  const logger = options.logger || retryPolicyLogger;\n  return {\n    name: retryPolicyName,\n    async sendRequest(request: PipelineRequest, next: SendRequest): Promise<PipelineResponse> {\n      let response: PipelineResponse | undefined;\n      let responseError: RestError | undefined;\n      let retryCount = -1;\n\n      // eslint-disable-next-line no-constant-condition\n      retryRequest: while (true) {\n        retryCount += 1;\n        response = undefined;\n        responseError = undefined;\n\n        try {\n          logger.info(`Retry ${retryCount}: Attempting to send request`, request.requestId);\n          response = await next(request);\n          logger.info(`Retry ${retryCount}: Received a response from request`, request.requestId);\n        } catch (e: any) {\n          logger.error(`Retry ${retryCount}: Received an error from request`, request.requestId);\n\n          // RestErrors are valid targets for the retry strategies.\n          // If none of the retry strategies can work with them, they will be thrown later in this policy.\n          // If the received error is not a RestError, it is immediately thrown.\n          responseError = e as RestError;\n          if (!e || responseError.name !== \"RestError\") {\n            throw e;\n          }\n\n          response = responseError.response;\n        }\n\n        if (request.abortSignal?.aborted) {\n          logger.error(`Retry ${retryCount}: Request aborted.`);\n          const abortError = new AbortError();\n          throw abortError;\n        }\n\n        if (retryCount >= (options.maxRetries ?? DEFAULT_RETRY_POLICY_COUNT)) {\n          logger.info(\n            `Retry ${retryCount}: Maximum retries reached. Returning the last received response, or throwing the last received error.`\n          );\n          if (responseError) {\n            throw responseError;\n          } else if (response) {\n            return response;\n          } else {\n            throw new Error(\"Maximum retries reached with no response or error to throw\");\n          }\n        }\n\n        logger.info(`Retry ${retryCount}: Processing ${strategies.length} retry strategies.`);\n\n        strategiesLoop: for (const strategy of strategies) {\n          const strategyLogger = strategy.logger || retryPolicyLogger;\n          strategyLogger.info(`Retry ${retryCount}: Processing retry strategy ${strategy.name}.`);\n\n          const modifiers = strategy.retry({\n            retryCount,\n            response,\n            responseError,\n          });\n\n          if (modifiers.skipStrategy) {\n            strategyLogger.info(`Retry ${retryCount}: Skipped.`);\n            continue strategiesLoop;\n          }\n\n          const { errorToThrow, retryAfterInMs, redirectTo } = modifiers;\n\n          if (errorToThrow) {\n            strategyLogger.error(\n              `Retry ${retryCount}: Retry strategy ${strategy.name} throws error:`,\n              errorToThrow\n            );\n            throw errorToThrow;\n          }\n\n          if (retryAfterInMs || retryAfterInMs === 0) {\n            strategyLogger.info(\n              `Retry ${retryCount}: Retry strategy ${strategy.name} retries after ${retryAfterInMs}`\n            );\n            await delay(retryAfterInMs, undefined, { abortSignal: request.abortSignal });\n            continue retryRequest;\n          }\n\n          if (redirectTo) {\n            strategyLogger.info(\n              `Retry ${retryCount}: Retry strategy ${strategy.name} redirects to ${redirectTo}`\n            );\n            request.url = redirectTo;\n            continue retryRequest;\n          }\n        }\n\n        if (responseError) {\n          logger.info(\n            `None of the retry strategies could work with the received error. Throwing it.`\n          );\n          throw responseError;\n        }\n        if (response) {\n          logger.info(\n            `None of the retry strategies could work with the received response. Returning it.`\n          );\n          return response;\n        }\n\n        // If all the retries skip and there's no response,\n        // we're still in the retry loop, so a new request will be sent\n        // until `maxRetries` is reached.\n      }\n    },\n  };\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { PipelineRetryOptions } from \"../interfaces\";\nimport { PipelinePolicy } from \"../pipeline\";\nimport { exponentialRetryStrategy } from \"../retryStrategies/exponentialRetryStrategy\";\nimport { throttlingRetryStrategy } from \"../retryStrategies/throttlingRetryStrategy\";\nimport { retryPolicy } from \"./retryPolicy\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants\";\n\n/**\n * Name of the {@link defaultRetryPolicy}\n */\nexport const defaultRetryPolicyName = \"defaultRetryPolicy\";\n\n/**\n * Options that control how to retry failed requests.\n */\nexport interface DefaultRetryPolicyOptions extends PipelineRetryOptions {}\n\n/**\n * A policy that retries according to three strategies:\n * - When the server sends a 429 response with a Retry-After header.\n * - When there are errors in the underlying transport layer (e.g. DNS lookup failures).\n * - Or otherwise if the outgoing request fails, it will retry with an exponentially increasing delay.\n */\nexport function defaultRetryPolicy(options: DefaultRetryPolicyOptions = {}): PipelinePolicy {\n  return {\n    name: defaultRetryPolicyName,\n    sendRequest: retryPolicy([throttlingRetryStrategy(), exponentialRetryStrategy(options)], {\n      maxRetries: options.maxRetries ?? DEFAULT_RETRY_POLICY_COUNT,\n    }).sendRequest,\n  };\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport FormData from \"form-data\";\nimport { FormDataMap, PipelineRequest, PipelineResponse, SendRequest } from \"../interfaces\";\nimport { PipelinePolicy } from \"../pipeline\";\n\n/**\n * The programmatic identifier of the formDataPolicy.\n */\nexport const formDataPolicyName = \"formDataPolicy\";\n\n/**\n * A policy that encodes FormData on the request into the body.\n */\nexport function formDataPolicy(): PipelinePolicy {\n  return {\n    name: formDataPolicyName,\n    async sendRequest(request: PipelineRequest, next: SendRequest): Promise<PipelineResponse> {\n      if (request.formData) {\n        const contentType = request.headers.get(\"Content-Type\");\n        if (contentType && contentType.indexOf(\"application/x-www-form-urlencoded\") !== -1) {\n          request.body = wwwFormUrlEncode(request.formData);\n          request.formData = undefined;\n        } else {\n          await prepareFormData(request.formData, request);\n        }\n      }\n      return next(request);\n    },\n  };\n}\n\nfunction wwwFormUrlEncode(formData: FormDataMap): string {\n  const urlSearchParams = new URLSearchParams();\n  for (const [key, value] of Object.entries(formData)) {\n    if (Array.isArray(value)) {\n      for (const subValue of value) {\n        urlSearchParams.append(key, subValue.toString());\n      }\n    } else {\n      urlSearchParams.append(key, value.toString());\n    }\n  }\n  return urlSearchParams.toString();\n}\n\nasync function prepareFormData(formData: FormDataMap, request: PipelineRequest): Promise<void> {\n  const requestForm = new FormData();\n  for (const formKey of Object.keys(formData)) {\n    const formValue = formData[formKey];\n    if (Array.isArray(formValue)) {\n      for (const subValue of formValue) {\n        requestForm.append(formKey, subValue);\n      }\n    } else {\n      requestForm.append(formKey, formValue);\n    }\n  }\n\n  request.body = requestForm;\n  request.formData = undefined;\n  const contentType = request.headers.get(\"Content-Type\");\n  if (contentType && contentType.indexOf(\"multipart/form-data\") !== -1) {\n    request.headers.set(\n      \"Content-Type\",\n      `multipart/form-data; boundary=${requestForm.getBoundary()}`\n    );\n  }\n  try {\n    const contentLength = await new Promise<number>((resolve, reject) => {\n      requestForm.getLength((err, length) => {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(length);\n        }\n      });\n    });\n    request.headers.set(\"Content-Length\", contentLength);\n  } catch (e: any) {\n    // ignore setting the length if this fails\n  }\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport * as http from \"http\";\nimport * as https from \"https\";\nimport { HttpsProxyAgent, HttpsProxyAgentOptions } from \"https-proxy-agent\";\nimport { HttpProxyAgent, HttpProxyAgentOptions } from \"http-proxy-agent\";\nimport { PipelineRequest, PipelineResponse, ProxySettings, SendRequest } from \"../interfaces\";\nimport { PipelinePolicy } from \"../pipeline\";\nimport { logger } from \"../log\";\n\nconst HTTPS_PROXY = \"HTTPS_PROXY\";\nconst HTTP_PROXY = \"HTTP_PROXY\";\nconst ALL_PROXY = \"ALL_PROXY\";\nconst NO_PROXY = \"NO_PROXY\";\n\n/**\n * The programmatic identifier of the proxyPolicy.\n */\nexport const proxyPolicyName = \"proxyPolicy\";\n\n/**\n * Stores the patterns specified in NO_PROXY environment variable.\n * @internal\n */\nexport const globalNoProxyList: string[] = [];\nlet noProxyListLoaded: boolean = false;\n\n/** A cache of whether a host should bypass the proxy. */\nconst globalBypassedMap: Map<string, boolean> = new Map();\n\nfunction getEnvironmentValue(name: string): string | undefined {\n  if (process.env[name]) {\n    return process.env[name];\n  } else if (process.env[name.toLowerCase()]) {\n    return process.env[name.toLowerCase()];\n  }\n  return undefined;\n}\n\nfunction loadEnvironmentProxyValue(): string | undefined {\n  if (!process) {\n    return undefined;\n  }\n\n  const httpsProxy = getEnvironmentValue(HTTPS_PROXY);\n  const allProxy = getEnvironmentValue(ALL_PROXY);\n  const httpProxy = getEnvironmentValue(HTTP_PROXY);\n\n  return httpsProxy || allProxy || httpProxy;\n}\n\n/**\n * Check whether the host of a given `uri` matches any pattern in the no proxy list.\n * If there's a match, any request sent to the same host shouldn't have the proxy settings set.\n * This implementation is a port of https://github.com/Azure/azure-sdk-for-net/blob/8cca811371159e527159c7eb65602477898683e2/sdk/core/Azure.Core/src/Pipeline/Internal/HttpEnvironmentProxy.cs#L210\n */\nfunction isBypassed(\n  uri: string,\n  noProxyList: string[],\n  bypassedMap?: Map<string, boolean>\n): boolean | undefined {\n  if (noProxyList.length === 0) {\n    return false;\n  }\n  const host = new URL(uri).hostname;\n  if (bypassedMap?.has(host)) {\n    return bypassedMap.get(host);\n  }\n  let isBypassedFlag = false;\n  for (const pattern of noProxyList) {\n    if (pattern[0] === \".\") {\n      // This should match either domain it self or any subdomain or host\n      // .foo.com will match foo.com it self or *.foo.com\n      if (host.endsWith(pattern)) {\n        isBypassedFlag = true;\n      } else {\n        if (host.length === pattern.length - 1 && host === pattern.slice(1)) {\n          isBypassedFlag = true;\n        }\n      }\n    } else {\n      if (host === pattern) {\n        isBypassedFlag = true;\n      }\n    }\n  }\n  bypassedMap?.set(host, isBypassedFlag);\n  return isBypassedFlag;\n}\n\nexport function loadNoProxy(): string[] {\n  const noProxy = getEnvironmentValue(NO_PROXY);\n  noProxyListLoaded = true;\n  if (noProxy) {\n    return noProxy\n      .split(\",\")\n      .map((item) => item.trim())\n      .filter((item) => item.length);\n  }\n\n  return [];\n}\n\n/**\n * This method converts a proxy url into `ProxySettings` for use with ProxyPolicy.\n * If no argument is given, it attempts to parse a proxy URL from the environment\n * variables `HTTPS_PROXY` or `HTTP_PROXY`.\n * @param proxyUrl - The url of the proxy to use. May contain authentication information.\n */\nexport function getDefaultProxySettings(proxyUrl?: string): ProxySettings | undefined {\n  if (!proxyUrl) {\n    proxyUrl = loadEnvironmentProxyValue();\n    if (!proxyUrl) {\n      return undefined;\n    }\n  }\n\n  const parsedUrl = new URL(proxyUrl);\n  const schema = parsedUrl.protocol ? parsedUrl.protocol + \"//\" : \"\";\n  return {\n    host: schema + parsedUrl.hostname,\n    port: Number.parseInt(parsedUrl.port || \"80\"),\n    username: parsedUrl.username,\n    password: parsedUrl.password,\n  };\n}\n\n/**\n * @internal\n */\nexport function getProxyAgentOptions(\n  proxySettings: ProxySettings,\n  { headers, tlsSettings }: PipelineRequest\n): HttpProxyAgentOptions {\n  let parsedProxyUrl: URL;\n  try {\n    parsedProxyUrl = new URL(proxySettings.host);\n  } catch (_error) {\n    throw new Error(\n      `Expecting a valid host string in proxy settings, but found \"${proxySettings.host}\".`\n    );\n  }\n\n  if (tlsSettings) {\n    logger.warning(\n      \"TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.\"\n    );\n  }\n\n  const proxyAgentOptions: HttpsProxyAgentOptions = {\n    hostname: parsedProxyUrl.hostname,\n    port: proxySettings.port,\n    protocol: parsedProxyUrl.protocol,\n    headers: headers.toJSON(),\n  };\n  if (proxySettings.username && proxySettings.password) {\n    proxyAgentOptions.auth = `${proxySettings.username}:${proxySettings.password}`;\n  } else if (proxySettings.username) {\n    proxyAgentOptions.auth = `${proxySettings.username}`;\n  }\n  return proxyAgentOptions;\n}\n\nfunction setProxyAgentOnRequest(request: PipelineRequest, cachedAgents: CachedAgents): void {\n  // Custom Agent should take precedence so if one is present\n  // we should skip to avoid overwriting it.\n  if (request.agent) {\n    return;\n  }\n\n  const url = new URL(request.url);\n\n  const isInsecure = url.protocol !== \"https:\";\n\n  const proxySettings = request.proxySettings;\n  if (proxySettings) {\n    if (isInsecure) {\n      if (!cachedAgents.httpProxyAgent) {\n        const proxyAgentOptions = getProxyAgentOptions(proxySettings, request);\n        cachedAgents.httpProxyAgent = new HttpProxyAgent(proxyAgentOptions);\n      }\n      request.agent = cachedAgents.httpProxyAgent;\n    } else {\n      if (!cachedAgents.httpsProxyAgent) {\n        const proxyAgentOptions = getProxyAgentOptions(proxySettings, request);\n        cachedAgents.httpsProxyAgent = new HttpsProxyAgent(proxyAgentOptions);\n      }\n      request.agent = cachedAgents.httpsProxyAgent;\n    }\n  }\n}\n\ninterface CachedAgents {\n  httpsProxyAgent?: https.Agent;\n  httpProxyAgent?: http.Agent;\n}\n\n/**\n * A policy that allows one to apply proxy settings to all requests.\n * If not passed static settings, they will be retrieved from the HTTPS_PROXY\n * or HTTP_PROXY environment variables.\n * @param proxySettings - ProxySettings to use on each request.\n * @param options - additional settings, for example, custom NO_PROXY patterns\n */\nexport function proxyPolicy(\n  proxySettings = getDefaultProxySettings(),\n  options?: {\n    /** a list of patterns to override those loaded from NO_PROXY environment variable. */\n    customNoProxyList?: string[];\n  }\n): PipelinePolicy {\n  if (!noProxyListLoaded) {\n    globalNoProxyList.push(...loadNoProxy());\n  }\n\n  const cachedAgents: CachedAgents = {};\n\n  return {\n    name: proxyPolicyName,\n    async sendRequest(request: PipelineRequest, next: SendRequest): Promise<PipelineResponse> {\n      if (\n        !request.proxySettings &&\n        !isBypassed(\n          request.url,\n          options?.customNoProxyList ?? globalNoProxyList,\n          options?.customNoProxyList ? undefined : globalBypassedMap\n        )\n      ) {\n        request.proxySettings = proxySettings;\n      }\n\n      if (request.proxySettings) {\n        setProxyAgentOnRequest(request, cachedAgents);\n      }\n      return next(request);\n    },\n  };\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { PipelineRequest, PipelineResponse, SendRequest } from \"../interfaces\";\nimport { PipelinePolicy } from \"../pipeline\";\n\n/**\n * The programmatic identifier of the setClientRequestIdPolicy.\n */\nexport const setClientRequestIdPolicyName = \"setClientRequestIdPolicy\";\n\n/**\n * Each PipelineRequest gets a unique id upon creation.\n * This policy passes that unique id along via an HTTP header to enable better\n * telemetry and tracing.\n * @param requestIdHeaderName - The name of the header to pass the request ID to.\n */\nexport function setClientRequestIdPolicy(\n  requestIdHeaderName = \"x-ms-client-request-id\"\n): PipelinePolicy {\n  return {\n    name: setClientRequestIdPolicyName,\n    async sendRequest(request: PipelineRequest, next: SendRequest): Promise<PipelineResponse> {\n      if (!request.headers.has(requestIdHeaderName)) {\n        request.headers.set(requestIdHeaderName, request.requestId);\n      }\n      return next(request);\n    },\n  };\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { PipelinePolicy } from \"../pipeline\";\nimport { TlsSettings } from \"../interfaces\";\n\n/**\n * Name of the TLS Policy\n */\nexport const tlsPolicyName = \"tlsPolicy\";\n\n/**\n * Gets a pipeline policy that adds the client certificate to the HttpClient agent for authentication.\n */\nexport function tlsPolicy(tlsSettings?: TlsSettings): PipelinePolicy {\n  return {\n    name: tlsPolicyName,\n    sendRequest: async (req, next) => {\n      // Users may define a request tlsSettings, honor those over the client level one\n      if (!req.tlsSettings) {\n        req.tlsSettings = tlsSettings;\n      }\n      return next(req);\n    },\n  };\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { inspect } from \"util\";\n\nexport const custom = inspect.custom;\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { isError } from \"@azure/core-util\";\nimport { PipelineRequest, PipelineResponse } from \"./interfaces\";\nimport { custom } from \"./util/inspect\";\nimport { Sanitizer } from \"./util/sanitizer\";\n\nconst errorSanitizer = new Sanitizer();\n\n/**\n * The options supported by RestError.\n */\nexport interface RestErrorOptions {\n  /**\n   * The code of the error itself (use statics on RestError if possible.)\n   */\n  code?: string;\n  /**\n   * The HTTP status code of the request (if applicable.)\n   */\n  statusCode?: number;\n  /**\n   * The request that was made.\n   */\n  request?: PipelineRequest;\n  /**\n   * The response received (if any.)\n   */\n  response?: PipelineResponse;\n}\n\n/**\n * A custom error type for failed pipeline requests.\n */\nexport class RestError extends Error {\n  /**\n   * Something went wrong when making the request.\n   * This means the actual request failed for some reason,\n   * such as a DNS issue or the connection being lost.\n   */\n  static readonly REQUEST_SEND_ERROR: string = \"REQUEST_SEND_ERROR\";\n  /**\n   * This means that parsing the response from the server failed.\n   * It may have been malformed.\n   */\n  static readonly PARSE_ERROR: string = \"PARSE_ERROR\";\n\n  /**\n   * The code of the error itself (use statics on RestError if possible.)\n   */\n  public code?: string;\n  /**\n   * The HTTP status code of the request (if applicable.)\n   */\n  public statusCode?: number;\n  /**\n   * The request that was made.\n   */\n  public request?: PipelineRequest;\n  /**\n   * The response received (if any.)\n   */\n  public response?: PipelineResponse;\n  /**\n   * Bonus property set by the throw site.\n   */\n  public details?: unknown;\n\n  constructor(message: string, options: RestErrorOptions = {}) {\n    super(message);\n    this.name = \"RestError\";\n    this.code = options.code;\n    this.statusCode = options.statusCode;\n    this.request = options.request;\n    this.response = options.response;\n\n    Object.setPrototypeOf(this, RestError.prototype);\n  }\n\n  /**\n   * Logging method for util.inspect in Node\n   */\n  [custom](): string {\n    return `RestError: ${this.message} \\n ${errorSanitizer.sanitize(this)}`;\n  }\n}\n\n/**\n * Typeguard for RestError\n * @param e - Something caught by a catch clause.\n */\nexport function isRestError(e: unknown): e is RestError {\n  if (e instanceof RestError) {\n    return true;\n  }\n  return isError(e) && e.name === \"RestError\";\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport {\n  TracingClient,\n  TracingContext,\n  TracingSpan,\n  createTracingClient,\n} from \"@azure/core-tracing\";\nimport { SDK_VERSION } from \"../constants\";\nimport { PipelineRequest, PipelineResponse, SendRequest } from \"../interfaces\";\nimport { PipelinePolicy } from \"../pipeline\";\nimport { getUserAgentValue } from \"../util/userAgent\";\nimport { logger } from \"../log\";\nimport { getErrorMessage, isError } from \"@azure/core-util\";\nimport { isRestError } from \"../restError\";\n\n/**\n * The programmatic identifier of the tracingPolicy.\n */\nexport const tracingPolicyName = \"tracingPolicy\";\n\n/**\n * Options to configure the tracing policy.\n */\nexport interface TracingPolicyOptions {\n  /**\n   * String prefix to add to the user agent logged as metadata\n   * on the generated Span.\n   * Defaults to an empty string.\n   */\n  userAgentPrefix?: string;\n}\n\n/**\n * A simple policy to create OpenTelemetry Spans for each request made by the pipeline\n * that has SpanOptions with a parent.\n * Requests made without a parent Span will not be recorded.\n * @param options - Options to configure the telemetry logged by the tracing policy.\n */\nexport function tracingPolicy(options: TracingPolicyOptions = {}): PipelinePolicy {\n  const userAgent = getUserAgentValue(options.userAgentPrefix);\n  const tracingClient = tryCreateTracingClient();\n\n  return {\n    name: tracingPolicyName,\n    async sendRequest(request: PipelineRequest, next: SendRequest): Promise<PipelineResponse> {\n      if (!tracingClient || !request.tracingOptions?.tracingContext) {\n        return next(request);\n      }\n\n      const { span, tracingContext } = tryCreateSpan(tracingClient, request, userAgent) ?? {};\n\n      if (!span || !tracingContext) {\n        return next(request);\n      }\n\n      try {\n        const response = await tracingClient.withContext(tracingContext, next, request);\n        tryProcessResponse(span, response);\n        return response;\n      } catch (err: any) {\n        tryProcessError(span, err);\n        throw err;\n      }\n    },\n  };\n}\n\nfunction tryCreateTracingClient(): TracingClient | undefined {\n  try {\n    return createTracingClient({\n      namespace: \"\",\n      packageName: \"@azure/core-rest-pipeline\",\n      packageVersion: SDK_VERSION,\n    });\n  } catch (e: unknown) {\n    logger.warning(`Error when creating the TracingClient: ${getErrorMessage(e)}`);\n    return undefined;\n  }\n}\n\nfunction tryCreateSpan(\n  tracingClient: TracingClient,\n  request: PipelineRequest,\n  userAgent?: string\n): { span: TracingSpan; tracingContext: TracingContext } | undefined {\n  try {\n    // As per spec, we do not need to differentiate between HTTP and HTTPS in span name.\n    const { span, updatedOptions } = tracingClient.startSpan(\n      `HTTP ${request.method}`,\n      { tracingOptions: request.tracingOptions },\n      {\n        spanKind: \"client\",\n        spanAttributes: {\n          \"http.method\": request.method,\n          \"http.url\": request.url,\n          requestId: request.requestId,\n        },\n      }\n    );\n\n    // If the span is not recording, don't do any more work.\n    if (!span.isRecording()) {\n      span.end();\n      return undefined;\n    }\n\n    if (userAgent) {\n      span.setAttribute(\"http.user_agent\", userAgent);\n    }\n\n    // set headers\n    const headers = tracingClient.createRequestHeaders(\n      updatedOptions.tracingOptions.tracingContext\n    );\n    for (const [key, value] of Object.entries(headers)) {\n      request.headers.set(key, value);\n    }\n    return { span, tracingContext: updatedOptions.tracingOptions.tracingContext };\n  } catch (e: any) {\n    logger.warning(`Skipping creating a tracing span due to an error: ${getErrorMessage(e)}`);\n    return undefined;\n  }\n}\n\nfunction tryProcessError(span: TracingSpan, error: unknown): void {\n  try {\n    span.setStatus({\n      status: \"error\",\n      error: isError(error) ? error : undefined,\n    });\n    if (isRestError(error) && error.statusCode) {\n      span.setAttribute(\"http.status_code\", error.statusCode);\n    }\n    span.end();\n  } catch (e: any) {\n    logger.warning(`Skipping tracing span processing due to an error: ${getErrorMessage(e)}`);\n  }\n}\n\nfunction tryProcessResponse(span: TracingSpan, response: PipelineResponse): void {\n  try {\n    span.setAttribute(\"http.status_code\", response.status);\n    const serviceRequestId = response.headers.get(\"x-ms-request-id\");\n    if (serviceRequestId) {\n      span.setAttribute(\"serviceRequestId\", serviceRequestId);\n    }\n    span.setStatus({\n      status: \"success\",\n    });\n    span.end();\n  } catch (e: any) {\n    logger.warning(`Skipping tracing span processing due to an error: ${getErrorMessage(e)}`);\n  }\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { LogPolicyOptions, logPolicy } from \"./policies/logPolicy\";\nimport { Pipeline, createEmptyPipeline } from \"./pipeline\";\nimport { PipelineRetryOptions, TlsSettings } from \"./interfaces\";\nimport { RedirectPolicyOptions, redirectPolicy } from \"./policies/redirectPolicy\";\nimport { UserAgentPolicyOptions, userAgentPolicy } from \"./policies/userAgentPolicy\";\n\nimport { ProxySettings } from \".\";\nimport { decompressResponsePolicy } from \"./policies/decompressResponsePolicy\";\nimport { defaultRetryPolicy } from \"./policies/defaultRetryPolicy\";\nimport { formDataPolicy } from \"./policies/formDataPolicy\";\nimport { isNode } from \"@azure/core-util\";\nimport { proxyPolicy } from \"./policies/proxyPolicy\";\nimport { setClientRequestIdPolicy } from \"./policies/setClientRequestIdPolicy\";\nimport { tlsPolicy } from \"./policies/tlsPolicy\";\nimport { tracingPolicy } from \"./policies/tracingPolicy\";\n\n/**\n * Defines options that are used to configure the HTTP pipeline for\n * an SDK client.\n */\nexport interface PipelineOptions {\n  /**\n   * Options that control how to retry failed requests.\n   */\n  retryOptions?: PipelineRetryOptions;\n\n  /**\n   * Options to configure a proxy for outgoing requests.\n   */\n  proxyOptions?: ProxySettings;\n\n  /** Options for configuring TLS authentication */\n  tlsOptions?: TlsSettings;\n\n  /**\n   * Options for how redirect responses are handled.\n   */\n  redirectOptions?: RedirectPolicyOptions;\n\n  /**\n   * Options for adding user agent details to outgoing requests.\n   */\n  userAgentOptions?: UserAgentPolicyOptions;\n}\n\n/**\n * Defines options that are used to configure internal options of\n * the HTTP pipeline for an SDK client.\n */\nexport interface InternalPipelineOptions extends PipelineOptions {\n  /**\n   * Options to configure request/response logging.\n   */\n  loggingOptions?: LogPolicyOptions;\n}\n\n/**\n * Create a new pipeline with a default set of customizable policies.\n * @param options - Options to configure a custom pipeline.\n */\nexport function createPipelineFromOptions(options: InternalPipelineOptions): Pipeline {\n  const pipeline = createEmptyPipeline();\n\n  if (isNode) {\n    if (options.tlsOptions) {\n      pipeline.addPolicy(tlsPolicy(options.tlsOptions));\n    }\n    pipeline.addPolicy(proxyPolicy(options.proxyOptions));\n    pipeline.addPolicy(decompressResponsePolicy());\n  }\n\n  pipeline.addPolicy(formDataPolicy());\n  pipeline.addPolicy(userAgentPolicy(options.userAgentOptions));\n  pipeline.addPolicy(setClientRequestIdPolicy());\n  pipeline.addPolicy(defaultRetryPolicy(options.retryOptions), { phase: \"Retry\" });\n  pipeline.addPolicy(tracingPolicy(options.userAgentOptions), { afterPhase: \"Retry\" });\n  if (isNode) {\n    // Both XHR and Fetch expect to handle redirects automatically,\n    // so only include this policy when we're in Node.\n    pipeline.addPolicy(redirectPolicy(options.redirectOptions), { afterPhase: \"Retry\" });\n  }\n  pipeline.addPolicy(logPolicy(options.loggingOptions), { afterPhase: \"Sign\" });\n\n  return pipeline;\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { HttpHeaders, RawHttpHeaders, RawHttpHeadersInput } from \"./interfaces\";\n\ninterface HeaderEntry {\n  name: string;\n  value: string;\n}\n\nfunction normalizeName(name: string): string {\n  return name.toLowerCase();\n}\n\nfunction* headerIterator(map: Map<string, HeaderEntry>): IterableIterator<[string, string]> {\n  for (const entry of map.values()) {\n    yield [entry.name, entry.value];\n  }\n}\n\nclass HttpHeadersImpl implements HttpHeaders {\n  private readonly _headersMap: Map<string, HeaderEntry>;\n\n  constructor(rawHeaders?: RawHttpHeaders | RawHttpHeadersInput) {\n    this._headersMap = new Map<string, HeaderEntry>();\n    if (rawHeaders) {\n      for (const headerName of Object.keys(rawHeaders)) {\n        this.set(headerName, rawHeaders[headerName]);\n      }\n    }\n  }\n\n  /**\n   * Set a header in this collection with the provided name and value. The name is\n   * case-insensitive.\n   * @param name - The name of the header to set. This value is case-insensitive.\n   * @param value - The value of the header to set.\n   */\n  public set(name: string, value: string | number | boolean): void {\n    this._headersMap.set(normalizeName(name), { name, value: String(value) });\n  }\n\n  /**\n   * Get the header value for the provided header name, or undefined if no header exists in this\n   * collection with the provided name.\n   * @param name - The name of the header. This value is case-insensitive.\n   */\n  public get(name: string): string | undefined {\n    return this._headersMap.get(normalizeName(name))?.value;\n  }\n\n  /**\n   * Get whether or not this header collection contains a header entry for the provided header name.\n   * @param name - The name of the header to set. This value is case-insensitive.\n   */\n  public has(name: string): boolean {\n    return this._headersMap.has(normalizeName(name));\n  }\n\n  /**\n   * Remove the header with the provided headerName.\n   * @param name - The name of the header to remove.\n   */\n  public delete(name: string): void {\n    this._headersMap.delete(normalizeName(name));\n  }\n\n  /**\n   * Get the JSON object representation of this HTTP header collection.\n   */\n  public toJSON(options: { preserveCase?: boolean } = {}): RawHttpHeaders {\n    const result: RawHttpHeaders = {};\n    if (options.preserveCase) {\n      for (const entry of this._headersMap.values()) {\n        result[entry.name] = entry.value;\n      }\n    } else {\n      for (const [normalizedName, entry] of this._headersMap) {\n        result[normalizedName] = entry.value;\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * Get the string representation of this HTTP header collection.\n   */\n  public toString(): string {\n    return JSON.stringify(this.toJSON({ preserveCase: true }));\n  }\n\n  /**\n   * Iterate over tuples of header [name, value] pairs.\n   */\n  [Symbol.iterator](): Iterator<[string, string]> {\n    return headerIterator(this._headersMap);\n  }\n}\n\n/**\n * Creates an object that satisfies the `HttpHeaders` interface.\n * @param rawHeaders - A simple object representing initial headers\n */\nexport function createHttpHeaders(rawHeaders?: RawHttpHeadersInput): HttpHeaders {\n  return new HttpHeadersImpl(rawHeaders);\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport * as http from \"http\";\nimport * as https from \"https\";\nimport * as zlib from \"zlib\";\nimport { Transform } from \"stream\";\nimport { AbortController, AbortError } from \"@azure/abort-controller\";\nimport {\n  HttpClient,\n  HttpHeaders,\n  PipelineRequest,\n  PipelineResponse,\n  RequestBodyType,\n  TlsSettings,\n  TransferProgressEvent,\n} from \"./interfaces\";\nimport { createHttpHeaders } from \"./httpHeaders\";\nimport { RestError } from \"./restError\";\nimport { IncomingMessage } from \"http\";\nimport { logger } from \"./log\";\n\nconst DEFAULT_TLS_SETTINGS = {};\n\nfunction isReadableStream(body: any): body is NodeJS.ReadableStream {\n  return body && typeof body.pipe === \"function\";\n}\n\nfunction isStreamComplete(stream: NodeJS.ReadableStream): Promise<void> {\n  return new Promise((resolve) => {\n    stream.on(\"close\", resolve);\n    stream.on(\"end\", resolve);\n    stream.on(\"error\", resolve);\n  });\n}\n\nfunction isArrayBuffer(body: any): body is ArrayBuffer | ArrayBufferView {\n  return body && typeof body.byteLength === \"number\";\n}\n\nclass ReportTransform extends Transform {\n  private loadedBytes = 0;\n  private progressCallback: (progress: TransferProgressEvent) => void;\n\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  _transform(chunk: string | Buffer, _encoding: string, callback: Function): void {\n    this.push(chunk);\n    this.loadedBytes += chunk.length;\n    try {\n      this.progressCallback({ loadedBytes: this.loadedBytes });\n      callback();\n    } catch (e: any) {\n      callback(e);\n    }\n  }\n\n  constructor(progressCallback: (progress: TransferProgressEvent) => void) {\n    super();\n    this.progressCallback = progressCallback;\n  }\n}\n\n/**\n * A HttpClient implementation that uses Node's \"https\" module to send HTTPS requests.\n * @internal\n */\nclass NodeHttpClient implements HttpClient {\n  private cachedHttpAgent?: http.Agent;\n  private cachedHttpsAgents: WeakMap<TlsSettings, https.Agent> = new WeakMap();\n\n  /**\n   * Makes a request over an underlying transport layer and returns the response.\n   * @param request - The request to be made.\n   */\n  public async sendRequest(request: PipelineRequest): Promise<PipelineResponse> {\n    const abortController = new AbortController();\n    let abortListener: ((event: any) => void) | undefined;\n    if (request.abortSignal) {\n      if (request.abortSignal.aborted) {\n        throw new AbortError(\"The operation was aborted.\");\n      }\n\n      abortListener = (event: Event) => {\n        if (event.type === \"abort\") {\n          abortController.abort();\n        }\n      };\n      request.abortSignal.addEventListener(\"abort\", abortListener);\n    }\n\n    if (request.timeout > 0) {\n      setTimeout(() => {\n        abortController.abort();\n      }, request.timeout);\n    }\n\n    const acceptEncoding = request.headers.get(\"Accept-Encoding\");\n    const shouldDecompress =\n      acceptEncoding?.includes(\"gzip\") || acceptEncoding?.includes(\"deflate\");\n\n    let body = typeof request.body === \"function\" ? request.body() : request.body;\n    if (body && !request.headers.has(\"Content-Length\")) {\n      const bodyLength = getBodyLength(body);\n      if (bodyLength !== null) {\n        request.headers.set(\"Content-Length\", bodyLength);\n      }\n    }\n\n    let responseStream: NodeJS.ReadableStream | undefined;\n    try {\n      if (body && request.onUploadProgress) {\n        const onUploadProgress = request.onUploadProgress;\n        const uploadReportStream = new ReportTransform(onUploadProgress);\n        uploadReportStream.on(\"error\", (e) => {\n          logger.error(\"Error in upload progress\", e);\n        });\n        if (isReadableStream(body)) {\n          body.pipe(uploadReportStream);\n        } else {\n          uploadReportStream.end(body);\n        }\n\n        body = uploadReportStream;\n      }\n\n      const res = await this.makeRequest(request, abortController, body);\n\n      const headers = getResponseHeaders(res);\n\n      const status = res.statusCode ?? 0;\n      const response: PipelineResponse = {\n        status,\n        headers,\n        request,\n      };\n\n      // Responses to HEAD must not have a body.\n      // If they do return a body, that body must be ignored.\n      if (request.method === \"HEAD\") {\n        // call resume() and not destroy() to avoid closing the socket\n        // and losing keep alive\n        res.resume();\n        return response;\n      }\n\n      responseStream = shouldDecompress ? getDecodedResponseStream(res, headers) : res;\n\n      const onDownloadProgress = request.onDownloadProgress;\n      if (onDownloadProgress) {\n        const downloadReportStream = new ReportTransform(onDownloadProgress);\n        downloadReportStream.on(\"error\", (e) => {\n          logger.error(\"Error in download progress\", e);\n        });\n        responseStream.pipe(downloadReportStream);\n        responseStream = downloadReportStream;\n      }\n\n      if (\n        // Value of POSITIVE_INFINITY in streamResponseStatusCodes is considered as any status code\n        request.streamResponseStatusCodes?.has(Number.POSITIVE_INFINITY) ||\n        request.streamResponseStatusCodes?.has(response.status)\n      ) {\n        response.readableStreamBody = responseStream;\n      } else {\n        response.bodyAsText = await streamToText(responseStream);\n      }\n\n      return response;\n    } finally {\n      // clean up event listener\n      if (request.abortSignal && abortListener) {\n        let uploadStreamDone = Promise.resolve();\n        if (isReadableStream(body)) {\n          uploadStreamDone = isStreamComplete(body as NodeJS.ReadableStream);\n        }\n        let downloadStreamDone = Promise.resolve();\n        if (isReadableStream(responseStream)) {\n          downloadStreamDone = isStreamComplete(responseStream);\n        }\n\n        Promise.all([uploadStreamDone, downloadStreamDone])\n          .then(() => {\n            // eslint-disable-next-line promise/always-return\n            if (abortListener) {\n              request.abortSignal?.removeEventListener(\"abort\", abortListener);\n            }\n          })\n          .catch((e) => {\n            logger.warning(\"Error when cleaning up abortListener on httpRequest\", e);\n          });\n      }\n    }\n  }\n\n  private makeRequest(\n    request: PipelineRequest,\n    abortController: AbortController,\n    body?: RequestBodyType\n  ): Promise<http.IncomingMessage> {\n    const url = new URL(request.url);\n\n    const isInsecure = url.protocol !== \"https:\";\n\n    if (isInsecure && !request.allowInsecureConnection) {\n      throw new Error(`Cannot connect to ${request.url} while allowInsecureConnection is false.`);\n    }\n\n    const agent = (request.agent as http.Agent) ?? this.getOrCreateAgent(request, isInsecure);\n    const options: http.RequestOptions = {\n      agent,\n      hostname: url.hostname,\n      path: `${url.pathname}${url.search}`,\n      port: url.port,\n      method: request.method,\n      headers: request.headers.toJSON({ preserveCase: true }),\n    };\n\n    return new Promise<http.IncomingMessage>((resolve, reject) => {\n      const req = isInsecure ? http.request(options, resolve) : https.request(options, resolve);\n\n      req.once(\"error\", (err: Error & { code?: string }) => {\n        reject(\n          new RestError(err.message, { code: err.code ?? RestError.REQUEST_SEND_ERROR, request })\n        );\n      });\n\n      abortController.signal.addEventListener(\"abort\", () => {\n        const abortError = new AbortError(\"The operation was aborted.\");\n        req.destroy(abortError);\n        reject(abortError);\n      });\n      if (body && isReadableStream(body)) {\n        body.pipe(req);\n      } else if (body) {\n        if (typeof body === \"string\" || Buffer.isBuffer(body)) {\n          req.end(body);\n        } else if (isArrayBuffer(body)) {\n          req.end(ArrayBuffer.isView(body) ? Buffer.from(body.buffer) : Buffer.from(body));\n        } else {\n          logger.error(\"Unrecognized body type\", body);\n          reject(new RestError(\"Unrecognized body type\"));\n        }\n      } else {\n        // streams don't like \"undefined\" being passed as data\n        req.end();\n      }\n    });\n  }\n\n  private getOrCreateAgent(request: PipelineRequest, isInsecure: boolean): http.Agent {\n    const disableKeepAlive = request.disableKeepAlive;\n\n    // Handle Insecure requests first\n    if (isInsecure) {\n      if (disableKeepAlive) {\n        // keepAlive:false is the default so we don't need a custom Agent\n        return http.globalAgent;\n      }\n\n      if (!this.cachedHttpAgent) {\n        // If there is no cached agent create a new one and cache it.\n        this.cachedHttpAgent = new http.Agent({ keepAlive: true });\n      }\n      return this.cachedHttpAgent;\n    } else {\n      if (disableKeepAlive && !request.tlsSettings) {\n        // When there are no tlsSettings and keepAlive is false\n        // we don't need a custom agent\n        return https.globalAgent;\n      }\n\n      // We use the tlsSettings to index cached clients\n      const tlsSettings = request.tlsSettings ?? DEFAULT_TLS_SETTINGS;\n\n      // Get the cached agent or create a new one with the\n      // provided values for keepAlive and tlsSettings\n      let agent = this.cachedHttpsAgents.get(tlsSettings);\n\n      if (agent && agent.options.keepAlive === !disableKeepAlive) {\n        return agent;\n      }\n\n      logger.info(\"No cached TLS Agent exist, creating a new Agent\");\n      agent = new https.Agent({\n        // keepAlive is true if disableKeepAlive is false.\n        keepAlive: !disableKeepAlive,\n        // Since we are spreading, if no tslSettings were provided, nothing is added to the agent options.\n        ...tlsSettings,\n      });\n\n      this.cachedHttpsAgents.set(tlsSettings, agent);\n      return agent;\n    }\n  }\n}\n\nfunction getResponseHeaders(res: IncomingMessage): HttpHeaders {\n  const headers = createHttpHeaders();\n  for (const header of Object.keys(res.headers)) {\n    const value = res.headers[header];\n    if (Array.isArray(value)) {\n      if (value.length > 0) {\n        headers.set(header, value[0]);\n      }\n    } else if (value) {\n      headers.set(header, value);\n    }\n  }\n  return headers;\n}\n\nfunction getDecodedResponseStream(\n  stream: IncomingMessage,\n  headers: HttpHeaders\n): NodeJS.ReadableStream {\n  const contentEncoding = headers.get(\"Content-Encoding\");\n  if (contentEncoding === \"gzip\") {\n    const unzip = zlib.createGunzip();\n    stream.pipe(unzip);\n    return unzip;\n  } else if (contentEncoding === \"deflate\") {\n    const inflate = zlib.createInflate();\n    stream.pipe(inflate);\n    return inflate;\n  }\n\n  return stream;\n}\n\nfunction streamToText(stream: NodeJS.ReadableStream): Promise<string> {\n  return new Promise<string>((resolve, reject) => {\n    const buffer: Buffer[] = [];\n\n    stream.on(\"data\", (chunk) => {\n      if (Buffer.isBuffer(chunk)) {\n        buffer.push(chunk);\n      } else {\n        buffer.push(Buffer.from(chunk));\n      }\n    });\n    stream.on(\"end\", () => {\n      resolve(Buffer.concat(buffer).toString(\"utf8\"));\n    });\n    stream.on(\"error\", (e) => {\n      if (e && e?.name === \"AbortError\") {\n        reject(e);\n      } else {\n        reject(\n          new RestError(`Error reading response as text: ${e.message}`, {\n            code: RestError.PARSE_ERROR,\n          })\n        );\n      }\n    });\n  });\n}\n\n/** @internal */\nexport function getBodyLength(body: RequestBodyType): number | null {\n  if (!body) {\n    return 0;\n  } else if (Buffer.isBuffer(body)) {\n    return body.length;\n  } else if (isReadableStream(body)) {\n    return null;\n  } else if (isArrayBuffer(body)) {\n    return body.byteLength;\n  } else if (typeof body === \"string\") {\n    return Buffer.from(body).length;\n  } else {\n    return null;\n  }\n}\n\n/**\n * Create a new HttpClient instance for the NodeJS environment.\n * @internal\n */\nexport function createNodeHttpClient(): HttpClient {\n  return new NodeHttpClient();\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { HttpClient } from \"./interfaces\";\nimport { createNodeHttpClient } from \"./nodeHttpClient\";\n\n/**\n * Create the correct HttpClient for the current environment.\n */\nexport function createDefaultHttpClient(): HttpClient {\n  return createNodeHttpClient();\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { v4 as uuidv4 } from \"uuid\";\n\n/**\n * Generated Universally Unique Identifier\n *\n * @returns RFC4122 v4 UUID.\n * @internal\n */\nexport function generateUuid(): string {\n  return uuidv4();\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport {\n  FormDataMap,\n  HttpHeaders,\n  HttpMethods,\n  PipelineRequest,\n  ProxySettings,\n  RequestBodyType,\n  TransferProgressEvent,\n} from \"./interfaces\";\nimport { createHttpHeaders } from \"./httpHeaders\";\nimport { AbortSignalLike } from \"@azure/abort-controller\";\nimport { generateUuid } from \"./util/uuid\";\nimport { OperationTracingOptions } from \"@azure/core-tracing\";\n\n/**\n * Settings to initialize a request.\n * Almost equivalent to Partial<PipelineRequest>, but url is mandatory.\n */\nexport interface PipelineRequestOptions {\n  /**\n   * The URL to make the request to.\n   */\n  url: string;\n\n  /**\n   * The HTTP method to use when making the request.\n   */\n  method?: HttpMethods;\n\n  /**\n   * The HTTP headers to use when making the request.\n   */\n  headers?: HttpHeaders;\n\n  /**\n   * The number of milliseconds a request can take before automatically being terminated.\n   * If the request is terminated, an `AbortError` is thrown.\n   * Defaults to 0, which disables the timeout.\n   */\n  timeout?: number;\n\n  /**\n   * If credentials (cookies) should be sent along during an XHR.\n   * Defaults to false.\n   */\n  withCredentials?: boolean;\n\n  /**\n   * A unique identifier for the request. Used for logging and tracing.\n   */\n  requestId?: string;\n\n  /**\n   * The HTTP body content (if any)\n   */\n  body?: RequestBodyType;\n\n  /**\n   * To simulate a browser form post\n   */\n  formData?: FormDataMap;\n\n  /**\n   * A list of response status codes whose corresponding PipelineResponse body should be treated as a stream.\n   */\n  streamResponseStatusCodes?: Set<number>;\n\n  /**\n   * BROWSER ONLY\n   *\n   * A browser only option to enable use of the Streams API. If this option is set and streaming is used\n   * (see `streamResponseStatusCodes`), the response will have a property `browserStream` instead of\n   * `blobBody` which will be undefined.\n   *\n   * Default value is false\n   */\n  enableBrowserStreams?: boolean;\n\n  /**\n   * Proxy configuration.\n   */\n  proxySettings?: ProxySettings;\n\n  /**\n   * If the connection should not be reused.\n   */\n  disableKeepAlive?: boolean;\n\n  /**\n   * Used to abort the request later.\n   */\n  abortSignal?: AbortSignalLike;\n\n  /**\n   * Options used to create a span when tracing is enabled.\n   */\n  tracingOptions?: OperationTracingOptions;\n\n  /**\n   * Callback which fires upon upload progress.\n   */\n  onUploadProgress?: (progress: TransferProgressEvent) => void;\n\n  /** Callback which fires upon download progress. */\n  onDownloadProgress?: (progress: TransferProgressEvent) => void;\n\n  /** Set to true if the request is sent over HTTP instead of HTTPS */\n  allowInsecureConnection?: boolean;\n}\n\nclass PipelineRequestImpl implements PipelineRequest {\n  public url: string;\n  public method: HttpMethods;\n  public headers: HttpHeaders;\n  public timeout: number;\n  public withCredentials: boolean;\n  public body?: RequestBodyType;\n  public formData?: FormDataMap;\n  public streamResponseStatusCodes?: Set<number>;\n  public enableBrowserStreams: boolean;\n\n  public proxySettings?: ProxySettings;\n  public disableKeepAlive: boolean;\n  public abortSignal?: AbortSignalLike;\n  public requestId: string;\n  public tracingOptions?: OperationTracingOptions;\n  public allowInsecureConnection?: boolean;\n  public onUploadProgress?: (progress: TransferProgressEvent) => void;\n  public onDownloadProgress?: (progress: TransferProgressEvent) => void;\n\n  constructor(options: PipelineRequestOptions) {\n    this.url = options.url;\n    this.body = options.body;\n    this.headers = options.headers ?? createHttpHeaders();\n    this.method = options.method ?? \"GET\";\n    this.timeout = options.timeout ?? 0;\n    this.formData = options.formData;\n    this.disableKeepAlive = options.disableKeepAlive ?? false;\n    this.proxySettings = options.proxySettings;\n    this.streamResponseStatusCodes = options.streamResponseStatusCodes;\n    this.withCredentials = options.withCredentials ?? false;\n    this.abortSignal = options.abortSignal;\n    this.tracingOptions = options.tracingOptions;\n    this.onUploadProgress = options.onUploadProgress;\n    this.onDownloadProgress = options.onDownloadProgress;\n    this.requestId = options.requestId || generateUuid();\n    this.allowInsecureConnection = options.allowInsecureConnection ?? false;\n    this.enableBrowserStreams = options.enableBrowserStreams ?? false;\n  }\n}\n\n/**\n * Creates a new pipeline request with the given options.\n * This method is to allow for the easy setting of default values and not required.\n * @param options - The options to create the request with.\n */\nexport function createPipelineRequest(options: PipelineRequestOptions): PipelineRequest {\n  return new PipelineRequestImpl(options);\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { PipelinePolicy } from \"../pipeline\";\nimport { exponentialRetryStrategy } from \"../retryStrategies/exponentialRetryStrategy\";\nimport { retryPolicy } from \"./retryPolicy\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants\";\n\n/**\n * The programmatic identifier of the exponentialRetryPolicy.\n */\nexport const exponentialRetryPolicyName = \"exponentialRetryPolicy\";\n\n/**\n * Options that control how to retry failed requests.\n */\nexport interface ExponentialRetryPolicyOptions {\n  /**\n   * The maximum number of retry attempts. Defaults to 3.\n   */\n  maxRetries?: number;\n\n  /**\n   * The amount of delay in milliseconds between retry attempts. Defaults to 1000\n   * (1 second.) The delay increases exponentially with each retry up to a maximum\n   * specified by maxRetryDelayInMs.\n   */\n  retryDelayInMs?: number;\n\n  /**\n   * The maximum delay in milliseconds allowed before retrying an operation. Defaults\n   * to 64000 (64 seconds).\n   */\n  maxRetryDelayInMs?: number;\n}\n\n/**\n * A policy that attempts to retry requests while introducing an exponentially increasing delay.\n * @param options - Options that configure retry logic.\n */\nexport function exponentialRetryPolicy(\n  options: ExponentialRetryPolicyOptions = {}\n): PipelinePolicy {\n  return retryPolicy(\n    [\n      exponentialRetryStrategy({\n        ...options,\n        ignoreSystemErrors: true,\n      }),\n    ],\n    {\n      maxRetries: options.maxRetries ?? DEFAULT_RETRY_POLICY_COUNT,\n    }\n  );\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { PipelinePolicy } from \"../pipeline\";\nimport { exponentialRetryStrategy } from \"../retryStrategies/exponentialRetryStrategy\";\nimport { retryPolicy } from \"./retryPolicy\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants\";\n\n/**\n * Name of the {@link systemErrorRetryPolicy}\n */\nexport const systemErrorRetryPolicyName = \"systemErrorRetryPolicy\";\n\n/**\n * Options that control how to retry failed requests.\n */\nexport interface SystemErrorRetryPolicyOptions {\n  /**\n   * The maximum number of retry attempts. Defaults to 3.\n   */\n  maxRetries?: number;\n\n  /**\n   * The amount of delay in milliseconds between retry attempts. Defaults to 1000\n   * (1 second.) The delay increases exponentially with each retry up to a maximum\n   * specified by maxRetryDelayInMs.\n   */\n  retryDelayInMs?: number;\n\n  /**\n   * The maximum delay in milliseconds allowed before retrying an operation. Defaults\n   * to 64000 (64 seconds).\n   */\n  maxRetryDelayInMs?: number;\n}\n\n/**\n * A retry policy that specifically seeks to handle errors in the\n * underlying transport layer (e.g. DNS lookup failures) rather than\n * retryable error codes from the server itself.\n * @param options - Options that customize the policy.\n */\nexport function systemErrorRetryPolicy(\n  options: SystemErrorRetryPolicyOptions = {}\n): PipelinePolicy {\n  return {\n    name: systemErrorRetryPolicyName,\n    sendRequest: retryPolicy(\n      [\n        exponentialRetryStrategy({\n          ...options,\n          ignoreHttpStatusCodes: true,\n        }),\n      ],\n      {\n        maxRetries: options.maxRetries ?? DEFAULT_RETRY_POLICY_COUNT,\n      }\n    ).sendRequest,\n  };\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { PipelinePolicy } from \"../pipeline\";\nimport { throttlingRetryStrategy } from \"../retryStrategies/throttlingRetryStrategy\";\nimport { retryPolicy } from \"./retryPolicy\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants\";\n\n/**\n * Name of the {@link throttlingRetryPolicy}\n */\nexport const throttlingRetryPolicyName = \"throttlingRetryPolicy\";\n\n/**\n * Options that control how to retry failed requests.\n */\nexport interface ThrottlingRetryPolicyOptions {\n  /**\n   * The maximum number of retry attempts. Defaults to 3.\n   */\n  maxRetries?: number;\n}\n\n/**\n * A policy that retries when the server sends a 429 response with a Retry-After header.\n *\n * To learn more, please refer to\n * https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-manager-request-limits,\n * https://docs.microsoft.com/en-us/azure/azure-subscription-service-limits and\n * https://docs.microsoft.com/en-us/azure/virtual-machines/troubleshooting/troubleshooting-throttling-errors\n *\n * @param options - Options that configure retry logic.\n */\nexport function throttlingRetryPolicy(options: ThrottlingRetryPolicyOptions = {}): PipelinePolicy {\n  return {\n    name: throttlingRetryPolicyName,\n    sendRequest: retryPolicy([throttlingRetryStrategy()], {\n      maxRetries: options.maxRetries ?? DEFAULT_RETRY_POLICY_COUNT,\n    }).sendRequest,\n  };\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { AccessToken, GetTokenOptions, TokenCredential } from \"@azure/core-auth\";\nimport { delay } from \"./helpers\";\n\n/**\n * A function that gets a promise of an access token and allows providing\n * options.\n *\n * @param options - the options to pass to the underlying token provider\n */\nexport type AccessTokenGetter = (\n  scopes: string | string[],\n  options: GetTokenOptions\n) => Promise<AccessToken>;\n\nexport interface TokenCyclerOptions {\n  /**\n   * The window of time before token expiration during which the token will be\n   * considered unusable due to risk of the token expiring before sending the\n   * request.\n   *\n   * This will only become meaningful if the refresh fails for over\n   * (refreshWindow - forcedRefreshWindow) milliseconds.\n   */\n  forcedRefreshWindowInMs: number;\n  /**\n   * Interval in milliseconds to retry failed token refreshes.\n   */\n  retryIntervalInMs: number;\n  /**\n   * The window of time before token expiration during which\n   * we will attempt to refresh the token.\n   */\n  refreshWindowInMs: number;\n}\n\n// Default options for the cycler if none are provided\nexport const DEFAULT_CYCLER_OPTIONS: TokenCyclerOptions = {\n  forcedRefreshWindowInMs: 1000, // Force waiting for a refresh 1s before the token expires\n  retryIntervalInMs: 3000, // Allow refresh attempts every 3s\n  refreshWindowInMs: 1000 * 60 * 2, // Start refreshing 2m before expiry\n};\n\n/**\n * Converts an an unreliable access token getter (which may resolve with null)\n * into an AccessTokenGetter by retrying the unreliable getter in a regular\n * interval.\n *\n * @param getAccessToken - A function that produces a promise of an access token that may fail by returning null.\n * @param retryIntervalInMs - The time (in milliseconds) to wait between retry attempts.\n * @param refreshTimeout - The timestamp after which the refresh attempt will fail, throwing an exception.\n * @returns - A promise that, if it resolves, will resolve with an access token.\n */\nasync function beginRefresh(\n  getAccessToken: () => Promise<AccessToken | null>,\n  retryIntervalInMs: number,\n  refreshTimeout: number\n): Promise<AccessToken> {\n  // This wrapper handles exceptions gracefully as long as we haven't exceeded\n  // the timeout.\n  async function tryGetAccessToken(): Promise<AccessToken | null> {\n    if (Date.now() < refreshTimeout) {\n      try {\n        return await getAccessToken();\n      } catch {\n        return null;\n      }\n    } else {\n      const finalToken = await getAccessToken();\n\n      // Timeout is up, so throw if it's still null\n      if (finalToken === null) {\n        throw new Error(\"Failed to refresh access token.\");\n      }\n\n      return finalToken;\n    }\n  }\n\n  let token: AccessToken | null = await tryGetAccessToken();\n\n  while (token === null) {\n    await delay(retryIntervalInMs);\n\n    token = await tryGetAccessToken();\n  }\n\n  return token;\n}\n\n/**\n * Creates a token cycler from a credential, scopes, and optional settings.\n *\n * A token cycler represents a way to reliably retrieve a valid access token\n * from a TokenCredential. It will handle initializing the token, refreshing it\n * when it nears expiration, and synchronizes refresh attempts to avoid\n * concurrency hazards.\n *\n * @param credential - the underlying TokenCredential that provides the access\n * token\n * @param tokenCyclerOptions - optionally override default settings for the cycler\n *\n * @returns - a function that reliably produces a valid access token\n */\nexport function createTokenCycler(\n  credential: TokenCredential,\n  tokenCyclerOptions?: Partial<TokenCyclerOptions>\n): AccessTokenGetter {\n  let refreshWorker: Promise<AccessToken> | null = null;\n  let token: AccessToken | null = null;\n  let tenantId: string | undefined;\n\n  const options = {\n    ...DEFAULT_CYCLER_OPTIONS,\n    ...tokenCyclerOptions,\n  };\n\n  /**\n   * This little holder defines several predicates that we use to construct\n   * the rules of refreshing the token.\n   */\n  const cycler = {\n    /**\n     * Produces true if a refresh job is currently in progress.\n     */\n    get isRefreshing(): boolean {\n      return refreshWorker !== null;\n    },\n    /**\n     * Produces true if the cycler SHOULD refresh (we are within the refresh\n     * window and not already refreshing)\n     */\n    get shouldRefresh(): boolean {\n      return (\n        !cycler.isRefreshing &&\n        (token?.expiresOnTimestamp ?? 0) - options.refreshWindowInMs < Date.now()\n      );\n    },\n    /**\n     * Produces true if the cycler MUST refresh (null or nearly-expired\n     * token).\n     */\n    get mustRefresh(): boolean {\n      return (\n        token === null || token.expiresOnTimestamp - options.forcedRefreshWindowInMs < Date.now()\n      );\n    },\n  };\n\n  /**\n   * Starts a refresh job or returns the existing job if one is already\n   * running.\n   */\n  function refresh(\n    scopes: string | string[],\n    getTokenOptions: GetTokenOptions\n  ): Promise<AccessToken> {\n    if (!cycler.isRefreshing) {\n      // We bind `scopes` here to avoid passing it around a lot\n      const tryGetAccessToken = (): Promise<AccessToken | null> =>\n        credential.getToken(scopes, getTokenOptions);\n\n      // Take advantage of promise chaining to insert an assignment to `token`\n      // before the refresh can be considered done.\n      refreshWorker = beginRefresh(\n        tryGetAccessToken,\n        options.retryIntervalInMs,\n        // If we don't have a token, then we should timeout immediately\n        token?.expiresOnTimestamp ?? Date.now()\n      )\n        .then((_token) => {\n          refreshWorker = null;\n          token = _token;\n          tenantId = getTokenOptions.tenantId;\n          return token;\n        })\n        .catch((reason) => {\n          // We also should reset the refresher if we enter a failed state.  All\n          // existing awaiters will throw, but subsequent requests will start a\n          // new retry chain.\n          refreshWorker = null;\n          token = null;\n          tenantId = undefined;\n          throw reason;\n        });\n    }\n\n    return refreshWorker as Promise<AccessToken>;\n  }\n\n  return async (scopes: string | string[], tokenOptions: GetTokenOptions): Promise<AccessToken> => {\n    //\n    // Simple rules:\n    // - If we MUST refresh, then return the refresh task, blocking\n    //   the pipeline until a token is available.\n    // - If we SHOULD refresh, then run refresh but don't return it\n    //   (we can still use the cached token).\n    // - Return the token, since it's fine if we didn't return in\n    //   step 1.\n    //\n\n    // If the tenantId passed in token options is different to the one we have\n    // Or if we are in claim challenge and the token was rejected and a new access token need to be issued, we need to\n    // refresh the token with the new tenantId or token.\n    const mustRefresh =\n      tenantId !== tokenOptions.tenantId || Boolean(tokenOptions.claims) || cycler.mustRefresh;\n\n    if (mustRefresh) return refresh(scopes, tokenOptions);\n\n    if (cycler.shouldRefresh) {\n      refresh(scopes, tokenOptions);\n    }\n\n    return token as AccessToken;\n  };\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { AccessToken, GetTokenOptions, TokenCredential } from \"@azure/core-auth\";\nimport { AzureLogger } from \"@azure/logger\";\nimport { PipelineRequest, PipelineResponse, SendRequest } from \"../interfaces\";\nimport { PipelinePolicy } from \"../pipeline\";\nimport { createTokenCycler } from \"../util/tokenCycler\";\nimport { logger as coreLogger } from \"../log\";\n\n/**\n * The programmatic identifier of the bearerTokenAuthenticationPolicy.\n */\nexport const bearerTokenAuthenticationPolicyName = \"bearerTokenAuthenticationPolicy\";\n\n/**\n * Options sent to the authorizeRequest callback\n */\nexport interface AuthorizeRequestOptions {\n  /**\n   * The scopes for which the bearer token applies.\n   */\n  scopes: string[];\n  /**\n   * Function that retrieves either a cached access token or a new access token.\n   */\n  getAccessToken: (scopes: string[], options: GetTokenOptions) => Promise<AccessToken | null>;\n  /**\n   * Request that the policy is trying to fulfill.\n   */\n  request: PipelineRequest;\n  /**\n   * A logger, if one was sent through the HTTP pipeline.\n   */\n  logger?: AzureLogger;\n}\n\n/**\n * Options sent to the authorizeRequestOnChallenge callback\n */\nexport interface AuthorizeRequestOnChallengeOptions {\n  /**\n   * The scopes for which the bearer token applies.\n   */\n  scopes: string[];\n  /**\n   * Function that retrieves either a cached access token or a new access token.\n   */\n  getAccessToken: (scopes: string[], options: GetTokenOptions) => Promise<AccessToken | null>;\n  /**\n   * Request that the policy is trying to fulfill.\n   */\n  request: PipelineRequest;\n  /**\n   * Response containing the challenge.\n   */\n  response: PipelineResponse;\n  /**\n   * A logger, if one was sent through the HTTP pipeline.\n   */\n  logger?: AzureLogger;\n}\n\n/**\n * Options to override the processing of [Continuous Access Evaluation](https://docs.microsoft.com/azure/active-directory/conditional-access/concept-continuous-access-evaluation) challenges.\n */\nexport interface ChallengeCallbacks {\n  /**\n   * Allows for the authorization of the main request of this policy before it's sent.\n   */\n  authorizeRequest?(options: AuthorizeRequestOptions): Promise<void>;\n  /**\n   * Allows to handle authentication challenges and to re-authorize the request.\n   * The response containing the challenge is `options.response`.\n   * If this method returns true, the underlying request will be sent once again.\n   * The request may be modified before being sent.\n   */\n  authorizeRequestOnChallenge?(options: AuthorizeRequestOnChallengeOptions): Promise<boolean>;\n}\n\n/**\n * Options to configure the bearerTokenAuthenticationPolicy\n */\nexport interface BearerTokenAuthenticationPolicyOptions {\n  /**\n   * The TokenCredential implementation that can supply the bearer token.\n   */\n  credential?: TokenCredential;\n  /**\n   * The scopes for which the bearer token applies.\n   */\n  scopes: string | string[];\n  /**\n   * Allows for the processing of [Continuous Access Evaluation](https://docs.microsoft.com/azure/active-directory/conditional-access/concept-continuous-access-evaluation) challenges.\n   * If provided, it must contain at least the `authorizeRequestOnChallenge` method.\n   * If provided, after a request is sent, if it has a challenge, it can be processed to re-send the original request with the relevant challenge information.\n   */\n  challengeCallbacks?: ChallengeCallbacks;\n  /**\n   * A logger can be sent for debugging purposes.\n   */\n  logger?: AzureLogger;\n}\n\n/**\n * Default authorize request handler\n */\nasync function defaultAuthorizeRequest(options: AuthorizeRequestOptions): Promise<void> {\n  const { scopes, getAccessToken, request } = options;\n  const getTokenOptions: GetTokenOptions = {\n    abortSignal: request.abortSignal,\n    tracingOptions: request.tracingOptions,\n  };\n  const accessToken = await getAccessToken(scopes, getTokenOptions);\n\n  if (accessToken) {\n    options.request.headers.set(\"Authorization\", `Bearer ${accessToken.token}`);\n  }\n}\n\n/**\n * We will retrieve the challenge only if the response status code was 401,\n * and if the response contained the header \"WWW-Authenticate\" with a non-empty value.\n */\nfunction getChallenge(response: PipelineResponse): string | undefined {\n  const challenge = response.headers.get(\"WWW-Authenticate\");\n  if (response.status === 401 && challenge) {\n    return challenge;\n  }\n  return;\n}\n\n/**\n * A policy that can request a token from a TokenCredential implementation and\n * then apply it to the Authorization header of a request as a Bearer token.\n */\nexport function bearerTokenAuthenticationPolicy(\n  options: BearerTokenAuthenticationPolicyOptions\n): PipelinePolicy {\n  const { credential, scopes, challengeCallbacks } = options;\n  const logger = options.logger || coreLogger;\n  const callbacks = {\n    authorizeRequest: challengeCallbacks?.authorizeRequest ?? defaultAuthorizeRequest,\n    authorizeRequestOnChallenge: challengeCallbacks?.authorizeRequestOnChallenge,\n    // keep all other properties\n    ...challengeCallbacks,\n  };\n\n  // This function encapsulates the entire process of reliably retrieving the token\n  // The options are left out of the public API until there's demand to configure this.\n  // Remember to extend `BearerTokenAuthenticationPolicyOptions` with `TokenCyclerOptions`\n  // in order to pass through the `options` object.\n  const getAccessToken = credential\n    ? createTokenCycler(credential /* , options */)\n    : () => Promise.resolve(null);\n\n  return {\n    name: bearerTokenAuthenticationPolicyName,\n    /**\n     * If there's no challenge parameter:\n     * - It will try to retrieve the token using the cache, or the credential's getToken.\n     * - Then it will try the next policy with or without the retrieved token.\n     *\n     * It uses the challenge parameters to:\n     * - Skip a first attempt to get the token from the credential if there's no cached token,\n     *   since it expects the token to be retrievable only after the challenge.\n     * - Prepare the outgoing request if the `prepareRequest` method has been provided.\n     * - Send an initial request to receive the challenge if it fails.\n     * - Process a challenge if the response contains it.\n     * - Retrieve a token with the challenge information, then re-send the request.\n     */\n    async sendRequest(request: PipelineRequest, next: SendRequest): Promise<PipelineResponse> {\n      if (!request.url.toLowerCase().startsWith(\"https://\")) {\n        throw new Error(\n          \"Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.\"\n        );\n      }\n\n      await callbacks.authorizeRequest({\n        scopes: Array.isArray(scopes) ? scopes : [scopes],\n        request,\n        getAccessToken,\n        logger,\n      });\n\n      let response: PipelineResponse;\n      let error: Error | undefined;\n      try {\n        response = await next(request);\n      } catch (err: any) {\n        error = err;\n        response = err.response;\n      }\n\n      if (\n        callbacks.authorizeRequestOnChallenge &&\n        response?.status === 401 &&\n        getChallenge(response)\n      ) {\n        // processes challenge\n        const shouldSendRequest = await callbacks.authorizeRequestOnChallenge({\n          scopes: Array.isArray(scopes) ? scopes : [scopes],\n          request,\n          response,\n          getAccessToken,\n          logger,\n        });\n\n        if (shouldSendRequest) {\n          return next(request);\n        }\n      }\n\n      if (error) {\n        throw error;\n      } else {\n        return response;\n      }\n    },\n  };\n}\n", "// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { PipelineRequest, PipelineResponse, SendRequest } from \"../interfaces\";\nimport { PipelinePolicy } from \"../pipeline\";\n\n/**\n * The programmatic identifier of the ndJsonPolicy.\n */\nexport const ndJsonPolicyName = \"ndJsonPolicy\";\n\n/**\n * ndJsonPolicy is a policy used to control keep alive settings for every request.\n */\nexport function ndJsonPolicy(): PipelinePolicy {\n  return {\n    name: ndJsonPolicyName,\n    async sendRequest(request: PipelineRequest, next: SendRequest): Promise<PipelineResponse> {\n      // There currently isn't a good way to bypass the serializer\n      if (typeof request.body === \"string\" && request.body.startsWith(\"[\")) {\n        const body = JSON.parse(request.body);\n        if (Array.isArray(body)) {\n          request.body = body.map((item) => JSON.stringify(item) + \"\\n\").join(\"\");\n        }\n      }\n      return next(request);\n    },\n  };\n}\n", "import http = require(\"http\");\r\nimport https = require(\"https\");\r\nimport azureCoreAuth = require(\"@azure/core-auth\");\r\nimport azureCore = require(\"@azure/core-rest-pipeline\");\r\n\r\nconst applicationInsightsResource = \"https://monitor.azure.com//.default\";\r\n\r\n\r\nfunction emptySendRequest(_request: azureCore.PipelineRequest): Promise<azureCore.PipelineResponse> {\r\n  return null;\r\n}\r\n\r\nclass AuthorizationHandler {\r\n\r\n  private _azureTokenPolicy: azureCore.PipelinePolicy;\r\n\r\n  constructor(credential: azureCoreAuth.TokenCredential) {\r\n    let scopes: string[] = [applicationInsightsResource];\r\n    this._azureTokenPolicy = azureCore.bearerTokenAuthenticationPolicy({ credential, scopes });\r\n  }\r\n\r\n  /**\r\n  * Applies the Bearer token to the request through the Authorization header.\r\n  */\r\n  public async addAuthorizationHeader(requestOptions: http.RequestOptions | https.RequestOptions): Promise<void> {\r\n    let authHeaderName = \"authorization\";\r\n    let webResource = azureCore.createPipelineRequest({ url: \"https://\" });\r\n    await this._azureTokenPolicy.sendRequest(webResource, emptySendRequest);\r\n    requestOptions.headers[authHeaderName] = webResource.headers.get(authHeaderName);\r\n  }\r\n}\r\n\r\nexport = AuthorizationHandler;\r\n", "import Contracts = require(\"../Declarations/Contracts\");\r\nimport Logging = require(\"./Logging\");\r\nimport Sender = require(\"./Sender\");\r\nimport Util = require(\"./Util\");\r\n\r\nclass Channel {\r\n    protected _lastSend: number;\r\n    protected _timeoutHandle: any;\r\n\r\n    protected _isDisabled: () => boolean;\r\n    protected _getBatchSize: () => number;\r\n    protected _getBatchIntervalMs: () => number;\r\n    \r\n    public _sender: Sender;\r\n    public _buffer: Contracts.EnvelopeTelemetry[];\r\n\r\n    constructor(isDisabled: () => boolean, getBatchSize: () => number, getBatchIntervalMs: () => number, sender: Sender) {\r\n        this._buffer = [];\r\n        this._lastSend = 0;\r\n        this._isDisabled = isDisabled;\r\n        this._getBatchSize = getBatchSize;\r\n        this._getBatchIntervalMs = getBatchIntervalMs;\r\n        this._sender = sender;\r\n    }\r\n\r\n    /**\r\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\r\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\r\n     * @param value if true events that occurred while client is offline will be cached on disk\r\n     * @param resendInterval The wait interval for resending cached events.\r\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\r\n     * @returns {Configuration} this class\r\n     */\r\n    public setUseDiskRetryCaching(value: boolean, resendInterval?: number, maxBytesOnDisk?: number) {\r\n        this._sender.setDiskRetryMode(value, resendInterval, maxBytesOnDisk);\r\n    }\r\n\r\n    /**\r\n     * Add a telemetry item to the send buffer\r\n     */\r\n    public send(envelope: Contracts.EnvelopeTelemetry) {\r\n\r\n        // if master off switch is set, don't send any data\r\n        if (this._isDisabled()) {\r\n            // Do not send/save data\r\n            return;\r\n        }\r\n\r\n        // validate input\r\n        if (!envelope) {\r\n            Logging.warn(\"Cannot send null/undefined telemetry\");\r\n            return;\r\n        }\r\n\r\n        // enqueue the payload\r\n        this._buffer.push(envelope);\r\n\r\n        // flush if we would exceed the max-size limit by adding this item\r\n        if (this._buffer.length >= this._getBatchSize()) {\r\n            this.triggerSend(false);\r\n            return;\r\n        }\r\n\r\n        // ensure an invocation timeout is set if anything is in the buffer\r\n        if (!this._timeoutHandle && this._buffer.length > 0) {\r\n            this._timeoutHandle = setTimeout(() => {\r\n                this._timeoutHandle = null;\r\n                this.triggerSend(false);\r\n            }, this._getBatchIntervalMs());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Immediately send buffered data\r\n     */\r\n    public triggerSend(isNodeCrashing: boolean, callback?: (v: string) => void) {\r\n        let bufferIsEmpty = this._buffer.length < 1;\r\n        if (!bufferIsEmpty) {\r\n            // invoke send\r\n            if (isNodeCrashing || Util.isNodeExit) {\r\n                this._sender.saveOnCrash(this._buffer);\r\n                if (typeof callback === \"function\") {\r\n                    callback(\"data saved on crash\");\r\n                }\r\n            } else {\r\n                this._sender.send(this._buffer, callback);\r\n            }\r\n        }\r\n\r\n        // update lastSend time to enable throttling\r\n        this._lastSend = +new Date;\r\n\r\n        // clear buffer\r\n        this._buffer = [];\r\n        clearTimeout(this._timeoutHandle);\r\n        this._timeoutHandle = null;\r\n        if (bufferIsEmpty && typeof callback === \"function\") {\r\n            callback(\"no data to send\");\r\n        }\r\n    }\r\n}\r\n\r\nexport = Channel;\r\n", "import Contracts = require(\"../Declarations/Contracts\");\r\nimport Context = require(\"../Library/Context\");\r\n\r\n/**\r\n *  @deprecated The method should not be called, Azure Properties will be added always when available\r\n *  A telemetry processor that handles Azure specific variables.\r\n */\r\nexport function azureRoleEnvironmentTelemetryProcessor(envelope: Contracts.EnvelopeTelemetry, context: Context): void {\r\n    // NO-OP\r\n}\r\n", "import Contracts = require(\"../Declarations/Contracts\");\r\nimport { CorrelationContext } from \"../AutoCollection/CorrelationContextManager\";\r\n\r\n/**\r\n *  A telemetry processor that handles sampling.\r\n */\r\nexport function samplingTelemetryProcessor(envelope: Contracts.EnvelopeTelemetry, contextObjects: { correlationContext: CorrelationContext }): boolean {\r\n    var samplingPercentage = envelope.sampleRate; // Set for us in Client.getEnvelope\r\n    var isSampledIn = false;\r\n\r\n    if (samplingPercentage === null || samplingPercentage === undefined || samplingPercentage >= 100) {\r\n        return true;\r\n    } else if (envelope.data && Contracts.TelemetryType.Metric === Contracts.baseTypeToTelemetryType(envelope.data.baseType as Contracts.TelemetryTypeValues)) {\r\n        // Exclude MetricData telemetry from sampling\r\n        return true;\r\n    } else if (contextObjects.correlationContext && contextObjects.correlationContext.operation) {\r\n        // If we're using dependency correlation, sampling should retain all telemetry from a given request\r\n        isSampledIn = getSamplingHashCode(contextObjects.correlationContext.operation.id) < samplingPercentage;\r\n    } else {\r\n        // If we're not using dependency correlation, sampling should use a random distribution on each item\r\n        isSampledIn = (Math.random() * 100) < samplingPercentage;\r\n    }\r\n\r\n    return isSampledIn;\r\n}\r\n\r\n/** Ported from AI .NET SDK */\r\nexport function getSamplingHashCode(input: string): number {\r\n    var csharpMin = -2147483648;\r\n    var csharpMax = 2147483647;\r\n    var hash = 5381;\r\n\r\n    if (!input) {\r\n        return 0;\r\n    }\r\n\r\n    while (input.length < 8) {\r\n        input = input + input;\r\n    }\r\n\r\n    for (var i = 0; i < input.length; i++) {\r\n        // JS doesn't respond to integer overflow by wrapping around. Simulate it with bitwise operators ( | 0)\r\n        hash = ((((hash << 5) + hash) | 0) + input.charCodeAt(i) | 0);\r\n    }\r\n\r\n    hash = hash <= csharpMin ? csharpMax : Math.abs(hash);\r\n    return (hash / csharpMax) * 100;\r\n}", "import Contracts = require(\"../Declarations/Contracts\");\r\nimport QuickPulseStateManager = require(\"../Library/QuickPulseStateManager\")\r\nimport AutoCollectPerformance = require(\"../AutoCollection/Performance\");\r\nimport * as TelemetryType from \"../Declarations/Contracts\";\r\n\r\nexport function performanceMetricsTelemetryProcessor(envelope: Contracts.EnvelopeTelemetry, client?: QuickPulseStateManager): boolean {\r\n    // If live metrics is enabled, forward all telemetry there\r\n    if (client) {\r\n        client.addDocument(envelope);\r\n    }\r\n\r\n    // Increment rate counters (for standard metrics and live metrics)\r\n    switch (envelope.data.baseType) {\r\n        case TelemetryType.TelemetryTypeString.Exception:\r\n            AutoCollectPerformance.countException();\r\n            break;\r\n        case TelemetryType.TelemetryTypeString.Request:\r\n            const requestData: Contracts.RequestData = (envelope.data as any).baseData;\r\n            AutoCollectPerformance.countRequest(requestData.duration, requestData.success);\r\n            break;\r\n        case TelemetryType.TelemetryTypeString.Dependency:\r\n            const remoteDependencyData: Contracts.RemoteDependencyData = (envelope.data as any).baseData;\r\n            AutoCollectPerformance.countDependency(remoteDependencyData.duration, remoteDependencyData.success);\r\n            break;\r\n    }\r\n    return true;\r\n}\r\n", "import Contracts = require(\"../Declarations/Contracts\");\r\nimport AutoCollecPreAggregatedMetrics = require(\"../AutoCollection/PreAggregatedMetrics\");\r\nimport * as TelemetryType from \"../Declarations/Contracts\";\r\nimport {\r\n    MetricDependencyDimensions,\r\n    MetricExceptionDimensions,\r\n    MetricRequestDimensions,\r\n    MetricTraceDimensions\r\n} from \"../Declarations/Metrics/AggregatedMetricDimensions\";\r\nimport Context = require(\"../Library/Context\");\r\n\r\nexport function preAggregatedMetricsTelemetryProcessor(envelope: Contracts.EnvelopeTelemetry, context: Context): boolean {\r\n    if (AutoCollecPreAggregatedMetrics.isEnabled()) {\r\n        // Increment rate counters\r\n        switch (envelope.data.baseType) {\r\n            case TelemetryType.TelemetryTypeString.Exception:\r\n                const exceptionData: Contracts.ExceptionData = (envelope.data as any).baseData;\r\n                exceptionData.properties = {\r\n                    ...exceptionData.properties,\r\n                    \"_MS.ProcessedByMetricExtractors\": \"(Name:'Exceptions', Ver:'1.1')\"\r\n                };\r\n                let exceptionDimensions: MetricExceptionDimensions = {\r\n                    cloudRoleInstance: envelope.tags[context.keys.cloudRoleInstance],\r\n                    cloudRoleName: envelope.tags[context.keys.cloudRole]\r\n                };\r\n                AutoCollecPreAggregatedMetrics.countException(exceptionDimensions);\r\n                break;\r\n            case TelemetryType.TelemetryTypeString.Trace:\r\n                const traceData: Contracts.TraceTelemetry = (envelope.data as any).baseData;\r\n                traceData.properties = {\r\n                    ...traceData.properties,\r\n                    \"_MS.ProcessedByMetricExtractors\": \"(Name:'Traces', Ver:'1.1')\"\r\n                }\r\n                let traceDimensions: MetricTraceDimensions = {\r\n                    cloudRoleInstance: envelope.tags[context.keys.cloudRoleInstance],\r\n                    cloudRoleName: envelope.tags[context.keys.cloudRole],\r\n                    traceSeverityLevel: Contracts.SeverityLevel[traceData.severity]\r\n                };\r\n                AutoCollecPreAggregatedMetrics.countTrace(traceDimensions);\r\n                break;\r\n            case TelemetryType.TelemetryTypeString.Request:\r\n                const requestData: Contracts.RequestData = (envelope.data as any).baseData;\r\n                requestData.properties = {\r\n                    ...requestData.properties,\r\n                    \"_MS.ProcessedByMetricExtractors\": \"(Name:'Requests', Ver:'1.1')\"\r\n                }\r\n                let requestDimensions: MetricRequestDimensions = {\r\n                    cloudRoleInstance: envelope.tags[context.keys.cloudRoleInstance],\r\n                    cloudRoleName: envelope.tags[context.keys.cloudRole],\r\n                    operationSynthetic: envelope.tags[context.keys.operationSyntheticSource],\r\n                    requestSuccess: requestData.success,\r\n                    requestResultCode: requestData.responseCode\r\n                };\r\n                AutoCollecPreAggregatedMetrics.countRequest(requestData.duration, requestDimensions);\r\n                break;\r\n            case TelemetryType.TelemetryTypeString.Dependency:\r\n                const remoteDependencyData: Contracts.RemoteDependencyData = (envelope.data as any).baseData;\r\n                remoteDependencyData.properties = {\r\n                    ...remoteDependencyData.properties,\r\n                    \"_MS.ProcessedByMetricExtractors\": \"(Name:'Dependencies', Ver:'1.1')\"\r\n                }\r\n                let dependencyDimensions: MetricDependencyDimensions = {\r\n                    cloudRoleInstance: envelope.tags[context.keys.cloudRoleInstance],\r\n                    cloudRoleName: envelope.tags[context.keys.cloudRole],\r\n                    operationSynthetic: envelope.tags[context.keys.operationSyntheticSource],\r\n                    dependencySuccess: remoteDependencyData.success,\r\n                    dependencyType: remoteDependencyData.type,\r\n                    dependencyTarget: remoteDependencyData.target,\r\n                    dependencyResultCode: remoteDependencyData.resultCode\r\n                };\r\n                AutoCollecPreAggregatedMetrics.countDependency(remoteDependencyData.duration, dependencyDimensions);\r\n                break;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n", "export * from \"./AzureRoleEnvironmentTelemetryInitializer\";\r\nexport * from \"./SamplingTelemetryProcessor\";\r\nexport * from \"./PerformanceMetricsTelemetryProcessor\";\r\nexport * from \"./PreAggregatedMetricsTelemetryProcessor\";\r\n", "import Contracts = require(\"../Declarations/Contracts\")\r\nimport Util = require(\"./Util\")\r\nimport Config = require(\"./Config\");\r\nimport Context = require(\"./Context\");\r\nimport { CorrelationContextManager } from \"../AutoCollection/CorrelationContextManager\";\r\nimport { Telemetry } from \"../Declarations/Contracts\";\r\nimport Logging = require(\"./Logging\");\r\n\r\n\r\n/**\r\n * Manages the logic of creating envelopes from Telemetry objects\r\n */\r\nclass EnvelopeFactory {\r\n\r\n\r\n    /**\r\n     * Creates envelope ready to be sent by Channel\r\n     * @param telemetry Telemetry data\r\n     * @param telemetryType Type of telemetry\r\n     * @param commonProperties Bag of custom common properties to be added to the envelope\r\n     * @param context Client context\r\n     * @param config Client configuration\r\n     */\r\n    public static createEnvelope(\r\n        telemetry: Contracts.Telemetry,\r\n        telemetryType: Contracts.TelemetryType,\r\n        commonProperties?: { [key: string]: string; },\r\n        context?: Context,\r\n        config?: Config): Contracts.Envelope {\r\n\r\n        var data = null;\r\n\r\n\r\n        switch (telemetryType) {\r\n            case Contracts.TelemetryType.Trace:\r\n                data = EnvelopeFactory.createTraceData(<Contracts.TraceTelemetry>telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Dependency:\r\n                data = EnvelopeFactory.createDependencyData(<Contracts.DependencyTelemetry>telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Event:\r\n                data = EnvelopeFactory.createEventData(<Contracts.EventTelemetry>telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Exception:\r\n                data = EnvelopeFactory.createExceptionData(<Contracts.ExceptionTelemetry>telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Request:\r\n                data = EnvelopeFactory.createRequestData(<Contracts.RequestTelemetry>telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Metric:\r\n                data = EnvelopeFactory.createMetricData(<Contracts.MetricTelemetry>telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Availability:\r\n                data = EnvelopeFactory.createAvailabilityData(<Contracts.AvailabilityTelemetry>telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.PageView:\r\n                data = EnvelopeFactory.createPageViewData(<Contracts.PageViewTelemetry>telemetry);\r\n                break;\r\n        }\r\n\r\n        if (data && data.baseData) {\r\n            if (Contracts.domainSupportsProperties(data.baseData)) { // Do instanceof check. TS will automatically cast and allow the properties property\r\n                if (commonProperties) {\r\n                    // if no properties are specified just add the common ones\r\n                    if (!data.baseData.properties) {\r\n                        data.baseData.properties = commonProperties;\r\n                    } else {\r\n                        // otherwise, check each of the common ones\r\n                        for (var name in commonProperties) {\r\n                            // only override if the property `name` has not been set on this item\r\n                            if (!data.baseData.properties[name]) {\r\n                                data.baseData.properties[name] = commonProperties[name];\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                EnvelopeFactory.addAzureFunctionsCorrelationProperties(data.baseData.properties);\r\n                if (data.baseData.properties) {\r\n                    // sanitize properties\r\n                    data.baseData.properties = Util.validateStringMap(data.baseData.properties);\r\n                }\r\n            }\r\n        }\r\n\r\n        var iKey = config ? config.instrumentationKey || \"\" : \"\";\r\n        var envelope = new Contracts.Envelope();\r\n        envelope.data = data;\r\n        envelope.iKey = iKey;\r\n\r\n        // this is kind of a hack, but the envelope name is always the same as the data name sans the chars \"data\"\r\n        envelope.name =\r\n            \"Microsoft.ApplicationInsights.\" +\r\n            iKey.replace(/-/g, \"\") +\r\n            \".\" +\r\n            data.baseType.substr(0, data.baseType.length - 4);\r\n        envelope.tags = this.getTags(context, telemetry.tagOverrides);\r\n        envelope.time = (new Date()).toISOString();\r\n        envelope.ver = 1;\r\n        envelope.sampleRate = config ? config.samplingPercentage : 100;\r\n\r\n        // Exclude metrics from sampling by default\r\n        if (telemetryType === Contracts.TelemetryType.Metric) {\r\n            envelope.sampleRate = 100;\r\n        }\r\n\r\n        return envelope;\r\n    }\r\n\r\n    private static addAzureFunctionsCorrelationProperties(properties: { [key: string]: string; }) {\r\n        var correlationContext = CorrelationContextManager.getCurrentContext();\r\n        if (correlationContext && correlationContext.customProperties && correlationContext.customProperties[\"getProperty\"] instanceof Function) {\r\n            properties = properties || {}; // Initialize properties if not present\r\n            let property = correlationContext.customProperties.getProperty(\"InvocationId\");\r\n            if (property) {\r\n                properties[\"InvocationId\"] = property;\r\n            }\r\n            property = correlationContext.customProperties.getProperty(\"ProcessId\");\r\n            if (property) {\r\n                properties[\"ProcessId\"] = property;\r\n            }\r\n            property = correlationContext.customProperties.getProperty(\"LogLevel\");\r\n            if (property) {\r\n                properties[\"LogLevel\"] = property;\r\n            }\r\n            property = correlationContext.customProperties.getProperty(\"Category\");\r\n            if (property) {\r\n                properties[\"Category\"] = property;\r\n            }\r\n            property = correlationContext.customProperties.getProperty(\"HostInstanceId\");\r\n            if (property) {\r\n                properties[\"HostInstanceId\"] = property;\r\n            }\r\n            property = correlationContext.customProperties.getProperty(\"AzFuncLiveLogsSessionId\");\r\n            if (property) {\r\n                properties[\"AzFuncLiveLogsSessionId\"] = property;\r\n            }\r\n        }\r\n    }\r\n\r\n    private static truncateProperties(telemetry: Telemetry) {\r\n        if (telemetry.properties) {\r\n            try {\r\n                let properties: {[key: string]: any} = {};\r\n                const propertiesKeys = Object.keys(telemetry.properties);\r\n                const propertiesValues = Object.values(telemetry.properties);\r\n                for (let i = 0; i < propertiesKeys.length; i++) {\r\n                    if (propertiesKeys[i].length <= 150) {\r\n                        if (!Util.isDate(propertiesValues[i])) {\r\n                            if (propertiesValues[i] == null) {\r\n                                propertiesValues[i] = \"\";\r\n                            }\r\n                            if (typeof(propertiesValues[i]) === \"object\") {\r\n                                propertiesValues[i] = Util.stringify(propertiesValues[i]);\r\n                            }\r\n                            properties[propertiesKeys[i]] = String(propertiesValues[i]).substring(0, 8192);\r\n                        }\r\n                        properties[propertiesKeys[i]] = propertiesValues[i];\r\n                    }\r\n                }\r\n                return properties;\r\n            } catch(error) {\r\n                Logging.warn(\"Failed to properly truncate telemetry properties: \", error);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static createTraceData(telemetry: Contracts.TraceTelemetry): Contracts.Data<Contracts.MessageData> {\r\n        var trace = new Contracts.MessageData();\r\n        trace.message = telemetry.message?.substring(0, 32768);\r\n        trace.properties = this.truncateProperties(telemetry);\r\n        if (!isNaN(telemetry.severity)) {\r\n            trace.severityLevel = telemetry.severity;\r\n        } else {\r\n            trace.severityLevel = Contracts.SeverityLevel.Information;\r\n        }\r\n\r\n        var data = new Contracts.Data<Contracts.MessageData>();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Trace);\r\n        data.baseData = trace;\r\n        return data;\r\n    }\r\n\r\n    private static createDependencyData(telemetry: Contracts.DependencyTelemetry & Contracts.Identified): Contracts.Data<Contracts.RemoteDependencyData> {\r\n        var remoteDependency = new Contracts.RemoteDependencyData();\r\n        remoteDependency.name = telemetry.name?.substring(0, 1024);\r\n        remoteDependency.data = telemetry.data?.substring(0, 8192);\r\n        remoteDependency.target = telemetry.target?.substring(0, 1024);\r\n        remoteDependency.duration = Util.msToTimeSpan(telemetry.duration);\r\n        remoteDependency.success = telemetry.success;\r\n        remoteDependency.type = telemetry.dependencyTypeName;\r\n        remoteDependency.properties = this.truncateProperties(telemetry);\r\n        remoteDependency.resultCode = (telemetry.resultCode ? telemetry.resultCode.toString() : \"0\");\r\n\r\n        if (telemetry.id) {\r\n            remoteDependency.id = telemetry.id;\r\n        }\r\n        else {\r\n            remoteDependency.id = Util.w3cTraceId();\r\n        }\r\n\r\n        var data = new Contracts.Data<Contracts.RemoteDependencyData>();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Dependency);\r\n        data.baseData = remoteDependency;\r\n        return data;\r\n    }\r\n\r\n    private static createEventData(telemetry: Contracts.EventTelemetry): Contracts.Data<Contracts.EventData> {\r\n        var event = new Contracts.EventData();\r\n        event.name = telemetry.name?.substring(0, 512);\r\n        event.properties = this.truncateProperties(telemetry);\r\n        event.measurements = telemetry.measurements;\r\n\r\n        var data = new Contracts.Data<Contracts.EventData>();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Event);\r\n        data.baseData = event;\r\n        return data;\r\n    }\r\n\r\n    private static createExceptionData(telemetry: Contracts.ExceptionTelemetry): Contracts.Data<Contracts.ExceptionData> {\r\n        var exception = new Contracts.ExceptionData();\r\n        exception.properties = this.truncateProperties(telemetry);\r\n        if (!isNaN(telemetry.severity)) {\r\n            exception.severityLevel = telemetry.severity;\r\n        } else {\r\n            exception.severityLevel = Contracts.SeverityLevel.Error;\r\n        }\r\n        exception.measurements = telemetry.measurements;\r\n        exception.exceptions = [];\r\n\r\n        var stack = telemetry.exception[\"stack\"];\r\n        var exceptionDetails = new Contracts.ExceptionDetails();\r\n        exceptionDetails.message = telemetry.exception.message?.substring(0, 32768);\r\n        exceptionDetails.typeName = telemetry.exception.name?.substring(0, 1024);\r\n        exceptionDetails.parsedStack = this.parseStack(stack);\r\n        exceptionDetails.hasFullStack = Util.isArray(exceptionDetails.parsedStack) && exceptionDetails.parsedStack.length > 0;\r\n        exception.exceptions.push(exceptionDetails);\r\n\r\n        var data = new Contracts.Data<Contracts.ExceptionData>();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Exception);\r\n        data.baseData = exception;\r\n        return data;\r\n    }\r\n\r\n    private static createRequestData(telemetry: Contracts.RequestTelemetry & Contracts.Identified): Contracts.Data<Contracts.RequestData> {\r\n        var requestData = new Contracts.RequestData();\r\n        if (telemetry.id) {\r\n            requestData.id = telemetry.id;\r\n        }\r\n        else {\r\n            requestData.id = Util.w3cTraceId();\r\n        }\r\n        requestData.name = telemetry.name?.substring(0, 1024);\r\n        requestData.url = telemetry.url?.substring(0, 2048);\r\n        requestData.source = telemetry.source?.substring(0, 1024);\r\n        requestData.duration = Util.msToTimeSpan(telemetry.duration);\r\n        requestData.responseCode = (telemetry.resultCode ? telemetry.resultCode.toString() : \"0\")?.substring(0, 1024);\r\n        requestData.success = telemetry.success;\r\n        requestData.properties = this.truncateProperties(telemetry);\r\n        requestData.measurements = telemetry.measurements;\r\n\r\n        var data = new Contracts.Data<Contracts.RequestData>();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Request);\r\n        data.baseData = requestData;\r\n        return data;\r\n    }\r\n\r\n    private static createMetricData(telemetry: Contracts.MetricTelemetry): Contracts.Data<Contracts.MetricData> {\r\n        var metrics = new Contracts.MetricData(); // todo: enable client-batching of these\r\n        metrics.metrics = [];\r\n\r\n        var metric = new Contracts.DataPoint();\r\n        metric.count = !isNaN(telemetry.count) ? telemetry.count : 1;\r\n        metric.kind = Contracts.DataPointType.Aggregation;\r\n        metric.max = !isNaN(telemetry.max) ? telemetry.max : telemetry.value;\r\n        metric.min = !isNaN(telemetry.min) ? telemetry.min : telemetry.value;\r\n        metric.name = telemetry.name?.substring(0, 1024);\r\n        metric.stdDev = !isNaN(telemetry.stdDev) ? telemetry.stdDev : 0;\r\n        metric.value = telemetry.value;\r\n        metric.ns = telemetry.namespace;\r\n\r\n        metrics.metrics.push(metric);\r\n\r\n        metrics.properties = this.truncateProperties(telemetry);\r\n\r\n        var data = new Contracts.Data<Contracts.MetricData>();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Metric);\r\n        data.baseData = metrics;\r\n        return data;\r\n    }\r\n\r\n    private static createAvailabilityData(\r\n        telemetry: Contracts.AvailabilityTelemetry & Contracts.Identified\r\n    ): Contracts.Data<Contracts.AvailabilityData> {\r\n        let availabilityData = new Contracts.AvailabilityData();\r\n\r\n        if (telemetry.id) {\r\n            availabilityData.id = telemetry.id;\r\n        } else {\r\n            availabilityData.id = Util.w3cTraceId();\r\n        }\r\n        availabilityData.name = telemetry.name?.substring(0, 1024);\r\n        availabilityData.duration = Util.msToTimeSpan(telemetry.duration);\r\n        availabilityData.success = telemetry.success;\r\n        availabilityData.runLocation = telemetry.runLocation;\r\n        availabilityData.message = telemetry.message?.substring(0, 8192);\r\n        availabilityData.measurements = telemetry.measurements;\r\n        availabilityData.properties = this.truncateProperties(telemetry);\r\n\r\n        let data = new Contracts.Data<Contracts.AvailabilityData>();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Availability);\r\n        data.baseData = availabilityData;\r\n\r\n        return data;\r\n    }\r\n\r\n    private static createPageViewData(\r\n        telemetry: Contracts.PageViewTelemetry & Contracts.Identified\r\n    ): Contracts.Data<Contracts.PageViewData> {\r\n        let pageViewData = new Contracts.PageViewData();\r\n\r\n        pageViewData.name = telemetry.name?.substring(0, 1024);\r\n        pageViewData.duration = Util.msToTimeSpan(telemetry.duration);\r\n        pageViewData.url = telemetry.url?.substring(0, 2048);\r\n        pageViewData.measurements = telemetry.measurements;\r\n        pageViewData.properties = this.truncateProperties(telemetry);\r\n\r\n        let data = new Contracts.Data<Contracts.PageViewData>();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.PageView);\r\n        data.baseData = pageViewData;\r\n\r\n        return data;\r\n    }\r\n\r\n    private static getTags(context: Context, tagOverrides?: { [key: string]: string; }) {\r\n        var correlationContext = CorrelationContextManager.getCurrentContext();\r\n\r\n        // Make a copy of context tags so we don't alter the actual object\r\n        // Also perform tag overriding\r\n        var newTags = <{ [key: string]: string }>{};\r\n\r\n        if (context && context.tags) {\r\n            for (var key in context.tags) {\r\n                newTags[key] = context.tags[key];\r\n            }\r\n        }\r\n        if (tagOverrides) {\r\n            for (var key in tagOverrides) {\r\n                newTags[key] = tagOverrides[key];\r\n            }\r\n        }\r\n\r\n        // Fill in internally-populated values if not already set\r\n        if (correlationContext) {\r\n            newTags[context.keys.operationId] = newTags[context.keys.operationId] || correlationContext.operation.id;\r\n            newTags[context.keys.operationName] = newTags[context.keys.operationName] || correlationContext.operation.name;\r\n            newTags[context.keys.operationParentId] = newTags[context.keys.operationParentId] || correlationContext.operation.parentId;\r\n        }\r\n\r\n        return newTags;\r\n    }\r\n\r\n\r\n    private static parseStack(stack: any): _StackFrame[] {\r\n        var parsedStack: _StackFrame[] = undefined;\r\n        if (typeof stack === \"string\") {\r\n            var frames = stack.split(\"\\n\");\r\n            parsedStack = [];\r\n            var level = 0;\r\n\r\n            var totalSizeInBytes = 0;\r\n            for (var i = 0; i <= frames.length; i++) {\r\n                var frame = frames[i];\r\n                if (_StackFrame.regex.test(frame)) {\r\n                    var parsedFrame = new _StackFrame(frames[i], level++);\r\n                    totalSizeInBytes += parsedFrame.sizeInBytes;\r\n                    parsedStack.push(parsedFrame);\r\n                }\r\n            }\r\n\r\n            // DP Constraint - exception parsed stack must be < 32KB\r\n            // remove frames from the middle to meet the threshold\r\n            var exceptionParsedStackThreshold = 32 * 1024;\r\n            if (totalSizeInBytes > exceptionParsedStackThreshold) {\r\n                var left = 0;\r\n                var right = parsedStack.length - 1;\r\n                var size = 0;\r\n                var acceptedLeft = left;\r\n                var acceptedRight = right;\r\n\r\n                while (left < right) {\r\n                    // check size\r\n                    var lSize = parsedStack[left].sizeInBytes;\r\n                    var rSize = parsedStack[right].sizeInBytes;\r\n                    size += lSize + rSize;\r\n\r\n                    if (size > exceptionParsedStackThreshold) {\r\n\r\n                        // remove extra frames from the middle\r\n                        var howMany = acceptedRight - acceptedLeft + 1;\r\n                        parsedStack.splice(acceptedLeft, howMany);\r\n                        break;\r\n                    }\r\n\r\n                    // update pointers\r\n                    acceptedLeft = left;\r\n                    acceptedRight = right;\r\n\r\n                    left++;\r\n                    right--;\r\n                }\r\n            }\r\n        }\r\n\r\n        return parsedStack;\r\n    }\r\n\r\n}\r\n\r\nclass _StackFrame {\r\n\r\n    // regex to match stack frames from ie/chrome/ff\r\n    // methodName=$2, fileName=$4, lineNo=$5, column=$6\r\n    public static regex = /^(\\s+at)?(.*?)(\\@|\\s\\(|\\s)([^\\(\\n]+):(\\d+):(\\d+)(\\)?)$/;\r\n    public static baseSize = 58; //'{\"method\":\"\",\"level\":,\"assembly\":\"\",\"fileName\":\"\",\"line\":}'.length\r\n    public sizeInBytes = 0;\r\n    public level: number;\r\n    public method: string;\r\n    public assembly: string;\r\n    public fileName: string;\r\n    public line: number;\r\n\r\n    constructor(frame: string, level: number) {\r\n        this.level = level;\r\n        this.method = \"<no_method>\";\r\n        this.assembly = Util.trim(frame);\r\n        var matches = frame.match(_StackFrame.regex);\r\n        if (matches && matches.length >= 5) {\r\n            this.method = Util.trim(matches[2]) || this.method;\r\n            this.fileName = Util.trim(matches[4]) || \"<no_filename>\";\r\n            this.line = parseInt(matches[5]) || 0;\r\n        }\r\n\r\n        this.sizeInBytes += this.method.length;\r\n        this.sizeInBytes += this.fileName.length;\r\n        this.sizeInBytes += this.assembly.length;\r\n\r\n        // todo: these might need to be removed depending on how the back-end settles on their size calculation\r\n        this.sizeInBytes += _StackFrame.baseSize;\r\n        this.sizeInBytes += this.level.toString().length;\r\n        this.sizeInBytes += this.line.toString().length;\r\n    }\r\n}\r\n\r\nexport = EnvelopeFactory;\r\n", "import fs = require(\"fs\");\r\nimport os = require(\"os\");\r\nimport child_process = require(\"child_process\");\r\n\r\nimport Logging = require(\"./Logging\");\r\n\r\n\r\nexport class FileAccessControl {\r\n    private static TAG = \"FileAccessControl\";\r\n\r\n    private static ICACLS_PATH = `${process.env.systemdrive}/windows/system32/icacls.exe`;\r\n    private static POWERSHELL_PATH = `${process.env.systemdrive}/windows/system32/windowspowershell/v1.0/powershell.exe`;\r\n    private static ACLED_DIRECTORIES: { [id: string]: boolean } = {};\r\n    private static ACL_IDENTITY: string = null;\r\n    private static OS_FILE_PROTECTION_CHECKED = false;\r\n    public static OS_PROVIDES_FILE_PROTECTION = false;\r\n    public static USE_ICACLS = os.type() === \"Windows_NT\";\r\n\r\n\r\n    // Check if file access control could be enabled\r\n    public static checkFileProtection() {\r\n        if (!FileAccessControl.OS_PROVIDES_FILE_PROTECTION && !FileAccessControl.OS_FILE_PROTECTION_CHECKED) {\r\n            FileAccessControl.OS_FILE_PROTECTION_CHECKED = true;\r\n            // Node's chmod levels do not appropriately restrict file access on Windows\r\n            // Use the built-in command line tool ICACLS on Windows to properly restrict\r\n            // access to the temporary directory used for disk retry mode.\r\n            if (FileAccessControl.USE_ICACLS) {\r\n                // This should be async - but it's currently safer to have this synchronous\r\n                // This guarantees we can immediately fail setDiskRetryMode if we need to\r\n                try {\r\n                    FileAccessControl.OS_PROVIDES_FILE_PROTECTION = fs.existsSync(FileAccessControl.ICACLS_PATH);\r\n                } catch (e) {\r\n                    // Ignore errors\r\n                 }\r\n                if (!FileAccessControl.OS_PROVIDES_FILE_PROTECTION) {\r\n                    Logging.warn(FileAccessControl.TAG, \"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.\")\r\n                }\r\n            } else {\r\n                // chmod works everywhere else\r\n                FileAccessControl.OS_PROVIDES_FILE_PROTECTION = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static async applyACLRules(directory: string): Promise<void> {\r\n        if (FileAccessControl.USE_ICACLS) {\r\n            if (FileAccessControl.ACLED_DIRECTORIES[directory] === undefined) {\r\n                // Avoid multiple calls race condition by setting ACLED_DIRECTORIES to false for this directory immediately\r\n                // If batches are being failed faster than the processes spawned below return, some data won't be stored to disk\r\n                // This is better than the alternative of potentially infinitely spawned processes\r\n                FileAccessControl.ACLED_DIRECTORIES[directory] = false;\r\n                try {\r\n                    // Restrict this directory to only current user and administrator access\r\n                    let identity = await this._getACLIdentity();\r\n                    await this._runICACLS(this._getACLArguments(directory, identity));\r\n                    FileAccessControl.ACLED_DIRECTORIES[directory] = true;\r\n                }\r\n                catch (ex) {\r\n                    FileAccessControl.ACLED_DIRECTORIES[directory] = false; // false is used to cache failed (vs undefined which is \"not yet tried\")\r\n                    throw ex;\r\n                }\r\n            } else {\r\n                if (!FileAccessControl.ACLED_DIRECTORIES[directory]) {\r\n                    throw new Error(\"Setting ACL restrictions did not succeed (cached result)\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static applyACLRulesSync(directory: string) {\r\n        if (FileAccessControl.USE_ICACLS) {\r\n            // For performance, only run ACL rules if we haven't already during this session\r\n            if (FileAccessControl.ACLED_DIRECTORIES[directory] === undefined) {\r\n                this._runICACLSSync(this._getACLArguments(directory, this._getACLIdentitySync()));\r\n                FileAccessControl.ACLED_DIRECTORIES[directory] = true; // If we get here, it succeeded. _runIACLSSync will throw on failures\r\n                return;\r\n            } else if (!FileAccessControl.ACLED_DIRECTORIES[directory]) { // falsy but not undefined\r\n                throw new Error(\"Setting ACL restrictions did not succeed (cached result)\");\r\n            }\r\n        }\r\n    }\r\n\r\n    private static _runICACLS(args: string[]): Promise<void> {\r\n        return new Promise((resolve, reject) => {\r\n            var aclProc = child_process.spawn(FileAccessControl.ICACLS_PATH, args, <any>{ windowsHide: true });\r\n            aclProc.on(\"error\", (e: Error) => reject(e));\r\n            aclProc.on(\"close\", (code: number, signal: string) => {\r\n                if (code === 0) {\r\n                    resolve();\r\n                }\r\n                else {\r\n                    reject(new Error(`Setting ACL restrictions did not succeed (ICACLS returned code ${code})`));\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private static _runICACLSSync(args: string[]) {\r\n        // Some very old versions of Node (< 0.11) don't have this\r\n        if (child_process.spawnSync) {\r\n            var aclProc = child_process.spawnSync(FileAccessControl.ICACLS_PATH, args, <any>{ windowsHide: true });\r\n            if (aclProc.error) {\r\n                throw aclProc.error;\r\n            } else if (aclProc.status !== 0) {\r\n                throw new Error(`Setting ACL restrictions did not succeed (ICACLS returned code ${aclProc.status})`);\r\n            }\r\n        } else {\r\n            throw new Error(\"Could not synchronously call ICACLS under current version of Node.js\");\r\n        }\r\n    }\r\n\r\n    private static _getACLIdentity(): Promise<string> {\r\n        return new Promise((resolve, reject) => {\r\n            if (FileAccessControl.ACL_IDENTITY) {\r\n                resolve(FileAccessControl.ACL_IDENTITY);\r\n            }\r\n            var psProc = child_process.spawn(FileAccessControl.POWERSHELL_PATH,\r\n                [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], <any>{\r\n                    windowsHide: true,\r\n                    stdio: [\"ignore\", \"pipe\", \"pipe\"] // Needed to prevent hanging on Win 7\r\n                });\r\n            let data = \"\";\r\n            psProc.stdout.on(\"data\", (d: string) => data += d);\r\n            psProc.on(\"error\", (e: Error) => reject(e));\r\n            psProc.on(\"close\", (code: number, signal: string) => {\r\n                FileAccessControl.ACL_IDENTITY = data && data.trim();\r\n                if (code === 0) {\r\n                    resolve(FileAccessControl.ACL_IDENTITY);\r\n                }\r\n                else {\r\n                    reject(new Error(`Getting ACL identity did not succeed (PS returned code ${code})`));\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private static _getACLIdentitySync() {\r\n        if (FileAccessControl.ACL_IDENTITY) {\r\n            return FileAccessControl.ACL_IDENTITY;\r\n        }\r\n        // Some very old versions of Node (< 0.11) don't have this\r\n        if (child_process.spawnSync) {\r\n            var psProc = child_process.spawnSync(FileAccessControl.POWERSHELL_PATH,\r\n                [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], <any>{\r\n                    windowsHide: true,\r\n                    stdio: [\"ignore\", \"pipe\", \"pipe\"] // Needed to prevent hanging on Win 7\r\n                });\r\n            if (psProc.error) {\r\n                throw psProc.error;\r\n            } else if (psProc.status !== 0) {\r\n                throw new Error(`Getting ACL identity did not succeed (PS returned code ${psProc.status})`);\r\n            }\r\n            FileAccessControl.ACL_IDENTITY = psProc.stdout && psProc.stdout.toString().trim();\r\n            return FileAccessControl.ACL_IDENTITY;\r\n        } else {\r\n            throw new Error(\"Could not synchronously get ACL identity under current version of Node.js\");\r\n        }\r\n    }\r\n\r\n    private static _getACLArguments(directory: string, identity: string) {\r\n        return [directory,\r\n            \"/grant\", \"*S-1-5-32-544:(OI)(CI)F\", // Full permission for Administrators\r\n            \"/grant\", `${identity}:(OI)(CI)F`, // Full permission for current user\r\n            \"/inheritance:r\"]; // Remove all inherited permissions\r\n    }\r\n}\r\n", "import fs = require(\"fs\");\r\nimport http = require(\"http\");\r\nimport os = require(\"os\");\r\nimport path = require(\"path\");\r\nimport zlib = require(\"zlib\");\r\n\r\nimport AuthorizationHandler = require(\"./AuthorizationHandler\");\r\nimport Config = require(\"./Config\")\r\nimport Contracts = require(\"../Declarations/Contracts\");\r\nimport Constants = require(\"../Declarations/Constants\");\r\nimport AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\r\nimport Statsbeat = require(\"../AutoCollection/Statsbeat\");\r\nimport FileSystemHelper = require(\"./FileSystemHelper\");\r\nimport Util = require(\"./Util\");\r\nimport { URL } from \"url\";\r\nimport Logging = require(\"./Logging\");\r\nimport { FileAccessControl } from \"./FileAccessControl\";\r\n\r\nconst legacyThrottleStatusCode = 439; //  - Too many requests and refresh cache\r\nconst throttleStatusCode = 402; // Monthly Quota Exceeded (new SDK)\r\nconst RESPONSE_CODES_INDICATING_REACHED_BREEZE = [200, 206, 402, 408, 429, 439, 500];\r\n\r\nclass Sender {\r\n    private static TAG = \"Sender\";\r\n    // the amount of time the SDK will wait between resending cached data, this buffer is to avoid any throttling from the service side\r\n    public static WAIT_BETWEEN_RESEND = 60 * 1000; // 1 minute\r\n    public static MAX_BYTES_ON_DISK = 50 * 1024 * 1024; // 50 mb\r\n    public static MAX_CONNECTION_FAILURES_BEFORE_WARN = 5;\r\n    public static CLEANUP_TIMEOUT = 60 * 60 * 1000; // 1 hour\r\n    public static FILE_RETEMPTION_PERIOD = 7 * 24 * 60 * 60 * 1000; // 7 days\r\n    public static TEMPDIR_PREFIX: string = \"appInsights-node\";\r\n    public static HTTP_TIMEOUT: number = 20000; // 20 seconds\r\n\r\n    private _config: Config;\r\n    private _isStatsbeatSender: boolean;\r\n    private _shutdownStatsbeat: () => void;\r\n    private _failedToIngestCounter: number;\r\n    private _statsbeatHasReachedIngestionAtLeastOnce: boolean;\r\n    private _statsbeat: Statsbeat;\r\n    private _onSuccess: (response: string) => void;\r\n    private _onError: (error: Error) => void;\r\n    private _getAuthorizationHandler: (config: Config) => AuthorizationHandler;\r\n    private _enableDiskRetryMode: boolean;\r\n    private _numConsecutiveFailures: number;\r\n    private _numConsecutiveRedirects: number;\r\n    private _resendTimer: NodeJS.Timer | null;\r\n    private _fileCleanupTimer: NodeJS.Timer;\r\n    private _redirectedHost: string = null;\r\n    private _tempDir: string;\r\n    private _requestTimedOut: boolean;\r\n    protected _resendInterval: number;\r\n    protected _maxBytesOnDisk: number;\r\n\r\n    constructor(config: Config, getAuthorizationHandler?: (config: Config) => AuthorizationHandler, onSuccess?: (response: string) => void, onError?: (error: Error) => void, statsbeat?: Statsbeat, isStatsbeatSender?: boolean, shutdownStatsbeat?: () => void) {\r\n        this._config = config;\r\n        this._onSuccess = onSuccess;\r\n        this._onError = onError;\r\n        this._statsbeat = statsbeat;\r\n        this._enableDiskRetryMode = false;\r\n        this._resendInterval = Sender.WAIT_BETWEEN_RESEND;\r\n        this._maxBytesOnDisk = Sender.MAX_BYTES_ON_DISK;\r\n        this._numConsecutiveFailures = 0;\r\n        this._numConsecutiveRedirects = 0;\r\n        this._resendTimer = null;\r\n        this._getAuthorizationHandler = getAuthorizationHandler;\r\n        this._fileCleanupTimer = null;\r\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\r\n        this._tempDir = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\r\n        this._isStatsbeatSender = isStatsbeatSender || false;\r\n        this._shutdownStatsbeat = shutdownStatsbeat;\r\n        this._failedToIngestCounter = 0;\r\n        this._statsbeatHasReachedIngestionAtLeastOnce = false;\r\n    }\r\n\r\n    /**\r\n    * Enable or disable offline mode\r\n    */\r\n    public setDiskRetryMode(value: boolean, resendInterval?: number, maxBytesOnDisk?: number) {\r\n        if (value) {\r\n            FileAccessControl.checkFileProtection(); // Only check file protection when disk retry is enabled\r\n        }\r\n        this._enableDiskRetryMode = FileAccessControl.OS_PROVIDES_FILE_PROTECTION && value;\r\n        if (typeof resendInterval === \"number\" && resendInterval >= 0) {\r\n            this._resendInterval = Math.floor(resendInterval);\r\n        }\r\n        if (typeof maxBytesOnDisk === \"number\" && maxBytesOnDisk >= 0) {\r\n            this._maxBytesOnDisk = Math.floor(maxBytesOnDisk);\r\n        }\r\n\r\n        if (value && !FileAccessControl.OS_PROVIDES_FILE_PROTECTION) {\r\n            this._enableDiskRetryMode = false;\r\n            this._logWarn(\"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.\")\r\n        }\r\n        if (this._enableDiskRetryMode) {\r\n            if (this._statsbeat) {\r\n                this._statsbeat.addFeature(Constants.StatsbeatFeature.DISK_RETRY);\r\n            }\r\n            // Starts file cleanup task\r\n            if (!this._fileCleanupTimer) {\r\n                this._fileCleanupTimer = setTimeout(() => { this._fileCleanupTask(); }, Sender.CLEANUP_TIMEOUT);\r\n                this._fileCleanupTimer.unref();\r\n            }\r\n        }\r\n        else {\r\n            if (this._statsbeat) {\r\n                this._statsbeat.removeFeature(Constants.StatsbeatFeature.DISK_RETRY);\r\n            }\r\n            if (this._fileCleanupTimer) {\r\n                clearTimeout(this._fileCleanupTimer);\r\n            }\r\n        }\r\n    }\r\n\r\n    public async send(envelopes: Contracts.EnvelopeTelemetry[], callback?: (v: string) => void) {\r\n        if (envelopes) {\r\n            var endpointUrl = this._redirectedHost || this._config.endpointUrl;\r\n\r\n            var endpointHost = new URL(endpointUrl).hostname;\r\n\r\n            // todo: investigate specifying an agent here: https://nodejs.org/api/http.html#http_class_http_agent\r\n            var options = {\r\n                method: \"POST\",\r\n                withCredentials: false,\r\n                headers: <{ [key: string]: string }>{\r\n                    \"Content-Type\": \"application/x-json-stream\"\r\n                }\r\n            };\r\n\r\n            let authHandler = this._getAuthorizationHandler ? this._getAuthorizationHandler(this._config) : null;\r\n            if (authHandler) {\r\n                if (this._statsbeat) {\r\n                    this._statsbeat.addFeature(Constants.StatsbeatFeature.AAD_HANDLING);\r\n                }\r\n                try {\r\n                    // Add bearer token\r\n                    await authHandler.addAuthorizationHeader(options);\r\n                }\r\n                catch (authError) {\r\n                    let errorMsg = \"Failed to get AAD bearer token for the Application.\";\r\n                    if (this._enableDiskRetryMode) {\r\n                        errorMsg += \"This batch of telemetry items will be retried. \";\r\n                        this._storeToDisk(envelopes);\r\n                    }\r\n                    errorMsg += \"Error:\" + authError.toString();\r\n                    this._logWarn(errorMsg);\r\n\r\n                    if (typeof callback === \"function\") {\r\n                        callback(errorMsg);\r\n                    }\r\n                    return; // If AAD auth fails do not send to Breeze\r\n                }\r\n            }\r\n\r\n            let batch: string = \"\";\r\n            envelopes.forEach(envelope => {\r\n                var payload: string = Util.stringify(envelope);\r\n                if (typeof payload !== \"string\") {\r\n                    return;\r\n                }\r\n                batch += payload + \"\\n\";\r\n            });\r\n            // Remove last \\n\r\n            if (batch.length > 0) {\r\n                batch = batch.substring(0, batch.length - 1);\r\n            }\r\n\r\n            let payload: Buffer = Buffer.from ? Buffer.from(batch) : new Buffer(batch);\r\n\r\n            zlib.gzip(payload, (err, buffer) => {\r\n                var dataToSend = buffer;\r\n                if (err) {\r\n                    this._logWarn(Util.dumpObj(err));\r\n                    dataToSend = payload; // something went wrong so send without gzip\r\n                    options.headers[\"Content-Length\"] = payload.length.toString();\r\n                } else {\r\n                    options.headers[\"Content-Encoding\"] = \"gzip\";\r\n                    options.headers[\"Content-Length\"] = buffer.length.toString();\r\n                }\r\n\r\n                this._logInfo(Util.dumpObj(options));\r\n\r\n                // Ensure this request is not captured by auto-collection.\r\n                (<any>options)[AutoCollectHttpDependencies.disableCollectionRequestOption] = true;\r\n\r\n                let startTime = +new Date();\r\n\r\n                var requestCallback = (res: http.ClientResponse) => {\r\n                    res.setEncoding(\"utf-8\");\r\n\r\n                    //returns empty if the data is accepted\r\n                    var responseString = \"\";\r\n                    res.on(\"data\", (data: string) => {\r\n                        responseString += data;\r\n                    });\r\n\r\n                    res.on(\"end\", () => {\r\n                        let endTime = +new Date();\r\n                        let duration = endTime - startTime;\r\n                        this._numConsecutiveFailures = 0;\r\n                        // Handling of Statsbeat instance sending data, should turn it off if is not able to reach ingestion endpoint\r\n                        if (this._isStatsbeatSender && !this._statsbeatHasReachedIngestionAtLeastOnce) {\r\n                            if (RESPONSE_CODES_INDICATING_REACHED_BREEZE.includes(res.statusCode)) {\r\n                                this._statsbeatHasReachedIngestionAtLeastOnce = true;\r\n                            }\r\n                            else {\r\n                                this._statsbeatFailedToIngest();\r\n                            }\r\n                        }\r\n                        if (this._statsbeat) {\r\n                            if (res.statusCode == throttleStatusCode || res.statusCode == legacyThrottleStatusCode) { // Throttle\r\n                                this._statsbeat.countThrottle(Constants.StatsbeatNetworkCategory.Breeze, endpointHost, res.statusCode);\r\n                            }\r\n                            else {\r\n                                this._statsbeat.countRequest(Constants.StatsbeatNetworkCategory.Breeze, endpointHost, duration, res.statusCode === 200, res.statusCode);\r\n                            }\r\n                        }\r\n                        if (this._enableDiskRetryMode) {\r\n                            // try to send any cached events if the user is back online\r\n                            if (res.statusCode === 200) {\r\n                                if (!this._resendTimer) {\r\n                                    this._resendTimer = setTimeout(() => {\r\n                                        this._resendTimer = null;\r\n                                        this._sendFirstFileOnDisk()\r\n                                    }, this._resendInterval);\r\n                                    this._resendTimer.unref();\r\n                                }\r\n                            } else if (this._isRetriable(res.statusCode)) {\r\n                                try {\r\n                                    if (this._statsbeat) {\r\n                                        this._statsbeat.countRetry(Constants.StatsbeatNetworkCategory.Breeze, endpointHost, res.statusCode);\r\n                                    }\r\n                                    const breezeResponse = JSON.parse(responseString) as Contracts.BreezeResponse;\r\n                                    let filteredEnvelopes: Contracts.EnvelopeTelemetry[] = [];\r\n                                    if (breezeResponse.errors) {\r\n                                        breezeResponse.errors.forEach(error => {\r\n                                            // Only retry errors if 429, 500 or 503 response codes\r\n                                            if (error.statusCode == 429 || error.statusCode == 500 || error.statusCode == 503) {\r\n                                                filteredEnvelopes.push(envelopes[error.index]);\r\n                                            }\r\n                                        });\r\n                                        if (filteredEnvelopes.length > 0) {\r\n                                            this._storeToDisk(filteredEnvelopes);\r\n                                        }\r\n                                    }\r\n\r\n                                }\r\n                                catch (ex) {\r\n                                    this._storeToDisk(envelopes); // Retriable status code with not valid Breeze response\r\n                                }\r\n                            }\r\n                        }\r\n                        // Redirect handling\r\n                        if (res.statusCode === 307 || // Temporary Redirect\r\n                            res.statusCode === 308) { // Permanent Redirect\r\n                            this._numConsecutiveRedirects++;\r\n                            // To prevent circular redirects\r\n                            if (this._numConsecutiveRedirects < 10) {\r\n                                // Try to get redirect header\r\n                                const locationHeader = res.headers[\"location\"] ? res.headers[\"location\"].toString() : null;\r\n                                if (locationHeader) {\r\n                                    this._redirectedHost = locationHeader;\r\n                                    // Send to redirect endpoint as HTTPs library doesn't handle redirect automatically\r\n                                    this.send(envelopes, callback);\r\n                                }\r\n                            }\r\n                            else {\r\n                                const circularRedirectError: Error = { name: \"Circular Redirect\", message: \"Error sending telemetry because of circular redirects.\" }\r\n                                if (this._statsbeat) {\r\n                                    this._statsbeat.countException(Constants.StatsbeatNetworkCategory.Breeze, endpointHost, circularRedirectError);\r\n                                }\r\n                                if (typeof callback === \"function\") {\r\n                                    callback(\"Error sending telemetry because of circular redirects.\");\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                        else {\r\n                            this._numConsecutiveRedirects = 0;\r\n                            if (typeof callback === \"function\") {\r\n                                callback(responseString);\r\n                            }\r\n                            this._logInfo(responseString);\r\n                            if (typeof this._onSuccess === \"function\") {\r\n                                this._onSuccess(responseString);\r\n                            }\r\n                        }\r\n                    });\r\n                };\r\n\r\n                var req = Util.makeRequest(this._config, endpointUrl, options, requestCallback);\r\n\r\n                // Needed as of Node.js v13 default timeouts on HTTP requests are no longer default\r\n                // Timeout should trigger the request on error function to run\r\n                req.setTimeout(Sender.HTTP_TIMEOUT, () => {\r\n                    this._requestTimedOut = true;\r\n                    req.abort();\r\n                });\r\n\r\n                req.on(\"error\", (error: Error) => {\r\n                    if (this._isStatsbeatSender && !this._statsbeatHasReachedIngestionAtLeastOnce) {\r\n                        this._statsbeatFailedToIngest();\r\n                    }\r\n                    // todo: handle error codes better (group to recoverable/non-recoverable and persist)\r\n                    this._numConsecutiveFailures++;\r\n                    if (this._statsbeat) {\r\n                        this._statsbeat.countException(Constants.StatsbeatNetworkCategory.Breeze, endpointHost, error);\r\n                    }\r\n\r\n                    // Only use warn level if retries are disabled or we've had some number of consecutive failures sending data\r\n                    // This is because warn level is printed in the console by default, and we don't want to be noisy for transient and self-recovering errors\r\n                    // Continue informing on each failure if verbose logging is being used\r\n                    if (!this._enableDiskRetryMode || this._numConsecutiveFailures > 0 && this._numConsecutiveFailures % Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN === 0) {\r\n                        let notice = \"Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:\";\r\n                        if (this._enableDiskRetryMode) {\r\n                            notice = `Ingestion endpoint could not be reached ${this._numConsecutiveFailures} consecutive times. There may be resulting telemetry loss. Most recent error:`;\r\n                        }\r\n                        this._logWarn(notice, Util.dumpObj(error));\r\n                    } else {\r\n                        let notice = \"Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:\";\r\n                        this._logInfo(notice, Util.dumpObj(error));\r\n                    }\r\n                    this._onErrorHelper(error);\r\n\r\n                    if (typeof callback === \"function\") {\r\n                        if (error) {\r\n                            // If the error type is a timeout we want to provide more meaningful output\r\n                            if (this._requestTimedOut) {\r\n                                error.name = \"telemetry timeout\";\r\n                                error.message = \"telemetry request timed out\";\r\n                            }\r\n                            callback(Util.dumpObj(error));\r\n                        }\r\n                        else {\r\n                            callback(\"Error sending telemetry\");\r\n                        }\r\n                    }\r\n\r\n                    if (this._enableDiskRetryMode) {\r\n                        this._storeToDisk(envelopes);\r\n                    }\r\n                });\r\n\r\n                req.write(dataToSend);\r\n                req.end();\r\n            });\r\n        }\r\n    }\r\n\r\n    public saveOnCrash(envelopes: Contracts.EnvelopeTelemetry[]) {\r\n        if (this._enableDiskRetryMode) {\r\n            this._storeToDiskSync(Util.stringify(envelopes));\r\n        }\r\n    }\r\n\r\n    private _isRetriable(statusCode: number) {\r\n        return (\r\n            statusCode === 206 || // Partial Accept\r\n            statusCode === 401 || // Unauthorized\r\n            statusCode === 403 || // Forbidden\r\n            statusCode === 408 || // Timeout\r\n            statusCode === 429 || // Too many requests\r\n            statusCode === 500 || // Server Error\r\n            statusCode === 502 || // Bad Gateway\r\n            statusCode === 503 || // Server Unavailable\r\n            statusCode === 504 // Gateway Timeout\r\n        );\r\n    }\r\n\r\n    private _logInfo(message?: any, ...optionalParams: any[]) {\r\n        if (!this._isStatsbeatSender) {\r\n            Logging.info(Sender.TAG, message, optionalParams);\r\n        }\r\n    }\r\n\r\n    private _logWarn(message?: any, ...optionalParams: any[]) {\r\n        if (!this._isStatsbeatSender) {\r\n            Logging.warn(Sender.TAG, message, optionalParams);\r\n        }\r\n    }\r\n\r\n    private _statsbeatFailedToIngest() {\r\n        if (this._shutdownStatsbeat) { // Check if callback is available\r\n            this._failedToIngestCounter++;\r\n            if (this._failedToIngestCounter >= 3) {\r\n                this._shutdownStatsbeat();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Stores the payload as a json file on disk in the temp directory\r\n     */\r\n    private async _storeToDisk(envelopes: Contracts.EnvelopeTelemetry[]): Promise<void> {\r\n        try {\r\n            this._logInfo(\"Checking existence of data storage directory: \" + this._tempDir);\r\n            await FileSystemHelper.confirmDirExists(this._tempDir);\r\n        }\r\n        catch (ex) {\r\n            this._logWarn(\"Failed to create folder to put telemetry: \" + Util.dumpObj(ex));\r\n            this._onErrorHelper(ex);\r\n            return;\r\n        }\r\n        try {\r\n            await FileAccessControl.applyACLRules(this._tempDir);\r\n        }\r\n        catch (ex) {\r\n            this._logWarn(\"Failed to apply file access control to folder: \" + Util.dumpObj(ex));\r\n            this._onErrorHelper(ex);\r\n            return;\r\n        }\r\n        try {\r\n            let size = await FileSystemHelper.getShallowDirectorySize(this._tempDir);\r\n            if (size > this._maxBytesOnDisk) {\r\n                this._logWarn(\"Not saving data due to max size limit being met. Directory size in bytes is: \" + size);\r\n                return;\r\n            }\r\n        }\r\n        catch (ex) {\r\n            this._logWarn(\"Failed to read directory for retriable telemetry: \" + Util.dumpObj(ex));\r\n            this._onErrorHelper(ex);\r\n            return;\r\n        }\r\n        try {\r\n             //create file - file name for now is the timestamp, a better approach would be a UUID but that\r\n            //would require an external dependency\r\n            var fileName = new Date().getTime() + \".ai.json\";\r\n            var fileFullPath = path.join(this._tempDir, fileName);\r\n\r\n            // Mode 600 is w/r for creator and no read access for others (only applies on *nix)\r\n            // For Windows, ACL rules are applied to the entire directory (see logic in _confirmDirExists and _applyACLRules)\r\n            this._logInfo(\"saving data to disk at: \" + fileFullPath);\r\n            await FileSystemHelper.writeFileAsync(fileFullPath, Util.stringify(envelopes), { mode: 0o600 });\r\n        }\r\n        catch (ex) {\r\n            this._logWarn(\"Failed to persist telemetry to disk: \" + Util.dumpObj(ex));\r\n            this._onErrorHelper(ex);\r\n            return;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Stores the payload as a json file on disk using sync file operations\r\n     * this is used when storing data before crashes\r\n     */\r\n    private _storeToDiskSync(payload: any) {\r\n        try {\r\n            this._logInfo(\"Checking existence of data storage directory: \" + this._tempDir);\r\n            if (!fs.existsSync(this._tempDir)) {\r\n                fs.mkdirSync(this._tempDir);\r\n            }\r\n\r\n            // Make sure permissions are valid\r\n            FileAccessControl.applyACLRulesSync(this._tempDir);\r\n\r\n            let dirSize = FileSystemHelper.getShallowDirectorySizeSync(this._tempDir);\r\n            if (dirSize > this._maxBytesOnDisk) {\r\n                this._logInfo(\"Not saving data due to max size limit being met. Directory size in bytes is: \" + dirSize);\r\n                return;\r\n            }\r\n\r\n            //create file - file name for now is the timestamp, a better approach would be a UUID but that\r\n            //would require an external dependency\r\n            var fileName = new Date().getTime() + \".ai.json\";\r\n            var fileFullPath = path.join(this._tempDir, fileName);\r\n\r\n            // Mode 600 is w/r for creator and no access for anyone else (only applies on *nix)\r\n            this._logInfo(\"saving data before crash to disk at: \" + fileFullPath);\r\n            fs.writeFileSync(fileFullPath, payload, { mode: 0o600 });\r\n\r\n        } catch (error) {\r\n            this._logWarn(\"Error while saving data to disk: \" + Util.dumpObj(error));\r\n            this._onErrorHelper(error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check for temp telemetry files\r\n     * reads the first file if exist, deletes it and tries to send its load\r\n     */\r\n    private async _sendFirstFileOnDisk(): Promise<void> {\r\n        try {\r\n            let files = await FileSystemHelper.readdirAsync(this._tempDir);\r\n            files = files.filter(f => path.basename(f).indexOf(\".ai.json\") > -1);\r\n            if (files.length > 0) {\r\n                var firstFile = files[0];\r\n                var filePath = path.join(this._tempDir, firstFile);\r\n                let buffer = await FileSystemHelper.readFileAsync(filePath);\r\n                // delete the file first to prevent double sending\r\n                await FileSystemHelper.unlinkAsync(filePath);\r\n                let envelopes: Contracts.EnvelopeTelemetry[] = JSON.parse(buffer.toString());\r\n                await this.send(envelopes);\r\n            }\r\n        }\r\n        catch (err) {\r\n            this._onErrorHelper(err);\r\n        }\r\n    }\r\n\r\n    private _onErrorHelper(error: Error): void {\r\n        if (typeof this._onError === \"function\") {\r\n            this._onError(error);\r\n        }\r\n    }\r\n\r\n    private async _fileCleanupTask(): Promise<void> {\r\n        try {\r\n            let files = await FileSystemHelper.readdirAsync(this._tempDir);\r\n            files = files.filter(f => path.basename(f).indexOf(\".ai.json\") > -1);\r\n            if (files.length > 0) {\r\n                for (let i = 0; i < files.length; i++) {\r\n                    // Check expiration\r\n                    let fileCreationDate: Date = new Date(parseInt(files[i].split(\".ai.json\")[0]));\r\n                    let expired = new Date(+(new Date()) - Sender.FILE_RETEMPTION_PERIOD) > fileCreationDate;\r\n                    if (expired) {\r\n                        var filePath = path.join(this._tempDir, files[i]);\r\n                        await FileSystemHelper.unlinkAsync(filePath).catch((err) => {\r\n                            this._onErrorHelper(err);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (err) {\r\n            if (err.code != \"ENOENT\") {\r\n                this._onErrorHelper(err);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport = Sender;", "\r\nimport http = require(\"http\");\r\nimport https = require(\"https\");\r\nimport Config = require(\"./Config\");\r\nimport Logging = require(\"./Logging\");\r\nimport Util = require(\"./Util\");\r\nimport AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\r\n\r\nconst AIMS_URI = \"http://169.254.169.254/metadata/instance/compute\";\r\nconst AIMS_API_VERSION = \"api-version=2017-12-01\";\r\nconst AIMS_FORMAT = \"format=json\";\r\nconst ConnectionErrorMessage = \"UNREACH\"; // EHOSTUNREACH, ENETUNREACH\r\n\r\nexport interface IVirtualMachineInfo {\r\n    isVM?: boolean;\r\n    id?: string;\r\n    subscriptionId?: string;\r\n    osType?: string;\r\n}\r\n\r\nexport class AzureVirtualMachine {\r\n    public static HTTP_TIMEOUT: number = 2500; // 2.5 seconds\r\n\r\n    private static TAG = \"AzureVirtualMachine\";\r\n    private static _requestTimedOut: boolean;\r\n\r\n    public static getAzureComputeMetadata(config: Config, callback: (vm: IVirtualMachineInfo) => void) {\r\n        let vmInfo: IVirtualMachineInfo = {};\r\n        const metadataRequestUrl = `${AIMS_URI}?${AIMS_API_VERSION}&${AIMS_FORMAT}`;\r\n        const requestOptions: http.RequestOptions | https.RequestOptions = {\r\n            method: \"GET\",\r\n            [AutoCollectHttpDependencies.disableCollectionRequestOption]: true,\r\n            headers: {\r\n                \"Metadata\": \"True\"\r\n            }\r\n        };\r\n\r\n        const req = Util.makeRequest(config, metadataRequestUrl, requestOptions, (res) => {\r\n            if (res.statusCode === 200) {\r\n                // Success; VM\r\n                vmInfo.isVM = true;\r\n                let virtualMachineData = \"\";\r\n                res.on(\"data\", (data: any) => {\r\n                    virtualMachineData += data;\r\n                });\r\n                res.on(\"end\", () => {\r\n                    try {\r\n                        let data = JSON.parse(virtualMachineData);\r\n                        vmInfo.id = data[\"vmId\"] || \"\";\r\n                        vmInfo.subscriptionId = data[\"subscriptionId\"] || \"\";\r\n                        vmInfo.osType = data[\"osType\"] || \"\";\r\n                    }\r\n                    catch (error) {\r\n                        // Failed to parse JSON\r\n                        Logging.info(AzureVirtualMachine.TAG, error);\r\n                    }\r\n                    callback(vmInfo);\r\n                });\r\n            } else {\r\n                callback(vmInfo);\r\n            }\r\n        }, false, false);\r\n        if (req) {\r\n            setTimeout(() => {\r\n                this._requestTimedOut = true;\r\n                req.abort();\r\n            }, AzureVirtualMachine.HTTP_TIMEOUT);\r\n\r\n            req.on(\"error\", (error: Error) => {\r\n                // Unable to contact endpoint.\r\n                // Do nothing for now.\r\n                if (this._requestTimedOut) {\r\n                    if (error) {\r\n                        error.name = \"telemetry timeout\";\r\n                        error.message = \"telemetry request timed out\";\r\n                    }\r\n                }\r\n\r\n                if (error && error.message && error.message.indexOf(ConnectionErrorMessage) > -1) {\r\n                    vmInfo.isVM = false; // confirm it's not in VM\r\n                }\r\n                else {\r\n                    // Only log when is not determined if VM or not to avoid noise outside of Azure VMs\r\n                    Logging.info(AzureVirtualMachine.TAG, error);\r\n                }\r\n                callback(vmInfo);\r\n            });\r\n            req.end();\r\n        }\r\n    }\r\n}\r\n", "export class NetworkStatsbeat {\r\n\r\n    public time: number;\r\n\r\n    public lastTime: number;\r\n\r\n    public endpoint: number;\r\n\r\n    public host: string;\r\n\r\n    public totalRequestCount: number;\r\n\r\n    public lastRequestCount: number;\r\n\r\n    public totalSuccesfulRequestCount: number;\r\n\r\n    public totalFailedRequestCount: { statusCode: number, count: number }[];\r\n\r\n    public retryCount: { statusCode: number, count: number }[];\r\n\r\n    public exceptionCount: { exceptionType: string, count: number }[];\r\n\r\n    public throttleCount: { statusCode: number, count: number }[];\r\n\r\n    public intervalRequestExecutionTime: number;\r\n\r\n    public lastIntervalRequestExecutionTime: number;\r\n\r\n    constructor(endpoint: number, host: string) {\r\n        this.endpoint = endpoint;\r\n        this.host = host;\r\n        this.totalRequestCount = 0;\r\n        this.totalSuccesfulRequestCount = 0;\r\n        this.totalFailedRequestCount = [];\r\n        this.retryCount = [];\r\n        this.exceptionCount = [];\r\n        this.throttleCount = [];\r\n        this.intervalRequestExecutionTime = 0;\r\n        this.lastIntervalRequestExecutionTime = 0;\r\n        this.lastTime = +new Date;\r\n        this.lastRequestCount = 0;\r\n    }\r\n}", "import os = require(\"os\");\r\nimport EnvelopeFactory = require(\"../Library/EnvelopeFactory\");\r\nimport Logging = require(\"../Library/Logging\");\r\nimport Sender = require(\"../Library/Sender\");\r\nimport Constants = require(\"../Declarations/Constants\");\r\nimport Contracts = require(\"../Declarations/Contracts\");\r\nimport Vm = require(\"../Library/AzureVirtualMachine\");\r\nimport Config = require(\"../Library/Config\");\r\nimport Context = require(\"../Library/Context\");\r\nimport Network = require(\"./NetworkStatsbeat\");\r\nimport Util = require(\"../Library/Util\");\r\n\r\nconst STATSBEAT_LANGUAGE = \"node\";\r\n\r\nclass Statsbeat {\r\n\r\n    public static NON_EU_CONNECTION_STRING = \"InstrumentationKey=c4a29126-a7cb-47e5-b348-11414998b11e;IngestionEndpoint=https://westus-0.in.applicationinsights.azure.com\";\r\n    public static EU_CONNECTION_STRING = \"InstrumentationKey=7dc56bab-3c0c-4e9f-9ebb-d1acadee8d0f;IngestionEndpoint=https://westeurope-5.in.applicationinsights.azure.com\";\r\n    public static STATS_COLLECTION_SHORT_INTERVAL: number = 900000; // 15 minutes\r\n    public static STATS_COLLECTION_LONG_INTERVAL: number = 86400000; // 1 day\r\n\r\n    private static TAG = \"Statsbeat\";\r\n\r\n    private _networkStatsbeatCollection: Array<Network.NetworkStatsbeat>;\r\n    private _sender: Sender;\r\n    private _context: Context;\r\n    private _handle: NodeJS.Timer | null;\r\n    private _longHandle: NodeJS.Timer | null;\r\n    private _isEnabled: boolean;\r\n    private _isInitialized: boolean;\r\n    private _config: Config;\r\n    private _statsbeatConfig: Config;\r\n    private _isVM: boolean | undefined;\r\n    private _statbeatMetrics: Array<{ name: string; value: number, properties: {} }>;\r\n\r\n    // Custom dimensions\r\n    private _resourceProvider: string;\r\n    private _resourceIdentifier: string;\r\n    private _sdkVersion: string;\r\n    private _runtimeVersion: string;\r\n    private _os: string;\r\n    private _language: string;\r\n    private _cikey: string;\r\n    private _attach: string = Constants.StatsbeatAttach.sdk; // Default is SDK\r\n    private _feature: number = Constants.StatsbeatFeature.NONE;\r\n    private _instrumentation: number = Constants.StatsbeatInstrumentation.NONE;\r\n\r\n    constructor(config: Config, context?: Context) {\r\n        this._isInitialized = false;\r\n        this._statbeatMetrics = [];\r\n        this._networkStatsbeatCollection = [];\r\n        this._config = config;\r\n        this._context = context || new Context();\r\n        let statsbeatConnectionString = this._getConnectionString(config);\r\n        this._statsbeatConfig = new Config(statsbeatConnectionString);\r\n        this._statsbeatConfig.samplingPercentage = 100; // Do not sample\r\n        this._sender = new Sender(this._statsbeatConfig, null, null, null, null, true, this._shutdownStatsbeat.bind(this));\r\n    }\r\n\r\n    public enable(isEnabled: boolean) {\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._getCustomProperties();\r\n            this._isInitialized = true;\r\n        }\r\n        if (isEnabled) {\r\n            if (!this._handle) {\r\n                this._handle = setInterval(() => {\r\n                    this.trackShortIntervalStatsbeats();\r\n                }, Statsbeat.STATS_COLLECTION_SHORT_INTERVAL);\r\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n            if (!this._longHandle) {\r\n                // On first enablement\r\n                this.trackLongIntervalStatsbeats();\r\n                this._longHandle = setInterval(() => {\r\n                    this.trackLongIntervalStatsbeats();\r\n                }, Statsbeat.STATS_COLLECTION_LONG_INTERVAL);\r\n                this._longHandle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n        } else {\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = null;\r\n            }\r\n            if (this._longHandle) {\r\n                clearInterval(this._longHandle);\r\n                this._longHandle = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    public isInitialized() {\r\n        return this._isInitialized;\r\n    }\r\n\r\n    public isEnabled() {\r\n        return this._isEnabled;\r\n    }\r\n\r\n    public setCodelessAttach() {\r\n        this._attach = Constants.StatsbeatAttach.codeless;\r\n    }\r\n\r\n    public addFeature(feature: Constants.StatsbeatFeature) {\r\n        this._feature |= feature;\r\n    }\r\n\r\n    public removeFeature(feature: Constants.StatsbeatFeature) {\r\n        this._feature &= ~feature;\r\n    }\r\n\r\n    public addInstrumentation(instrumentation: Constants.StatsbeatInstrumentation) {\r\n        this._instrumentation |= instrumentation;\r\n    }\r\n\r\n    public removeInstrumentation(instrumentation: Constants.StatsbeatInstrumentation) {\r\n        this._instrumentation &= ~instrumentation;\r\n    }\r\n\r\n    public countRequest(endpoint: number, host: string, duration: number, success: boolean, statusCode?: number) {\r\n        if (!this.isEnabled()) {\r\n            return;\r\n        }\r\n        let counter: Network.NetworkStatsbeat = this._getNetworkStatsbeatCounter(endpoint, host);\r\n        counter.totalRequestCount++;\r\n        counter.intervalRequestExecutionTime += duration;\r\n        if (success === false) {\r\n            if (!statusCode) {\r\n                return;\r\n            }\r\n            let currentStatusCounter = counter.totalFailedRequestCount.find((statusCounter) => statusCode === statusCounter.statusCode);\r\n            if (currentStatusCounter) {\r\n                currentStatusCounter.count++;\r\n            } else {\r\n                counter.totalFailedRequestCount.push({ statusCode: statusCode, count: 1 });\r\n            }\r\n        }\r\n        else {\r\n            counter.totalSuccesfulRequestCount++;\r\n        }\r\n    }\r\n\r\n    public countException(endpoint: number, host: string, exceptionType: Error) {\r\n        if (!this.isEnabled()) {\r\n            return;\r\n        }\r\n        let counter: Network.NetworkStatsbeat = this._getNetworkStatsbeatCounter(endpoint, host);\r\n        let currentErrorCounter = counter.exceptionCount.find((exceptionCounter) => exceptionType.name === exceptionCounter.exceptionType);\r\n        if (currentErrorCounter) {\r\n            currentErrorCounter.count++;\r\n        } else {\r\n            counter.exceptionCount.push({ exceptionType: exceptionType.name, count: 1 });\r\n        }\r\n    }\r\n\r\n    public countThrottle(endpoint: number, host: string, statusCode: number) {\r\n        if (!this.isEnabled()) {\r\n            return;\r\n        }\r\n        let counter: Network.NetworkStatsbeat = this._getNetworkStatsbeatCounter(endpoint, host);\r\n        let currentStatusCounter = counter.throttleCount.find((statusCounter) => statusCode === statusCounter.statusCode);\r\n        if (currentStatusCounter) {\r\n            currentStatusCounter.count++;\r\n        } else {\r\n            counter.throttleCount.push({ statusCode: statusCode, count: 1 });\r\n        }\r\n    }\r\n\r\n    public countRetry(endpoint: number, host: string, statusCode: number) {\r\n        if (!this.isEnabled()) {\r\n            return;\r\n        }\r\n        let counter: Network.NetworkStatsbeat = this._getNetworkStatsbeatCounter(endpoint, host);\r\n        let currentStatusCounter = counter.retryCount.find((statusCounter) => statusCode === statusCounter.statusCode);\r\n        if (currentStatusCounter) {\r\n            currentStatusCounter.count++;\r\n        } else {\r\n            counter.retryCount.push({ statusCode: statusCode, count: 1 });\r\n        }\r\n    }\r\n\r\n    public async trackShortIntervalStatsbeats() {\r\n        try {\r\n            await this._getResourceProvider();\r\n            let networkProperties = {\r\n                \"os\": this._os,\r\n                \"rp\": this._resourceProvider,\r\n                \"cikey\": this._cikey,\r\n                \"runtimeVersion\": this._runtimeVersion,\r\n                \"language\": this._language,\r\n                \"version\": this._sdkVersion,\r\n                \"attach\": this._attach\r\n            }\r\n            this._trackRequestDuration(networkProperties);\r\n            this._trackRequestsCount(networkProperties);\r\n            await this._sendStatsbeats();\r\n        }\r\n        catch (error) {\r\n            Logging.info(Statsbeat.TAG, \"Failed to send Statsbeat metrics: \" + Util.dumpObj(error));\r\n        }\r\n    }\r\n\r\n    public async trackLongIntervalStatsbeats() {\r\n        try {\r\n            await this._getResourceProvider();\r\n            let commonProperties = {\r\n                \"os\": this._os,\r\n                \"rp\": this._resourceProvider,\r\n                \"cikey\": this._cikey,\r\n                \"runtimeVersion\": this._runtimeVersion,\r\n                \"language\": this._language,\r\n                \"version\": this._sdkVersion,\r\n                \"attach\": this._attach\r\n            };\r\n            let attachProperties = Object.assign({\r\n                \"rpId\": this._resourceIdentifier\r\n            }, commonProperties);\r\n            this._statbeatMetrics.push({ name: Constants.StatsbeatCounter.ATTACH, value: 1, properties: attachProperties });\r\n            if (this._instrumentation != Constants.StatsbeatInstrumentation.NONE) {// Only send if there are some instrumentations enabled\r\n                let instrumentationProperties = Object.assign({ \"feature\": this._instrumentation, \"type\": Constants.StatsbeatFeatureType.Instrumentation }, commonProperties);\r\n                this._statbeatMetrics.push({ name: Constants.StatsbeatCounter.FEATURE, value: 1, properties: instrumentationProperties });\r\n            }\r\n            if (this._feature != Constants.StatsbeatFeature.NONE) {// Only send if there are some features enabled\r\n                let featureProperties = Object.assign({ \"feature\": this._feature, \"type\": Constants.StatsbeatFeatureType.Feature }, commonProperties);\r\n                this._statbeatMetrics.push({ name: Constants.StatsbeatCounter.FEATURE, value: 1, properties: featureProperties });\r\n            }\r\n            await this._sendStatsbeats();\r\n        }\r\n        catch (error) {\r\n            Logging.info(Statsbeat.TAG, \"Failed to send Statsbeat metrics: \" + Util.dumpObj(error));\r\n        }\r\n    }\r\n\r\n    private _getNetworkStatsbeatCounter(endpoint: number, host: string): Network.NetworkStatsbeat {\r\n        let shortHost = this._getShortHost(host);\r\n        // Check if counter is available\r\n        for (let i = 0; i < this._networkStatsbeatCollection.length; i++) {\r\n            // Same object\r\n            if (endpoint === this._networkStatsbeatCollection[i].endpoint &&\r\n                shortHost === this._networkStatsbeatCollection[i].host) {\r\n                return this._networkStatsbeatCollection[i];\r\n            }\r\n        }\r\n        // Create a new one if not found\r\n        let newCounter = new Network.NetworkStatsbeat(endpoint, shortHost);\r\n        this._networkStatsbeatCollection.push(newCounter);\r\n        return newCounter;\r\n    }\r\n\r\n    private _trackRequestDuration(commonProperties: {}) {\r\n        for (let i = 0; i < this._networkStatsbeatCollection.length; i++) {\r\n            let currentCounter = this._networkStatsbeatCollection[i];\r\n            currentCounter.time = +new Date;\r\n            let intervalRequests = (currentCounter.totalRequestCount - currentCounter.lastRequestCount) || 0;\r\n            let totalRequestExecutionTime = currentCounter.intervalRequestExecutionTime - currentCounter.lastIntervalRequestExecutionTime;\r\n            let averageRequestExecutionTime = totalRequestExecutionTime > 0 ? (totalRequestExecutionTime / intervalRequests) || 0 : 0;\r\n            currentCounter.lastIntervalRequestExecutionTime = currentCounter.intervalRequestExecutionTime; // reset\r\n            if (intervalRequests > 0) {\r\n                // Add extra properties\r\n                let properties = Object.assign(\r\n                    {\r\n                        \"endpoint\": this._networkStatsbeatCollection[i].endpoint,\r\n                        \"host\": this._networkStatsbeatCollection[i].host\r\n                    },\r\n                    commonProperties\r\n                );\r\n                this._statbeatMetrics.push({\r\n                    name: Constants.StatsbeatCounter.REQUEST_DURATION,\r\n                    value: averageRequestExecutionTime,\r\n                    properties: properties\r\n                });\r\n            }\r\n            // Set last counters\r\n            currentCounter.lastRequestCount = currentCounter.totalRequestCount;\r\n            currentCounter.lastTime = currentCounter.time;\r\n        }\r\n    }\r\n\r\n    private _getShortHost(originalHost: string) {\r\n        let shortHost = originalHost;\r\n        try {\r\n            let hostRegex = new RegExp(/^https?:\\/\\/(?:www\\.)?([^\\/.-]+)/);\r\n            let res = hostRegex.exec(originalHost);\r\n            if (res != null && res.length > 1) {\r\n                shortHost = res[1];\r\n            }\r\n            shortHost = shortHost.replace(\".in.applicationinsights.azure.com\", \"\");\r\n        }\r\n        catch (error) {\r\n            // Ignore error\r\n        }\r\n        return shortHost;\r\n    }\r\n\r\n    private _trackRequestsCount(commonProperties: {}) {\r\n        for (let i = 0; i < this._networkStatsbeatCollection.length; i++) {\r\n            var currentCounter = this._networkStatsbeatCollection[i];\r\n            let properties = Object.assign(\r\n                { \"endpoint\": currentCounter.endpoint, \"host\": currentCounter.host },\r\n                commonProperties\r\n            );\r\n            if (currentCounter.totalSuccesfulRequestCount > 0) {\r\n                this._statbeatMetrics.push({\r\n                        name: Constants.StatsbeatCounter.REQUEST_SUCCESS,\r\n                        value: currentCounter.totalSuccesfulRequestCount,\r\n                        properties: properties\r\n                });\r\n                currentCounter.totalSuccesfulRequestCount = 0; //Reset\r\n            }\r\n            if (currentCounter.totalFailedRequestCount.length > 0) {\r\n                currentCounter.totalFailedRequestCount.forEach((currentCounter) => {\r\n                    properties = Object.assign({ ...properties, \"statusCode\": currentCounter.statusCode });\r\n                    this._statbeatMetrics.push({\r\n                        name: Constants.StatsbeatCounter.REQUEST_FAILURE,\r\n                        value: currentCounter.count,\r\n                        properties: properties\r\n                    });\r\n                });\r\n                currentCounter.totalFailedRequestCount = []; //Reset\r\n            }\r\n            if (currentCounter.retryCount.length > 0) {\r\n                currentCounter.retryCount.forEach((currentCounter) => {\r\n                    properties = Object.assign({ ...properties, \"statusCode\": currentCounter.statusCode });\r\n                    this._statbeatMetrics.push({\r\n                        name: Constants.StatsbeatCounter.RETRY_COUNT,\r\n                        value: currentCounter.count,\r\n                        properties: properties\r\n                    });\r\n                });\r\n                currentCounter.retryCount = []; //Reset\r\n            }\r\n            if (currentCounter.throttleCount.length > 0) {\r\n                currentCounter.throttleCount.forEach((currentCounter) => {\r\n                    properties = Object.assign({ ...properties, \"statusCode\": currentCounter.statusCode });\r\n                    this._statbeatMetrics.push({\r\n                        name: Constants.StatsbeatCounter.THROTTLE_COUNT,\r\n                        value: currentCounter.count,\r\n                        properties: properties\r\n                    });\r\n                });\r\n                currentCounter.throttleCount = []; //Reset\r\n            }\r\n            if (currentCounter.exceptionCount.length > 0) {\r\n                currentCounter.exceptionCount.forEach((currentCounter) => {\r\n                    properties = Object.assign({ ...properties, \"exceptionType\": currentCounter.exceptionType });\r\n                    this._statbeatMetrics.push({\r\n                        name: Constants.StatsbeatCounter.EXCEPTION_COUNT,\r\n                        value: currentCounter.count,\r\n                        properties: properties\r\n                    });\r\n                });\r\n                currentCounter.exceptionCount = []; //Reset\r\n            }\r\n        }\r\n    }\r\n\r\n    private async _sendStatsbeats() {\r\n        let envelopes: Array<Contracts.Envelope> = [];\r\n        for (let i = 0; i < this._statbeatMetrics.length; i++) {\r\n            let statsbeat: Contracts.MetricTelemetry = {\r\n                name: this._statbeatMetrics[i].name,\r\n                value: this._statbeatMetrics[i].value,\r\n                properties: this._statbeatMetrics[i].properties\r\n            };\r\n            let envelope = EnvelopeFactory.createEnvelope(statsbeat, Contracts.TelemetryType.Metric, null, this._context, this._statsbeatConfig);\r\n            envelope.name = Constants.StatsbeatTelemetryName;\r\n            envelopes.push(envelope);\r\n        }\r\n        this._statbeatMetrics = [];\r\n        await this._sender.send(envelopes);\r\n    }\r\n\r\n    private _getCustomProperties() {\r\n        this._language = STATSBEAT_LANGUAGE;\r\n        this._cikey = this._config.instrumentationKey;\r\n        this._sdkVersion = Context.sdkVersion; // \"node\" or \"node-nativeperf\"\r\n        this._os = os.type();\r\n        this._runtimeVersion = process.version;\r\n    }\r\n\r\n    private _getResourceProvider(): Promise<void> {\r\n        return new Promise((resolve, reject) => {\r\n            // Check resource provider\r\n            let waiting: boolean = false;\r\n            this._resourceProvider = Constants.StatsbeatResourceProvider.unknown;\r\n            this._resourceIdentifier = Constants.StatsbeatResourceProvider.unknown;\r\n            if (process.env.WEBSITE_SITE_NAME) { // Web apps\r\n                this._resourceProvider = Constants.StatsbeatResourceProvider.appsvc;\r\n                this._resourceIdentifier = process.env.WEBSITE_SITE_NAME;\r\n                if (process.env.WEBSITE_HOME_STAMPNAME) {\r\n                    this._resourceIdentifier += \"/\" + process.env.WEBSITE_HOME_STAMPNAME;\r\n                }\r\n            } else if (process.env.FUNCTIONS_WORKER_RUNTIME) { // Function apps\r\n                this._resourceProvider = Constants.StatsbeatResourceProvider.functions;\r\n                if (process.env.WEBSITE_HOSTNAME) {\r\n                    this._resourceIdentifier = process.env.WEBSITE_HOSTNAME;\r\n                }\r\n            } else if (this._config) {\r\n                if (this._isVM === undefined || this._isVM == true) {\r\n                    waiting = true;\r\n                    Vm.AzureVirtualMachine.getAzureComputeMetadata(this._config, (vmInfo) => {\r\n                        this._isVM = vmInfo.isVM;\r\n                        if (this._isVM) {\r\n                            this._resourceProvider = Constants.StatsbeatResourceProvider.vm;\r\n                            this._resourceIdentifier = vmInfo.id + \"/\" + vmInfo.subscriptionId;\r\n                            // Override OS as VM info have higher precedence\r\n                            if (vmInfo.osType) {\r\n                                this._os = vmInfo.osType;\r\n                            }\r\n                        }\r\n                        resolve();\r\n                    });\r\n                } else {\r\n                    this._resourceProvider = Constants.StatsbeatResourceProvider.unknown;\r\n                }\r\n            }\r\n            if (!waiting) {\r\n                resolve();\r\n            }\r\n        });\r\n    }\r\n\r\n    private _shutdownStatsbeat() {\r\n        this.enable(false);// Disable Statsbeat as is it failed 3 times cosnecutively during initialization, is possible SDK is running in private or restricted network\r\n    }\r\n\r\n    private _getConnectionString(config: Config): string {\r\n        let currentEndpoint = config.endpointUrl;\r\n        let euEndpoints = [\r\n            \"westeurope\",\r\n            \"northeurope\",\r\n            \"francecentral\",\r\n            \"francesouth\",\r\n            \"germanywestcentral\",\r\n            \"norwayeast\",\r\n            \"norwaywest\",\r\n            \"swedencentral\",\r\n            \"switzerlandnorth\",\r\n            \"switzerlandwest\",\r\n            \"uksouth\",\r\n            \"ukwest\"\r\n        ];\r\n        for (let i = 0; i < euEndpoints.length; i++) {\r\n            if (currentEndpoint.indexOf(euEndpoints[i]) > -1) {\r\n                return Statsbeat.EU_CONNECTION_STRING;\r\n            }\r\n        }\r\n        return Statsbeat.NON_EU_CONNECTION_STRING;\r\n    }\r\n}\r\n\r\nexport = Statsbeat;\r\n", "import url = require(\"url\");\r\nimport os = require(\"os\");\r\n\r\nimport Config = require(\"./Config\");\r\nimport AuthorizationHandler = require(\"./AuthorizationHandler\");\r\nimport Context = require(\"./Context\");\r\nimport Contracts = require(\"../Declarations/Contracts\");\r\nimport Channel = require(\"./Channel\");\r\nimport TelemetryProcessors = require(\"../TelemetryProcessors\");\r\nimport { CorrelationContextManager } from \"../AutoCollection/CorrelationContextManager\";\r\nimport Statsbeat = require(\"../AutoCollection/Statsbeat\");\r\nimport Sender = require(\"./Sender\");\r\nimport Util = require(\"./Util\");\r\nimport Logging = require(\"./Logging\");\r\nimport FlushOptions = require(\"./FlushOptions\");\r\nimport EnvelopeFactory = require(\"./EnvelopeFactory\");\r\nimport QuickPulseStateManager = require(\"./QuickPulseStateManager\");\r\nimport { Tags } from \"../Declarations/Contracts\";\r\n\r\n/**\r\n * Application Insights telemetry client provides interface to track telemetry items, register telemetry initializers and\r\n * and manually trigger immediate sending (flushing)\r\n */\r\nclass TelemetryClient {\r\n    private static TAG = \"TelemetryClient\";\r\n    private _telemetryProcessors: { (envelope: Contracts.EnvelopeTelemetry, contextObjects: { [name: string]: any; }): boolean; }[] = [];\r\n    private _statsbeat: Statsbeat;\r\n\r\n    public config: Config;\r\n    public context: Context;\r\n    public commonProperties: { [key: string]: string; };\r\n    public channel: Channel;\r\n    public quickPulseClient: QuickPulseStateManager;\r\n    public authorizationHandler: AuthorizationHandler;\r\n\r\n    /**\r\n     * Constructs a new client of the client\r\n     * @param setupString the Connection String or Instrumentation Key to use (read from environment variable if not specified)\r\n     */\r\n    constructor(setupString?: string) {\r\n        var config = new Config(setupString);\r\n        this.config = config;\r\n        if (!this.config.instrumentationKey || this.config.instrumentationKey == \"\") {\r\n            throw new Error(\"Instrumentation key not found, please provide a connection string before starting Application Insights SDK.\");\r\n        }\r\n        this.context = new Context();\r\n        this.commonProperties = {};\r\n        this.authorizationHandler = null;\r\n        if (!this.config.disableStatsbeat) {\r\n            this._statsbeat = new Statsbeat(this.config, this.context);\r\n            this._statsbeat.enable(true);\r\n        }\r\n        var sender = new Sender(this.config, this.getAuthorizationHandler, null, null, this._statsbeat);\r\n        this.channel = new Channel(() => config.disableAppInsights, () => config.maxBatchSize, () => config.maxBatchIntervalMs, sender);\r\n    }\r\n\r\n    /**\r\n     * Log information about availability of an application\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    public trackAvailability(telemetry: Contracts.AvailabilityTelemetry): void {\r\n        this.track(telemetry, Contracts.TelemetryType.Availability);\r\n    }\r\n\r\n    /**\r\n     * Log a page view\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    public trackPageView(telemetry: Contracts.PageViewTelemetry): void {\r\n        this.track(telemetry, Contracts.TelemetryType.PageView);\r\n    }\r\n\r\n    /**\r\n     * Log a trace message\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    public trackTrace(telemetry: Contracts.TraceTelemetry): void {\r\n        this.track(telemetry, Contracts.TelemetryType.Trace);\r\n    }\r\n\r\n    /**\r\n     * Log a numeric value that is not associated with a specific event. Typically used to send regular reports of performance indicators.\r\n     * To send a single measurement, use just the first two parameters. If you take measurements very frequently, you can reduce the\r\n     * telemetry bandwidth by aggregating multiple measurements and sending the resulting average at intervals.\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    public trackMetric(telemetry: Contracts.MetricTelemetry): void {\r\n        this.track(telemetry, Contracts.TelemetryType.Metric);\r\n    }\r\n\r\n    /**\r\n     * Log an exception\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    public trackException(telemetry: Contracts.ExceptionTelemetry): void {\r\n        if (telemetry && telemetry.exception && !Util.isError(telemetry.exception)) {\r\n            telemetry.exception = new Error(telemetry.exception.toString());\r\n        }\r\n        this.track(telemetry, Contracts.TelemetryType.Exception);\r\n    }\r\n\r\n    /**\r\n     * Log a user action or other occurrence.\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    public trackEvent(telemetry: Contracts.EventTelemetry): void {\r\n        this.track(telemetry, Contracts.TelemetryType.Event);\r\n    }\r\n\r\n    /**\r\n     * Log a request. Note that the default client will attempt to collect HTTP requests automatically so only use this for requests\r\n     * that aren't automatically captured or if you've disabled automatic request collection.\r\n     *\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    public trackRequest(telemetry: Contracts.RequestTelemetry & Contracts.Identified): void {\r\n        this.track(telemetry, Contracts.TelemetryType.Request);\r\n    }\r\n\r\n    /**\r\n     * Log a dependency. Note that the default client will attempt to collect dependencies automatically so only use this for dependencies\r\n     * that aren't automatically captured or if you've disabled automatic dependency collection.\r\n     *\r\n     * @param telemetry      Object encapsulating tracking option\r\n     * */\r\n    public trackDependency(telemetry: Contracts.DependencyTelemetry & Contracts.Identified) {\r\n\r\n        if (telemetry && !telemetry.target && telemetry.data) {\r\n            // url.parse().host returns null for non-urls,\r\n            // making this essentially a no-op in those cases\r\n            // If this logic is moved, update jsdoc in DependencyTelemetry.target\r\n            // url.parse() is deprecated, update to use WHATWG URL API instead\r\n            try {\r\n                telemetry.target = new url.URL(telemetry.data).host;\r\n            } catch (error) {\r\n                // set target as null to be compliant with previous behavior\r\n                telemetry.target = null;\r\n                Logging.warn(TelemetryClient.TAG, \"The URL object is failed to create.\", error);\r\n            }\r\n        }\r\n        this.track(telemetry, Contracts.TelemetryType.Dependency);\r\n    }\r\n\r\n    /**\r\n     * Immediately send all queued telemetry.\r\n     * @param options Flush options, including indicator whether app is crashing and callback\r\n     */\r\n    public flush(options?: FlushOptions) {\r\n        this.channel.triggerSend(\r\n            options ? !!options.isAppCrashing : false,\r\n            options ? options.callback : undefined);\r\n    }\r\n\r\n    /**\r\n     * Generic track method for all telemetry types\r\n     * @param data the telemetry to send\r\n     * @param telemetryType specify the type of telemetry you are tracking from the list of Contracts.DataTypes\r\n     */\r\n    public track(telemetry: Contracts.Telemetry, telemetryType: Contracts.TelemetryType) {\r\n        if (telemetry && Contracts.telemetryTypeToBaseType(telemetryType)) {\r\n            var envelope = EnvelopeFactory.createEnvelope(telemetry, telemetryType, this.commonProperties, this.context, this.config);\r\n\r\n            // Set time on the envelope if it was set on the telemetry item\r\n            if (telemetry.time) {\r\n                envelope.time = telemetry.time.toISOString();\r\n            }\r\n            var accepted = this.runTelemetryProcessors(envelope, telemetry.contextObjects);\r\n\r\n            // Ideally we would have a central place for \"internal\" telemetry processors and users can configure which ones are in use.\r\n            // This will do for now. Otherwise clearTelemetryProcessors() would be problematic.\r\n            accepted = accepted && TelemetryProcessors.samplingTelemetryProcessor(envelope, { correlationContext: CorrelationContextManager.getCurrentContext() });\r\n            TelemetryProcessors.preAggregatedMetricsTelemetryProcessor(envelope, this.context);\r\n            if (accepted) {\r\n                TelemetryProcessors.performanceMetricsTelemetryProcessor(envelope, this.quickPulseClient);\r\n                this.channel.send(envelope);\r\n            }\r\n        }\r\n        else {\r\n            Logging.warn(TelemetryClient.TAG, \"track() requires telemetry object and telemetryType to be specified.\")\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  @deprecated The method should not be called, Azure Properties will be added always when available\r\n     * Automatically populate telemetry properties like RoleName when running in Azure\r\n     *\r\n      * @param value if true properties will be populated\r\n     */\r\n    public setAutoPopulateAzureProperties(value: boolean) {\r\n        // NO-OP\r\n    }\r\n\r\n    /**\r\n     * Get Authorization handler\r\n     */\r\n    public getAuthorizationHandler(config: Config): AuthorizationHandler {\r\n        if (config && config.aadTokenCredential) {\r\n            if (!this.authorizationHandler) {\r\n                Logging.info(TelemetryClient.TAG, \"Adding authorization handler\");\r\n                this.authorizationHandler = new AuthorizationHandler(config.aadTokenCredential)\r\n            }\r\n            return this.authorizationHandler;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Adds telemetry processor to the collection. Telemetry processors will be called one by one\r\n     * before telemetry item is pushed for sending and in the order they were added.\r\n     *\r\n     * @param telemetryProcessor function, takes Envelope, and optional context object and returns boolean\r\n     */\r\n    public addTelemetryProcessor(telemetryProcessor: (envelope: Contracts.EnvelopeTelemetry, contextObjects?: { [name: string]: any; }) => boolean) {\r\n        this._telemetryProcessors.push(telemetryProcessor);\r\n    }\r\n\r\n    /*\r\n     * Removes all telemetry processors\r\n     */\r\n    public clearTelemetryProcessors() {\r\n        this._telemetryProcessors = [];\r\n    }\r\n\r\n    private runTelemetryProcessors(envelope: Contracts.EnvelopeTelemetry, contextObjects: { [name: string]: any; }): boolean {\r\n        var accepted = true;\r\n        var telemetryProcessorsCount = this._telemetryProcessors.length;\r\n\r\n        if (telemetryProcessorsCount === 0) {\r\n            return accepted;\r\n        }\r\n\r\n        contextObjects = contextObjects || {};\r\n        contextObjects[\"correlationContext\"] = CorrelationContextManager.getCurrentContext();\r\n\r\n        for (var i = 0; i < telemetryProcessorsCount; ++i) {\r\n            try {\r\n                var processor = this._telemetryProcessors[i];\r\n                if (processor) {\r\n                    if (processor.apply(null, [envelope, contextObjects]) === false) {\r\n                        accepted = false;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n            } catch (error) {\r\n                accepted = true;\r\n                Logging.warn(TelemetryClient.TAG, \"One of telemetry processors failed, telemetry item will be sent.\", error, envelope);\r\n            }\r\n        }\r\n\r\n        // Sanitize tags and properties after running telemetry processors\r\n        if (accepted) {\r\n            if (envelope && envelope.tags) {\r\n                envelope.tags = Util.validateStringMap(envelope.tags) as Tags & Tags[];\r\n            }\r\n            if (envelope && envelope.data && envelope.data.baseData && envelope.data.baseData.properties) {\r\n                envelope.data.baseData.properties = Util.validateStringMap(envelope.data.baseData.properties);\r\n            }\r\n        }\r\n\r\n        return accepted;\r\n    }\r\n\r\n    /*\r\n     * Get Statsbeat instance\r\n     */\r\n    public getStatsbeat() {\r\n        return this._statsbeat;\r\n    }\r\n}\r\n\r\nexport = TelemetryClient;\r\n", "import http = require(\"http\");\r\nimport https = require(\"https\");\r\nimport TelemetryClient = require(\"./TelemetryClient\");\r\nimport ServerRequestTracking = require(\"../AutoCollection/HttpRequests\");\r\nimport ClientRequestTracking = require(\"../AutoCollection/HttpDependencies\");\r\nimport Logging = require(\"./Logging\");\r\nimport Contracts = require(\"../Declarations/Contracts\");\r\n\r\n/**\r\n * Application Insights Telemetry Client for Node.JS. Provides the Application Insights TelemetryClient API\r\n * in addition to Node-specific helper functions.\r\n * Construct a new TelemetryClient to have an instance with a different configuration than the default client.\r\n * In most cases, `appInsights.defaultClient` should be used instead.\r\n */\r\nclass NodeClient extends TelemetryClient {\r\n\r\n    /**\r\n     * Log RequestTelemetry from HTTP request and response. This method will log immediately without waiting for request completion\r\n     * and it requires duration parameter to be specified on NodeHttpRequestTelemetry object.\r\n     * Use trackNodeHttpRequest function to log the telemetry after request completion\r\n     * @param telemetry Object encapsulating incoming request, response and duration information\r\n     */\r\n    public trackNodeHttpRequestSync(telemetry: Contracts.NodeHttpRequestTelemetry) {\r\n        if (telemetry && telemetry.request && telemetry.response && telemetry.duration) {\r\n            ServerRequestTracking.trackRequestSync(this, telemetry);\r\n        } else {\r\n            Logging.warn(\"trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Log RequestTelemetry from HTTP request and response. This method will `follow` the request to completion.\r\n     * Use trackNodeHttpRequestSync function to log telemetry immediately without waiting for request completion\r\n     * @param telemetry Object encapsulating incoming request and response information\r\n     */\r\n    public trackNodeHttpRequest(telemetry: Contracts.NodeHttpRequestTelemetry) {\r\n        if (telemetry.duration || telemetry.error) {\r\n            Logging.warn(\"trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects.\");\r\n        }\r\n        if (telemetry && telemetry.request && telemetry.response) {\r\n            ServerRequestTracking.trackRequest(this, telemetry);\r\n        } else {\r\n            Logging.warn(\"trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Log DependencyTelemetry from outgoing HTTP request. This method will instrument the outgoing request and append\r\n     * the specified headers and will log the telemetry when outgoing request is complete\r\n     * @param telemetry Object encapsulating outgoing request information\r\n     */\r\n    public trackNodeHttpDependency(telemetry: Contracts.NodeHttpDependencyTelemetry) {\r\n        if (telemetry && telemetry.request) {\r\n            ClientRequestTracking.trackRequest(this, telemetry);\r\n        }\r\n        else {\r\n            Logging.warn(\"trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.\");\r\n        }\r\n    }\r\n}\r\n\r\nexport = NodeClient", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=Functions.js.map", "import CorrelationContextManager = require(\"./AutoCollection/CorrelationContextManager\"); // Keep this first\r\nimport AutoCollectConsole = require(\"./AutoCollection/Console\");\r\nimport AutoCollectExceptions = require(\"./AutoCollection/Exceptions\");\r\nimport AutoCollectPerformance = require(\"./AutoCollection/Performance\");\r\nimport AutoCollecPreAggregatedMetrics = require(\"./AutoCollection/PreAggregatedMetrics\");\r\nimport HeartBeat = require(\"./AutoCollection/HeartBeat\");\r\nimport WebSnippet = require(\"./AutoCollection/WebSnippet\");\r\nimport AutoCollectHttpDependencies = require(\"./AutoCollection/HttpDependencies\");\r\nimport AutoCollectHttpRequests = require(\"./AutoCollection/HttpRequests\");\r\nimport CorrelationIdManager = require(\"./Library/CorrelationIdManager\");\r\nimport Logging = require(\"./Library/Logging\");\r\nimport QuickPulseClient = require(\"./Library/QuickPulseStateManager\");\r\nimport { IncomingMessage } from \"http\";\r\nimport { SpanContext } from \"@opentelemetry/api\";\r\nimport { AutoCollectNativePerformance, IDisabledExtendedMetrics } from \"./AutoCollection/NativePerformance\";\r\nimport { AzureFunctionsHook } from \"./AutoCollection/AzureFunctionsHook\";\r\n\r\n// We export these imports so that SDK users may use these classes directly.\r\n// They're exposed using \"export import\" so that types are passed along as expected\r\nexport import TelemetryClient = require(\"./Library/NodeClient\");\r\nexport import Contracts = require(\"./Declarations/Contracts\");\r\nexport import azureFunctionsTypes = require(\"./Library/Functions\");\r\n\r\nexport enum DistributedTracingModes {\r\n    /**\r\n     * Send Application Insights correlation headers\r\n     */\r\n\r\n    AI = 0,\r\n\r\n    /**\r\n     * (Default) Send both W3C Trace Context headers and back-compatibility Application Insights headers\r\n     */\r\n    AI_AND_W3C\r\n}\r\n\r\n// Default autocollection configuration\r\nlet defaultConfig = _getDefaultAutoCollectConfig();\r\nlet _isConsole = defaultConfig.isConsole();\r\nlet _isConsoleLog = defaultConfig.isConsoleLog();\r\nlet _isLoggerErrorToTrace = defaultConfig.isLoggerErrorToTrace(); // default to false\r\nlet _isExceptions = defaultConfig.isExceptions();\r\nlet _isPerformance = defaultConfig.isPerformance();\r\nlet _isPreAggregatedMetrics = defaultConfig.isPreAggregatedMetrics();\r\nlet _isHeartBeat = defaultConfig.isHeartBeat(); // off by default for now\r\nlet _isRequests = defaultConfig.isRequests();\r\nlet _isDependencies = defaultConfig.isDependencies();\r\nlet _isDiskRetry = defaultConfig.isDiskRetry();\r\nlet _isCorrelating = defaultConfig.isCorrelating();\r\nlet _forceClsHooked: boolean;\r\nlet _isSendingLiveMetrics = defaultConfig.isSendingLiveMetrics(); // Off by default\r\nlet _isNativePerformance = defaultConfig.isNativePerformance();\r\nlet _disabledExtendedMetrics: IDisabledExtendedMetrics;\r\nlet _isSnippetInjection = defaultConfig.isSnippetInjection(); // default to false\r\nlet _isAzureFunctions = defaultConfig.isAzureFunctions(); // default to false\r\n\r\nfunction _getDefaultAutoCollectConfig() {\r\n    return {\r\n        isConsole: () => true,\r\n        isConsoleLog: () => false,\r\n        isExceptions: () => true,\r\n        isPerformance: () => true,\r\n        isPreAggregatedMetrics: () => true,\r\n        isHeartBeat: () => false, // off by default for now\r\n        isRequests: () => true,\r\n        isDependencies: () => true,\r\n        isDiskRetry: () => true,\r\n        isCorrelating: () => true,\r\n        isSendingLiveMetrics: () => false, // Off by default\r\n        isNativePerformance: () => true,\r\n        isSnippetInjection: () => false,\r\n        isAzureFunctions: () => false,\r\n        isLoggerErrorToTrace: () => false,\r\n    }\r\n}\r\n\r\nlet _diskRetryInterval: number = undefined;\r\nlet _diskRetryMaxBytes: number = undefined;\r\nlet _webSnippetConnectionString: string = undefined;\r\n\r\nlet _console: AutoCollectConsole;\r\nlet _exceptions: AutoCollectExceptions;\r\nlet _performance: AutoCollectPerformance;\r\nlet _preAggregatedMetrics: AutoCollecPreAggregatedMetrics;\r\nlet _heartbeat: HeartBeat;\r\nlet _webSnippet: WebSnippet;\r\nlet _nativePerformance: AutoCollectNativePerformance;\r\nlet _serverRequests: AutoCollectHttpRequests;\r\nlet _clientRequests: AutoCollectHttpDependencies;\r\nlet _azureFunctions: AzureFunctionsHook;\r\n\r\nlet _isStarted = false;\r\n\r\n/**\r\n* The default client, initialized when setup was called. To initialize a different client\r\n* with its own configuration, use `new TelemetryClient(instrumentationKey?)`.\r\n*/\r\nexport let defaultClient: TelemetryClient;\r\nexport let liveMetricsClient: QuickPulseClient;\r\nlet _performanceLiveMetrics: AutoCollectPerformance;\r\n\r\n/**\r\n * Initializes the default client. Should be called after setting\r\n * configuration options.\r\n *\r\n * @param setupString the Connection String or Instrumentation Key to use. Optional, if\r\n * this is not specified, the value will be read from the environment\r\n * variable APPLICATIONINSIGHTS_CONNECTION_STRING.\r\n * @returns {Configuration} the configuration class to initialize\r\n * and start the SDK.\r\n */\r\nexport function setup(setupString?: string) {\r\n    if (!defaultClient) {\r\n        defaultClient = new TelemetryClient(setupString);\r\n        _initializeConfig();\r\n        _console = new AutoCollectConsole(defaultClient);\r\n        _exceptions = new AutoCollectExceptions(defaultClient);\r\n        _performance = new AutoCollectPerformance(defaultClient);\r\n        _preAggregatedMetrics = new AutoCollecPreAggregatedMetrics(defaultClient);\r\n        _heartbeat = new HeartBeat(defaultClient);\r\n        _webSnippet = new WebSnippet(defaultClient);\r\n        _serverRequests = new AutoCollectHttpRequests(defaultClient);\r\n        _clientRequests = new AutoCollectHttpDependencies(defaultClient);\r\n        if (!_nativePerformance) {\r\n            _nativePerformance = new AutoCollectNativePerformance(defaultClient);\r\n        }\r\n        _azureFunctions = new AzureFunctionsHook(defaultClient);\r\n    } else {\r\n        Logging.info(\"The default client is already setup\");\r\n    }\r\n\r\n    if (defaultClient && defaultClient.channel) {\r\n        defaultClient.channel.setUseDiskRetryCaching(_isDiskRetry, _diskRetryInterval, _diskRetryMaxBytes);\r\n    }\r\n\r\n    return Configuration;\r\n}\r\n\r\n/**\r\n * Starts automatic collection of telemetry. Prior to calling start no\r\n * telemetry will be *automatically* collected, though manual collection\r\n * is enabled.\r\n * @returns {ApplicationInsights} this class\r\n */\r\nexport function start() {\r\n    if (!!defaultClient) {\r\n        _isStarted = true;\r\n        _console.enable(_isConsole, _isConsoleLog);\r\n        _exceptions.enable(_isExceptions);\r\n        _performance.enable(_isPerformance);\r\n        _preAggregatedMetrics.enable(_isPreAggregatedMetrics);\r\n        _heartbeat.enable(_isHeartBeat);\r\n        _nativePerformance.enable(_isNativePerformance, _disabledExtendedMetrics);\r\n        _serverRequests.useAutoCorrelation(_isCorrelating, _forceClsHooked);\r\n        _serverRequests.enable(_isRequests);\r\n        _clientRequests.enable(_isDependencies);\r\n        _webSnippet.enable(_isSnippetInjection, _webSnippetConnectionString);\r\n        if (liveMetricsClient && _isSendingLiveMetrics) {\r\n            liveMetricsClient.enable(_isSendingLiveMetrics);\r\n        }\r\n        _azureFunctions.enable(_isAzureFunctions);\r\n    } else {\r\n        Logging.warn(\"Start cannot be called before setup\");\r\n    }\r\n\r\n    return Configuration;\r\n}\r\n\r\nfunction _initializeConfig() {\r\n    _isConsole = defaultClient.config.enableAutoCollectExternalLoggers !== undefined ? defaultClient.config.enableAutoCollectExternalLoggers : _isConsole;\r\n    _isConsoleLog = defaultClient.config.enableAutoCollectConsole !== undefined ? defaultClient.config.enableAutoCollectConsole : _isConsoleLog;\r\n    _isLoggerErrorToTrace = defaultClient.config.enableLoggerErrorToTrace !== undefined ? defaultClient.config.enableLoggerErrorToTrace : _isLoggerErrorToTrace;\r\n    _isExceptions = defaultClient.config.enableAutoCollectExceptions !== undefined ? defaultClient.config.enableAutoCollectExceptions : _isExceptions;\r\n    _isPerformance = defaultClient.config.enableAutoCollectPerformance !== undefined ? defaultClient.config.enableAutoCollectPerformance : _isPerformance;\r\n    _isPreAggregatedMetrics = defaultClient.config.enableAutoCollectPreAggregatedMetrics !== undefined ? defaultClient.config.enableAutoCollectPreAggregatedMetrics : _isPreAggregatedMetrics;\r\n    _isHeartBeat = defaultClient.config.enableAutoCollectHeartbeat !== undefined ? defaultClient.config.enableAutoCollectHeartbeat : _isHeartBeat;\r\n    _isRequests = defaultClient.config.enableAutoCollectRequests !== undefined ? defaultClient.config.enableAutoCollectRequests : _isRequests;\r\n    _isDependencies = defaultClient.config.enableAutoDependencyCorrelation !== undefined ? defaultClient.config.enableAutoDependencyCorrelation : _isDependencies;\r\n    _isDiskRetry = defaultClient.config.enableUseDiskRetryCaching !== undefined ? defaultClient.config.enableUseDiskRetryCaching : _isDiskRetry;\r\n    _isCorrelating = defaultClient.config.enableAutoDependencyCorrelation !== undefined ? defaultClient.config.enableAutoDependencyCorrelation : _isCorrelating;\r\n    _forceClsHooked = defaultClient.config.enableUseAsyncHooks !== undefined ? defaultClient.config.enableUseAsyncHooks : _forceClsHooked;\r\n    _isSendingLiveMetrics = defaultClient.config.enableSendLiveMetrics !== undefined ? defaultClient.config.enableSendLiveMetrics : _isSendingLiveMetrics;\r\n    _isSnippetInjection = defaultClient.config.enableAutoWebSnippetInjection === true ? true : _isSnippetInjection;\r\n    _isAzureFunctions = defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions !== undefined ? defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions : _isAzureFunctions;\r\n    const extendedMetricsConfig = AutoCollectNativePerformance.parseEnabled(defaultClient.config.enableAutoCollectExtendedMetrics, defaultClient.config);\r\n    _isNativePerformance = extendedMetricsConfig.isEnabled;\r\n    _disabledExtendedMetrics = extendedMetricsConfig.disabledMetrics;\r\n}\r\n\r\n/**\r\n * Returns an object that is shared across all code handling a given request.\r\n * This can be used similarly to thread-local storage in other languages.\r\n * Properties set on this object will be available to telemetry processors.\r\n *\r\n * Do not store sensitive information here.\r\n * Custom properties set on this object can be exposed in a future SDK\r\n * release via outgoing HTTP headers.\r\n * This is to allow for correlating data cross-component.\r\n *\r\n * This method will return null if automatic dependency correlation is disabled.\r\n * @returns A plain object for request storage or null if automatic dependency correlation is disabled.\r\n */\r\nexport function getCorrelationContext(): CorrelationContextManager.CorrelationContext {\r\n    if (_isCorrelating) {\r\n        return CorrelationContextManager.CorrelationContextManager.getCurrentContext();\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n/**\r\n * **(Experimental!)**\r\n * Starts a fresh context or propagates the current internal one.\r\n */\r\nexport function startOperation(context: SpanContext, name: string): CorrelationContextManager.CorrelationContext | null;\r\nexport function startOperation(context: azureFunctionsTypes.Context, request: azureFunctionsTypes.HttpRequest): CorrelationContextManager.CorrelationContext | null;\r\nexport function startOperation(context: azureFunctionsTypes.Context, name: string): CorrelationContextManager.CorrelationContext | null;\r\nexport function startOperation(context: IncomingMessage | azureFunctionsTypes.HttpRequest, request?: never): CorrelationContextManager.CorrelationContext | null;\r\nexport function startOperation(context: azureFunctionsTypes.Context | (IncomingMessage | azureFunctionsTypes.HttpRequest) | (SpanContext), request?: azureFunctionsTypes.HttpRequest | string): CorrelationContextManager.CorrelationContext | null {\r\n    return CorrelationContextManager.CorrelationContextManager.startOperation(context, request);\r\n}\r\n\r\n/**\r\n * Returns a function that will get the same correlation context within its\r\n * function body as the code executing this function.\r\n * Use this method if automatic dependency correlation is not propagating\r\n * correctly to an asynchronous callback.\r\n */\r\nexport function wrapWithCorrelationContext<T extends Function>(fn: T, context?: CorrelationContextManager.CorrelationContext): T {\r\n    return CorrelationContextManager.CorrelationContextManager.wrapCallback(fn, context);\r\n}\r\n\r\n/**\r\n * The active configuration for global SDK behaviors, such as autocollection.\r\n */\r\nexport class Configuration {\r\n    // Convenience shortcut to ApplicationInsights.start\r\n    public static start = start;\r\n\r\n    /**\r\n     * Sets the distributed tracing modes. If W3C mode is enabled, W3C trace context\r\n     * headers (traceparent/tracestate) will be parsed in all incoming requests, and included in outgoing\r\n     * requests. In W3C mode, existing back-compatibility AI headers will also be parsed and included.\r\n     * Enabling W3C mode will not break existing correlation with other Application Insights instrumented\r\n     * services. Default=AI\r\n    */\r\n    public static setDistributedTracingMode(value: DistributedTracingModes) {\r\n        CorrelationIdManager.w3cEnabled = value === DistributedTracingModes.AI_AND_W3C;\r\n        return Configuration;\r\n    }\r\n\r\n    /**\r\n     * Sets the state of console and logger tracking (enabled by default for third-party loggers only)\r\n     * @param value if true logger activity will be sent to Application Insights\r\n     * @param collectConsoleLog if true, logger autocollection will include console.log calls (default false)\r\n     * @returns {Configuration} this class\r\n     */\r\n    public static setAutoCollectConsole(value: boolean, collectConsoleLog: boolean = false) {\r\n        _isConsole = value;\r\n        _isConsoleLog = collectConsoleLog;\r\n        if (_isStarted) {\r\n            _console.enable(value, collectConsoleLog);\r\n        }\r\n\r\n        return Configuration;\r\n    }\r\n\r\n    /**\r\n     * Sets the state of exception tracking (enabled by default)\r\n     * @param value if true uncaught exceptions will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    public static setAutoCollectExceptions(value: boolean) {\r\n        _isExceptions = value;\r\n        if (_isStarted) {\r\n            _exceptions.enable(value);\r\n        }\r\n\r\n        return Configuration;\r\n    }\r\n\r\n    /**\r\n     * Sets the state of performance tracking (enabled by default)\r\n     * @param value if true performance counters will be collected every second and sent to Application Insights\r\n     * @param collectExtendedMetrics if true, extended metrics counters will be collected every minute and sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    public static setAutoCollectPerformance(value: boolean, collectExtendedMetrics: boolean | IDisabledExtendedMetrics = true) {\r\n        _isPerformance = value;\r\n        const extendedMetricsConfig = AutoCollectNativePerformance.parseEnabled(collectExtendedMetrics, defaultClient.config);\r\n        _isNativePerformance = extendedMetricsConfig.isEnabled;\r\n        _disabledExtendedMetrics = extendedMetricsConfig.disabledMetrics;\r\n        if (_isStarted) {\r\n            _performance.enable(value);\r\n            _nativePerformance.enable(extendedMetricsConfig.isEnabled, extendedMetricsConfig.disabledMetrics);\r\n        }\r\n\r\n        return Configuration;\r\n    }\r\n\r\n    /**\r\n     * Sets the state of pre aggregated metrics tracking (enabled by default)\r\n     * @param value if true pre aggregated metrics will be collected every minute and sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    public static setAutoCollectPreAggregatedMetrics(value: boolean) {\r\n        _isPreAggregatedMetrics = value;\r\n        if (_isStarted) {\r\n            _preAggregatedMetrics.enable(value);\r\n        }\r\n\r\n        return Configuration;\r\n    }\r\n\r\n    /**\r\n     * Sets the state of request tracking (enabled by default)\r\n     * @param value if true HeartBeat metric data will be collected every 15 mintues and sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    public static setAutoCollectHeartbeat(value: boolean) {\r\n        _isHeartBeat = value;\r\n        if (_isStarted) {\r\n            _heartbeat.enable(value);\r\n        }\r\n\r\n        return Configuration;\r\n    }\r\n\r\n    /**\r\n     * Sets the state of Web snippet injection, this config is NOT exposed in documentation after version 2.3.5\r\n     * @deprecated, please use enableWebInstrumentation instead.\r\n     * @param value if true Web snippet will be tried to be injected in server response\r\n     * @param WebSnippetConnectionString if provided, web snippet injection will use this ConnectionString. Default to use the connectionString in Node.js app initialization\r\n     * @returns {Configuration} this class\r\n     */\r\n    public static enableAutoWebSnippetInjection(value: boolean, WebSnippetConnectionString?: string) {\r\n        _isSnippetInjection = value;\r\n        _webSnippetConnectionString = WebSnippetConnectionString;\r\n        if (_isStarted) {\r\n            _webSnippet.enable(value, _webSnippetConnectionString);\r\n        }\r\n        return Configuration;\r\n    }\r\n\r\n    /**\r\n     * Sets the state of Web snippet injection\r\n     * @param value if true Web snippet will be tried to be injected in server response\r\n     * @param WebSnippetConnectionString if provided, web snippet injection will use this ConnectionString. Default to use the connectionString in Node.js app initialization\r\n     * @returns {Configuration} this class\r\n     */\r\n    public static enableWebInstrumentation(value: boolean, WebSnippetConnectionString?: string) {\r\n        _isSnippetInjection = value;\r\n        _webSnippetConnectionString = WebSnippetConnectionString;\r\n        if (_isStarted) {\r\n            _webSnippet.enable(value, _webSnippetConnectionString);\r\n        }\r\n\r\n        return Configuration;\r\n    }\r\n\r\n    /**\r\n     * Sets the state of request tracking (enabled by default)\r\n     * @param value if true requests will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    public static setAutoCollectRequests(value: boolean) {\r\n        _isRequests = value;\r\n        if (_isStarted) {\r\n            _serverRequests.enable(value);\r\n        }\r\n\r\n        return Configuration;\r\n    }\r\n\r\n    /**\r\n     * Sets the state of dependency tracking (enabled by default)\r\n     * @param value if true dependencies will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    public static setAutoCollectDependencies(value: boolean) {\r\n        _isDependencies = value;\r\n        if (_isStarted) {\r\n            _clientRequests.enable(value);\r\n        }\r\n\r\n        return Configuration;\r\n    }\r\n\r\n    /**\r\n     * Sets the state of automatic dependency correlation (enabled by default)\r\n     * @param value if true dependencies will be correlated with requests\r\n     * @param useAsyncHooks if true, forces use of experimental async_hooks module to provide correlation. If false, instead uses only patching-based techniques. If left blank, the best option is chosen for you based on your version of Node.js.\r\n     * @returns {Configuration} this class\r\n     */\r\n    public static setAutoDependencyCorrelation(value: boolean, useAsyncHooks?: boolean) {\r\n        _isCorrelating = value;\r\n        _forceClsHooked = useAsyncHooks;\r\n        if (_isStarted) {\r\n            _serverRequests.useAutoCorrelation(value, useAsyncHooks);\r\n        }\r\n\r\n        return Configuration;\r\n    }\r\n\r\n    /**\r\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\r\n     * Note that this method only applies to the default client. Disk-backed retry caching is disabled by default for additional clients.\r\n     * For enable for additional clients, use client.channel.setUseDiskRetryCaching(true).\r\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\r\n     * @param value if true events that occured while client is offline will be cached on disk\r\n     * @param resendInterval The wait interval for resending cached events.\r\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\r\n     * @returns {Configuration} this class\r\n     */\r\n    public static setUseDiskRetryCaching(value: boolean, resendInterval?: number, maxBytesOnDisk?: number) {\r\n        _isDiskRetry = value;\r\n        _diskRetryInterval = resendInterval;\r\n        _diskRetryMaxBytes = maxBytesOnDisk;\r\n        if (defaultClient && defaultClient.channel) {\r\n            defaultClient.channel.setUseDiskRetryCaching(_isDiskRetry, _diskRetryInterval, _diskRetryMaxBytes);\r\n        }\r\n        return Configuration;\r\n    }\r\n\r\n    /**\r\n     * Enables debug and warning logging for AppInsights itself.\r\n     * @param enableDebugLogging if true, enables debug logging\r\n     * @param enableWarningLogging if true, enables warning logging\r\n     * @returns {Configuration} this class\r\n     */\r\n    public static setInternalLogging(enableDebugLogging = false, enableWarningLogging = true) {\r\n        Logging.enableDebug = enableDebugLogging;\r\n        Logging.disableWarnings = !enableWarningLogging;\r\n        return Configuration;\r\n    }\r\n\r\n    /**\r\n     * Enable automatic incoming request tracking when using Azure Functions\r\n     * @param value if true auto collection of incoming requests will be enabled\r\n     * @returns {Configuration} this class\r\n     */\r\n    public static setAutoCollectIncomingRequestAzureFunctions(value: boolean) {\r\n        _isAzureFunctions = value;\r\n        if (_isStarted) {\r\n            _azureFunctions.enable(value);\r\n        }\r\n        return Configuration;\r\n    }\r\n\r\n    /**\r\n     * Enables communication with Application Insights Live Metrics.\r\n     * @param enable if true, enables communication with the live metrics service\r\n     */\r\n    public static setSendLiveMetrics(enable = false) {\r\n        if (!defaultClient) {\r\n            // Need a defaultClient so that we can add the QPS telemetry processor to it\r\n            Logging.warn(\"Live metrics client cannot be setup without the default client\");\r\n            return Configuration;\r\n        }\r\n\r\n        if (!liveMetricsClient && enable) {\r\n            // No qps client exists. Create one and prepare it to be enabled at .start()\r\n            liveMetricsClient = new QuickPulseClient(defaultClient.config, defaultClient.context, defaultClient.getAuthorizationHandler);\r\n            _performanceLiveMetrics = new AutoCollectPerformance(liveMetricsClient as any, 1000, true);\r\n            liveMetricsClient.addCollector(_performanceLiveMetrics);\r\n            defaultClient.quickPulseClient = liveMetricsClient; // Need this so we can forward all manual tracks to live metrics via PerformanceMetricsTelemetryProcessor\r\n        } else if (liveMetricsClient) {\r\n            // qps client already exists; enable/disable it\r\n            liveMetricsClient.enable(enable);\r\n        }\r\n        _isSendingLiveMetrics = enable;\r\n        return Configuration;\r\n    }\r\n}\r\n\r\n/**\r\n * Disposes the default client and all the auto collectors so they can be reinitialized with different configuration\r\n*/\r\nexport function dispose() {\r\n    CorrelationIdManager.w3cEnabled = true; // reset to default\r\n    defaultClient = null;\r\n    _isStarted = false;\r\n    if (_console) {\r\n        _console.dispose();\r\n    }\r\n    if (_exceptions) {\r\n        _exceptions.dispose();\r\n    }\r\n    if (_performance) {\r\n        _performance.dispose();\r\n    }\r\n    if (_preAggregatedMetrics) {\r\n        _preAggregatedMetrics.dispose();\r\n    }\r\n    if (_heartbeat) {\r\n        _heartbeat.dispose();\r\n    }\r\n    if (_webSnippet) {\r\n        _webSnippet.dispose();\r\n    }\r\n    if (_nativePerformance) {\r\n        _nativePerformance.dispose();\r\n    }\r\n    if (_serverRequests) {\r\n        _serverRequests.dispose();\r\n    }\r\n    if (_clientRequests) {\r\n        _clientRequests.dispose();\r\n    }\r\n    if (liveMetricsClient) {\r\n        liveMetricsClient.enable(false);\r\n        _isSendingLiveMetrics = false;\r\n        liveMetricsClient = undefined;\r\n    }\r\n    if (_azureFunctions) {\r\n        _azureFunctions.dispose();\r\n    }\r\n}", "\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst os = __importStar(require(\"os\"));\nconst vscode = __importStar(require(\"vscode\"));\nconst https = __importStar(require(\"https\"));\nconst baseTelemetryReporter_1 = require(\"../common/baseTelemetryReporter\");\nconst baseTelemetrySender_1 = require(\"../common/baseTelemetrySender\");\nconst util_1 = require(\"../common/util\");\nconst _1dsClientFactory_1 = require(\"../common/1dsClientFactory\");\n/**\n * A factory function which creates a telemetry client to be used by an sender to send telemetry in a node application.\n *\n * @param key The app insights key\n * @param replacementOptions Optional list of {@link ReplacementOption replacements} to apply to the telemetry client. This allows\n * the sender to filter out any sensitive or unnecessary information from the telemetry server.\n *\n * @returns A promise which resolves to the telemetry client or rejects upon error\n */\nconst appInsightsClientFactory = async (key, replacementOptions) => {\n    let appInsightsClient;\n    try {\n        process.env[\"APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL\"] = \"1\";\n        const appInsights = await Promise.resolve().then(() => __importStar(require(/* webpackMode: \"eager\" */ \"applicationinsights\")));\n        //check if another instance is already initialized\n        if (appInsights.defaultClient) {\n            appInsightsClient = new appInsights.TelemetryClient(key);\n            // no other way to enable offline mode\n            appInsightsClient.channel.setUseDiskRetryCaching(true);\n        }\n        else {\n            appInsights.setup(key)\n                .setAutoCollectRequests(false)\n                .setAutoCollectPerformance(false)\n                .setAutoCollectExceptions(false)\n                .setAutoCollectDependencies(false)\n                .setAutoDependencyCorrelation(false)\n                .setAutoCollectConsole(false)\n                .setAutoCollectHeartbeat(false)\n                .setUseDiskRetryCaching(true)\n                .start();\n            appInsightsClient = appInsights.defaultClient;\n        }\n        if (vscode && vscode.env) {\n            appInsightsClient.context.tags[appInsightsClient.context.keys.userId] = vscode.env.machineId;\n            appInsightsClient.context.tags[appInsightsClient.context.keys.sessionId] = vscode.env.sessionId;\n            appInsightsClient.context.tags[appInsightsClient.context.keys.cloudRole] = vscode.env.appName;\n            appInsightsClient.context.tags[appInsightsClient.context.keys.cloudRoleInstance] = vscode.env.appName;\n        }\n    }\n    catch (e) {\n        return Promise.reject(\"Failed to initialize app insights!\\n\" + e.message);\n    }\n    if (replacementOptions?.length) {\n        addReplacementOptions(appInsightsClient, replacementOptions);\n    }\n    // Sets the appinsights client into a standardized form\n    const telemetryClient = {\n        logEvent: (eventName, data) => {\n            try {\n                appInsightsClient?.trackEvent({\n                    name: eventName,\n                    properties: data?.properties,\n                    measurements: data?.measurements\n                });\n            }\n            catch (e) {\n                throw new Error(\"Failed to log event to app insights!\\n\" + e.message);\n            }\n        },\n        flush: async () => {\n            try {\n                appInsightsClient?.flush();\n            }\n            catch (e) {\n                throw new Error(\"Failed to flush app insights!\\n\" + e.message);\n            }\n        }\n    };\n    return telemetryClient;\n};\n/**\n * Adds replacement options to this {@link TelemetryClient}.\n *\n * If any replacement options are specified, this function will search through any event about to be\n * sent to the telemetry server and replace any matches with the specified replacement string. Both\n * the envelope and the base data will be searched.\n *\n * @param appInsightsClient The {@link TelemetryClient} to add the filters to.\n * @param replacementOptions The replacement options to add.\n */\nfunction addReplacementOptions(appInsightsClient, replacementOptions) {\n    appInsightsClient.addTelemetryProcessor((event) => {\n        if (Array.isArray(event.tags)) {\n            event.tags.forEach(tag => util_1.TelemetryUtil.applyReplacements(tag, replacementOptions));\n        }\n        else if (event.tags) {\n            util_1.TelemetryUtil.applyReplacements(event.tags, replacementOptions);\n        }\n        if (event.data.baseData) {\n            util_1.TelemetryUtil.applyReplacements(event.data.baseData, replacementOptions);\n        }\n        return true;\n    });\n}\n/**\n * Create a replacement for the XHTMLRequest object utilizing nodes HTTP module.\n * @returns A XHR override object used to override the XHTMLRequest object in the 1DS SDK\n */\nfunction getXHROverride() {\n    // Override the way events get sent since node doesn't have XHTMLRequest\n    const customHttpXHROverride = {\n        sendPOST: (payload, oncomplete) => {\n            const options = {\n                method: \"POST\",\n                headers: {\n                    ...payload.headers,\n                    \"Content-Type\": \"application/json\",\n                    \"Content-Length\": Buffer.byteLength(payload.data)\n                }\n            };\n            try {\n                const req = https.request(payload.urlString, options, res => {\n                    res.on(\"data\", function (responseData) {\n                        oncomplete(res.statusCode ?? 200, res.headers, responseData.toString());\n                    });\n                    // On response with error send status of 0 and a blank response to oncomplete so we can retry events\n                    res.on(\"error\", function () {\n                        oncomplete(0, {});\n                    });\n                });\n                req.write(payload.data);\n                req.end();\n            }\n            catch {\n                // If it errors out, send status of 0 and a blank response to oncomplete so we can retry events\n                oncomplete(0, {});\n            }\n        }\n    };\n    return customHttpXHROverride;\n}\nclass TelemetryReporter extends baseTelemetryReporter_1.BaseTelemetryReporter {\n    constructor(key, replacementOptions) {\n        let clientFactory = (key) => appInsightsClientFactory(key, replacementOptions);\n        // If key is usable by 1DS use the 1DS SDk\n        if (util_1.TelemetryUtil.shouldUseOneDataSystemSDK(key)) {\n            clientFactory = (key) => (0, _1dsClientFactory_1.oneDataSystemClientFactory)(key, vscode, getXHROverride());\n        }\n        const osShim = {\n            release: os.release(),\n            platform: os.platform(),\n            architecture: os.arch(),\n        };\n        const sender = new baseTelemetrySender_1.BaseTelemetrySender(key, clientFactory);\n        if (key && key.indexOf(\"AIF-\") === 0) {\n            throw new Error(\"AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions\");\n        }\n        super(sender, vscode, { additionalCommonProperties: util_1.TelemetryUtil.getAdditionalCommonProperties(osShim) });\n    }\n}\nexports.default = TelemetryReporter;\n//# sourceMappingURL=telemetryReporter.js.map", "module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction checkPathExt (path, options) {\n  var pathext = options.pathExt !== undefined ?\n    options.pathExt : process.env.PATHEXT\n\n  if (!pathext) {\n    return true\n  }\n\n  pathext = pathext.split(';')\n  if (pathext.indexOf('') !== -1) {\n    return true\n  }\n  for (var i = 0; i < pathext.length; i++) {\n    var p = pathext[i].toLowerCase()\n    if (p && path.substr(-p.length).toLowerCase() === p) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction checkStat (stat, path, options) {\n  if (!stat.isSymbolicLink() && !stat.isFile()) {\n    return false\n  }\n  return checkPathExt(path, options)\n}\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, path, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), path, options)\n}\n", "module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), options)\n}\n\nfunction checkStat (stat, options) {\n  return stat.isFile() && checkMode(stat, options)\n}\n\nfunction checkMode (stat, options) {\n  var mod = stat.mode\n  var uid = stat.uid\n  var gid = stat.gid\n\n  var myUid = options.uid !== undefined ?\n    options.uid : process.getuid && process.getuid()\n  var myGid = options.gid !== undefined ?\n    options.gid : process.getgid && process.getgid()\n\n  var u = parseInt('100', 8)\n  var g = parseInt('010', 8)\n  var o = parseInt('001', 8)\n  var ug = u | g\n\n  var ret = (mod & o) ||\n    (mod & g) && gid === myGid ||\n    (mod & u) && uid === myUid ||\n    (mod & ug) && myUid === 0\n\n  return ret\n}\n", "var fs = require('fs')\nvar core\nif (process.platform === 'win32' || global.TESTING_WINDOWS) {\n  core = require('./windows.js')\n} else {\n  core = require('./mode.js')\n}\n\nmodule.exports = isexe\nisexe.sync = sync\n\nfunction isexe (path, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  if (!cb) {\n    if (typeof Promise !== 'function') {\n      throw new TypeError('callback not provided')\n    }\n\n    return new Promise(function (resolve, reject) {\n      isexe(path, options || {}, function (er, is) {\n        if (er) {\n          reject(er)\n        } else {\n          resolve(is)\n        }\n      })\n    })\n  }\n\n  core(path, options || {}, function (er, is) {\n    // ignore EACCES because that just means we aren't allowed to run it\n    if (er) {\n      if (er.code === 'EACCES' || options && options.ignoreErrors) {\n        er = null\n        is = false\n      }\n    }\n    cb(er, is)\n  })\n}\n\nfunction sync (path, options) {\n  // my kingdom for a filtered catch\n  try {\n    return core.sync(path, options || {})\n  } catch (er) {\n    if (options && options.ignoreErrors || er.code === 'EACCES') {\n      return false\n    } else {\n      throw er\n    }\n  }\n}\n", "const isexe = require('isexe')\nconst { join, delimiter, sep, posix } = require('path')\n\nconst isWindows = process.platform === 'win32'\n\n// used to check for slashed in commands passed in. always checks for the posix\n// seperator on all platforms, and checks for the current separator when not on\n// a posix platform. don't use the isWindows check for this since that is mocked\n// in tests but we still need the code to actually work when called. that is also\n// why it is ignored from coverage.\n/* istanbul ignore next */\nconst rSlash = new RegExp(`[${posix.sep}${sep === posix.sep ? '' : sep}]`.replace(/(\\\\)/g, '\\\\$1'))\nconst rRel = new RegExp(`^\\\\.${rSlash.source}`)\n\nconst getNotFoundError = (cmd) =>\n  Object.assign(new Error(`not found: ${cmd}`), { code: 'ENOENT' })\n\nconst getPathInfo = (cmd, {\n  path: optPath = process.env.PATH,\n  pathExt: optPathExt = process.env.PATHEXT,\n  delimiter: optDelimiter = delimiter,\n}) => {\n  // If it has a slash, then we don't bother searching the pathenv.\n  // just check the file itself, and that's it.\n  const pathEnv = cmd.match(rSlash) ? [''] : [\n    // windows always checks the cwd first\n    ...(isWindows ? [process.cwd()] : []),\n    ...(optPath || /* istanbul ignore next: very unusual */ '').split(optDelimiter),\n  ]\n\n  if (isWindows) {\n    const pathExtExe = optPathExt ||\n      ['.EXE', '.CMD', '.BAT', '.COM'].join(optDelimiter)\n    const pathExt = pathExtExe.split(optDelimiter).reduce((acc, item) => {\n      acc.push(item)\n      acc.push(item.toLowerCase())\n      return acc\n    }, [])\n    if (cmd.includes('.') && pathExt[0] !== '') {\n      pathExt.unshift('')\n    }\n    return { pathEnv, pathExt, pathExtExe }\n  }\n\n  return { pathEnv, pathExt: [''] }\n}\n\nconst getPathPart = (raw, cmd) => {\n  const pathPart = /^\".*\"$/.test(raw) ? raw.slice(1, -1) : raw\n  const prefix = !pathPart && rRel.test(cmd) ? cmd.slice(0, 2) : ''\n  return prefix + join(pathPart, cmd)\n}\n\nconst which = async (cmd, opt = {}) => {\n  const { pathEnv, pathExt, pathExtExe } = getPathInfo(cmd, opt)\n  const found = []\n\n  for (const envPart of pathEnv) {\n    const p = getPathPart(envPart, cmd)\n\n    for (const ext of pathExt) {\n      const withExt = p + ext\n      const is = await isexe(withExt, { pathExt: pathExtExe, ignoreErrors: true })\n      if (is) {\n        if (!opt.all) {\n          return withExt\n        }\n        found.push(withExt)\n      }\n    }\n  }\n\n  if (opt.all && found.length) {\n    return found\n  }\n\n  if (opt.nothrow) {\n    return null\n  }\n\n  throw getNotFoundError(cmd)\n}\n\nconst whichSync = (cmd, opt = {}) => {\n  const { pathEnv, pathExt, pathExtExe } = getPathInfo(cmd, opt)\n  const found = []\n\n  for (const pathEnvPart of pathEnv) {\n    const p = getPathPart(pathEnvPart, cmd)\n\n    for (const ext of pathExt) {\n      const withExt = p + ext\n      const is = isexe.sync(withExt, { pathExt: pathExtExe, ignoreErrors: true })\n      if (is) {\n        if (!opt.all) {\n          return withExt\n        }\n        found.push(withExt)\n      }\n    }\n  }\n\n  if (opt.all && found.length) {\n    return found\n  }\n\n  if (opt.nothrow) {\n    return null\n  }\n\n  throw getNotFoundError(cmd)\n}\n\nmodule.exports = which\nwhich.sync = whichSync\n", "import { commands, env, type ExtensionContext } from 'vscode';\nimport { getConfig } from 'vscode-get-config';\nimport { reporter } from './telemetry';\nimport build from './electron-builder';\n\nexport async function activate(context: ExtensionContext): Promise<void> {\n  const { disableTelemetry } = await getConfig('electron-builder');\n\n  if (env.appName !== 'VSCodium' && disableTelemetry === false) {\n    context.subscriptions.push(reporter);\n  }\n\n  context.subscriptions.push(\n    commands.registerTextEditorCommand('extension.electron-builder.build', async () => {\n      return await build();\n    })\n  );\n}\n", "import { env } from 'vscode';\nimport { getConfig } from 'vscode-get-config';\nimport TelemetryReporter, { type TelemetryEventProperties, type TelemetryEventMeasurements } from '@vscode/extension-telemetry';\n\nfunction stringifyProperties(properties: Record<string, unknown>): TelemetryEventProperties {\n  const newProperties = {};\n  Object.entries(properties).map(([key, value]) => newProperties[key] = typeof value !== 'undefined' ? String(value) : undefined);\n\n  return newProperties;\n}\n\nexport async function sendTelemetryEvent(name: string, properties: Record<string, unknown> = {}, measurements: TelemetryEventMeasurements = {}) {\n  const { disableTelemetry } = await getConfig('electron-builder');\n\n  if (env.appName === 'VSCodium' || disableTelemetry) {\n    return;\n  }\n\n  reporter.sendTelemetryEvent(name, stringifyProperties(properties), measurements);\n}\n\nexport const reporter = new TelemetryReporter('f7013f0b-b3d1-4e2c-b9a7-fc862d95362f');\n", "import { getConfig } from 'vscode-get-config';\nimport { window, WorkspaceConfiguration } from 'vscode';\nimport { spawn } from 'node:child_process';\n\nimport {\n  clearOutput,\n  getElectronBuilderPath,\n  getPlatformFlag,\n  getProjectPath,\n  hasConfigArgument,\n  hasConfigFiles,\n  hasEligibleManifest,\n  isSupportedGrammar,\n  isValidConfigFile\n} from './util';\nimport { sendTelemetryEvent } from './telemetry';\n\nconst builderChannel = window.createOutputChannel('Electron Builder');\n\nexport default async function build(): Promise<void> {\n  const activeTextEditor = window.activeTextEditor;\n\n  if (!activeTextEditor) {\n    return;\n  }\n\n  await clearOutput(builderChannel);\n\n  if (!isSupportedGrammar()) {\n    builderChannel.appendLine('Active file is no eligible Electron Builder configuration');\n    return;\n  }\n\n  if (!(await hasEligibleManifest() || await hasConfigFiles())) {\n    builderChannel.appendLine('No eligible Electron Builder configuration found in your workspace');\n    return;\n  }\n\n  const document = activeTextEditor.document;\n  const { fileName } = document;\n\n  try {\n    await document.save();\n  } catch (errorMessage) {\n    window.showErrorMessage(`Could not save document ${fileName}, see console for details`);\n    console.error(errorMessage);\n    return;\n  }\n\n  const config: WorkspaceConfiguration = await getConfig('electron-builder');\n\n  const electronBuilderArguments = config.electronBuilderArguments?.length\n    ? [ ...config.electronBuilderArguments ]\n    : [ getPlatformFlag() ];\n\n  if (!hasConfigArgument(electronBuilderArguments) && (isValidConfigFile(fileName) || !(await hasEligibleManifest() || await hasConfigFiles()))) {\n    electronBuilderArguments.push(\n      '--config',\n      fileName\n    );\n  }\n\n  // Let's build\n  const child = spawn(await getElectronBuilderPath(), electronBuilderArguments, { cwd: await getProjectPath()});\n  const stdErr: string[] = [];\n  let hasErrors = false;\n\n  child.stdout.on('data', (line: string ) => {\n    builderChannel.appendLine(line.toString());\n  });\n\n  child.stderr.on('data', (line: string) => {\n    stdErr.push(line);\n    builderChannel.appendLine(line.toString());\n  });\n\n  child.on('error', (errorMessage: string) => {\n    hasErrors = true;\n\n    if (errorMessage && errorMessage.toString().includes('ENOENT')) {\n      window.showErrorMessage('Could not find electron-builder at specified path');\n    } else {\n      window.showErrorMessage('Failed to run electron-builder, see console for details');\n    }\n\n    console.error(errorMessage);\n  });\n\n  child.on('exit', (code) => {\n    builderChannel.show(true);\n\n    if (code !== 0) {\n      if (config.showNotifications) window.showErrorMessage('Building failed, see output for details');\n      if (stdErr.length > 0) console.error(stdErr.join('\\n'));\n    }\n\n    sendTelemetryEvent('build', {\n      hasErrors\n    });\n  });\n}\n", "import {\n  window,\n  workspace,\n} from 'vscode';\n\nimport { constants, promises as fs } from 'node:fs';\nimport { getConfig } from 'vscode-get-config';\nimport { platform } from 'node:os';\nimport { resolve } from 'node:path';\nimport which from 'which';\n\nexport async function asyncFilter(arr, callback) {\n  const fail = Symbol();\n\n  return (await Promise.all(\n    arr.map(async item => (await callback(item))\n      ? item\n      : fail\n    )\n  )).filter(i=>i!==fail);\n}\n\n// eslint-disable-next-line\nexport async function clearOutput(channel: any): Promise<void> {\n  const { alwaysShowOutput } = await getConfig('electron-builder');\n\n  channel.clear();\n  if (alwaysShowOutput === true) {\n    channel.show(true);\n  }\n}\n\nexport async function fileExists(filePath: string): Promise<boolean> {\n  try {\n    await fs.access(filePath, constants.F_OK);\n  } catch (error) {\n    return false;\n  }\n\n  return true;\n}\n\nexport function isSupportedGrammar(): boolean {\n  const activeTextEditor = window.activeTextEditor;\n\n  if (!activeTextEditor) {\n    return false;\n  }\n\n  const languageID = activeTextEditor.document.languageId;\n\n  return getSupportedGrammars().includes(languageID);\n}\n\nexport async function getElectronBuilderPath(): Promise<string> {\n  // If stored, return pathToElectronBuilder\n  const { pathToElectronBuilder } = await getConfig('electron-builder');\n\n  if (pathToElectronBuilder?.length && pathToElectronBuilder.endsWith('/node_modules/.bin/electron-builder')) {\n    return pathToElectronBuilder;\n  }\n\n  try {\n    // Global installation?!\n    return String(await which('electron-builder'));\n  } catch (error) {\n    console.error(error);\n    window.showErrorMessage('No Electron Builder binary detected ');\n  }\n\n  return '';\n}\n\nexport function getPlatformFlag(): string | void {\n  const currentPlatform = platform();\n\n  switch(currentPlatform) {\n    case 'linux':\n      return '--linux';\n    case 'darwin':\n      return '--mac';\n    case 'win32':\n      return '--windows';\n    default:\n      window.showErrorMessage(`Unsupported platform '${currentPlatform}' detected, please specify custom build arguments`);\n  }\n}\n\nexport function getConfigFiles(): string[] {\n  return [\n    // Ordered by precedence!\n    'electron-builder.yml',\n    'electron-builder.yaml',\n    'electron-builder.json',\n    'electron-builder.toml',\n    'electron-builder.js'\n  ];\n}\n\nexport function getSupportedGrammars(): string[] {\n  return [\n    'electron-builder-js',\n    'electron-builder-json',\n    'electron-builder-toml',\n    'electron-builder-yaml'\n  ];\n}\n\nexport async function getProjectPath(): Promise<undefined | string> {\n  let editor;\n\n  try {\n    editor = window.activeTextEditor;\n  } catch (err) {\n    return undefined;\n  }\n\n  try {\n    const workspaceFolder = workspace.getWorkspaceFolder(editor.document.uri);\n\n    return workspaceFolder ? workspaceFolder.uri.fsPath : '';\n  } catch (error) {\n    return undefined;\n  }\n}\n\nexport function hasConfigArgument(electronBuilderArguments: string[]): boolean {\n  return electronBuilderArguments.includes('--config') || electronBuilderArguments.includes('-c');\n}\n\nexport async function hasEligibleManifest(): Promise<boolean> {\n  const projectPath = await getProjectPath();\n\n  if (!projectPath?.length) {\n    return false;\n  }\n\n  const manifestPath = resolve(projectPath, 'package.json');\n\n  if (!await fileExists(manifestPath)) {\n    return false;\n  }\n\n  let manifestFile;\n\n  try {\n    manifestFile = await fs.readFile(manifestPath, 'utf-8');\n  } catch (error) {\n    console.error(error);\n    return false;\n  }\n\n\n  let manifest: Record<string, unknown>;\n\n  try {\n    manifest = JSON.parse(manifestFile);\n  } catch(error) {\n    if (error instanceof Error) {\n      console.error(error.message);\n      window.showErrorMessage(error.message);\n    }\n\n    return false;\n  }\n\n  return Boolean(manifest['build'] && manifest['build']['appId']);\n}\n\nexport async function hasConfigFiles(): Promise<boolean> {\n  const configFiles = await getConfigFiles();\n  const projectPath = await getProjectPath();\n\n  if (!projectPath?.length) {\n    return false;\n  }\n\n  return Boolean(\n    (await asyncFilter(configFiles, async configFile => {\n      return await fileExists(resolve(projectPath, configFile))\n    })).length\n  );\n}\n\nexport function isValidConfigFile(fileName: string): boolean {\n  return Boolean(getConfigFiles().filter(configFile => fileName.endsWith(`/${configFile}`)).length);\n}\n"],
  "mappings": "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",
  "names": ["require_dist", "__commonJSMin", "exports", "vscode", "path$1", "_interopDefaultLegacy", "e", "vscode__default", "__awaiter", "thisArg", "_arguments", "P", "generator", "adopt", "value", "resolve", "reject", "fulfilled", "step", "rejected", "result", "__generator", "body", "_", "t", "f", "y", "g", "verb", "n", "v", "op", "commonjsGlobal", "createCommonjsModule", "fn", "module", "check", "it", "global$1", "fails", "exec", "descriptors", "nativePropertyIsEnumerable", "getOwnPropertyDescriptor", "NASHORN_BUG", "V", "descriptor", "objectPropertyIsEnumerable", "createPropertyDescriptor", "bitmap", "toString", "classofRaw", "split", "indexedObject", "requireObjectCoercible", "toIndexedObject", "isObject", "toPrimitive", "input", "PREFERRED_STRING", "val", "hasOwnProperty", "has", "key", "document", "EXISTS", "documentCreateElement", "ie8DomDefine", "nativeGetOwnPropertyDescriptor", "f$1", "O", "objectGetOwnPropertyDescriptor", "anObject", "nativeDefineProperty", "f$2", "Attributes", "objectDefineProperty", "createNonEnumerableProperty", "object", "setGlobal", "SHARED", "store", "sharedStore", "functionToString", "inspectSource", "WeakMap", "nativeWeakMap", "shared", "id", "postfix", "uid", "keys", "sharedKey", "hiddenKeys", "WeakMap$1", "set", "get", "has$1", "enforce", "getterFor", "TYPE", "state", "store$1", "wmget", "wmhas", "wmset", "metadata", "STATE", "internalState", "redefine", "getInternalState", "enforceInternalState", "TEMPLATE", "options", "unsafe", "simple", "noTargetGet", "path", "aFunction", "variable", "getBuiltIn", "namespace", "method", "ceil", "floor", "toInteger", "argument", "min", "toLength", "max", "min$1", "toAbsoluteIndex", "index", "length", "integer", "createMethod", "IS_INCLUDES", "$this", "el", "fromIndex", "arrayIncludes", "indexOf", "objectKeysInternal", "names", "i", "enumBugKeys", "hiddenKeys$1", "f$3", "objectGetOwnPropertyNames", "f$4", "objectGetOwnPropertySymbols", "ownKeys", "getOwnPropertySymbols", "copyConstructorProperties", "target", "source", "defineProperty", "replacement", "isForced", "feature", "detection", "data", "normalize", "POLYFILL", "NATIVE", "string", "isForced_1", "getOwnPropertyDescriptor$1", "_export", "TARGET", "GLOBAL", "STATIC", "FORCED", "targetProperty", "sourceProperty", "nativeSymbol", "useSymbolAsUid", "WellKnownSymbolsStore", "Symbol$1", "createWellKnownSymbol", "wellKnownSymbol", "name", "MATCH", "isRegexp", "isRegExp", "regexpFlags", "that", "REPLACE", "RegExpPrototype", "replaceAll", "searchValue", "replaceValue", "IS_REG_EXP", "flags", "replacer", "searchString", "template", "position", "isObj", "type", "disallowedKeys", "isValidPath", "pathSegments", "segment", "getPathSegments", "pathArray", "parts", "p", "dotProp", "root", "getConfig", "configNotations", "_i", "_this", "_a", "getSingleConfig", "configNotation", "config", "_b", "substituteVariables", "configString", "lineNumber", "selectedText", "workspaceFolders_1", "regex", "matches", "groups", "configuration", "pick", "getWorkspaceFolder", "getFile", "getRelativeFile", "getRelativeFileDirname", "getFileBasename", "getFileBasenameNoExtension", "getFileDirname", "getFileExtname", "getLineNumber", "getSelection", "item", "found", "editor", "workspaceFolder", "selection", "appendPath", "uri", "require_baseTelemetryReporter", "__commonJSMin", "exports", "BaseTelemetryReporter", "telemetrySender", "vscodeAPI", "initializationOptions", "eventName", "properties", "measurements", "dangerous", "d", "require_baseTelemetrySender", "__commonJSMin", "exports", "InstantiationStatus", "BaseTelemetrySender", "key", "clientFactory", "eventName", "data", "exception", "errorData", "client", "err", "require_util", "__commonJSMin", "exports", "TelemetryUtil", "data", "replacementOptions", "key", "option", "osShim", "require_applicationinsights_shims", "__commonJSMin", "exports", "module", "global", "factory", "strShimFunction", "strShimObject", "strShimUndefined", "strShimPrototype", "strShimHasOwnProperty", "strDefault", "ObjClass", "ObjProto", "ObjAssign", "ObjCreate", "ObjDefineProperty", "ObjHasOwnProperty", "_cachedGlobal", "getGlobal", "useCached", "result", "throwTypeError", "message", "objCreateFn", "obj", "func", "type", "tmpFunc", "SymbolObj", "ReflectObj", "__hasReflect", "strDecorate", "strMetadata", "strGetOwnPropertySymbols", "strIterator", "__objAssignFnImpl", "t", "s", "i", "n", "p", "__assignFn", "extendStaticsFn", "d", "b", "__extendsFn", "__", "__restFn", "e", "k", "__decorateFn", "decorators", "target", "key", "desc", "c", "r", "__paramFn", "paramIndex", "decorator", "__metadataFn", "metadataKey", "metadataValue", "__exportStarFn", "m", "o", "__createBindingFn", "k2", "__valuesFn", "__readFn", "ar", "error", "__spreadArraysFn", "theArgs", "il", "a", "j", "jl", "__spreadArrayFn", "to", "from", "__makeTemplateObjectFn", "cooked", "raw", "__importStarFn", "mod", "__importDefaultFn", "__exposeGlobalTsLib", "globalObj", "root", "assignFn", "extendsFn", "createBindingFn", "prop", "descriptor", "MinChannelPriorty", "strShimFunction", "strShimObject", "strShimUndefined", "strShimPrototype", "strShimHasOwnProperty", "ObjClass", "ObjProto", "ObjAssign", "ObjCreate", "ObjDefineProperty", "ObjHasOwnProperty", "_cachedGlobal", "getGlobal", "useCached", "result", "throwTypeError", "message", "objCreateFn", "obj", "func", "type", "tmpFunc", "extendStaticsFn", "d", "b", "p", "__extendsFn", "__", "__spreadArrayFn", "to", "from", "i", "il", "j", "_DYN_INITIALIZE", "_DYN_NAME", "_DYN_GET_NOTIFY_MGR", "_DYN_IDENTIFIER", "_DYN_PUSH", "_DYN_IS_INITIALIZED", "_DYN_CONFIG", "_DYN_INSTRUMENTATION_KEY", "_DYN_LOGGER", "_DYN_LENGTH", "_DYN_TIME", "_DYN_PROCESS_NEXT", "_DYN_GET_PROCESS_TEL_CONT0", "_DYN_ADD_NOTIFICATION_LIS1", "_DYN_REMOVE_NOTIFICATION_2", "_DYN_STOP_POLLING_INTERNA3", "_DYN_ON_COMPLETE", "_DYN_GET_PLUGIN", "_DYN_FLUSH", "_DYN__EXTENSIONS", "_DYN_SPLICE", "_DYN_TEARDOWN", "_DYN_MESSAGE_ID", "_DYN_MESSAGE", "_DYN_IS_ASYNC", "_DYN__DO_TEARDOWN", "_DYN_UPDATE", "_DYN_GET_NEXT", "_DYN_DIAG_LOG", "_DYN_SET_NEXT_PLUGIN", "_DYN_CREATE_NEW", "_DYN_COOKIE_CFG", "_DYN_INDEX_OF", "_DYN_SUBSTRING", "_DYN_USER_AGENT", "_DYN_SPLIT", "_DYN_SET_ENABLED", "_DYN_SUBSTR", "_DYN_NODE_TYPE", "_DYN_APPLY", "_DYN_REPLACE", "_DYN_ENABLE_DEBUG_EXCEPTI4", "_DYN_LOG_INTERNAL_MESSAGE", "_DYN_TO_LOWER_CASE", "_DYN_CALL", "_DYN_TYPE", "_DYN_HANDLER", "_DYN_LISTENERS", "_DYN_IS_CHILD_EVT", "_DYN_GET_CTX", "_DYN_SET_CTX", "_DYN_COMPLETE", "_DYN_TRACE_ID", "_DYN_SPAN_ID", "_DYN_TRACE_FLAGS", "_DYN_VERSION", "STR_EMPTY", "STR_CHANNELS", "STR_CORE", "STR_CREATE_PERF_MGR", "STR_DISABLED", "STR_EXTENSION_CONFIG", "STR_EXTENSIONS", "STR_PROCESS_TELEMETRY", "STR_PRIORITY", "STR_EVENTS_SENT", "STR_EVENTS_DISCARDED", "STR_EVENTS_SEND_REQUEST", "STR_PERF_EVENT", "STR_ERROR_TO_CONSOLE", "STR_WARN_TO_CONSOLE", "STR_GET_PERF_MGR", "strToISOString", "cStrEndsWith", "cStrStartsWith", "strIndexOf", "strMap", "strReduce", "cStrTrim", "strToString", "str__Proto", "strConstructor", "_objDefineProperty", "_objFreeze", "_objSeal", "_objKeys", "StringProto", "_strTrim", "_strEndsWith", "_strStartsWith", "DateProto", "_dataToISOString", "_isArray", "_objToString", "_fnToString", "_objFunctionString", "rCamelCase", "rNormalizeInvalid", "rLeadingNumeric", "_objGetPrototypeOf", "_getObjProto", "target", "newProto", "objToString", "isTypeof", "value", "theType", "isUndefined", "isNotUndefined", "isNullOrUndefined", "isNotNullOrUndefined", "hasOwnProperty", "prop", "isObject", "isFunction", "normalizeJsName", "name", "isString", "_all", "letter", "match", "objForEachKey", "callbackfn", "strEndsWith", "search", "_strEndsWithPoly", "searchLen", "valLen", "pos", "lp", "strStartsWith", "checkValue", "_strStartsWithPoly", "chkLen", "strContains", "isDate", "isArray", "_isArrayPoly", "isError", "isNumber", "isBoolean", "isSymbol", "isPlainObject", "proto", "toISOString", "date", "_toISOStringPoly", "pad", "num", "r", "arrForEach", "arr", "thisArg", "len", "idx", "arrIndexOf", "searchElement", "fromIndex", "arrMap", "results", "_this", "arrReduce", "initialValue", "strTrim", "str", "_objKeysHasDontEnumBug", "_objKeysDontEnums", "objKeys", "objType", "dontEnumsLength", "objDefineAccessors", "getProp", "setProp", "descriptor", "_doNothing", "deepFreeze", "objFreeze", "objSeal", "dateNow", "dt", "getExceptionName", "object", "setValue", "field", "valChk", "srcChk", "theValue", "getSetValue", "defValue", "getCfgValue", "defaultValue", "isNotTruthy", "isTruthy", "throwError", "_createProxyFunction", "source", "funcName", "srcFunc", "src", "originalArguments", "proxyAssign", "chkSet", "_loop_1", "proxyFunctionAs", "theFunc", "overwriteTarget", "proxyFunctions", "functionsToProxy", "theFuncName", "createClassFromInterface", "defaults", "class_1", "_this_1", "optimizeObject", "theObject", "objExtend", "obj1", "obj2", "obj3", "obj4", "obj5", "obj6", "theArgs", "extended", "argLen", "deep", "arg", "isArgArray", "isArgObj", "propOk", "newValue", "isNewArray", "clone", "createEnumStyle", "values", "enumClass", "createEnumMap", "mapClass", "createValueMap", "EventsDiscardedReason", "_a", "UNDEFINED", "Constructor", "Prototype", "strFunction", "DynInstFuncTable", "DynProxyTag", "DynClassName", "DynClassNamePrefix", "DynInstChkTag", "DynAllowInstChkTag", "DynProtoDefaultOptions", "UnknownValue", "DynProtoBaseProto", "DynProtoGlobalSettings", "DynProtoCurrent", "strUseBaseInst", "strSetInstFuncs", "Obj", "_objGetOwnProps", "_getGlobal", "_gbl", "_gblInst", "_hasOwnProperty", "_isObjectOrArrayPrototype", "_isObjectArrayOrFunctionPrototype", "curProto", "_forEachProp", "props", "name_1", "_isDynamicCandidate", "skipOwn", "_throwTypeError", "_getInstanceFuncs", "thisTarget", "instFuncs", "_hasVisited", "_getBaseFuncs", "classProto", "useBaseInst", "_instFuncProxy", "funcHost", "instFuncTable", "baseFuncs", "baseProto", "visited", "_getInstFunc", "currentDynProtoProxy", "instFunc", "canAddInst", "objProto", "protoFunc", "_getProtoFunc", "_populatePrototype", "className", "baseInstFuncs", "setInstanceFunc", "_createDynamicPrototype", "dynProtoProxy", "instFuncs_1", "_checkPrototype", "thisProto", "_getObjName", "unknownValue", "dynamicProto", "theClass", "delegateFunc", "options", "perfOptions", "strWindow", "strDocument", "strDocumentMode", "strNavigator", "strHistory", "strLocation", "strConsole", "strPerformance", "strJSON", "strCrypto", "strMsCrypto", "strReactNative", "strMsie", "strTrident", "strXMLHttpRequest", "_isTrident", "_navUserAgentCheck", "_enableMocks", "_useXDomainRequest", "_beaconsSupported", "_hasProperty", "property", "supported", "tmp", "setEnableEnvMocks", "enabled", "getGlobalInst", "gbl", "hasWindow", "getWindow", "hasDocument", "getDocument", "hasNavigator", "getNavigator", "hasHistory", "getHistory", "getLocation", "checkForMock", "mockLocation", "getConsole", "getPerformance", "hasJSON", "getJSON", "getCrypto", "getMsCrypto", "isReactNative", "nav", "isIE", "userAgent", "getIEVersion", "userAgentStr", "navigator_1", "ua", "doc", "tridentVer", "dumpObj", "objectTypeDump", "propertyValueDump", "isSafari", "navigator_2", "isBeaconsSupported", "isFetchSupported", "withKeepAlive", "isSupported", "request", "useXDomainRequest", "isXhrSupported", "xmlHttpRequest", "_getNamedValue", "findMetaTag", "findNamedServerTiming", "perf", "navPerf", "listenerFuncs", "_aiNamespace", "_debugListener", "_listenerProxyFunc", "config", "args", "dbgExt", "getDebugExt", "listener", "_getExtensionNamespace", "ns", "getDebugListener", "AiNonUserActionablePrefix", "AiUserActionablePrefix", "AIInternalMessagePrefix", "_sanitizeDiagnosticText", "text", "_logToConsole", "theConsole", "logFunc", "_InternalLogMessage", "msgId", "msg", "isUserAct", "properties", "_self", "strProps", "diagnosticText", "safeGetLogger", "core", "DiagnosticLogger", "_messageCount", "_messageLogged", "_loggingLevelConsole", "_loggingLevelTelemetry", "_maxInternalMessageLimit", "_enableDebug", "_setDefaultsFromConfig", "severity", "_debugExtMsg", "messageKey", "_logInternalMessage", "_areInternalMessagesThrottled", "logMessage", "throttleLimitMessage", "throttleMessage", "data", "_getLogger", "logger", "_throwInternal", "_warnToConsole", "strExecutionContextKey", "strParentContextKey", "strChildrenContextKey", "_defaultPerfManager", "PerfEvent", "payloadDetails", "isAsync", "accessorDefined", "theDetails_1", "key", "ctx", "childTime", "childEvts", "childEvt", "PerfManager", "manager", "perfEvent", "doPerfActiveKey", "doPerf", "mgrSource", "getSource", "details", "perfMgr", "perfEvt", "currentActive", "children", "ex", "setGblPerfMgr", "perfManager", "getGblPerfMgr", "UInt32Mask", "MaxUInt32", "_mwcSeeded", "_mwcW", "_mwcZ", "_mwcSeed", "seedValue", "_autoSeedMwc", "now", "randomValue", "maxValue", "random32", "signed", "c", "mwcRandom32", "mwcRandomSeed", "newId", "maxLength", "base64chars", "number", "chars", "version", "instanceName", "_dataUid", "_createAccessor", "_canAcceptData", "_getCache", "theCache", "createUniqueNamespace", "includeVersion", "createElmNodeData", "addDefault", "strToGMTString", "strToUTCString", "strCookie", "strExpires", "strEnabled", "strIsCookieUseDisabled", "strDisableCookiesUsage", "strConfigCookieMgr", "_supportsCookies", "_allowUaSameSite", "_parsedCookieValue", "_doc", "_cookieCache", "_globalCookieConfig", "_gblCookieMgr", "inst", "createCookieMgr", "_isMgrEnabled", "cookieMgr", "_createCookieMgrConfig", "rootConfig", "cookieMgrCfg", "cookieEnabled", "_isIgnoredCookie", "_isBlockedCookie", "safeGetCookieMgr", "cookieCfg", "cookieMgrConfig", "_path", "_domain", "_enabled", "areCookiesSupported", "gblManager", "maxAgeSec", "domain", "path", "_extractParts", "_isIE", "nowMs", "expireMs", "expiry", "_formatDate", "location_1", "uaDisallowsSameSiteNone", "setCookieFn", "_setCookieValue", "_formatCookieValue", "_getCookieValue", "delCookie", "e", "parts", "thePart", "theDate", "cookieValue", "theCookie", "strOnPrefix", "strAttachEvent", "strAddEventHelper", "strDetachEvent", "strRemoveEventListener", "strEvents", "strVisibilityChangeEvt", "strPageHide", "strPageShow", "strUnload", "strBeforeUnload", "strPageHideNamespace", "strPageShowNamespace", "rRemoveEmptyNs", "rRemoveTrailingEmptyNs", "_guid", "elmNodeData", "eventNamespace", "_normalizeNamespace", "_getEvtNamespace", "eventName", "evtNamespace", "theNamespace_1", "parsedEvent", "__getRegisteredEvents", "theEvents", "eventCache", "evtName", "evtType", "registeredEvents", "_getRegisteredEvents", "aiEvts", "_doDetach", "handlerRef", "useCapture", "_doAttach", "_doUnregister", "events", "unRegFn", "theEvent", "_unregisterEvents", "mergeEvtNamespace", "theNamespace", "namespaces", "newNamespaces", "eventOn", "registeredEvent", "eventOff", "evtName_1", "found_1", "regEvent", "attachEvent", "eventNameWithoutOn", "detachEvent", "addEventHandler", "callback", "w", "removeEventHandler", "_addEventListeners", "excludeEvents", "added", "addEventListeners", "removeEventListeners", "addPageUnloadEventListener", "removePageUnloadEventListener", "addPageHideEventListener", "_handlePageVisibility", "evt", "pageUnloadAdded", "removePageHideEventListener", "addPageShowEventListener", "pageShowAdded", "removePageShowEventListener", "_cookieMgrs", "_canUseCookies", "Undefined", "newGuid", "uuid", "generateW3CId", "perfNow", "hexValues", "oct", "a", "clockSequenceHi", "CoreUtils", "disableCookies", "EventHelper", "_legacyCookieMgr", "legacyCanUseCookies", "mgr", "canUseCookies", "getCookie", "setCookie", "deleteCookie", "TRACE_PARENT_REGEX", "DEFAULT_VERSION", "INVALID_VERSION", "INVALID_TRACE_ID", "INVALID_SPAN_ID", "SAMPLED_FLAG", "_isValid", "invalidValue", "_formatValue", "_formatFlags", "createTraceParent", "traceId", "spanId", "flags", "isValidTraceId", "isValidSpanId", "parseTraceParent", "isValidTraceParent", "isSampledFlag", "formatTraceParent", "findW3cTraceParent", "traceParent", "pluginStateData", "_getPluginState", "plugin", "initializePlugins", "processContext", "extensions", "initPlugins", "lastPlugin", "proxy", "pluginState", "thePlugin", "isInitialized", "sortPlugins", "plugins", "extA", "extB", "bHasProcess", "unloadComponents", "components", "unloadCtx", "unloadState", "asyncCallback", "_doUnload", "component", "createDistributedTraceContext", "parentCtx", "trace", "newTraceFlags", "strTelemetryPluginChain", "strHasRunFlags", "strGetTelCtx", "_chainId", "_getNextProxyStart", "startAt", "createTelemetryProxyChain", "_createInternalContext", "telemetryChain", "_nextProxy", "_onComplete", "context", "_moveNext", "_getExtCfg", "_getConfig", "nextPlugin", "_iterateChain", "_addOnComplete", "onComplete", "that", "_i", "nextProxy", "completeDetails", "identifier", "mergeDefault", "theConfig", "extConfig", "newConfig_1", "cfgValue", "cb", "createProcessTelemetryContext", "internalContext", "_processNext", "env", "_createNew", "createProcessTelemetryUnloadContext", "createProcessTelemetryUpdateContext", "updateState", "firstProxy", "add", "lastProxy_1", "newProxy", "createTelemetryPluginProxy", "hasProcessTelemetry", "hasSetNext", "chainId", "proxyChain", "_processTelemetry", "_unloadPlugin", "_updatePlugin", "_getTelCtx", "itemCtx", "_processChain", "processPluginFn", "hasRun", "hasRunContext", "nextId", "error", "hasNextRun", "_callProcessTelemetry", "_callTeardown", "pluginCore", "updateCtx", "_callUpdate", "ProcessTelemetryContext", "pluginChain", "ChannelControllerPriority", "ChannelValidationMessage", "_addChannelQueue", "channelQueue", "queue", "queueItem", "createChannelControllerPlugin", "_processChannelQueue", "theChannels", "processFn", "waiting", "_runChainOnComplete", "channels", "channelChain", "chainCtx", "_doUpdate", "theUpdateState", "_doTeardown", "theUnloadState", "_getChannel", "pluginIdentifier", "ext", "channelController", "item", "callBack", "sendReason", "cbTimeout", "doneIterating", "cbTimer", "doCallback", "handled_1", "createChannelQueues", "extensionQueue_1", "createUnloadHandlerContainer", "handlers", "_addHandler", "handler", "_runHandlers", "strGetPlugin", "BaseTelemetryPlugin", "_isinitialized", "_rootCtx", "_nextPlugin", "_unloadHandlerContainer", "_hooks", "_initDefaults", "_setDefaults", "unloadDone", "theUnloadCtx", "_unloadCallback", "oldHooks", "fn", "updateDone", "theUpdateCtx", "_updateCallback", "hooks", "next", "currentCtx", "rootCtx", "TelemetryInitializerPlugin", "_super", "__extends", "_id", "_initializers", "_base", "telemetryInitializer", "theInitializer", "initializer", "doNotSendItem", "telemetryInitializersCount", "strValidationError", "strNotificationManager", "strSdkUnloadingError", "strSdkNotInitialized", "defaultInitConfig", "_createPerfManager", "notificationMgr", "_validateExtensions", "channelPriority", "allExtensions", "coreExtensions", "extPriorities", "extPriority", "_isPluginPresent", "exists", "_createDummyNotificationManager", "reason", "BaseCore", "_config", "_isInitialized", "_eventQueue", "_notificationManager", "_perfManager", "_cfgPerfManager", "_cookieManager", "_pluginChain", "_configExtensions", "_coreExtensions", "_channelControl", "_channelConfig", "_channelQueue", "_isUnloading", "_telemetryInitializerPlugin", "_internalLogsEventName", "_evtNamespace", "_unloadHandlers", "_traceCtx", "_internalLogPoller", "_forceStopInternalLogPoller", "notificationManager", "_initDebugListener", "_initPerfManager", "_initExtConfig", "cfgExtensions", "__spreadArray", "_initPluginChain", "controls", "telemetryItem", "_createTelCtx", "createPerfMgr", "eventQueue", "event", "_startInternalLogTimer", "alwaysStart", "shouldStart", "interval", "_flushInternalLogs", "unloadComplete", "processUnloadCtx", "_getPluginChain", "flushComplete", "_flushChannels", "_getPlugin", "replaceExisting", "addCb", "_logOrThrowError", "existingPlugin", "_addPlugin", "removed", "removedPlugins_1", "_removePlugins", "createNew", "traceCtx", "theCtx", "theExtensions", "initCtx", "theExt", "removeCb", "pluginsToRemove", "thePlugins", "removeComplete", "unloadChain", "newConfigExtensions", "newChannelConfig", "newQueue", "channel", "disableDbgExt", "enablePerfMgr", "_runListeners", "listeners", "NotificationManager", "perfEvtsSendAll", "index", "AppInsightsCore", "_notifyInvalidEvent", "_validateTelemetryItem", "FAILED", "FAILED_MONITOR_AJAX", "TRACK", "START", "STOP", "EVENT", "AUTH_CONTEXT", "EXCEPTION", "LOCAL", "SESSION", "STORAGE", "BROWSER", "CANNOT", "BUFFER", "INSTRUMENTATION_KEY", "LoggingSeverity", "_InternalMessageId", "aiInstrumentHooks", "cbNames", "_arrLoop", "_doCallbacks", "callDetails", "cbArgs", "hookCtx", "hook", "cbks", "err", "orgEx", "hookErrorCb", "_createFunctionHook", "aiHook", "funcThis", "orgArgs", "funcArgs", "_replaceArg", "_createArgs", "_getOwner", "checkPrototype", "checkParentProto", "owner", "InstrumentProto", "callbacks", "InstrumentFunc", "InstrumentProtos", "funcNames", "InstrumentFuncs", "_createInstrumentHook", "newFunc", "theHook", "id", "InstrumentEvent", "_a", "UNDEFINED", "Constructor", "Prototype", "strFunction", "DynInstFuncTable", "DynProxyTag", "DynClassName", "DynClassNamePrefix", "DynInstChkTag", "DynAllowInstChkTag", "DynProtoDefaultOptions", "UnknownValue", "str__Proto", "DynProtoBaseProto", "DynProtoGlobalSettings", "DynProtoCurrent", "strUseBaseInst", "strSetInstFuncs", "Obj", "_objGetPrototypeOf", "_objGetOwnProps", "_getGlobal", "result", "_gbl", "_gblInst", "_hasOwnProperty", "obj", "prop", "_isObjectOrArrayPrototype", "target", "_isObjectArrayOrFunctionPrototype", "_getObjProto", "newProto", "curProto", "_forEachProp", "func", "props", "name_1", "lp", "_isDynamicCandidate", "funcName", "skipOwn", "_throwTypeError", "message", "_getInstanceFuncs", "thisTarget", "instFuncs", "name", "_hasVisited", "values", "value", "_getBaseFuncs", "classProto", "useBaseInst", "_instFuncProxy", "funcHost", "theFunc", "instFuncTable", "baseFuncs", "baseProto", "visited", "_getInstFunc", "proto", "currentDynProtoProxy", "instFunc", "canAddInst", "objProto", "protoFunc", "_getProtoFunc", "_populatePrototype", "className", "baseInstFuncs", "setInstanceFunc", "_createDynamicPrototype", "dynProtoProxy", "instFuncs_1", "_checkPrototype", "thisProto", "_getObjName", "unknownValue", "dynamicProto", "theClass", "delegateFunc", "options", "perfOptions", "ValueKind", "createEnumStyle", "EventLatency", "EventPropertyType", "EventPersistence", "TraceLevel", "_ExtendedInternalMessageId", "objFreeze", "__assign", "_InternalMessageId", "STR_EMPTY", "STR_DEFAULT_ENDPOINT_URL", "STR_VERSION", "STR_PROPERTIES", "_a", "Version", "FullVersionString", "strDisabledPropertyName", "strWithCredentials", "strTimeout", "_fieldTypeEventPropMap", "uInt8ArraySupported", "isDocumentObjectAvailable", "getDocument", "isWindowObjectAvailable", "getWindow", "isValueAssigned", "value", "isNullOrUndefined", "getTenantId", "apiKey", "indexTenantId", "isUint8ArrayAvailable", "isUndefined", "isSafariOrFirefox", "isReactNative", "isLatency", "isNumber", "sanitizeProperty", "name", "property", "stringifyObjects", "propType", "isArray", "ObjHasOwnProperty", "isString", "isBoolean", "isArrayValid", "isValueKind", "getCommonSchemaMetaData", "kind", "type", "encodedTypeValue", "isDataType", "getFieldValueType", "disableCookies", "safeGetCookieMgr", "setCookie", "days", "areCookiesSupported", "deleteCookie", "getCookie", "getCookieValue", "cookieMgr", "decode", "cookieValue", "createGuid", "style", "theGuid", "newGuid", "extend", "obj", "obj2", "obj3", "obj4", "obj5", "extended", "deep", "i", "length", "objProto", "strShimPrototype", "theArgs", "objForEachKey", "prop", "isObject", "arrForEach", "arrayValue", "arrayIndex", "getTime", "perfNow", "nav", "getNavigator", "ua", "setProcessTelemetryTimings", "event", "identifier", "evt", "theType", "objType", "strShimObject", "Utils", "strUndefined", "strObject", "arrIndexOf", "arrMap", "arrReduce", "objKeys", "toISOString", "isFunction", "strTrim", "isBeaconsSupported", "useXDomainRequest", "uaDisallowsSameSiteNone", "objDefineAccessors", "addPageUnloadEventListener", "addEventHandler", "strEndsWith", "CoreUtils", "isTypeof", "hasOwnProperty", "isDate", "isError", "objCreateFn", "dateNow", "isIE", "newId", "randomValue", "random32", "mwcRandomSeed", "mwcRandom32", "generateW3CId", "isChromium", "getGlobalInst", "openXhr", "method", "urlString", "withCredentials", "disabled", "isSync", "timeout", "_wrapSetXhrProp", "xhr", "AppInsightsCore", "_super", "__extends", "_this", "dynamicProto", "_self", "_base", "DiagnosticLogger", "config", "extensions", "logger", "notificationManager", "doPerf", "_pluginVersionStringArr", "propertyStorageOverride", "throwError", "channels", "channel", "ver", "ext", "e", "logger_1", "message", "dumpObj", "_throwInternal", "item", "telemetryItem", "itemExt", "baseData", "itemProperties", "InternalCore", "BaseCore", "_isFunction", "_createPromiseAllOnResolvedFunction", "values", "index", "resolvedCallback", "ESPromise", "resolverFunc", "_state", "_settledValue", "_queue", "onResolved", "onRejected", "resolve", "reject", "_enqueue", "error", "_processQueue", "pending_1", "len", "_resolve", "_reject", "reason", "iterable", "values_1", "pending_2", "lp", "_loop_1", "LazyRejectPeriod", "_schedulerId", "_running", "_waiting", "_timedOut", "_getTime", "ESPromiseScheduler", "diagLog", "_promiseId", "_scheduledName", "_lastEvent", "_eventCount", "startEventAction", "eventName", "uniqueId", "uniqueEventId", "newScheduledEvent", "_waitForPreviousEvent", "_startWaitingEvent", "_abortAndRemoveOldEvents", "eventQueue", "now", "expired", "_warnLog", "_cleanup", "eventId", "completed", "toQueue", "removed", "_removeQueuedEvent", "tm", "_debugLog", "_removeScheduledEvent", "callback", "_waitForFinalResult", "startResult", "schEventResolve", "schEventReject", "_createScheduledEvent", "eventDetails", "startEvent", "theResult", "waitForEvent", "waitEvent", "waitResolve", "waitReject", "runTime", "prevId", "queue", "global", "getGlobal", "_warnToConsole", "ValueSanitizer", "fieldSanitizerProvider", "_sanitizerMap", "_sanitizers", "_fieldSanitizers", "_getFieldSanitizer", "path", "result", "fieldLookup", "newSanitizer", "fieldSanitizer", "mapValue", "fieldType", "subType", "_convertToProperty", "_handleProperty", "_callFieldSanitizer", "fieldProvider", "sanitizer", "newValue_1", "propValue", "propKey", "theValue", "newPath", "newProp", "details", "RT_PROFILE", "NRT_PROFILE", "BE_PROFILE", "STR_EMPTY", "STR_POST_METHOD", "STR_DISABLED_PROPERTY_NAME", "STR_DROPPED", "STR_SENDING", "STR_REQUEUE", "STR_RESPONSE_FAIL", "STR_OTHER", "DEFAULT_CACHE_CONTROL", "DEFAULT_CONTENT_TYPE", "STR_CACHE_CONTROL", "STR_CONTENT_TYPE_HEADER", "STR_KILL_TOKENS_HEADER", "STR_KILL_DURATION_HEADER", "STR_KILL_DURATION_SECONDS_HEADER", "STR_TIME_DELTA_HEADER", "STR_CLIENT_VERSION", "STR_CLIENT_ID", "STR_TIME_DELTA_TO_APPLY", "STR_UPLOAD_TIME", "STR_API_KEY", "STR_MSA_DEVICE_TICKET", "STR_AUTH_XTOKEN", "STR_NO_RESPONSE_BODY", "STR_MSFPC", "STR_TRACE", "STR_USER", "_getEventMsfpc", "theEvent", "intWeb", "isValueAssigned", "_getMsfpc", "theEvents", "msfpc", "lp", "EventBatch", "iKey", "addEvents", "events", "_self", "_msfpc", "fromEvent", "numEvents", "cnt", "isNullOrUndefined", "ClockSkewManager", "_allowRequestSending", "_shouldAddClockSkewHeaders", "_isFirstRequest", "_clockSkewHeaderValue", "_clockSkewSet", "dynamicProto", "timeDeltaInMillis", "SecToMsMultiplier", "KillSwitch", "_killedTokenDictionary", "_normalizeTenants", "values", "result", "arrForEach", "value", "strTrim", "killTokens", "killDuration", "killedTokens", "durationMs", "i", "dateNow", "tenantToken", "killDictionary", "name", "RandomizationLowerThreshold", "RandomizationUpperThreshold", "BaseBackoff", "MaxBackoff", "retryPolicyShouldRetryForStatus", "httpStatusCode", "retryPolicyGetMillisToBackoffForRetry", "retriesSoFar", "waitDuration", "minBackoff", "maxBackoff", "randomBackoff", "_MAX_STRING_JOINS", "RequestSizeLimitBytes", "BeaconRequestSizeLimitBytes", "MaxRecordSize", "MaxBeaconRecordSize", "metadata", "f", "rCheckDot", "Serializer", "perfManager", "valueSanitizer", "stringifyObjects", "enableCompoundKey", "strData", "strBaseData", "strExt", "_checkForCompoundkey", "_processSubMetaData", "_theSanitizer", "_isReservedCache", "retryCnt", "isTeardown", "isSync", "isReducedPayload", "sendReason", "sendType", "payload", "theBatch", "maxEventsPerBatch", "canAddEvents", "doPerf", "payloadBlob", "payloadEvents", "eventsAdded", "sizeExceeded", "failedEvts", "isBeaconPayload", "requestMaxSize", "recordMaxSize", "joinCount", "eventBlob", "blobLength", "currentSize", "apiKey", "arrIndexOf", "eventData", "serializedEvent", "getTenantId", "serializedExt", "eventExt", "objForEachKey", "key", "data", "_processPathKeys", "serializedData", "serializedBaseData", "pathKeys", "_addJSONPropertyMetaData", "_isReservedField", "path", "strStartsWith", "srcObj", "target", "thePath", "checkReserved", "metadataPathKeys", "metadataCallback", "processSubKeys", "srcValue", "prop", "name_1", "theMetaPathKeys", "destObj", "subKeys", "keyLen", "subKey", "isReserved", "sanitizeProperty", "newValue", "isArray", "newPath", "json", "propKeys", "propertyValue", "encodedTypeValue", "getCommonSchemaMetaData", "metaData", "metaTarget", "newTarget", "_a", "strSendAttempt", "_noResponseQs", "_eventActionMap", "_collectorQsHeaders", "_collectorHeaderToQs", "_addCollectorHeaderQsMapping", "qsName", "headerName", "allowQs", "_getResponseText", "xhr", "_hasHeader", "headers", "header", "hasHeader", "keys", "objKeys", "lowerHeader", "hasOwnProperty", "_addRequestDetails", "details", "useHeaders", "_prependTransports", "theTransports", "newTransports", "isNumber", "HttpManager", "maxConnections", "maxRequestRetriesBeforeBackoff", "actions", "timeoutOverride", "_urlString", "_killSwitch", "EVTKillSwitch", "_paused", "_clockSkewManager", "EVTClockSkewManager", "_useBeacons", "_outstandingRequests", "_postManager", "_logger", "_sendInterfaces", "_core", "_customHttpInterface", "_queryStringParameters", "_headers", "_batchQueue", "_serializer", "_enableEventTimings", "_cookieMgr", "_isUnloading", "_useHeaders", "_xhrTimeout", "_disableXhrSync", "_disableFetchKeepAlive", "_canHaveReducedPayload", "_addNoResponse", "_sendCredentials", "endpointUrl", "core", "postChannel", "httpInterface", "channelConfig", "isUndefined", "isReactNative", "syncHttpInterface", "beaconHttpInterface", "fetchSyncHttpInterface", "beaconUnloadTransports", "location_1", "getLocation", "_getSenderInterface", "_warnToConsole", "isBeaconsSupported", "isFetchSupported", "transports", "syncSupport", "transportType", "sendPostFunc", "useXDomainRequest", "_xdrSendPost", "isXhrSupported", "_xhrSendPost", "_fetchSendPost", "_beaconSendPost", "oncomplete", "sync", "xdr", "response", "_doOnComplete", "_handleCollectorResponse", "theUrl", "ignoreResponse", "responseHandled", "requestInit", "headerMap", "responseText", "text", "error", "_appendHeader", "theHeaders", "_getAllResponseHeaders", "_convertAllHeadersToMap", "xhrComplete", "responseTxt", "xhrRequest", "openXhr", "status", "e", "_throwInternal", "dumpObj", "internalPayloadData", "thePayload", "nav_1", "getNavigator", "droppedBatches_1", "_sendBatchesNotification", "ex", "_isBeaconPayload", "_adjustSendType", "_hasIdleConnection", "_canSendPayload", "_sendBatches", "_clearQueue", "batch", "theQueue", "theBatches", "_createDebugBatches", "idx", "retryCount", "orgBatches_1", "isSynchronous_1", "perfEvt", "droppedBatches", "serializationStart", "getTime", "sendInterface", "sendTransport", "_doPayloadSend", "_buildRequestDetails", "requestDetails", "extend", "FullVersionString", "apiQsKeys", "wParam", "_setTimingValue", "timings", "serializationCompleted", "useSendHook_1", "sendInterface_1", "useHeaders_1", "requestDetails_1", "sendEventStart_1", "batchLp", "evtLp", "telemetryItem", "orgPayloadData", "sender", "onComplete", "_retryRequestIfNeeded", "hookData_1", "senderCalled_1", "_addEventCompletedTimings", "sendEventCompleted", "reason", "isRetrying", "backOffTrans", "shouldRetry", "strUndefined", "killToken", "removedEvents", "retryCount_1", "_doAction", "_handleRequestFinished", "batchReason", "_addCompleteTimings", "sendEventCompleted_1", "cb", "interval", "headersString", "isString", "headersArray", "headerEntry", "responseHandlers", "sendSync", "theAction_1", "_getNotificationAction", "isSyncRequest_1", "action", "defaultSetTimeout", "callback", "ms", "args", "_i", "defaultClearTimeout", "timeoutId", "createTimeoutWrapper", "argSetTimeout", "argClearTimeout", "FlushCheckTimer", "MaxNumberEventPerBatch", "EventsDroppedAtOneTime", "MaxSendAttempts", "MaxSyncUnloadSendAttempts", "MaxBackoffCount", "MaxConnections", "MaxRequestRetriesBeforeBackoff", "strEventsDiscarded", "strOverrideInstrumentationKey", "strMaxEventRetryAttempts", "strMaxUnloadEventRetryAttempts", "strAddUnloadCb", "PostChannel", "_super", "__extends", "_this", "_config", "_isTeardownCalled", "_flushCallbackQueue", "_flushCallbackTimerId", "_immediateQueueSize", "_immediateQueueSizeLimit", "_queueSize", "_queueSizeLimit", "_profiles", "_currentProfile", "_scheduledTimerId", "_immediateTimerId", "_currentBackoffCount", "_timerCount", "_xhrOverride", "_httpManager", "_batchQueues", "_autoFlushEventsLimit", "_autoFlushBatchLimit", "_delayedBatchSendLatency", "_delayedBatchReason", "_optimizeObject", "_isPageUnloadTriggered", "_maxEventSendAttempts", "_maxUnloadEventSendAttempts", "_evtNamespace", "_timeoutWrapper", "_base", "_initDefaults", "coreConfig", "extensions", "extendedCore", "hasAddUnloadCb", "mergeEvtNamespace", "createUniqueNamespace", "ctx", "isChromium", "_hookWParam", "_setAutoLimits", "excludePageUnloadEvents", "addPageUnloadEventListener", "_handleUnloadEvents", "addPageHideEventListener", "addPageShowEventListener", "_handleShowEvents", "ev", "itemCtx", "setProcessTelemetryTimings", "disableTelemetry", "event", "_addEventToQueues", "_releaseAllQueues", "_scheduleTimer", "unloadCtx", "unloadState", "removePageUnloadEventListener", "removePageHideEventListener", "removePageShowEventListener", "existingGetWParamMethod", "wparam", "evt", "theEvt", "getWindow", "append", "optimizeObject", "evtLatency", "queueSize", "queueLimit", "eventDropped", "_addEventToProperQueue", "dropLatency", "dropNumber", "_dropEventWithLatencyOrLess", "_notifyEvents", "EventsDiscardedReason", "eventLimit", "autoFlushLimit", "doFlush", "latency", "batchQueue", "_performAutoFlush", "_clearScheduledTimer", "responseHandler", "profiles", "_resetTransmitProfiles", "profileName", "profileValue", "profLen", "directValue", "timerMultiplier", "async", "_queueBatches", "_createTimer", "_flushImpl", "cleared", "_sendEventsForLatencyAndAbove", "ticket", "_hasEvents", "queued", "immediateTimeOut", "timeOut", "_requeueEvents", "_sendingEvent", "_eventsSentEvent", "_eventsDropped", "_eventsResponseFail", "_otherEvent", "_initializeProfiles", "_clearQueues", "theTimerFunc", "_getEventBatch", "create", "eventBatch", "isAsync", "currentLatency", "droppedEvents", "droppedCount", "_notifyBatchEvents", "_resetQueueCounts", "immediateQueue", "normalQueue", "_loop_1", "eventsQueued", "latencyToProcess", "_waitForIdleManager", "batches", "maxSendAttempts", "_callNotification", "evtName", "theArgs", "manager", "notifyFunc", "extraArgs", "isSyncRequest", "objDefineAccessors", "BaseTelemetryPlugin", "require_dsClientFactory", "__commonJSMin", "exports", "__createBinding", "o", "m", "k", "k2", "desc", "__setModuleDefault", "v", "__importStar", "mod", "result", "getAICore", "key", "vscodeAPI", "xhrOverride", "oneDs", "postPlugin", "appInsightsCore", "collectorChannelPlugin", "coreConfig", "channelConfig", "internalTesting", "envelope", "oneDataSystemClientFactory", "eventName", "data", "e", "resolve", "reject", "completedFlush", "fs", "path", "util_1", "exports", "confirmDirExists", "directory", "__awaiter", "stats", "_a", "err_1", "mkdirErr_1", "getShallowDirectorySize", "files", "totalSize", "files_1", "_i", "file", "fileStats", "getShallowDirectorySizeSync", "i", "getShallowFileSize", "filePath", "fs", "os", "path", "FileSystemHelper", "InternalAzureLogger", "_this", "logDestination", "logFilePath", "message", "optionalParams", "_i", "args", "__spreadArrays", "data", "_a", "err_1", "appendError_1", "size", "err_3", "buffer", "backupPath", "err_4", "files", "f", "a", "b", "aCreationDate", "bCreationDate", "totalFiles", "i", "pathToDelete", "err_5", "module", "InternalAzureLogger", "Logging", "message", "optionalParams", "_i", "module", "fs", "path", "Logging", "ENV_CONFIGURATION_FILE", "ENV_connectionString", "ENV_azurePrefix", "ENV_instrumentationKey", "ENV_legacyInstrumentationKey", "ENV_nativeMetricsDisablers", "ENV_nativeMetricsDisableAll", "ENV_http_proxy", "ENV_https_proxy", "ENV_noDiagnosticChannel", "ENV_noStatsbeat", "ENV_noHttpAgentKeepAlive", "ENV_noPatchModules", "ENV_webInstrumentationEnable", "ENV_webInstrumentation_connectionString", "ENV_webInstrumentation_source", "ENV_webSnippetEnable", "ENV_webSnippet_connectionString", "JsonConfig", "jsonString", "contentJsonConfig", "configFileName", "rootPath", "tempDir", "configFile", "err", "jsonConfig", "exports", "require_semver", "__commonJSMin", "exports", "module", "SemVer", "debug", "args", "MAX_LENGTH", "MAX_SAFE_INTEGER", "MAX_SAFE_COMPONENT_LENGTH", "MAX_SAFE_BUILD_LENGTH", "re", "safeRe", "src", "R", "LETTERDASHNUMBER", "safeRegexReplacements", "makeSafeRe", "value", "i", "token", "max", "NUMERICIDENTIFIER", "NUMERICIDENTIFIERLOOSE", "NONNUMERICIDENTIFIER", "MAINVERSION", "MAINVERSIONLOOSE", "PRERELEASEIDENTIFIER", "PRERELEASEIDENTIFIERLOOSE", "PRERELEASE", "PRERELEASELOOSE", "BUILDIDENTIFIER", "BUILD", "FULL", "FULLPLAIN", "LOOSEPLAIN", "LOOSE", "GTLT", "XRANGEIDENTIFIERLOOSE", "XRANGEIDENTIFIER", "XRANGEPLAIN", "XRANGEPLAINLOOSE", "XRANGE", "XRANGELOOSE", "COERCE", "LONETILDE", "TILDETRIM", "tildeTrimReplace", "TILDE", "TILDELOOSE", "LONECARET", "CARETTRIM", "caretTrimReplace", "CARET", "CARETLOOSE", "COMPARATORLOOSE", "COMPARATOR", "COMPARATORTRIM", "comparatorTrimReplace", "HYPHENRANGE", "HYPHENRANGELOOSE", "STAR", "parse", "version", "options", "r", "valid", "v", "clean", "s", "m", "id", "num", "other", "compareIdentifiers", "a", "b", "release", "identifier", "inc", "loose", "diff", "version1", "version2", "eq", "v1", "v2", "prefix", "defaultResult", "key", "numeric", "anum", "bnum", "rcompareIdentifiers", "major", "minor", "patch", "compare", "compareLoose", "rcompare", "sort", "list", "rsort", "gt", "lt", "neq", "gte", "lte", "cmp", "op", "Comparator", "comp", "ANY", "rangeTmp", "Range", "satisfies", "sameDirectionIncreasing", "sameDirectionDecreasing", "sameSemVer", "differentDirectionsInclusive", "oppositeDirectionsLessThan", "oppositeDirectionsGreaterThan", "range", "c", "comps", "hr", "hyphenReplace", "compRe", "set", "parseComparator", "thisComparators", "thisComparator", "rangeComparators", "rangeComparator", "toComparators", "replaceCarets", "replaceTildes", "replaceXRanges", "replaceStars", "isX", "replaceTilde", "_", "M", "p", "pr", "ret", "replaceCaret", "replaceXRange", "gtlt", "xM", "xm", "xp", "anyX", "$0", "from", "fM", "fm", "fp", "fpr", "fb", "to", "tM", "tm", "tp", "tpr", "tb", "testSet", "allowed", "maxSatisfying", "versions", "maxSV", "rangeObj", "minSatisfying", "min", "minSV", "minVersion", "minver", "comparators", "comparator", "compver", "validRange", "ltr", "outside", "gtr", "hilo", "gtfn", "ltefn", "ltfn", "ecomp", "high", "low", "prerelease", "parsed", "intersects", "r1", "r2", "coerce", "match", "require_patchRequire", "__commonJSMin", "exports", "path", "semver", "channel_1", "moduleModule", "nativeModules", "originalRequire", "makePatchingRequire", "knownPatches", "patchedModules", "moduleId", "originalModule", "modulePath", "moduleVersion", "prereleaseTagIndex", "modifiedModule", "_i", "_a", "modulePatcher", "name_1", "require_package", "__commonJSMin", "exports", "module", "require_channel", "__commonJSMin", "exports", "patchRequire_1", "patchRequire_2", "trueFilter", "publishing", "ContextPreservingEventEmitter", "cb", "name", "listeners", "_a", "filter", "event", "standardEvent_1", "listener", "patchCallback", "patched", "index", "_this", "prop", "preserver", "previousPreservationStack", "packageName", "patcher", "version", "_i", "module_1", "module_2", "moduleModule", "tslib_es6_exports", "__export", "__addDisposableResource", "__assign", "__asyncDelegator", "__asyncGenerator", "__asyncValues", "__await", "__awaiter", "__classPrivateFieldGet", "__classPrivateFieldIn", "__classPrivateFieldSet", "__createBinding", "__decorate", "__disposeResources", "__esDecorate", "__exportStar", "__extends", "__generator", "__importDefault", "__importStar", "__makeTemplateObject", "__metadata", "__param", "__propKey", "__read", "__rest", "__runInitializers", "__setFunctionName", "__spread", "__spreadArray", "__spreadArrays", "__values", "tslib_es6_default", "d", "b", "extendStatics", "__", "s", "t", "p", "decorators", "target", "key", "desc", "c", "r", "i", "paramIndex", "decorator", "ctor", "descriptorIn", "contextIn", "initializers", "extraInitializers", "accept", "f", "kind", "descriptor", "_", "done", "context", "result", "thisArg", "value", "useValue", "x", "name", "prefix", "metadataKey", "metadataValue", "_arguments", "P", "generator", "adopt", "resolve", "reject", "fulfilled", "step", "e", "rejected", "body", "y", "g", "verb", "n", "v", "op", "m", "o", "ar", "error", "il", "k", "j", "jl", "to", "from", "pack", "l", "q", "a", "resume", "settle", "fulfill", "cooked", "raw", "mod", "__setModuleDefault", "receiver", "state", "env", "async", "dispose", "fail", "_SuppressedError", "next", "rec", "init_tslib_es6", "__esmMin", "k2", "suppressed", "message", "exports", "__exportStar", "exports", "__exportStar", "exports", "exports", "version_1", "re", "_makeCompatibilityCheck", "ownVersion", "acceptedVersions", "rejectedVersions", "myVersionMatch", "ownVersionParsed", "globalVersion", "_reject", "v", "_accept", "globalVersionMatch", "globalVersionParsed", "exports", "platform_1", "version_1", "semver_1", "major", "GLOBAL_OPENTELEMETRY_API_KEY", "_global", "registerGlobal", "type", "instance", "diag", "allowOverride", "api", "_a", "err", "exports", "getGlobal", "globalVersion", "_b", "unregisterGlobal", "global_utils_1", "DiagComponentLogger", "props", "args", "logProxy", "exports", "funcName", "namespace", "logger", "DiagLogLevel", "exports", "types_1", "createLogLevelDiagLogger", "maxLevel", "logger", "_filterFunc", "funcName", "theLevel", "theFunc", "exports", "ComponentLogger_1", "logLevelLogger_1", "types_1", "global_utils_1", "API_NAME", "DiagAPI", "_logProxy", "funcName", "args", "logger", "self", "setLogger", "optionsOrLogLevel", "err", "_a", "oldLogger", "newLogger", "_b", "stack", "_c", "options", "exports", "BaggageImpl", "entries", "key", "entry", "k", "v", "newBaggage", "keys", "exports", "exports", "diag_1", "baggage_impl_1", "symbol_1", "diag", "createBaggage", "entries", "exports", "baggageEntryMetadataFromString", "str", "createContextKey", "description", "exports", "BaseContext", "parentContext", "self", "key", "value", "context", "consoleMap", "DiagConsoleLogger", "_consoleFunc", "funcName", "args", "theFunc", "i", "exports", "NoopMeter", "_name", "_options", "exports", "_callback", "_observables", "NoopMetric", "NoopCounterMetric", "_value", "_attributes", "NoopUpDownCounterMetric", "NoopHistogramMetric", "NoopObservableMetric", "NoopObservableCounterMetric", "NoopObservableGaugeMetric", "NoopObservableUpDownCounterMetric", "createNoopMeter", "ValueType", "exports", "exports", "carrier", "key", "value", "context_1", "NoopContextManager", "_context", "fn", "thisArg", "args", "target", "exports", "NoopContextManager_1", "global_utils_1", "diag_1", "API_NAME", "NOOP_CONTEXT_MANAGER", "ContextAPI", "contextManager", "context", "fn", "thisArg", "args", "target", "exports", "TraceFlags", "exports", "trace_flags_1", "exports", "invalid_span_constants_1", "NonRecordingSpan", "_spanContext", "_key", "_value", "_attributes", "_name", "_status", "_endTime", "_exception", "_time", "exports", "context_1", "NonRecordingSpan_1", "context_2", "SPAN_KEY", "getSpan", "context", "exports", "getActiveSpan", "setSpan", "span", "deleteSpan", "setSpanContext", "spanContext", "getSpanContext", "_a", "invalid_span_constants_1", "NonRecordingSpan_1", "VALID_TRACEID_REGEX", "VALID_SPANID_REGEX", "isValidTraceId", "traceId", "exports", "isValidSpanId", "spanId", "isSpanContextValid", "spanContext", "wrapSpanContext", "context_1", "context_utils_1", "NonRecordingSpan_1", "spancontext_utils_1", "contextApi", "NoopTracer", "name", "options", "context", "parentFromContext", "isSpanContext", "arg2", "arg3", "arg4", "opts", "ctx", "fn", "parentContext", "span", "contextWithSpanSet", "exports", "spanContext", "NoopTracer_1", "NOOP_TRACER", "ProxyTracer", "_provider", "name", "version", "options", "context", "_name", "_options", "_context", "_fn", "tracer", "exports", "NoopTracer_1", "NoopTracerProvider", "_name", "_version", "_options", "exports", "ProxyTracer_1", "NoopTracerProvider_1", "NOOP_TRACER_PROVIDER", "ProxyTracerProvider", "name", "version", "options", "_a", "delegate", "exports", "SamplingDecision", "exports", "SpanKind", "exports", "SpanStatusCode", "exports", "VALID_KEY_CHAR_RANGE", "VALID_KEY", "VALID_VENDOR_KEY", "VALID_KEY_REGEX", "VALID_VALUE_BASE_REGEX", "INVALID_VALUE_COMMA_EQUAL_REGEX", "validateKey", "key", "exports", "validateValue", "value", "tracestate_validators_1", "MAX_TRACE_STATE_ITEMS", "MAX_TRACE_STATE_LEN", "LIST_MEMBERS_SEPARATOR", "LIST_MEMBER_KEY_VALUE_SPLITTER", "TraceStateImpl", "rawTraceState", "key", "value", "traceState", "agg", "part", "listMember", "i", "exports", "tracestate_impl_1", "createTraceState", "rawTraceState", "exports", "context_1", "exports", "diag_1", "exports", "NoopMeter_1", "NoopMeterProvider", "_name", "_version", "_options", "exports", "NoopMeterProvider_1", "global_utils_1", "diag_1", "API_NAME", "MetricsAPI", "provider", "name", "version", "options", "exports", "metrics_1", "exports", "NoopTextMapPropagator", "_context", "_carrier", "context", "exports", "context_1", "context_2", "BAGGAGE_KEY", "getBaggage", "context", "exports", "getActiveBaggage", "setBaggage", "baggage", "deleteBaggage", "global_utils_1", "NoopTextMapPropagator_1", "TextMapPropagator_1", "context_helpers_1", "utils_1", "diag_1", "API_NAME", "NOOP_TEXT_MAP_PROPAGATOR", "PropagationAPI", "propagator", "context", "carrier", "setter", "getter", "exports", "propagation_1", "exports", "global_utils_1", "ProxyTracerProvider_1", "spancontext_utils_1", "context_utils_1", "diag_1", "API_NAME", "TraceAPI", "provider", "success", "name", "version", "exports", "trace_1", "exports", "utils_1", "exports", "context_1", "consoleLogger_1", "types_1", "NoopMeter_1", "Metric_1", "TextMapPropagator_1", "ProxyTracer_1", "ProxyTracerProvider_1", "SamplingResult_1", "span_kind_1", "status_1", "trace_flags_1", "utils_2", "spancontext_utils_1", "invalid_span_constants_1", "context_api_1", "diag_api_1", "metrics_api_1", "propagation_api_1", "trace_api_1", "api_1", "SUPPRESS_TRACING_KEY", "suppressTracing", "context", "exports", "unsuppressTracing", "isTracingSuppressed", "exports", "api_1", "constants_1", "serializeKeyPairs", "keyPairs", "hValue", "current", "value", "exports", "getKeyPairs", "baggage", "key", "entry", "parsePairKeyValue", "valueProps", "keyPairPart", "keyPair", "metadata", "parseKeyPairsIntoRecord", "headers", "api_1", "suppress_tracing_1", "constants_1", "utils_1", "W3CBaggagePropagator", "context", "carrier", "setter", "baggage", "keyPairs", "pair", "headerValue", "getter", "baggageString", "entry", "keyPair", "baggageEntry", "exports", "AnchoredClock", "systemClock", "monotonicClock", "delta", "exports", "api_1", "sanitizeAttributes", "attributes", "out", "key", "val", "isAttributeKey", "isAttributeValue", "exports", "isHomogeneousAttributeValueArray", "isValidPrimitiveAttributeValue", "arr", "type", "element", "api_1", "loggingErrorHandler", "ex", "stringifyException", "exports", "flattenException", "result", "current", "propertyName", "value", "logging_error_handler_1", "delegateHandler", "setGlobalErrorHandler", "handler", "exports", "globalErrorHandler", "ex", "TracesSamplerValues", "exports", "exports", "api_1", "sampling_1", "globalThis_1", "DEFAULT_LIST_SEPARATOR", "ENVIRONMENT_BOOLEAN_KEYS", "isEnvVarABoolean", "key", "ENVIRONMENT_NUMBERS_KEYS", "isEnvVarANumber", "ENVIRONMENT_LISTS_KEYS", "isEnvVarAList", "exports", "parseBoolean", "environment", "values", "value", "parseNumber", "name", "min", "max", "parseStringList", "output", "input", "separator", "givenValue", "v", "logLevelMap", "setLogLevelFromEnv", "theLevel", "parseEnvironment", "env", "getEnvWithoutDefaults", "os", "environment_1", "getEnv", "processEnv", "exports", "exports", "intValue", "charCode", "buf8", "buf16", "hexToBase64", "hexStr", "buf", "offset", "i", "hi", "lo", "exports", "SPAN_ID_BYTES", "TRACE_ID_BYTES", "RandomIdGenerator", "getIdGenerator", "exports", "SHARED_BUFFER", "bytes", "i", "perf_hooks_1", "exports", "exports", "exports", "tslib_1", "exports", "exports", "tslib_1", "exports", "tslib_1", "exports", "version_1", "semantic_conventions_1", "exports", "unrefTimer", "timer", "exports", "tslib_1", "exports", "tslib_1", "exports", "platform_1", "NANOSECOND_DIGITS", "NANOSECOND_DIGITS_IN_MILLIS", "MILLISECONDS_TO_NANOSECONDS", "SECOND_TO_NANOSECONDS", "millisToHrTime", "epochMillis", "epochSeconds", "seconds", "nanos", "exports", "getTimeOrigin", "timeOrigin", "perf", "hrTime", "performanceNow", "now", "addHrTimes", "timeInputToHrTime", "time", "isTimeInputHrTime", "hrTimeDuration", "startTime", "endTime", "hrTimeToTimeStamp", "precision", "tmp", "nanoString", "hrTimeToNanoseconds", "hrTimeToMilliseconds", "hrTimeToMicroseconds", "value", "isTimeInput", "time1", "time2", "out", "ExportResultCode", "exports", "api_1", "CompositePropagator", "config", "_a", "p", "x", "y", "context", "carrier", "setter", "propagator", "err", "getter", "ctx", "exports", "VALID_KEY_CHAR_RANGE", "VALID_KEY", "VALID_VENDOR_KEY", "VALID_KEY_REGEX", "VALID_VALUE_BASE_REGEX", "INVALID_VALUE_COMMA_EQUAL_REGEX", "validateKey", "key", "exports", "validateValue", "value", "validators_1", "MAX_TRACE_STATE_ITEMS", "MAX_TRACE_STATE_LEN", "LIST_MEMBERS_SEPARATOR", "LIST_MEMBER_KEY_VALUE_SPLITTER", "TraceState", "rawTraceState", "key", "value", "traceState", "agg", "part", "listMember", "i", "exports", "api_1", "suppress_tracing_1", "TraceState_1", "exports", "VERSION", "VERSION_PART", "TRACE_ID_PART", "PARENT_ID_PART", "FLAGS_PART", "TRACE_PARENT_REGEX", "parseTraceParent", "traceParent", "match", "W3CTraceContextPropagator", "context", "carrier", "setter", "spanContext", "getter", "traceParentHeader", "traceStateHeader", "state", "api_1", "RPC_METADATA_KEY", "RPCType", "exports", "setRPCMetadata", "context", "meta", "deleteRPCMetadata", "getRPCMetadata", "api_1", "AlwaysOffSampler", "exports", "api_1", "AlwaysOnSampler", "exports", "api_1", "global_error_handler_1", "AlwaysOffSampler_1", "AlwaysOnSampler_1", "ParentBasedSampler", "config", "_a", "_b", "_c", "_d", "context", "traceId", "spanName", "spanKind", "attributes", "links", "parentContext", "exports", "api_1", "TraceIdRatioBasedSampler", "_ratio", "context", "traceId", "ratio", "accumulation", "i", "pos", "part", "exports", "objectTag", "nullTag", "undefinedTag", "funcProto", "funcToString", "objectCtorString", "getPrototype", "overArg", "objectProto", "hasOwnProperty", "symToStringTag", "nativeObjectToString", "func", "transform", "arg", "isPlainObject", "value", "isObjectLike", "baseGetTag", "proto", "Ctor", "exports", "getRawTag", "objectToString", "isOwn", "tag", "unmasked", "result", "lodash_merge_1", "MAX_LEVEL", "merge", "args", "result", "objects", "mergeTwoObjects", "exports", "takeValue", "value", "isArray", "one", "two", "level", "isPrimitive", "isFunction", "i", "j", "isObject", "keys", "key", "shouldMerge", "twoValue", "obj1", "obj2", "wasObjectReferenced", "arr1", "arr2", "obj", "arr", "info", "TimeoutError", "message", "exports", "callWithTimeout", "promise", "timeout", "timeoutHandle", "timeoutPromise", "_resolve", "reject", "result", "reason", "urlMatches", "url", "urlToMatch", "exports", "isUrlIgnored", "ignoredUrls", "ignoreUrl", "isWrapped", "func", "exports", "Deferred", "resolve", "reject", "val", "err", "exports", "promise_1", "BindOnceFuture", "_callback", "_that", "args", "val", "err", "exports", "api_1", "suppress_tracing_1", "_export", "exporter", "arg", "resolve", "result", "exports", "tslib_1", "exports", "exporter_1", "exports", "api_1", "core_1", "semantic_conventions_1", "enums_1", "Span", "parentTracer", "context", "spanName", "spanContext", "kind", "parentSpanId", "links", "startTime", "_deprecatedClock", "now", "key", "value", "attributes", "k", "v", "name", "attributesOrStartTime", "timeStamp", "status", "endTime", "inp", "msDuration", "exception", "time", "limit", "val", "exports", "SamplingDecision", "exports", "Sampler_1", "AlwaysOffSampler", "exports", "Sampler_1", "AlwaysOnSampler", "exports", "api_1", "core_1", "AlwaysOffSampler_1", "AlwaysOnSampler_1", "ParentBasedSampler", "config", "_a", "_b", "_c", "_d", "context", "traceId", "spanName", "spanKind", "attributes", "links", "parentContext", "exports", "api_1", "Sampler_1", "TraceIdRatioBasedSampler", "_ratio", "context", "traceId", "ratio", "accumulation", "i", "pos", "part", "exports", "api_1", "core_1", "AlwaysOffSampler_1", "AlwaysOnSampler_1", "ParentBasedSampler_1", "TraceIdRatioBasedSampler_1", "env", "FALLBACK_OTEL_TRACES_SAMPLER", "DEFAULT_RATIO", "loadDefaultConfig", "buildSamplerFromEnv", "exports", "environment", "getSamplerProbabilityFromEnv", "probability", "config_1", "core_1", "mergeConfig", "userConfig", "perInstanceDefaults", "DEFAULT_CONFIG", "target", "exports", "reconfigureLimits", "spanLimits", "parsedEnvConfig", "_f", "_e", "_d", "_b", "_a", "_c", "_m", "_l", "_k", "_h", "_g", "_j", "api_1", "core_1", "BatchSpanProcessorBase", "_exporter", "config", "env", "_span", "_parentContext", "span", "resolve", "reject", "promises", "count", "i", "j", "timer", "spans", "doExport", "result", "_a", "pendingResources", "resource", "err", "exports", "BatchSpanProcessorBase_1", "BatchSpanProcessor", "exports", "SPAN_ID_BYTES", "TRACE_ID_BYTES", "RandomIdGenerator", "getIdGenerator", "exports", "SHARED_BUFFER", "bytes", "i", "tslib_1", "exports", "tslib_1", "exports", "api", "core_1", "Span_1", "utility_1", "platform_1", "Tracer", "instrumentationLibrary", "config", "_tracerProvider", "localConfig", "name", "options", "context", "parentSpan", "parentSpanContext", "spanId", "traceId", "traceState", "parentSpanId", "spanKind", "_a", "links", "_b", "link", "attributes", "samplingResult", "_c", "traceFlags", "spanContext", "span", "initAttributes", "arg2", "arg3", "arg4", "opts", "ctx", "fn", "parentContext", "contextWithSpanSet", "exports", "defaultServiceName", "exports", "normalizeArch", "nodeArchString", "exports", "normalizeType", "nodePlatform", "child_process", "util", "exports", "execAsync_1", "api_1", "getMachineId", "idLine", "line", "parts", "e", "exports", "fs_1", "api_1", "getMachineId", "paths", "path", "e", "exports", "fs_1", "execAsync_1", "api_1", "getMachineId", "e", "exports", "process", "execAsync_1", "api_1", "getMachineId", "args", "command", "parts", "e", "exports", "api_1", "getMachineId", "exports", "process", "getMachineId", "exports", "semantic_conventions_1", "Resource_1", "os_1", "utils_1", "getMachineId_1", "HostDetectorSync", "_config", "attributes", "machineId", "exports", "HostDetectorSync_1", "HostDetector", "_config", "exports", "semantic_conventions_1", "Resource_1", "os_1", "utils_1", "OSDetectorSync", "_config", "attributes", "exports", "OSDetectorSync_1", "OSDetector", "_config", "exports", "api_1", "semantic_conventions_1", "Resource_1", "os", "ProcessDetectorSync", "_config", "attributes", "userInfo", "e", "exports", "ProcessDetectorSync_1", "ProcessDetector", "config", "exports", "tslib_1", "exports", "tslib_1", "exports", "api_1", "semantic_conventions_1", "core_1", "platform_1", "Resource", "attributes", "asyncAttributesPromise", "_a", "asyncAttributes", "err", "other", "mergedSyncAttributes", "mergedAttributesPromise", "thisAsyncAttributes", "otherAsyncAttributes", "exports", "__1", "BrowserDetector", "config", "exports", "api_1", "core_1", "semantic_conventions_1", "Resource_1", "EnvDetectorSync", "_config", "attributes", "env", "rawAttributes", "serviceName", "parsedAttributes", "e", "rawEnvAttributes", "rawAttribute", "keyValuePair", "key", "value", "name", "str", "i", "ch", "exports", "EnvDetectorSync_1", "EnvDetector", "config", "exports", "semantic_conventions_1", "__1", "api_1", "BrowserDetectorSync", "config", "browserResource", "_config", "exports", "tslib_1", "exports", "isPromiseLike", "val", "exports", "Resource_1", "api_1", "utils_1", "detectResources", "config", "resources", "d", "resource", "e", "logResources", "acc", "exports", "detectResourcesSync", "_a", "resourceOrPromise", "createPromise", "mergedResources", "resourceDebugString", "tslib_1", "exports", "core_1", "MultiSpanProcessor", "_spanProcessors", "promises", "spanProcessor", "resolve", "error", "span", "context", "reject", "exports", "NoopSpanProcessor", "_span", "_context", "exports", "api_1", "core_1", "resources_1", "_1", "config_1", "MultiSpanProcessor_1", "NoopSpanProcessor_1", "platform_1", "utility_1", "ForceFlushState", "exports", "BasicTracerProvider", "config", "mergedConfig", "_a", "defaultExporter", "batchProcessor", "name", "version", "options", "key", "spanProcessor", "err", "timeout", "promises", "resolve", "state", "timeoutInterval", "error", "reject", "results", "errors", "result", "uniquePropagatorNames", "validPropagators", "propagator", "list", "item", "exporterName", "exporter", "core_1", "ConsoleSpanExporter", "spans", "resultCallback", "span", "_a", "done", "exports", "core_1", "InMemorySpanExporter", "spans", "resultCallback", "exports", "api_1", "core_1", "SimpleSpanProcessor", "_exporter", "_span", "_parentContext", "span", "doExport", "result", "_a", "error", "exportPromise", "_b", "err", "exports", "tslib_1", "exports", "parseInstrumentationOptions", "options", "instrumentations", "i", "j", "option", "results", "exports", "enableInstrumentations", "tracerProvider", "meterProvider", "instrumentation", "disableInstrumentations", "api_1", "autoLoaderUtils_1", "registerInstrumentations", "options", "instrumentations", "tracerProvider", "meterProvider", "exports", "require_constants", "__commonJSMin", "exports", "module", "SEMVER_SPEC_VERSION", "MAX_SAFE_INTEGER", "MAX_SAFE_COMPONENT_LENGTH", "MAX_SAFE_BUILD_LENGTH", "RELEASE_TYPES", "require_debug", "__commonJSMin", "exports", "module", "debug", "args", "require_re", "__commonJSMin", "exports", "module", "MAX_SAFE_COMPONENT_LENGTH", "MAX_SAFE_BUILD_LENGTH", "MAX_LENGTH", "debug", "re", "safeRe", "src", "t", "R", "LETTERDASHNUMBER", "safeRegexReplacements", "makeSafeRegex", "value", "token", "max", "createToken", "name", "isGlobal", "safe", "index", "require_parse_options", "__commonJSMin", "exports", "module", "looseOption", "emptyOpts", "parseOptions", "options", "require_identifiers", "__commonJSMin", "exports", "module", "numeric", "compareIdentifiers", "a", "b", "anum", "bnum", "rcompareIdentifiers", "require_semver", "__commonJSMin", "exports", "module", "debug", "MAX_LENGTH", "MAX_SAFE_INTEGER", "re", "t", "parseOptions", "compareIdentifiers", "SemVer", "version", "options", "m", "id", "num", "other", "i", "a", "b", "release", "identifier", "identifierBase", "base", "prerelease", "require_parse", "__commonJSMin", "exports", "module", "SemVer", "parse", "version", "options", "throwErrors", "er", "require_valid", "__commonJSMin", "exports", "module", "parse", "valid", "version", "options", "v", "require_clean", "__commonJSMin", "exports", "module", "parse", "clean", "version", "options", "s", "require_inc", "__commonJSMin", "exports", "module", "SemVer", "inc", "version", "release", "options", "identifier", "identifierBase", "require_diff", "__commonJSMin", "exports", "module", "parse", "diff", "version1", "version2", "v1", "v2", "comparison", "v1Higher", "highVersion", "lowVersion", "highHasPre", "prefix", "require_major", "__commonJSMin", "exports", "module", "SemVer", "major", "a", "loose", "require_minor", "__commonJSMin", "exports", "module", "SemVer", "minor", "a", "loose", "require_patch", "__commonJSMin", "exports", "module", "SemVer", "patch", "a", "loose", "require_prerelease", "__commonJSMin", "exports", "module", "parse", "prerelease", "version", "options", "parsed", "require_compare", "__commonJSMin", "exports", "module", "SemVer", "compare", "a", "b", "loose", "require_rcompare", "__commonJSMin", "exports", "module", "compare", "rcompare", "a", "b", "loose", "require_compare_loose", "__commonJSMin", "exports", "module", "compare", "compareLoose", "a", "b", "require_compare_build", "__commonJSMin", "exports", "module", "SemVer", "compareBuild", "a", "b", "loose", "versionA", "versionB", "require_sort", "__commonJSMin", "exports", "module", "compareBuild", "sort", "list", "loose", "a", "b", "require_rsort", "__commonJSMin", "exports", "module", "compareBuild", "rsort", "list", "loose", "a", "b", "require_gt", "__commonJSMin", "exports", "module", "compare", "gt", "a", "b", "loose", "require_lt", "__commonJSMin", "exports", "module", "compare", "lt", "a", "b", "loose", "require_eq", "__commonJSMin", "exports", "module", "compare", "eq", "a", "b", "loose", "require_neq", "__commonJSMin", "exports", "module", "compare", "neq", "a", "b", "loose", "require_gte", "__commonJSMin", "exports", "module", "compare", "gte", "a", "b", "loose", "require_lte", "__commonJSMin", "exports", "module", "compare", "lte", "a", "b", "loose", "require_cmp", "__commonJSMin", "exports", "module", "eq", "neq", "gt", "gte", "lt", "lte", "cmp", "a", "op", "b", "loose", "require_coerce", "__commonJSMin", "exports", "module", "SemVer", "parse", "re", "t", "coerce", "version", "options", "match", "next", "require_iterator", "__commonJSMin", "exports", "module", "Yallist", "walker", "require_yallist", "__commonJSMin", "exports", "module", "Yallist", "Node", "list", "self", "item", "i", "l", "node", "next", "prev", "head", "tail", "push", "unshift", "res", "fn", "thisp", "walker", "n", "initial", "acc", "arr", "from", "to", "ret", "start", "deleteCount", "nodes", "insert", "p", "value", "inserted", "require_lru_cache", "__commonJSMin", "exports", "module", "Yallist", "MAX", "LENGTH", "LENGTH_CALCULATOR", "ALLOW_STALE", "MAX_AGE", "DISPOSE", "NO_DISPOSE_ON_SET", "LRU_LIST", "CACHE", "UPDATE_AGE_ON_GET", "naiveLength", "LRUCache", "options", "max", "lc", "mL", "trim", "allowStale", "mA", "lC", "hit", "fn", "thisp", "walker", "prev", "forEachStep", "next", "k", "isStale", "h", "key", "value", "maxAge", "now", "len", "del", "item", "Entry", "get", "node", "arr", "l", "expiresAt", "self", "doUse", "diff", "length", "require_range", "__commonJSMin", "exports", "module", "Range", "range", "options", "parseOptions", "Comparator", "c", "first", "isNullSet", "isAny", "comps", "memoKey", "FLAG_INCLUDE_PRERELEASE", "FLAG_LOOSE", "cached", "cache", "loose", "hr", "re", "t", "hyphenReplace", "debug", "comparatorTrimReplace", "tildeTrimReplace", "caretTrimReplace", "rangeList", "comp", "parseComparator", "replaceGTE0", "rangeMap", "comparators", "result", "thisComparators", "isSatisfiable", "rangeComparators", "thisComparator", "rangeComparator", "version", "SemVer", "i", "testSet", "LRU", "remainingComparators", "testComparator", "otherComparator", "replaceCarets", "replaceTildes", "replaceXRanges", "replaceStars", "isX", "id", "replaceTilde", "r", "_", "M", "m", "p", "pr", "ret", "replaceCaret", "z", "replaceXRange", "gtlt", "xM", "xm", "xp", "anyX", "incPr", "$0", "from", "fM", "fm", "fp", "fpr", "fb", "to", "tM", "tm", "tp", "tpr", "tb", "set", "allowed", "require_comparator", "__commonJSMin", "exports", "module", "ANY", "Comparator", "comp", "options", "parseOptions", "debug", "r", "re", "t", "m", "SemVer", "version", "cmp", "Range", "require_satisfies", "__commonJSMin", "exports", "module", "Range", "satisfies", "version", "range", "options", "require_to_comparators", "__commonJSMin", "exports", "module", "Range", "toComparators", "range", "options", "comp", "c", "require_max_satisfying", "__commonJSMin", "exports", "module", "SemVer", "Range", "maxSatisfying", "versions", "range", "options", "max", "maxSV", "rangeObj", "v", "require_min_satisfying", "__commonJSMin", "exports", "module", "SemVer", "Range", "minSatisfying", "versions", "range", "options", "min", "minSV", "rangeObj", "v", "require_min_version", "__commonJSMin", "exports", "module", "SemVer", "Range", "gt", "minVersion", "range", "loose", "minver", "i", "comparators", "setMin", "comparator", "compver", "require_valid", "__commonJSMin", "exports", "module", "Range", "validRange", "range", "options", "require_outside", "__commonJSMin", "exports", "module", "SemVer", "Comparator", "ANY", "Range", "satisfies", "gt", "lt", "lte", "gte", "outside", "version", "range", "hilo", "options", "gtfn", "ltefn", "ltfn", "comp", "ecomp", "i", "comparators", "high", "low", "comparator", "require_gtr", "__commonJSMin", "exports", "module", "outside", "gtr", "version", "range", "options", "require_ltr", "__commonJSMin", "exports", "module", "outside", "ltr", "version", "range", "options", "require_intersects", "__commonJSMin", "exports", "module", "Range", "intersects", "r1", "r2", "options", "require_simplify", "__commonJSMin", "exports", "module", "satisfies", "compare", "versions", "range", "options", "set", "first", "prev", "v", "a", "b", "version", "ranges", "min", "max", "simplified", "original", "require_subset", "__commonJSMin", "exports", "module", "Range", "Comparator", "ANY", "satisfies", "compare", "subset", "sub", "dom", "options", "sawNonNull", "OUTER", "simpleSub", "simpleDom", "isSub", "simpleSubset", "minimumVersionWithPreRelease", "minimumVersion", "eqSet", "gt", "lt", "c", "higherGT", "lowerLT", "gtltComp", "eq", "higher", "lower", "hasDomLT", "hasDomGT", "needDomLTPre", "needDomGTPre", "a", "b", "comp", "require_semver", "__commonJSMin", "exports", "module", "internalRe", "constants", "SemVer", "identifiers", "parse", "valid", "clean", "inc", "diff", "major", "minor", "patch", "prerelease", "compare", "rcompare", "compareLoose", "compareBuild", "sort", "rsort", "gt", "lt", "eq", "neq", "gte", "lte", "cmp", "coerce", "Comparator", "Range", "satisfies", "toComparators", "maxSatisfying", "minSatisfying", "minVersion", "validRange", "outside", "gtr", "ltr", "intersects", "simplifyRange", "subset", "require_shimmer", "__commonJSMin", "exports", "module", "isFunction", "funktion", "logger", "defineProperty", "obj", "name", "value", "enumerable", "shimmer", "options", "wrap", "nodule", "wrapper", "original", "wrapped", "massWrap", "nodules", "names", "unwrap", "massUnwrap", "api_1", "shimmer", "InstrumentationAbstract", "instrumentationName", "instrumentationVersion", "config", "meterProvider", "tracerProvider", "exports", "require_homedir", "__commonJSMin", "exports", "module", "os", "home", "user", "require_caller", "__commonJSMin", "exports", "module", "origPrepareStackTrace", "_", "stack", "require_path_parse", "__commonJSMin", "exports", "module", "isWindows", "splitWindowsRe", "win32", "win32SplitPath", "filename", "pathString", "allParts", "splitPathRe", "posix", "posixSplitPath", "require_node_modules_paths", "__commonJSMin", "exports", "module", "path", "parse", "getNodeModulesDirs", "absoluteStart", "modules", "prefix", "paths", "parsed", "dirs", "aPath", "moduleDir", "start", "opts", "request", "require_normalize_options", "__commonJSMin", "exports", "module", "x", "opts", "require_implementation", "__commonJSMin", "exports", "module", "ERROR_MESSAGE", "slice", "toStr", "funcType", "that", "target", "args", "bound", "binder", "result", "boundLength", "boundArgs", "i", "Empty", "require_function_bind", "__commonJSMin", "exports", "module", "implementation", "require_src", "__commonJSMin", "exports", "module", "bind", "require_core", "__commonJSMin", "exports", "module", "require_is_core_module", "__commonJSMin", "exports", "module", "has", "specifierIncluded", "current", "specifier", "nodeParts", "parts", "op", "versionParts", "i", "cur", "ver", "matchesRange", "range", "specifiers", "versionIncluded", "nodeVersion", "specifierValue", "data", "x", "require_async", "__commonJSMin", "exports", "module", "fs", "getHomedir", "path", "caller", "nodeModulesPaths", "normalizeOptions", "isCore", "realpathFS", "homedir", "defaultPaths", "defaultIsFile", "file", "cb", "err", "stat", "defaultIsDir", "dir", "defaultRealpath", "x", "realpathErr", "realPath", "maybeRealpath", "realpath", "opts", "defaultReadPackage", "readFile", "pkgfile", "readFileErr", "body", "pkg", "getPackageCandidates", "start", "dirs", "i", "options", "callback", "isFile", "isDirectory", "readPackage", "conflictErr", "packageIterator", "extensions", "includeCoreModules", "basedir", "parent", "absoluteStart", "realStart", "init", "res", "loadAsDirectory", "onfile", "loadAsFile", "loadNodeModules", "n", "realN", "moduleError", "m", "d", "realD", "thePackage", "loadAsFilePackage", "exts", "load", "loadPackage", "onpkg", "loadpkg", "pkg_", "rfile", "rel", "r", "onex", "ex", "unwrapErr", "pkgdir", "pkgParam", "loadAsDirectoryPackage", "fpkg", "mainError", "processDirs", "isdir", "ondir", "thunk", "require_core", "__commonJSMin", "exports", "module", "require_core", "__commonJSMin", "exports", "module", "isCoreModule", "data", "core", "mod", "require_is_core", "__commonJSMin", "exports", "module", "isCoreModule", "x", "require_sync", "__commonJSMin", "exports", "module", "isCore", "fs", "path", "getHomedir", "caller", "nodeModulesPaths", "normalizeOptions", "realpathFS", "homedir", "defaultPaths", "defaultIsFile", "file", "stat", "e", "defaultIsDir", "dir", "defaultRealpathSync", "x", "realpathErr", "maybeRealpathSync", "realpathSync", "opts", "defaultReadPackageSync", "readFileSync", "pkgfile", "body", "pkg", "getPackageCandidates", "start", "dirs", "i", "options", "isFile", "isDirectory", "readPackageSync", "packageIterator", "extensions", "includeCoreModules", "basedir", "parent", "absoluteStart", "res", "m", "loadAsFileSync", "loadAsDirectorySync", "n", "loadNodeModulesSync", "err", "loadpkg", "rfile", "r", "mainError", "thunk", "require_resolve", "__commonJSMin", "exports", "module", "async", "require_ms", "__commonJSMin", "exports", "module", "s", "m", "h", "d", "w", "y", "val", "options", "type", "parse", "fmtLong", "fmtShort", "str", "match", "ms", "msAbs", "plural", "name", "isPlural", "require_common", "__commonJSMin", "exports", "module", "setup", "env", "createDebug", "coerce", "disable", "enable", "enabled", "destroy", "key", "selectColor", "namespace", "hash", "i", "prevTime", "enableOverride", "namespacesCache", "enabledCache", "debug", "args", "self", "curr", "ms", "index", "match", "format", "formatter", "val", "extend", "v", "delimiter", "newDebug", "namespaces", "split", "len", "toNamespace", "name", "regexp", "require_browser", "__commonJSMin", "exports", "module", "formatArgs", "save", "load", "useColors", "localstorage", "warned", "args", "c", "index", "lastC", "match", "namespaces", "r", "formatters", "v", "error", "require_has_flag", "__commonJSMin", "exports", "module", "flag", "argv", "prefix", "pos", "terminatorPos", "require_supports_color", "__commonJSMin", "exports", "module", "os", "hasFlag", "env", "forceColor", "translateLevel", "level", "supportsColor", "stream", "min", "osRelease", "sign", "version", "getSupportLevel", "require_node", "__commonJSMin", "exports", "module", "tty", "util", "init", "log", "formatArgs", "save", "load", "useColors", "supportsColor", "key", "obj", "prop", "_", "k", "val", "args", "name", "c", "colorCode", "prefix", "getDate", "namespaces", "debug", "keys", "i", "formatters", "v", "str", "require_src", "__commonJSMin", "exports", "module", "require_module_details_from_path", "__commonJSMin", "exports", "module", "path", "file", "segments", "index", "scoped", "name", "offset", "require_package", "__commonJSMin", "exports", "module", "require_require_in_the_middle", "__commonJSMin", "exports", "module", "path", "Module", "resolve", "debug", "moduleDetailsFromPath", "Hook", "isCore", "major", "minor", "moduleName", "normalize", "ExportsCache", "filename", "isBuiltin", "mod", "cachedExports", "modules", "options", "onrequire", "self", "patching", "internals", "hasWhitelist", "id", "core", "idWithoutPrefix", "resolveErr", "basedir", "isPatching", "parsedPath", "stat", "fullModuleName", "resolveModuleName", "res", "patchedExports", "normalizedPath", "exports", "ModuleNameTrieNode", "ModuleNameTrie", "hook", "trieNode", "moduleNamePart", "nextNode", "moduleName", "maintainInsertionOrder", "fullOnly", "results", "foundFull", "a", "b", "require_in_the_middle_1", "path", "ModuleNameTrie_1", "isMocha", "fn", "RequireInTheMiddleSingleton", "exports", "name", "basedir", "normalizedModuleName", "normalizePathSeparators", "matches", "onRequire", "moduleName", "hooked", "_a", "moduleNameOrPath", "require_register", "__commonJSMin", "exports", "importHooks", "setters", "specifiers", "toHook", "proxyHandler", "target", "name", "value", "property", "descriptor", "register", "namespace", "set", "specifier", "proxy", "hook", "require_import_in_the_middle", "__commonJSMin", "exports", "module", "path", "parse", "fileURLToPath", "importHooks", "specifiers", "toHook", "addHook", "hook", "name", "namespace", "removeHook", "index", "callHookFn", "hookFn", "baseDir", "newDefault", "Hook", "modules", "options", "internals", "filename", "isBuiltin", "details", "moduleName", "path", "util_1", "semver_1", "shimmer_1", "instrumentation_1", "RequireInTheMiddleSingleton_1", "ImportInTheMiddle", "api_1", "require_in_the_middle_1", "InstrumentationBase", "instrumentationName", "instrumentationVersion", "config", "moduleExports", "name", "wrapper", "wrapped", "moduleExportsArray", "names", "modules", "module", "resolvedModule", "baseDir", "version", "exports", "isSupported", "_a", "f", "patchedExports", "file", "hookFn", "onRequire", "hook", "esmHook", "supportedVersions", "includePrerelease", "supportedVersion", "InstrumentationNodeModuleDefinition", "name", "supportedVersions", "patch", "unpatch", "files", "exports", "path_1", "InstrumentationNodeModuleFile", "name", "supportedVersions", "patch", "unpatch", "exports", "__exportStar", "exports", "__exportStar", "exports", "safeExecuteInTheMiddle", "execute", "onFinish", "preventThrowingError", "error", "result", "e", "exports", "safeExecuteInTheMiddleAsync", "isWrapped", "func", "__exportStar", "exports", "log", "message", "args", "util", "EOL", "debugEnvVariable", "enabledString", "enabledNamespaces", "skippedNamespaces", "debuggers", "enable", "debugObj", "namespace", "createDebugger", "enabled", "disable", "namespaces", "wildcard", "namespaceList", "ns", "instance", "skipped", "enabledNamespace", "result", "newDebugger", "debug", "destroy", "extend", "index", "registeredLoggers", "logLevelFromEnv", "azureLogLevel", "AzureLogger", "AZURE_LOG_LEVELS", "isAzureLogLevel", "setLogLevel", "level", "logger", "shouldEnable", "getLogLevel", "levelMap", "createClientLogger", "clientRootLogger", "patchLogMethod", "createLogger", "parent", "child", "logLevel", "logger", "createClientLogger", "OpenTelemetrySpanWrapper", "span", "status", "SpanStatusCode", "name", "value", "exception", "SDK_VERSION", "environmentCache", "envVarToBoolean", "key", "loadEnvironmentVariable", "_a", "rawValue", "toOpenTelemetrySpanKind", "tracingSpanKind", "SpanKind", "toOpenTelemetryLinks", "spanLinks", "acc", "tracingSpanLink", "spanContext", "trace", "toOpenTelemetrySpanAttributes", "spanAttributes", "attributes", "toSpanOptions", "spanOptions", "spanKind", "kind", "links", "propagator", "W3CTraceContextPropagator", "OpenTelemetryInstrumenter", "ctx", "context", "INVALID_SPAN_CONTEXT", "suppressTracing", "tracingContext", "callback", "callbackArgs", "traceparentHeader", "defaultTextMapGetter", "headers", "defaultTextMapSetter", "AzureSdkInstrumentation", "InstrumentationBase", "options", "result", "InstrumentationNodeModuleDefinition", "moduleExports", "createAzureSdkInstrumentation", "require_azure_coretracing_pub", "__commonJSMin", "exports", "diagnostic_channel_1", "publisherName", "isPatched", "azureCoreTracingPatchFunction", "coreTracing", "tracing", "api", "defaultProvider", "defaultTracer", "setTracerOriginal_1", "tracer", "startSpanOriginal", "name", "options", "context", "span", "originalEnd", "result", "setGlobalTracerProviderOriginal_1", "tracerProvider", "getTracerOriginal", "tracerName", "version", "startSpanOriginal_1", "spanName", "openTelemetryInstr", "azureSdkInstr", "enable", "require_bunyan_pub", "__commonJSMin", "exports", "diagnostic_channel_1", "bunyanPatchFunction", "originalBunyan", "originalEmit", "rec", "noemit", "ret", "str", "enable", "require_console_pub", "__commonJSMin", "exports", "diagnostic_channel_1", "stream_1", "consolePatchFunction", "originalConsole", "aiLoggingOutStream", "aiLoggingErrStream", "chunk", "message", "aiLoggingConsole", "consoleMethods", "_loop_1", "method", "originalMethod", "_i", "consoleMethods_1", "enable", "require_mongodb_core_pub", "__commonJSMin", "exports", "diagnostic_channel_1", "mongodbcorePatchFunction", "originalMongoCore", "originalConnect", "ret", "originalWrite", "cbidx", "originalLogout", "enable", "require_mongodb_pub", "__commonJSMin", "exports", "__assign", "s", "i", "n", "p", "diagnostic_channel_1", "mongodbPatchFunction", "originalMongo", "listener", "cb", "eventMap", "event", "startedData", "mongodb3PatchFunction", "contextMap", "mongodbcorePatchFunction", "originalConnect", "ret", "originalWrite", "cbidx", "originalLogout", "mongodb330PatchFunction", "enable", "require_mysql_pub", "__commonJSMin", "exports", "diagnostic_channel_1", "path", "mysqlPatchFunction", "originalMysql", "originalMysqlPath", "patchObjectFunction", "obj", "name", "func", "cbWrapper", "originalFunc", "cbidx", "i", "cb", "resultContainer", "result", "patchClassMemberFunction", "classObject", "connectionCallbackFunctions", "connectionClass", "value", "err", "hrDuration", "duration", "poolCallbackFunctions", "poolClass", "enable", "require_pg_pool_pub", "__commonJSMin", "exports", "diagnostic_channel_1", "postgresPool1PatchFunction", "originalPgPool", "originalConnect", "callback", "enable", "require_pg_pub", "__commonJSMin", "exports", "diagnostic_channel_1", "events_1", "publisherName", "postgres6PatchFunction", "originalPg", "originalPgPath", "originalClientQuery", "diagnosticOriginalFunc", "config", "values", "callback", "data", "start", "queryResult", "patchCallback", "cb", "trackingCallback", "err", "res", "end", "postgresLatestPatchFunction", "_this", "_a", "_b", "callbackProvided", "result", "resolve", "reject", "error", "command", "enable", "require_redis_pub", "__commonJSMin", "exports", "diagnostic_channel_1", "redisPatchFunction", "originalRedis", "originalSend", "commandObj", "cb_1", "address_1", "startTime_1", "startDate_1", "err", "result", "hrDuration", "duration", "enable", "require_tedious_pub", "__commonJSMin", "exports", "__assign", "s", "i", "n", "p", "diagnostic_channel_1", "tediousPatchFunction", "originalTedious", "originalMakeRequest", "getPatchedCallback", "origCallback", "start", "data", "err", "rowCount", "rows", "end", "request", "enable", "require_winston_pub", "__commonJSMin", "exports", "__extends", "extendStatics", "d", "b", "p", "__", "__rest", "s", "t", "diagnostic_channel_1", "winston2PatchFunction", "originalWinston", "originalLog", "curLevels", "loggingFilter", "level", "message", "meta", "levelKind", "f", "winston3PatchFunction", "mapLevelToKind", "winston", "AppInsightsTransport", "_super", "opts", "_this", "info", "callback", "splat", "key", "patchedConfigure", "levels", "lastLevel", "origCreate", "result", "origConfigure", "origRootConfigure", "enable", "require_src", "__commonJSMin", "exports", "azuresdk", "bunyan", "consolePub", "mongodbCore", "mongodb", "mysql", "pgPool", "pg", "redis", "tedious", "winston", "enable", "Logging", "JsonConfig_1", "exports", "TAG", "publishers", "individualOptOuts", "unpatchedModules", "modules", "mod", "registerContextPreservation", "cb", "diagChannel", "module", "http", "https", "url", "constants", "Logging", "RequestResponseHeaders", "JsonConfig_1", "Util", "name", "cookie", "value", "cookieName", "cookies", "i", "str", "array", "toChar", "v", "int32AsString", "x", "b", "hexValues", "oct", "tmp", "a", "clockSequenceHi", "id", "obj", "input", "propType", "totalms", "sec", "min", "hour", "days", "daysText", "err", "looseError", "origProperty", "map", "field", "property", "stringTarget", "e", "client", "requestUrl", "excludedDomains", "regex", "response", "key", "contextHeaders", "keyValues", "keyValue", "config", "requestOptions", "requestCallback", "useProxy", "useAgent", "requestUrlParsed", "options", "__assign", "proxyUrl", "proxyUrlParsed", "isHttps", "request", "correlationHeader", "header", "object", "objectTypeDump", "propertyValueDump", "payload", "error", "components", "found", "module", "Util", "CorrelationIdManager", "config", "callback", "parentId", "suffix", "id", "endIndex", "startIndex", "delimiter", "trimPosition", "c", "module", "Util", "CorrelationIdManager", "Traceparent", "traceparent", "parentId", "traceparentArr", "len", "operationId", "id", "traceFlags", "formattedFlags", "module", "Tracestate", "id", "fieldarr", "key", "keyParts", "tenant", "vendor", "tenantValid", "vendorValid", "res", "keydeduper", "parts", "_i", "parts_1", "rawPart", "part", "pair", "module", "require_Domain", "__commonJSMin", "exports", "module", "Domain", "Domain", "AvailabilityData", "_super", "__extends", "_this", "module", "require_Base", "__commonJSMin", "exports", "module", "Base", "require_ContextTagKeys", "__commonJSMin", "exports", "module", "ContextTagKeys", "Base", "Data", "_super", "__extends", "module", "require_DataPointType", "__commonJSMin", "exports", "module", "DataPointType", "DataPointType", "DataPoint", "module", "require_Envelope", "__commonJSMin", "exports", "module", "Envelope", "Domain", "EventData", "_super", "__extends", "_this", "module", "Domain", "ExceptionData", "_super", "__extends", "_this", "module", "require_ExceptionDetails", "__commonJSMin", "exports", "module", "ExceptionDetails", "Domain", "MessageData", "_super", "__extends", "_this", "module", "Domain", "MetricData", "_super", "__extends", "_this", "module", "EventData", "PageViewData", "_super", "__extends", "_this", "module", "Domain", "RemoteDependencyData", "_super", "__extends", "_this", "module", "Domain", "RequestData", "_super", "__extends", "_this", "module", "require_SeverityLevel", "__commonJSMin", "exports", "module", "SeverityLevel", "require_StackFrame", "__commonJSMin", "exports", "module", "StackFrame", "require_Generated", "__commonJSMin", "exports", "Generated_1", "RemoteDependencyDataConstants", "exports", "domainSupportsProperties", "domain", "require_DependencyTelemetry", "__commonJSMin", "exports", "require_EventTelemetry", "__commonJSMin", "exports", "require_ExceptionTelemetry", "__commonJSMin", "exports", "require_MetricTelemetry", "__commonJSMin", "exports", "require_RequestTelemetry", "__commonJSMin", "exports", "require_TraceTelemetry", "__commonJSMin", "exports", "require_Telemetry", "__commonJSMin", "exports", "require_NodeHttpDependencyTelemetry", "__commonJSMin", "exports", "require_NodeHttpRequestTelemetry", "__commonJSMin", "exports", "require_AvailabilityTelemetry", "__commonJSMin", "exports", "require_PageViewTelemetry", "__commonJSMin", "exports", "require_EnvelopeTelemetry", "__commonJSMin", "exports", "telemetryTypeToBaseType", "type", "TelemetryType", "exports", "baseTypeToTelemetryType", "baseType", "__exportStar", "exports", "require_MetricQuickPulse", "__commonJSMin", "exports", "require_EnvelopeQuickPulse", "__commonJSMin", "exports", "require_DocumentQuickPulse", "__commonJSMin", "exports", "require_ExceptionDocumentQuickPulse", "__commonJSMin", "exports", "require_MessageDocumentQuickPulse", "__commonJSMin", "exports", "require_DependencyDocumentQuickPulse", "__commonJSMin", "exports", "require_RequestDocumentQuickPulse", "__commonJSMin", "exports", "require_EventDocumentQuickPulse", "__commonJSMin", "exports", "__exportStar", "exports", "__exportStar", "exports", "RequestParser", "status", "error", "endTime", "properties", "key", "module", "url", "Contracts", "Util", "RequestResponseHeaders", "RequestParser", "CorrelationIdManager", "Tracestate", "Traceparent", "HttpRequestParser", "_super", "__extends", "request", "requestId", "_this", "error", "ellapsedMilliseconds", "response", "baseTelemetry", "name", "requestTelemetry", "key", "tags", "newTags", "pathName", "operationName", "encrypted", "protocol", "baseUrl", "search", "requestUrl", "absoluteUrl", "ipMatch", "check", "str", "results", "ip", "cookie", "value", "tracestateHeader", "traceparentHeader", "requestIdHeader", "legacy_parentId", "legacy_rootId", "cookieValue", "cookieParts", "module", "require_listener", "__commonJSMin", "exports", "module", "shimmer", "wrap", "unwrap", "SYMBOL", "defineProperty", "obj", "name", "value", "enumerable", "_process", "self", "listeners", "l", "p", "listener", "before", "length", "i", "_listeners", "event", "_findAndProcess", "after", "unprocessed", "fn", "_wrap", "unwrapped", "visit", "wrapped", "emitter", "onAddListener", "onEmit", "adding", "on", "existing", "returned", "emitting", "emit", "remover", "removeListener", "require_context", "__commonJSMin", "exports", "module", "util", "assert", "wrapEmitter", "async_hooks", "CONTEXTS_SYMBOL", "ERROR_SYMBOL", "DEBUG_CLS_HOOKED", "currentUid", "getNamespace", "createNamespace", "destroyNamespace", "reset", "Namespace", "name", "key", "value", "indentStr", "debug2", "asyncHooksCurrentId", "triggerId", "context", "fn", "exception", "promise", "result", "err", "self", "index", "emitter", "namespace", "thisSymbol", "attach", "listener", "bind", "unwrapped", "wrapped", "unwrappedContexts", "thunk", "asyncId", "type", "resource", "triggerIdContext", "parentId", "args", "require_next_tick", "__commonJSMin", "exports", "module", "NextTickWrap", "hooks", "state", "oldNextTick", "args", "i", "callback", "handle", "uid", "didThrow", "require_promise", "__commonJSMin", "exports", "module", "PromiseWrap", "hooks", "state", "Promise", "oldThen", "wrappedThen", "makeWrappedHandler", "fn", "handle", "uid", "isOnFulfilled", "makeUnhandledResolutionHandler", "makeUnhandledRejectionHandler", "val", "onFulfilled", "onRejected", "require_timers", "__commonJSMin", "exports", "module", "timers", "TimeoutWrap", "IntervalWrap", "ImmediateWrap", "timeoutMap", "intervalMap", "ImmediateMap", "activeCallback", "clearedInCallback", "patchTimer", "hooks", "state", "setFn", "clearFn", "Handle", "timerMap", "singleCall", "oldSetFn", "oldClearFn", "args", "i", "callback", "handle", "uid", "timerId", "didThrow", "require_package", "__commonJSMin", "exports", "module", "require_async_hook", "__commonJSMin", "exports", "module", "asyncWrap", "TIMERWRAP", "patchs", "ignoreUIDs", "State", "Hooks", "initFns", "preFns", "postFns", "destroyFns", "uid", "provider", "parentUid", "parentHandle", "hook", "didThrow", "hooks", "removeElement", "array", "item", "index", "AsyncHook", "key", "require_package", "__commonJSMin", "exports", "module", "require_format", "__commonJSMin", "exports", "module", "FormatErrorString", "error", "frames", "lines", "frame", "line", "e", "require_stack_chain", "__commonJSMin", "exports", "module", "defaultFormater", "stackChain", "TraceModifier", "StackFormater", "SHORTCIRCUIT_CALLSITE", "collectCallSites", "options", "obj", "callSites", "chain", "error", "frames", "i", "l", "modifier", "index", "formater", "SHORTCIRCUIT_FORMATER", "prepareStackTrace", "originalFrames", "format", "callSiteGetter", "require_stack_chain", "__commonJSMin", "exports", "module", "require_async_hook_jl", "__commonJSMin", "exports", "module", "AsyncHook", "error", "frames", "callSite", "filename", "require_context_legacy", "__commonJSMin", "exports", "module", "util", "assert", "wrapEmitter", "asyncHook", "CONTEXTS_SYMBOL", "ERROR_SYMBOL", "invertedProviders", "key", "DEBUG_CLS_HOOKED", "currentUid", "getNamespace", "createNamespace", "destroyNamespace", "reset", "Namespace", "name", "value", "debug2", "context", "fn", "exception", "promise", "result", "err", "self", "index", "emitter", "namespace", "thisSymbol", "attach", "listener", "bind", "unwrapped", "wrapped", "unwrappedContexts", "thunk", "uid", "handle", "provider", "parentUid", "parentHandle", "getFunctionName", "msg", "stackChain", "modifier", "require_cls_hooked", "__commonJSMin", "exports", "module", "semver", "require_glue", "__commonJSMin", "exports", "module", "wrap", "HAS_CREATE_AL", "HAS_BEFORE_AL", "HAS_AFTER_AL", "HAS_ERROR_AL", "listeners", "uid", "inAsyncTick", "listenerStack", "asyncCatcher", "asyncWrap", "union", "dest", "added", "destLength", "addedLength", "returned", "j", "i", "missing", "inErrorTick", "er", "length", "handled", "listener", "value", "errorValues", "original", "list", "values", "_fatalException", "errorThrew", "threw", "simpleWrap", "wrapCallback", "AsyncListener", "callbacks", "data", "createAsyncListener", "addAsyncListener", "registered", "removeAsyncListener", "require_es6_wrapped_promise", "__commonJSMin", "exports", "module", "Promise", "ensureAslWrapper", "executor", "context", "args", "wrappedExecutor", "promise", "err", "resolve", "reject", "wrappedResolve", "wrappedReject", "val", "require_async_listener", "__commonJSMin", "shimmer", "semver", "wrap", "massWrap", "wrapCallback", "util", "v6plus", "v7plus", "v8plus", "v11plus", "net", "args", "arg0", "options", "isPipeName", "cb", "toNumber", "x", "wrapSetUpListenHandle", "original", "socket", "patchOnRead", "ctx", "handle", "result", "http", "req", "onSocket", "childProcess", "wrapChildProcess", "child", "activatorFirst", "processors", "activator", "asynchronizers", "timers", "patchGlobalTimers", "dns", "fs", "zlib", "proto", "crypto", "toWrap", "instrumentPromise", "promiseListener", "wrapPromise", "Promise", "wrappedPromise", "executor", "context", "promise", "wrappedExecutor", "err", "resolve", "reject", "wrappedResolve", "wrappedReject", "val", "ensureAslWrapper", "wrapThen", "PromiseFunctions", "key", "overwrite", "propagateAslWrapper", "fn", "next", "nextResult", "aslWrapper", "bind", "last", "fallback", "cbIdx", "a", "b", "c", "d", "e", "i", "s", "require_context", "__commonJSMin", "exports", "module", "assert", "wrapEmitter", "CONTEXTS_SYMBOL", "ERROR_SYMBOL", "Namespace", "name", "key", "value", "fn", "context", "exception", "self", "index", "emitter", "namespace", "thisSymbol", "attach", "listener", "bind", "unwrapped", "wrapped", "contexts", "thunk", "get", "create", "storage", "destroy", "reset", "Logging", "DiagChannel", "Traceparent", "Tracestate", "HttpRequestParser", "Util", "CorrelationContextManager", "context", "operationId", "parentId", "operationName", "correlationContextHeader", "traceparent", "tracestate", "CustomPropertiesImpl", "spanContext", "name", "traceContext", "fn", "_a", "error", "emitter", "forceClsHooked", "cb", "input", "request", "span", "headers", "azureFnRequest", "parser", "correlationContext", "nodeVer", "greater800", "less820", "greater470", "exports", "header", "keyvals", "keyval", "parts", "prop", "i", "val", "exports", "QuickPulseCounter", "PerformanceCounter", "MetricId", "_a", "StatsbeatFeature", "StatsbeatInstrumentation", "StatsbeatFeatureType", "StatsbeatNetworkCategory", "Contracts_1", "Constants_1", "diagnostic_channel_1", "clients", "subscriber", "event", "message", "client", "enable", "enabled", "clientFound", "c", "module", "version", "statsbeat", "exports", "dispose", "Contracts_1", "Constants_1", "diagnostic_channel_1", "clients", "bunyanToAILevelMap", "subscriber", "event", "message", "AIlevel", "client", "log", "bunyanError", "enable", "enabled", "clientFound", "c", "module", "version", "statsbeat", "exports", "dispose", "Constants_1", "Contracts_1", "diagnostic_channel_1", "clients", "winstonToAILevelMap", "og", "map", "subscriber", "event", "message", "AIlevel", "client", "enable", "enabled", "clientFound", "c", "module", "version", "statsbeat", "exports", "dispose", "DiagChannel", "AutoCollectConsole", "client", "isEnabled", "collectConsoleLog", "module", "AutoCollectExceptions", "client", "nodeVer", "isEnabled", "_this", "handle", "reThrow", "name", "error", "exceptionTelemetry", "module", "os", "Constants", "AutoCollectPerformance", "client", "collectionInterval", "enableLiveMetricsCounters", "isEnabled", "_this", "duration", "success", "durationMs", "cpus", "totalUser", "totalSys", "totalNice", "totalIdle", "totalIrq", "i", "cpu", "lastCpu", "name", "model", "speed", "times", "lastTimes", "user", "sys", "nice", "idle", "irq", "appCpuPercent", "appCpuUsage", "hrtime", "totalApp", "elapsedTime", "combinedTotal", "freeMem", "usedMem", "committedMemory", "lastRequests", "requests", "intervalRequests", "intervalFailedRequests", "elapsedMs", "elapsedSeconds", "averageRequestExecutionTime", "requestsPerSec", "failedRequestsPerSec", "lastDependencies", "dependencies", "intervalDependencies", "intervalFailedDependencies", "averageDependencyExecutionTime", "dependenciesPerSec", "failedDependenciesPerSec", "lastExceptions", "exceptions", "intervalExceptions", "exceptionsPerSec", "module", "AggregatedMetricCounter", "dimensions", "exports", "exports", "Constants", "AggregatedMetricCounters_1", "AggregatedMetricDimensions_1", "AutoCollectPreAggregatedMetrics", "client", "collectionInterval", "isEnabled", "_this", "dimensions", "counter", "duration", "durationMs", "counterCollection", "notMatch", "dim", "newCounter", "i", "currentCounter", "intervalRequests", "elapsedMs", "averageRequestExecutionTime", "intervalDependencies", "averageDependencyExecutionTime", "intervalExceptions", "intervalTraces", "metric", "metricProperties", "__assign", "telemetry", "module", "os", "fs", "path", "Contracts", "Constants_1", "Logging", "Context", "packageJsonPath", "packageJson", "exception", "cloudRoleInstance", "cloudRole", "module", "crypto", "os", "Constants", "Context", "HeartBeat", "client", "isEnabled", "_this", "config", "callback", "properties", "sdkVersion", "module", "zlib", "util_1", "contentEncodingMethod", "exports", "isBrotliSupperted", "majVer", "getBrotliCompressAsync", "zlibObject", "isMajorVer", "getBrotliCompressSync", "getBrotliDecompressAsync", "getBrotliDecompressSync", "isBufferType", "buffer", "type", "encodingType", "result", "newBuffer", "findBufferEncodingType", "bufferType", "key", "isSupportedContentEncoding", "encodingMethod", "getContentEncodingFromHeaders", "response", "headers", "contentEncodingHeaders", "supportedContentEncoding", "insertSnippetByIndex", "index", "html", "snippet", "newHtml", "subStart", "subEnd", "isContentTypeHeaderHtml", "isHtml", "contentType", "isWindows", "exports", "isLinux", "isWebApp", "isFunctionApp", "getOsPrefix", "getResourceProvider", "Constants", "ConnectionStringParser", "connectionString", "kvPairs", "result", "fields", "kv", "kvParts", "key", "value", "locationPrefix", "iKey", "UUID_Regex", "regexp", "module", "require_applicationinsights_web_snippet", "__commonJSMin", "exports", "module", "global", "factory", "webSnippet", "http", "https", "zlib", "Logging", "snippetInjectionHelper", "prefixHelper", "Constants", "ConnectionStringParser", "applicationinsights_web_snippet_1", "WebSnippet", "client", "clientWebIkey", "_a", "isEnabled", "webInstrumentationConnectionString", "connectionString", "iKey", "csCode", "iKeyCode", "err", "configStr", "osStr", "rpStr", "snippetReplacedStr", "replacedSnippet", "config", "item", "key", "val", "entry", "originalHttpServer", "originalHttpsServer", "requestListener", "originalRequestListener", "request", "response", "originalResponseWrite", "isGetRequest", "a", "b", "c", "headers", "writeBufferType", "encodeType", "originalResponseEnd", "endBufferType", "options", "httpsRequestListener", "originalHttpsRequestListener", "req", "res", "isGetHttpsRequest", "originalHttpsResponseWrite", "originalHttpsResponseEnd", "input", "isContentHtml", "inputStr", "bufferEncodeType", "isCompressedBuffer", "html", "index", "newHtml", "bufferType", "isValidBufferType", "encodedString", "ex", "gunzipBuffer", "injectedGunzipBuffer", "inflateBuffer", "injectedInflateBuffer", "BrotliDecompressSync", "BrotliCompressSync", "decompressBuffer", "injectedDecompressBuffer", "module", "url", "Contracts", "Util", "RequestResponseHeaders", "RequestParser", "CorrelationIdManager", "HttpDependencyParser", "_super", "__extends", "requestOptions", "request", "_this", "error", "response", "baseTelemetry", "dependencyId", "dependencyName", "remoteDependencyType", "remoteDependencyTarget", "urlObject", "dependencyTelemetry", "key", "options", "parsed", "originalOptions_1", "parsedQuery", "parsedHost", "module", "api_1", "core_1", "semantic_conventions_1", "Constants_1", "getTimeSinceEnqueued", "span", "countEnqueueDiffs", "sumEnqueueDiffs", "startTimeMs", "_a", "attributes", "enqueuedTime", "parseEventHubSpan", "telemetry", "namespace", "peerAddress", "messageBusDestination", "__assign", "exports", "url_1", "api_1", "semantic_conventions_1", "Constants", "EventHub_1", "Util", "createPropertiesFromSpan", "span", "properties", "_i", "_a", "key", "links", "link", "isSqlDB", "dbSystem", "getUrl", "httpMethod", "httpUrl", "httpScheme", "httpTarget", "httpHost", "netPeerPort", "netPeerName", "netPeerIp", "getDependencyTarget", "peerService", "createDependencyData", "remoteDependency", "rpcSystem", "pathName", "dependencyUrl", "httpStatusCode", "target", "portRegex", "res", "protocol", "port", "dbStatement", "dbOperation", "dbName", "grpcStatusCode", "createRequestData", "requestData", "httpRoute", "url", "spanToTelemetryContract", "telemetry", "spanContext", "id", "duration", "exports", "CorrelationContextManager_1", "events_1", "OpenTelemetryScopeManagerWrapper", "_this", "context", "__assign", "key", "span", "fn", "parentSpanId", "name", "correlationContext", "target", "spanContext", "parentId", "aiContext", "exports", "api_1", "Constants_1", "diagnostic_channel_1", "SpanParser", "AsyncHooksScopeManager_1", "clients", "subscriber", "event", "span_1", "telemetry_1", "client", "exports", "enable", "enabled", "clientFound", "c", "module", "version", "statsbeat", "Constants_1", "diagnostic_channel_1", "clients", "subscriber", "event", "client", "dbName", "exports", "enable", "enabled", "clientFound", "c", "module", "version", "statsbeat", "Constants_1", "diagnostic_channel_1", "clients", "subscriber", "event", "client", "queryObj", "sqlString", "success", "connection", "connectionConfig", "dbName", "exports", "enable", "enabled", "clientFound", "c", "module", "version", "statsbeat", "Constants_1", "diagnostic_channel_1", "clients", "subscriber", "event", "client", "exports", "enable", "enabled", "clientFound", "c", "module", "version", "statsbeat", "Constants_1", "diagnostic_channel_1", "clients", "subscriber", "event", "client", "q", "sql", "success", "conn", "exports", "enable", "enabled", "clientFound", "c", "module", "version", "statsbeat", "http", "https", "Logging", "Util", "RequestResponseHeaders", "HttpDependencyParser", "CorrelationContextManager_1", "Traceparent", "DiagChannel", "CorrelationIdManager", "AutoCollectHttpDependencies", "client", "isEnabled", "_this", "originalRequest", "originalHttpsRequest", "clientRequestPatch", "request", "options", "shouldCollect", "userAgentHeader", "operationId", "traceparent", "requestId", "correlationContext", "err", "requestArgs", "_i", "__spreadArrays", "_a", "telemetry", "requestParser", "currentContext", "uniqueRequestId", "uniqueTraceparent", "correlationHeader", "tracestate", "correlationContextHeader", "response", "dependencyTelemetry", "error", "module", "http", "https", "Logging", "Util", "RequestResponseHeaders", "HttpRequestParser", "CorrelationContextManager_1", "AutoCollectPerformance", "AutoCollectHttpRequests", "client", "isEnabled", "forceClsHooked", "requestParser", "request", "response", "onRequest", "_this", "correlationContext", "wrapOnRequestHandler", "shouldCollect", "_a", "wrapServerEventHandler", "server", "originalAddListener", "eventType", "eventHandler", "originalHttpServer", "param1", "param2", "originalHttpsServer", "options", "telemetry", "_requestParser", "error", "errorMessage", "correlationHeader", "ellapsedMilliseconds", "requestTelemetry", "key", "legacyRootId", "module", "os", "Contracts", "Constants", "Util", "Logging", "StreamId", "QuickPulseEnvelopeFactory", "metrics", "documents", "config", "context", "machineName", "instance", "roleName", "envelope", "telemetry", "data", "document", "name", "eventDocument", "__assign", "severityLevel", "traceDocument", "exceptionDetails", "exception", "exceptionMessage", "exceptionType", "err", "exceptionDocument", "baseData", "requestDocument", "dependencyDocument", "documentType", "__type", "operationId", "properties", "meas", "key", "value", "property", "props", "module", "getTransmissionTime", "module", "https", "AutoCollectHttpDependencies", "Logging", "QuickPulseUtil", "Util", "url", "QuickPulseConfig", "QuickPulseSender", "config", "getAuthorizationHandler", "envelope", "redirectedHostEndpoint", "done", "pingHeaders", "_a", "postOrPing", "additionalHeaders", "payload", "options", "_b", "header", "authHandler", "_c", "notice", "authError_1", "req", "res", "shouldPOSTData", "redirectHeader", "error", "_this", "pollingIntervalHint", "module", "Logging", "QuickPulseEnvelopeFactory", "QuickPulseSender", "Constants", "Context", "QuickPulseStateManager", "config", "context", "getAuthorizationHandler", "collector", "telemetry", "envelope", "document_1", "isEnabled", "enable", "value", "count", "name", "metrics", "k", "_this", "_a", "pingInterval", "currentTimeout", "shouldPOST", "res", "redirectedHost", "pollingIntervalHint", "module", "Context", "Logging", "AutoCollectNativePerformance", "client", "isEnabled", "disabledMetrics", "collectionInterval", "_this", "NativeMetricsEmitters", "collectExtendedMetrics", "customConfig", "disableAll", "individualOptOuts", "optOutsArr", "_i", "optOutsArr_1", "opt", "__assign", "shouldSendAll", "gcData", "gc", "metrics", "name_1", "stdDev", "_a", "loopData", "name", "memoryUsage", "heapUsed", "heapTotal", "rss", "_b", "_c", "exports", "Logging", "CorrelationContextManager_1", "AzureFunctionsHook", "client", "funcProgModel", "isEnabled", "_this", "preInvocationContext", "__awaiter", "ctx", "extractedContext", "err", "postInvocationContext", "request_1", "startTime_1", "response_1", "extractedContext_1", "request", "response", "startTime", "parentId", "statusCode", "_i", "_a", "value", "parsedVal", "httpOutputBinding", "b", "exports", "CorrelationIdManager", "ConnectionStringParser", "Logging", "Constants", "url", "JsonConfig_1", "Config", "setupString", "connectionStringEnv", "csCode", "csEnv", "iKeyCode", "instrumentationKeyEnv", "endpoint", "iKey", "connectionString", "jsonConfig", "UUID_Regex", "regexp", "module", "listenersMap", "abortedMap", "AbortSignal", "_type", "listener", "listeners", "index", "_event", "abortSignal", "signal", "AbortError", "message", "AbortController", "parentSignals", "parentSignal", "ms", "timer", "isNode", "_a", "createAbortablePromise", "buildPromise", "options", "cleanupBeforeAbort", "abortSignal", "abortErrorMsg", "resolve", "reject", "rejectOnAbort", "AbortError", "removeListeners", "onAbort", "x", "err", "StandardAbortMessage", "delay", "timeInMs", "token", "getRandomIntegerInclusive", "min", "max", "isObject", "input", "isError", "e", "hasName", "hasMessage", "getErrorMessage", "stringified", "computeSha256Hmac", "key", "stringToSign", "encoding", "decodedKey", "createHmac", "computeSha256Hash", "content", "createHash", "isDefined", "thing", "isObjectWithProperties", "properties", "property", "objectHasProperty", "require_delayed_stream", "__commonJSMin", "exports", "module", "Stream", "util", "DelayedStream", "source", "options", "delayedStream", "option", "realEmit", "args", "r", "message", "require_combined_stream", "__commonJSMin", "exports", "module", "util", "Stream", "DelayedStream", "CombinedStream", "options", "combinedStream", "option", "stream", "isStreamLike", "newStream", "dest", "getStream", "value", "self", "err", "data", "message", "require_db", "__commonJSMin", "exports", "module", "require_mime_db", "__commonJSMin", "exports", "module", "require_mime_types", "__commonJSMin", "exports", "db", "extname", "EXTRACT_TYPE_REGEXP", "TEXT_TYPE_REGEXP", "charset", "contentType", "extension", "lookup", "populateMaps", "type", "match", "mime", "str", "exts", "path", "extensions", "types", "preference", "i", "from", "to", "require_defer", "__commonJSMin", "exports", "module", "defer", "fn", "nextTick", "require_async", "__commonJSMin", "exports", "module", "defer", "async", "callback", "isAsync", "err", "result", "require_abort", "__commonJSMin", "exports", "module", "abort", "state", "clean", "key", "require_iterate", "__commonJSMin", "exports", "module", "async", "abort", "iterate", "list", "iterator", "state", "callback", "key", "runJob", "error", "output", "item", "aborter", "require_state", "__commonJSMin", "exports", "module", "state", "list", "sortMethod", "isNamedList", "initState", "a", "b", "require_terminator", "__commonJSMin", "exports", "module", "abort", "async", "terminator", "callback", "require_parallel", "__commonJSMin", "exports", "module", "iterate", "initState", "terminator", "parallel", "list", "iterator", "callback", "state", "error", "result", "require_serialOrdered", "__commonJSMin", "exports", "module", "iterate", "initState", "terminator", "serialOrdered", "ascending", "descending", "list", "iterator", "sortMethod", "callback", "state", "iteratorHandler", "error", "result", "a", "b", "require_serial", "__commonJSMin", "exports", "module", "serialOrdered", "serial", "list", "iterator", "callback", "require_asynckit", "__commonJSMin", "exports", "module", "require_populate", "__commonJSMin", "exports", "module", "dst", "src", "prop", "require_form_data", "__commonJSMin", "exports", "module", "CombinedStream", "util", "path", "http", "https", "parseUrl", "fs", "Stream", "mime", "asynckit", "populate", "FormData", "options", "option", "field", "value", "append", "header", "footer", "valueLength", "callback", "err", "stat", "fileSize", "response", "contentDisposition", "contentType", "contents", "headers", "prop", "filename", "next", "lastPart", "userHeaders", "formHeaders", "boundary", "dataBuffer", "i", "len", "knownLength", "hasKnownLength", "cb", "values", "length", "params", "request", "defaults", "onResponse", "error", "responce", "promisify", "fn", "req", "opts", "resolve", "reject", "err", "rtn", "exports", "events_1", "debug_1", "__importDefault", "promisify_1", "debug", "isAgent", "v", "isSecureEndpoint", "stack", "l", "createAgent", "callback", "opts", "Agent", "_opts", "req", "fn", "timedOut", "timeoutId", "timeoutMs", "onerror", "err", "ontimeout", "callbackError", "onsocket", "socket", "module", "debug_1", "__importDefault", "debug", "parseProxyResponse", "socket", "resolve", "reject", "buffersLength", "buffers", "read", "b", "ondata", "cleanup", "onend", "onerror", "onclose", "err", "buffered", "firstLine", "statusCode", "exports", "net_1", "__importDefault", "tls_1", "url_1", "assert_1", "debug_1", "agent_base_1", "parse_proxy_response_1", "debug", "HttpsProxyAgent", "_opts", "opts", "proxy", "isHTTPS", "req", "secureProxy", "socket", "headers", "payload", "host", "port", "secureEndpoint", "isDefaultPort", "name", "proxyResponsePromise", "statusCode", "buffered", "resume", "servername", "omit", "fakeSocket", "s", "exports", "secure", "protocol", "obj", "keys", "ret", "key", "agent_1", "__importDefault", "createHttpsProxyAgent", "opts", "module", "once", "emitter", "name", "signal", "resolve", "reject", "cleanup", "onEvent", "onError", "args", "err", "exports", "net_1", "__importDefault", "tls_1", "url_1", "debug_1", "once_1", "agent_base_1", "debug", "isHTTPS", "protocol", "HttpProxyAgent", "_opts", "opts", "proxy", "req", "secureProxy", "parsed", "socket", "first", "endOfHeaders", "exports", "agent_1", "__importDefault", "createHttpProxyAgent", "opts", "module", "knownContextKeys", "createTracingContext", "options", "context", "TracingContextImpl", "initialContext", "key", "value", "newContext", "createDefaultTracingSpan", "createDefaultInstrumenter", "_name", "spanOptions", "_context", "callback", "callbackArgs", "instrumenterImplementation", "useInstrumenter", "instrumenter", "getInstrumenter", "createTracingClient", "namespace", "packageName", "packageVersion", "startSpan", "name", "operationOptions", "startSpanResult", "_a", "tracingContext", "span", "updatedOptions", "withSpan", "result", "withContext", "err", "parseTraceparentHeader", "traceparentHeader", "createRequestHeaders", "rng", "poolPtr", "rnds8Pool", "crypto", "import_crypto", "init_rng", "__esmMin", "regex_default", "init_regex", "__esmMin", "validate", "uuid", "regex_default", "validate_default", "init_validate", "__esmMin", "init_regex", "stringify", "arr", "offset", "uuid", "byteToHex", "validate_default", "stringify_default", "init_stringify", "__esmMin", "init_validate", "i", "v1", "options", "buf", "offset", "i", "b", "node", "_nodeId", "clockseq", "_clockseq", "seedBytes", "rng", "msecs", "nsecs", "_lastNSecs", "dt", "_lastMSecs", "tl", "tmh", "n", "stringify_default", "v1_default", "init_v1", "__esmMin", "init_rng", "init_stringify", "parse", "uuid", "validate_default", "v", "arr", "parse_default", "init_parse", "__esmMin", "init_validate", "stringToBytes", "str", "bytes", "i", "v35_default", "name", "version", "hashfunc", "generateUUID", "value", "namespace", "buf", "offset", "parse_default", "stringify_default", "DNS", "URL", "init_v35", "__esmMin", "init_stringify", "init_parse", "md5", "bytes", "crypto", "import_crypto", "md5_default", "init_md5", "__esmMin", "v3", "v3_default", "init_v3", "__esmMin", "init_v35", "init_md5", "v35_default", "md5_default", "v4", "options", "buf", "offset", "rnds", "rng", "stringify_default", "v4_default", "init_v4", "__esmMin", "init_rng", "init_stringify", "sha1", "bytes", "crypto", "import_crypto", "sha1_default", "init_sha1", "__esmMin", "v5", "v5_default", "init_v5", "__esmMin", "init_v35", "init_sha1", "v35_default", "sha1_default", "nil_default", "init_nil", "__esmMin", "version", "uuid", "validate_default", "version_default", "init_version", "__esmMin", "init_validate", "esm_node_exports", "__export", "nil_default", "parse_default", "stringify_default", "v1_default", "v3_default", "v4_default", "v5_default", "validate_default", "version_default", "init_esm_node", "__esmMin", "init_v1", "init_v3", "init_v4", "init_v5", "init_nil", "init_version", "init_validate", "init_stringify", "init_parse", "ValidPhaseNames", "HttpPipeline", "policies", "_a", "policy", "options", "removedPolicies", "policyDescriptor", "httpClient", "request", "next", "req", "result", "policyMap", "createPhase", "name", "serializePhase", "noPhase", "deserializePhase", "retryPhase", "signPhase", "orderedPhases", "getPhase", "phase", "descriptor", "policyName", "node", "afterPolicyName", "afterNode", "beforePolicyName", "beforeNode", "walkPhase", "dependant", "walkPhases", "iteration", "initialResultLength", "createEmptyPipeline", "logger", "createClientLogger", "RedactedString", "defaultAllowedHeaderNames", "defaultAllowedQueryParameters", "Sanitizer", "allowedHeaderNames", "allowedQueryParameters", "n", "p", "obj", "seen", "key", "value", "isObject", "sanitized", "k", "url", "logPolicyName", "logPolicy", "coreLogger", "sanitizer", "response", "redirectPolicyName", "allowedRedirect", "redirectPolicy", "maxRetries", "handleRedirect", "currentRetries", "status", "headers", "locationHeader", "res", "getHeaderName", "setPlatformSpecificData", "map", "os", "SDK_VERSION", "DEFAULT_RETRY_POLICY_COUNT", "getUserAgentString", "telemetryInfo", "parts", "token", "getUserAgentHeaderName", "getUserAgentValue", "prefix", "runtimeInfo", "defaultAgent", "UserAgentHeaderName", "userAgentPolicyName", "userAgentPolicy", "userAgentValue", "decompressResponsePolicyName", "decompressResponsePolicy", "StandardAbortMessage", "delay", "delayInMs", "resolve", "reject", "timer", "onAborted", "rejectOnAbort", "AbortError", "removeListeners", "parseHeaderValueAsNumber", "headerName", "valueAsNum", "RetryAfterHeader", "AllRetryAfterHeaders", "getRetryAfterInMs", "header", "retryAfterValue", "retryAfterHeader", "diff", "isThrottlingRetryResponse", "throttlingRetryStrategy", "retryAfterInMs", "DEFAULT_CLIENT_RETRY_INTERVAL", "DEFAULT_CLIENT_MAX_RETRY_INTERVAL", "exponentialRetryStrategy", "retryInterval", "maxRetryInterval", "_b", "retryCount", "responseError", "matchedSystemError", "isSystemError", "ignoreSystemErrors", "isExponential", "isExponentialRetryResponse", "ignoreExponentialResponse", "exponentialDelay", "clampedExponentialDelay", "getRandomIntegerInclusive", "err", "retryPolicyLogger", "retryPolicyName", "retryPolicy", "strategies", "retryRequest", "e", "strategiesLoop", "strategy", "strategyLogger", "modifiers", "errorToThrow", "redirectTo", "defaultRetryPolicyName", "defaultRetryPolicy", "formDataPolicyName", "formDataPolicy", "contentType", "wwwFormUrlEncode", "prepareFormData", "formData", "urlSearchParams", "subValue", "requestForm", "FormData", "formKey", "formValue", "contentLength", "length", "HTTPS_PROXY", "HTTP_PROXY", "ALL_PROXY", "NO_PROXY", "proxyPolicyName", "globalNoProxyList", "noProxyListLoaded", "globalBypassedMap", "getEnvironmentValue", "loadEnvironmentProxyValue", "httpsProxy", "allProxy", "httpProxy", "isBypassed", "uri", "noProxyList", "bypassedMap", "host", "isBypassedFlag", "pattern", "loadNoProxy", "noProxy", "item", "getDefaultProxySettings", "proxyUrl", "parsedUrl", "getProxyAgentOptions", "proxySettings", "tlsSettings", "parsedProxyUrl", "proxyAgentOptions", "setProxyAgentOnRequest", "cachedAgents", "isInsecure", "HttpProxyAgent", "HttpsProxyAgent", "proxyPolicy", "setClientRequestIdPolicyName", "setClientRequestIdPolicy", "requestIdHeaderName", "tlsPolicyName", "tlsPolicy", "custom", "inspect", "errorSanitizer", "RestError", "message", "isRestError", "isError", "tracingPolicyName", "tracingPolicy", "userAgent", "tracingClient", "tryCreateTracingClient", "span", "tracingContext", "tryCreateSpan", "tryProcessResponse", "tryProcessError", "createTracingClient", "getErrorMessage", "updatedOptions", "error", "serviceRequestId", "createPipelineFromOptions", "pipeline", "isNode", "normalizeName", "headerIterator", "entry", "HttpHeadersImpl", "rawHeaders", "normalizedName", "createHttpHeaders", "DEFAULT_TLS_SETTINGS", "isReadableStream", "body", "isStreamComplete", "stream", "isArrayBuffer", "ReportTransform", "Transform", "progressCallback", "chunk", "_encoding", "callback", "NodeHttpClient", "abortController", "AbortController", "abortListener", "event", "acceptEncoding", "shouldDecompress", "bodyLength", "getBodyLength", "responseStream", "onUploadProgress", "uploadReportStream", "getResponseHeaders", "getDecodedResponseStream", "onDownloadProgress", "downloadReportStream", "_c", "streamToText", "uploadStreamDone", "downloadStreamDone", "http", "https", "abortError", "disableKeepAlive", "agent", "contentEncoding", "unzip", "zlib", "inflate", "buffer", "createNodeHttpClient", "createDefaultHttpClient", "generateUuid", "uuidv4", "PipelineRequestImpl", "_d", "_e", "_f", "_g", "createPipelineRequest", "exponentialRetryPolicyName", "exponentialRetryPolicy", "systemErrorRetryPolicyName", "systemErrorRetryPolicy", "throttlingRetryPolicyName", "throttlingRetryPolicy", "DEFAULT_CYCLER_OPTIONS", "beginRefresh", "getAccessToken", "retryIntervalInMs", "refreshTimeout", "tryGetAccessToken", "finalToken", "createTokenCycler", "credential", "tokenCyclerOptions", "refreshWorker", "tenantId", "cycler", "refresh", "scopes", "getTokenOptions", "_token", "reason", "tokenOptions", "bearerTokenAuthenticationPolicyName", "defaultAuthorizeRequest", "accessToken", "getChallenge", "challenge", "bearerTokenAuthenticationPolicy", "challengeCallbacks", "callbacks", "ndJsonPolicyName", "ndJsonPolicy", "azureCore", "applicationInsightsResource", "emptySendRequest", "_request", "AuthorizationHandler", "credential", "scopes", "requestOptions", "authHeaderName", "webResource", "_a", "module", "Logging", "Util", "Channel", "isDisabled", "getBatchSize", "getBatchIntervalMs", "sender", "value", "resendInterval", "maxBytesOnDisk", "envelope", "_this", "isNodeCrashing", "callback", "bufferIsEmpty", "module", "azureRoleEnvironmentTelemetryProcessor", "envelope", "context", "exports", "Contracts", "samplingTelemetryProcessor", "envelope", "contextObjects", "samplingPercentage", "isSampledIn", "getSamplingHashCode", "exports", "input", "csharpMin", "csharpMax", "hash", "AutoCollectPerformance", "TelemetryType", "performanceMetricsTelemetryProcessor", "envelope", "client", "requestData", "remoteDependencyData", "exports", "Contracts", "AutoCollecPreAggregatedMetrics", "TelemetryType", "preAggregatedMetricsTelemetryProcessor", "envelope", "context", "exceptionData", "__assign", "exceptionDimensions", "traceData", "traceDimensions", "requestData", "requestDimensions", "remoteDependencyData", "dependencyDimensions", "exports", "__exportStar", "exports", "Contracts", "Util", "CorrelationContextManager_1", "Logging", "EnvelopeFactory", "telemetry", "telemetryType", "commonProperties", "context", "config", "data", "name", "iKey", "envelope", "properties", "correlationContext", "property", "propertiesKeys", "propertiesValues", "i", "error", "trace", "_a", "remoteDependency", "_b", "_c", "event", "exception", "stack", "exceptionDetails", "requestData", "_d", "metrics", "metric", "availabilityData", "pageViewData", "tagOverrides", "newTags", "key", "parsedStack", "frames", "level", "totalSizeInBytes", "frame", "_StackFrame", "parsedFrame", "exceptionParsedStackThreshold", "left", "right", "size", "acceptedLeft", "acceptedRight", "lSize", "rSize", "howMany", "matches", "module", "fs", "os", "child_process", "Logging", "FileAccessControl", "directory", "identity", "_a", "ex_1", "args", "resolve", "reject", "aclProc", "e", "code", "signal", "psProc", "data", "d", "exports", "fs", "os", "path", "zlib", "Constants", "AutoCollectHttpDependencies", "FileSystemHelper", "Util", "url_1", "Logging", "FileAccessControl_1", "legacyThrottleStatusCode", "throttleStatusCode", "RESPONSE_CODES_INDICATING_REACHED_BREEZE", "Sender", "config", "getAuthorizationHandler", "onSuccess", "onError", "statsbeat", "isStatsbeatSender", "shutdownStatsbeat", "value", "resendInterval", "maxBytesOnDisk", "_this", "envelopes", "callback", "endpointUrl", "endpointHost", "options", "authHandler", "_a", "errorMsg", "authError_1", "batch_1", "envelope", "payload", "payload_1", "err", "buffer", "dataToSend", "startTime", "requestCallback", "res", "responseString", "data", "endTime", "duration", "breezeResponse", "filteredEnvelopes_1", "error", "locationHeader", "circularRedirectError", "req", "notice", "statusCode", "message", "optionalParams", "_i", "ex_1", "ex_2", "size", "ex_3", "fileName", "fileFullPath", "ex_4", "dirSize", "files", "f", "firstFile", "filePath", "err_1", "i", "fileCreationDate", "expired", "err_2", "module", "Logging", "Util", "AutoCollectHttpDependencies", "AIMS_URI", "AIMS_API_VERSION", "AIMS_FORMAT", "ConnectionErrorMessage", "AzureVirtualMachine", "config", "callback", "_this", "vmInfo", "metadataRequestUrl", "requestOptions", "_a", "req", "res", "virtualMachineData_1", "data", "error", "exports", "NetworkStatsbeat", "endpoint", "host", "exports", "os", "EnvelopeFactory", "Logging", "Sender", "Constants", "Contracts", "Vm", "Config", "Context", "Network", "Util", "STATSBEAT_LANGUAGE", "Statsbeat", "config", "context", "statsbeatConnectionString", "isEnabled", "_this", "feature", "instrumentation", "endpoint", "host", "duration", "success", "statusCode", "counter", "currentStatusCounter", "statusCounter", "exceptionType", "currentErrorCounter", "exceptionCounter", "_a", "networkProperties", "error_1", "commonProperties", "attachProperties", "instrumentationProperties", "featureProperties", "error_2", "shortHost", "newCounter", "i", "currentCounter", "intervalRequests", "totalRequestExecutionTime", "averageRequestExecutionTime", "properties", "originalHost", "hostRegex", "res", "this_1", "__assign", "envelopes", "statsbeat", "envelope", "resolve", "reject", "waiting", "vmInfo", "currentEndpoint", "euEndpoints", "module", "url", "Config", "AuthorizationHandler", "Context", "Contracts", "Channel", "TelemetryProcessors", "CorrelationContextManager_1", "Statsbeat", "Sender", "Util", "Logging", "EnvelopeFactory", "TelemetryClient", "setupString", "config", "sender", "telemetry", "error", "options", "telemetryType", "envelope", "accepted", "value", "telemetryProcessor", "contextObjects", "telemetryProcessorsCount", "i", "processor", "module", "TelemetryClient", "ServerRequestTracking", "ClientRequestTracking", "Logging", "NodeClient", "_super", "__extends", "telemetry", "module", "require_Functions", "__commonJSMin", "exports", "CorrelationContextManager", "AutoCollectConsole", "AutoCollectExceptions", "AutoCollectPerformance", "AutoCollecPreAggregatedMetrics", "HeartBeat", "WebSnippet", "AutoCollectHttpDependencies", "AutoCollectHttpRequests", "CorrelationIdManager", "Logging", "QuickPulseClient", "NativePerformance_1", "AzureFunctionsHook_1", "exports", "DistributedTracingModes", "defaultConfig", "_getDefaultAutoCollectConfig", "_isConsole", "_isConsoleLog", "_isLoggerErrorToTrace", "_isExceptions", "_isPerformance", "_isPreAggregatedMetrics", "_isHeartBeat", "_isRequests", "_isDependencies", "_isDiskRetry", "_isCorrelating", "_forceClsHooked", "_isSendingLiveMetrics", "_isNativePerformance", "_disabledExtendedMetrics", "_isSnippetInjection", "_isAzureFunctions", "_diskRetryInterval", "_diskRetryMaxBytes", "_webSnippetConnectionString", "_console", "_exceptions", "_performance", "_preAggregatedMetrics", "_heartbeat", "_webSnippet", "_nativePerformance", "_serverRequests", "_clientRequests", "_azureFunctions", "_isStarted", "_performanceLiveMetrics", "setup", "setupString", "_initializeConfig", "Configuration", "start", "extendedMetricsConfig", "getCorrelationContext", "startOperation", "context", "request", "wrapWithCorrelationContext", "fn", "value", "collectConsoleLog", "collectExtendedMetrics", "WebSnippetConnectionString", "useAsyncHooks", "resendInterval", "maxBytesOnDisk", "enableDebugLogging", "enableWarningLogging", "enable", "dispose", "require_telemetryReporter", "__commonJSMin", "exports", "__createBinding", "o", "m", "k", "k2", "desc", "__setModuleDefault", "v", "__importStar", "mod", "result", "os", "vscode", "https", "baseTelemetryReporter_1", "baseTelemetrySender_1", "util_1", "_1dsClientFactory_1", "appInsightsClientFactory", "key", "replacementOptions", "appInsightsClient", "appInsights", "e", "addReplacementOptions", "eventName", "data", "event", "tag", "getXHROverride", "payload", "oncomplete", "options", "req", "res", "responseData", "TelemetryReporter", "clientFactory", "osShim", "sender", "require_windows", "__commonJSMin", "exports", "module", "isexe", "sync", "fs", "checkPathExt", "path", "options", "pathext", "i", "p", "checkStat", "stat", "cb", "er", "require_mode", "__commonJSMin", "exports", "module", "isexe", "sync", "fs", "path", "options", "cb", "er", "stat", "checkStat", "checkMode", "mod", "uid", "gid", "myUid", "myGid", "u", "g", "o", "ug", "ret", "require_isexe", "__commonJSMin", "exports", "module", "fs", "core", "isexe", "sync", "path", "options", "cb", "resolve", "reject", "er", "is", "require_lib", "__commonJSMin", "exports", "module", "isexe", "join", "delimiter", "sep", "posix", "isWindows", "rSlash", "rRel", "getNotFoundError", "cmd", "getPathInfo", "optPath", "optPathExt", "optDelimiter", "pathEnv", "pathExtExe", "pathExt", "acc", "item", "getPathPart", "raw", "pathPart", "which", "opt", "found", "envPart", "p", "ext", "withExt", "whichSync", "pathEnvPart", "src_exports", "__export", "activate", "__toCommonJS", "import_vscode", "import_vscode_get_config", "import_vscode", "import_vscode_get_config", "import_extension_telemetry", "stringifyProperties", "properties", "newProperties", "key", "value", "sendTelemetryEvent", "name", "measurements", "disableTelemetry", "reporter", "TelemetryReporter", "import_vscode_get_config", "import_vscode", "import_node_child_process", "import_vscode", "import_node_fs", "import_vscode_get_config", "import_node_os", "import_node_path", "import_which", "asyncFilter", "arr", "callback", "fail", "item", "i", "clearOutput", "channel", "alwaysShowOutput", "fileExists", "filePath", "fs", "isSupportedGrammar", "activeTextEditor", "languageID", "getSupportedGrammars", "getElectronBuilderPath", "pathToElectronBuilder", "which", "error", "getPlatformFlag", "currentPlatform", "getConfigFiles", "getProjectPath", "editor", "workspaceFolder", "hasConfigArgument", "electronBuilderArguments", "hasEligibleManifest", "projectPath", "manifestPath", "manifestFile", "manifest", "hasConfigFiles", "configFiles", "configFile", "isValidConfigFile", "fileName", "builderChannel", "build", "activeTextEditor", "clearOutput", "isSupportedGrammar", "hasEligibleManifest", "hasConfigFiles", "document", "fileName", "errorMessage", "config", "electronBuilderArguments", "getPlatformFlag", "hasConfigArgument", "isValidConfigFile", "child", "getElectronBuilderPath", "getProjectPath", "stdErr", "hasErrors", "line", "code", "sendTelemetryEvent", "activate", "context", "disableTelemetry", "reporter", "build"]
}
